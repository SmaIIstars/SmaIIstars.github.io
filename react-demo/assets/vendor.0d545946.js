var TT=Object.defineProperty,ET=Object.defineProperties;var wT=Object.getOwnPropertyDescriptors;var Pm=Object.getOwnPropertySymbols;var s0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable;var o0=(o,e,h)=>e in o?TT(o,e,{enumerable:!0,configurable:!0,writable:!0,value:h}):o[e]=h,Nu=(o,e)=>{for(var h in e||(e={}))s0.call(e,h)&&o0(o,h,e[h]);if(Pm)for(var h of Pm(e))a0.call(e,h)&&o0(o,h,e[h]);return o},Ap=(o,e)=>ET(o,wT(e));var Rm=(o,e)=>{var h={};for(var d in o)s0.call(o,d)&&e.indexOf(d)<0&&(h[d]=o[d]);if(o!=null&&Pm)for(var d of Pm(o))e.indexOf(d)<0&&a0.call(o,d)&&(h[d]=o[d]);return h};function _mergeNamespaces(o,e){return e.forEach(function(h){h&&typeof h!="string"&&!Array.isArray(h)&&Object.keys(h).forEach(function(d){if(d!=="default"&&!(d in o)){var g=Object.getOwnPropertyDescriptor(h,d);Object.defineProperty(o,d,g.get?g:{enumerable:!0,get:function(){return h[d]}})}})}),Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(o).forEach(function(h){var d=Object.getOwnPropertyDescriptor(o,h);Object.defineProperty(e,h,d.get?d:{enumerable:!0,get:function(){return o[h]}})}),e}var reactDom$1={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,e,h){this.props=o,this.context=e,this.refs=D$1,this.updater=h||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,e){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,e,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,e,h){this.props=o,this.context=e,this.refs=D$1,this.updater=h||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,e,h){var d,g={},_=null,b=null;if(e!=null)for(d in e.ref!==void 0&&(b=e.ref),e.key!==void 0&&(_=""+e.key),e)J.call(e,d)&&!L$1.hasOwnProperty(d)&&(g[d]=e[d]);var $=arguments.length-2;if($===1)g.children=h;else if(1<$){for(var j=Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e+2];g.children=j}if(o&&o.defaultProps)for(d in $=o.defaultProps,$)g[d]===void 0&&(g[d]=$[d]);return{$$typeof:l$2,type:o,key:_,ref:b,props:g,_owner:K$1.current}}function N$1(o,e){return{$$typeof:l$2,type:o.type,key:e,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape$1(o){var e={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(h){return e[h]})}var P$1=/\/+/g;function Q$1(o,e){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):e.toString(36)}function R$1(o,e,h,d,g){var _=typeof o;(_==="undefined"||_==="boolean")&&(o=null);var b=!1;if(o===null)b=!0;else switch(_){case"string":case"number":b=!0;break;case"object":switch(o.$$typeof){case l$2:case n$2:b=!0}}if(b)return b=o,g=g(b),o=d===""?"."+Q$1(b,0):d,I$1(g)?(h="",o!=null&&(h=o.replace(P$1,"$&/")+"/"),R$1(g,e,h,"",function(_e){return _e})):g!=null&&(O$1(g)&&(g=N$1(g,h+(!g.key||b&&b.key===g.key?"":(""+g.key).replace(P$1,"$&/")+"/")+o)),e.push(g)),1;if(b=0,d=d===""?".":d+":",I$1(o))for(var $=0;$<o.length;$++){_=o[$];var j=d+Q$1(_,$);b+=R$1(_,e,h,j,g)}else if(j=A$1(o),typeof j=="function")for(o=j.call(o),$=0;!(_=o.next()).done;)_=_.value,j=d+Q$1(_,$++),b+=R$1(_,e,h,j,g);else if(_==="object")throw e=String(o),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return b}function S$1(o,e,h){if(o==null)return o;var d=[],g=0;return R$1(o,d,"","",function(_){return e.call(h,_,g++)}),d}function T$1(o){if(o._status===-1){var e=o._result;e=e(),e.then(function(h){(o._status===0||o._status===-1)&&(o._status=1,o._result=h)},function(h){(o._status===0||o._status===-1)&&(o._status=2,o._result=h)}),o._status===-1&&(o._status=0,o._result=e)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(o,e,h){S$1(o,function(){e.apply(this,arguments)},h)},count:function(o){var e=0;return S$1(o,function(){e++}),e},toArray:function(o){return S$1(o,function(e){return e})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(o,e,h){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var d=C$1({},o.props),g=o.key,_=o.ref,b=o._owner;if(e!=null){if(e.ref!==void 0&&(_=e.ref,b=K$1.current),e.key!==void 0&&(g=""+e.key),o.type&&o.type.defaultProps)var $=o.type.defaultProps;for(j in e)J.call(e,j)&&!L$1.hasOwnProperty(j)&&(d[j]=e[j]===void 0&&$!==void 0?$[j]:e[j])}var j=arguments.length-2;if(j===1)d.children=h;else if(1<j){$=Array(j);for(var _e=0;_e<j;_e++)$[_e]=arguments[_e+2];d.children=$}return{$$typeof:l$2,type:o.type,key:g,ref:_,props:d,_owner:b}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var e=M$1.bind(null,o);return e.type=o,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$1,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,e){return{$$typeof:x$2,type:o,compare:e===void 0?null:e}};react_production_min.startTransition=function(o){var e=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,e){return U$1.current.useCallback(o,e)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,e){return U$1.current.useEffect(o,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,e,h){return U$1.current.useImperativeHandle(o,e,h)};react_production_min.useInsertionEffect=function(o,e){return U$1.current.useInsertionEffect(o,e)};react_production_min.useLayoutEffect=function(o,e){return U$1.current.useLayoutEffect(o,e)};react_production_min.useMemo=function(o,e){return U$1.current.useMemo(o,e)};react_production_min.useReducer=function(o,e,h){return U$1.current.useReducer(o,e,h)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,e,h){return U$1.current.useSyncExternalStore(o,e,h)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var React=react.exports,React$1=_mergeNamespaces({__proto__:null,default:React},[react.exports]),scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function e(St,At){var Rt=St.length;St.push(At);e:for(;0<Rt;){var Ot=Rt-1>>>1,Gt=St[Ot];if(0<g(Gt,At))St[Ot]=At,St[Rt]=Gt,Rt=Ot;else break e}}function h(St){return St.length===0?null:St[0]}function d(St){if(St.length===0)return null;var At=St[0],Rt=St.pop();if(Rt!==At){St[0]=Rt;e:for(var Ot=0,Gt=St.length,Qt=Gt>>>1;Ot<Qt;){var ir=2*(Ot+1)-1,tr=St[ir],Wt=ir+1,wr=St[Wt];if(0>g(tr,Rt))Wt<Gt&&0>g(wr,tr)?(St[Ot]=wr,St[Wt]=Rt,Ot=Wt):(St[Ot]=tr,St[ir]=Rt,Ot=ir);else if(Wt<Gt&&0>g(wr,Rt))St[Ot]=wr,St[Wt]=Rt,Ot=Wt;else break e}}return At}function g(St,At){var Rt=St.sortIndex-At.sortIndex;return Rt!==0?Rt:St.id-At.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;o.unstable_now=function(){return _.now()}}else{var b=Date,$=b.now();o.unstable_now=function(){return b.now()-$}}var j=[],_e=[],et=1,rt=null,tt=3,nt=!1,st=!1,at=!1,ct=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ht(St){for(var At=h(_e);At!==null;){if(At.callback===null)d(_e);else if(At.startTime<=St)d(_e),At.sortIndex=At.expirationTime,e(j,At);else break;At=h(_e)}}function ut(St){if(at=!1,ht(St),!st)if(h(j)!==null)st=!0,Et(dt);else{var At=h(_e);At!==null&&Ct(ut,At.startTime-St)}}function dt(St,At){st=!1,at&&(at=!1,it(yt),yt=-1),nt=!0;var Rt=tt;try{for(ht(At),rt=h(j);rt!==null&&(!(rt.expirationTime>At)||St&&!_t());){var Ot=rt.callback;if(typeof Ot=="function"){rt.callback=null,tt=rt.priorityLevel;var Gt=Ot(rt.expirationTime<=At);At=o.unstable_now(),typeof Gt=="function"?rt.callback=Gt:rt===h(j)&&d(j),ht(At)}else d(j);rt=h(j)}if(rt!==null)var Qt=!0;else{var ir=h(_e);ir!==null&&Ct(ut,ir.startTime-At),Qt=!1}return Qt}finally{rt=null,tt=Rt,nt=!1}}var pt=!1,mt=null,yt=-1,xt=5,Tt=-1;function _t(){return!(o.unstable_now()-Tt<xt)}function Mt(){if(mt!==null){var St=o.unstable_now();Tt=St;var At=!0;try{At=mt(!0,St)}finally{At?Lt():(pt=!1,mt=null)}}else pt=!1}var Lt;if(typeof lt=="function")Lt=function(){lt(Mt)};else if(typeof MessageChannel!="undefined"){var Pt=new MessageChannel,It=Pt.port2;Pt.port1.onmessage=Mt,Lt=function(){It.postMessage(null)}}else Lt=function(){ct(Mt,0)};function Et(St){mt=St,pt||(pt=!0,Lt())}function Ct(St,At){yt=ct(function(){St(o.unstable_now())},At)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(St){St.callback=null},o.unstable_continueExecution=function(){st||nt||(st=!0,Et(dt))},o.unstable_forceFrameRate=function(St){0>St||125<St?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<St?Math.floor(1e3/St):5},o.unstable_getCurrentPriorityLevel=function(){return tt},o.unstable_getFirstCallbackNode=function(){return h(j)},o.unstable_next=function(St){switch(tt){case 1:case 2:case 3:var At=3;break;default:At=tt}var Rt=tt;tt=At;try{return St()}finally{tt=Rt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(St,At){switch(St){case 1:case 2:case 3:case 4:case 5:break;default:St=3}var Rt=tt;tt=St;try{return At()}finally{tt=Rt}},o.unstable_scheduleCallback=function(St,At,Rt){var Ot=o.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?Ot+Rt:Ot):Rt=Ot,St){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=Rt+Gt,St={id:et++,callback:At,priorityLevel:St,startTime:Rt,expirationTime:Gt,sortIndex:-1},Rt>Ot?(St.sortIndex=Rt,e(_e,St),h(j)===null&&St===h(_e)&&(at?(it(yt),yt=-1):at=!0,Ct(ut,Rt-Ot))):(St.sortIndex=Gt,e(j,St),st||nt||(st=!0,Et(dt))),St},o.unstable_shouldYield=_t,o.unstable_wrapCallback=function(St){var At=tt;return function(){var Rt=tt;tt=At;try{return St.apply(this,arguments)}finally{tt=Rt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$2(o){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)e+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,e){ha(o,e),ha(o+"Capture",e)}function ha(o,e){for(ea[o]=e,o=0;o<e.length;o++)da.add(e[o])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,e,h,d){if(h!==null&&h.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return d?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,e,h,d){if(e===null||typeof e=="undefined"||pa(o,e,h,d))return!0;if(d)return!1;if(h!==null)switch(h.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(o,e,h,d,g,_,b){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=h,this.propertyName=o,this.type=e,this.sanitizeURL=_,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var e=o[0];z[e]=new v(e,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,e,h,d){var g=z.hasOwnProperty(e)?z[e]:null;(g!==null?g.type!==0:d||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,h,g,d)&&(h=null),d||g===null?oa(e)&&(h===null?o.removeAttribute(e):o.setAttribute(e,""+h)):g.mustUseProperty?o[g.propertyName]=h===null?g.type===3?!1:"":h:(e=g.attributeName,d=g.attributeNamespace,h===null?o.removeAttribute(e):(g=g.type,h=g===3||g===4&&h===!0?"":""+h,d?o.setAttributeNS(d,e,h):o.setAttribute(e,h))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(h){var e=h.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+o}var Na=!1;function Oa(o,e){if(!o||Na)return"";Na=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_e){var d=_e}Reflect.construct(o,[],e)}else{try{e.call()}catch(_e){d=_e}o.call(e.prototype)}else{try{throw Error()}catch(_e){d=_e}o()}}catch(_e){if(_e&&d&&typeof _e.stack=="string"){for(var g=_e.stack.split(`
`),_=d.stack.split(`
`),b=g.length-1,$=_.length-1;1<=b&&0<=$&&g[b]!==_[$];)$--;for(;1<=b&&0<=$;b--,$--)if(g[b]!==_[$]){if(b!==1||$!==1)do if(b--,$--,0>$||g[b]!==_[$]){var j=`
`+g[b].replace(" at new "," at ");return o.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",o.displayName)),j}while(1<=b&&0<=$);break}}}finally{Na=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var e=o.render;return o=o.displayName,o||(o=e.displayName||e.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return e=o.displayName||null,e!==null?e:Qa(o.type)||"Memo";case Ha:e=o._payload,o=o._init;try{return Qa(o(e))}catch{}}return null}function Ra(o){var e=o.type;switch(o.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=e.render,o=o.displayName||o.name||"",e.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var e=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(o){var e=Ta(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,e),d=""+o[e];if(!o.hasOwnProperty(e)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,_=h.set;return Object.defineProperty(o,e,{configurable:!0,get:function(){return g.call(this)},set:function(b){d=""+b,_.call(this,b)}}),Object.defineProperty(o,e,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){o._valueTracker=null,delete o[e]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var e=o._valueTracker;if(!e)return!0;var h=e.getValue(),d="";return o&&(d=Ta(o)?o.checked?"true":"false":o.value),o=d,o!==h?(e.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,e){var h=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h!=null?h:o._wrapperState.initialChecked})}function Za(o,e){var h=e.defaultValue==null?"":e.defaultValue,d=e.checked!=null?e.checked:e.defaultChecked;h=Sa(e.value!=null?e.value:h),o._wrapperState={initialChecked:d,initialValue:h,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(o,e){e=e.checked,e!=null&&ta(o,"checked",e,!1)}function bb(o,e){ab(o,e);var h=Sa(e.value),d=e.type;if(h!=null)d==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(d==="submit"||d==="reset"){o.removeAttribute("value");return}e.hasOwnProperty("value")?cb(o,e.type,h):e.hasOwnProperty("defaultValue")&&cb(o,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(o.defaultChecked=!!e.defaultChecked)}function db(o,e,h){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var d=e.type;if(!(d!=="submit"&&d!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+o._wrapperState.initialValue,h||e===o.value||(o.value=e),o.defaultValue=e}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function cb(o,e,h){(e!=="number"||Xa(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var eb=Array.isArray;function fb(o,e,h,d){if(o=o.options,e){e={};for(var g=0;g<h.length;g++)e["$"+h[g]]=!0;for(h=0;h<o.length;h++)g=e.hasOwnProperty("$"+o[h].value),o[h].selected!==g&&(o[h].selected=g),g&&d&&(o[h].defaultSelected=!0)}else{for(h=""+Sa(h),e=null,g=0;g<o.length;g++){if(o[g].value===h){o[g].selected=!0,d&&(o[g].defaultSelected=!0);return}e!==null||o[g].disabled||(e=o[g])}e!==null&&(e.selected=!0)}}function gb(o,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,e){var h=e.value;if(h==null){if(h=e.children,e=e.defaultValue,h!=null){if(e!=null)throw Error(p$2(92));if(eb(h)){if(1<h.length)throw Error(p$2(93));h=h[0]}e=h}e==null&&(e=""),h=e}o._wrapperState={initialValue:Sa(h)}}function ib(o,e){var h=Sa(e.value),d=Sa(e.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),e.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),d!=null&&(o.defaultValue=""+d)}function jb(o){var e=o.textContent;e===o._wrapperState.initialValue&&e!==""&&e!==null&&(o.value=e)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,e){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(e):o==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,h,d,g){MSApp.execUnsafeLocalFunction(function(){return o(e,h,d,g)})}:o}(function(o,e){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;e.firstChild;)o.appendChild(e.firstChild)}});function ob(o,e){if(e){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=e;return}}o.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(e){e=e+o.charAt(0).toUpperCase()+o.substring(1),pb[e]=pb[o]})});function rb(o,e,h){return e==null||typeof e=="boolean"||e===""?"":h||typeof e!="number"||e===0||pb.hasOwnProperty(o)&&pb[o]?(""+e).trim():e+"px"}function sb(o,e){o=o.style;for(var h in e)if(e.hasOwnProperty(h)){var d=h.indexOf("--")===0,g=rb(h,e[h],d);h==="float"&&(h="cssFloat"),d?o.setProperty(h,g):o[h]=g}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,e){if(e){if(tb[o]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,o));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb(o,e){if(o.indexOf("-")===-1)return typeof e.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$2(280));var e=o.stateNode;e&&(e=Db(e),yb(o.stateNode,o.type,e))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,e=Ab;if(Ab=zb=null,Bb(o),e)for(o=0;o<e.length;o++)Bb(e[o])}}function Gb(o,e){return o(e)}function Hb(){}var Ib=!1;function Jb(o,e,h){if(Ib)return o(e,h);Ib=!0;try{return Gb(o,e,h)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,e){var h=o.stateNode;if(h===null)return null;var d=Db(h);if(d===null)return null;h=d[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(p$2(231,e,typeof h));return h}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,e,h,d,g,_,b,$,j){var _e=Array.prototype.slice.call(arguments,3);try{e.apply(h,_e)}catch(et){this.onError(et)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,e,h,d,g,_,b,$,j){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,e,h,d,g,_,b,$,j){if(Tb.apply(this,arguments),Ob){if(Ob){var _e=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=_e)}}function Vb(o){var e=o,h=o;if(o.alternate)for(;e.return;)e=e.return;else{o=e;do e=o,(e.flags&4098)!=0&&(h=e.return),o=e.return;while(o)}return e.tag===3?h:null}function Wb(o){if(o.tag===13){var e=o.memoizedState;if(e===null&&(o=o.alternate,o!==null&&(e=o.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$2(188))}function Yb(o){var e=o.alternate;if(!e){if(e=Vb(o),e===null)throw Error(p$2(188));return e!==o?null:o}for(var h=o,d=e;;){var g=h.return;if(g===null)break;var _=g.alternate;if(_===null){if(d=g.return,d!==null){h=d;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===h)return Xb(g),o;if(_===d)return Xb(g),e;_=_.sibling}throw Error(p$2(188))}if(h.return!==d.return)h=g,d=_;else{for(var b=!1,$=g.child;$;){if($===h){b=!0,h=g,d=_;break}if($===d){b=!0,d=g,h=_;break}$=$.sibling}if(!b){for($=_.child;$;){if($===h){b=!0,h=_,d=g;break}if($===d){b=!0,d=_,h=g;break}$=$.sibling}if(!b)throw Error(p$2(189))}}if(h.alternate!==d)throw Error(p$2(190))}if(h.tag!==3)throw Error(p$2(188));return h.stateNode.current===h?o:e}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var e=$b(o);if(e!==null)return e;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)==128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc$1=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,e){var h=o.pendingLanes;if(h===0)return 0;var d=0,g=o.suspendedLanes,_=o.pingedLanes,b=h&268435455;if(b!==0){var $=b&~g;$!==0?d=tc($):(_&=b,_!==0&&(d=tc(_)))}else b=h&~g,b!==0?d=tc(b):_!==0&&(d=tc(_));if(d===0)return 0;if(e!==0&&e!==d&&(e&g)==0&&(g=d&-d,_=e&-e,g>=_||g===16&&(_&4194240)!=0))return e;if((d&4)!=0&&(d|=h&16),e=o.entangledLanes,e!==0)for(o=o.entanglements,e&=d;0<e;)h=31-oc(e),g=1<<h,d|=o[h],e&=~g;return d}function vc(o,e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,e){for(var h=o.suspendedLanes,d=o.pingedLanes,g=o.expirationTimes,_=o.pendingLanes;0<_;){var b=31-oc(_),$=1<<b,j=g[b];j===-1?(($&h)==0||($&d)!=0)&&(g[b]=vc($,e)):j<=e&&(o.expiredLanes|=$),_&=~$}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc$1;return rc$1<<=1,(rc$1&4194240)==0&&(rc$1=64),o}function zc(o){for(var e=[],h=0;31>h;h++)e.push(o);return e}function Ac(o,e,h){o.pendingLanes|=e,e!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,e=31-oc(e),o[e]=h}function Bc(o,e){var h=o.pendingLanes&~e;o.pendingLanes=e,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=e,o.mutableReadLanes&=e,o.entangledLanes&=e,e=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<h;){var g=31-oc(h),_=1<<g;e[g]=0,d[g]=-1,o[g]=-1,h&=~_}}function Cc(o,e){var h=o.entangledLanes|=e;for(o=o.entanglements;h;){var d=31-oc(h),g=1<<d;g&e|o[d]&e&&(o[d]|=e),h&=~g}}var C=0;function Dc(o){return o&=-o,1<o?4<o?(o&268435455)!=0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,e){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(o,e,h,d,g,_){return o===null||o.nativeEvent!==_?(o={blockedOn:e,domEventName:h,eventSystemFlags:d,nativeEvent:_,targetContainers:[g]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),o):(o.eventSystemFlags|=d,e=o.targetContainers,g!==null&&e.indexOf(g)===-1&&e.push(g),o)}function Uc(o,e,h,d,g){switch(e){case"focusin":return Lc=Tc(Lc,o,e,h,d,g),!0;case"dragenter":return Mc=Tc(Mc,o,e,h,d,g),!0;case"mouseover":return Nc=Tc(Nc,o,e,h,d,g),!0;case"pointerover":var _=g.pointerId;return Oc.set(_,Tc(Oc.get(_)||null,o,e,h,d,g)),!0;case"gotpointercapture":return _=g.pointerId,Pc.set(_,Tc(Pc.get(_)||null,o,e,h,d,g)),!0}return!1}function Vc(o){var e=Wc(o.target);if(e!==null){var h=Vb(e);if(h!==null){if(e=h.tag,e===13){if(e=Wb(h),e!==null){o.blockedOn=e,Ic(o.priority,function(){Gc(h)});return}}else if(e===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var e=o.targetContainers;0<e.length;){var h=Yc(o.domEventName,o.eventSystemFlags,e[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var d=new h.constructor(h.type,h);wb=d,h.target.dispatchEvent(d),wb=null}else return e=Cb(h),e!==null&&Fc(e),o.blockedOn=h,!1;e.shift()}return!0}function Zc(o,e,h){Xc(o)&&h.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,e){o.blockedOn===e&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function e(g){return ad(g,o)}if(0<Kc.length){ad(Kc[0],o);for(var h=1;h<Kc.length;h++){var d=Kc[h];d.blockedOn===o&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(e),Pc.forEach(e),h=0;h<Qc.length;h++)d=Qc[h],d.blockedOn===o&&(d.blockedOn=null);for(;0<Qc.length&&(h=Qc[0],h.blockedOn===null);)Vc(h),h.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,e,h,d){var g=C,_=cd.transition;cd.transition=null;try{C=1,fd(o,e,h,d)}finally{C=g,cd.transition=_}}function gd(o,e,h,d){var g=C,_=cd.transition;cd.transition=null;try{C=4,fd(o,e,h,d)}finally{C=g,cd.transition=_}}function fd(o,e,h,d){if(dd){var g=Yc(o,e,h,d);if(g===null)hd(o,e,d,id$1,h),Sc(o,d);else if(Uc(g,o,e,h,d))d.stopPropagation();else if(Sc(o,d),e&4&&-1<Rc.indexOf(o)){for(;g!==null;){var _=Cb(g);if(_!==null&&Ec(_),_=Yc(o,e,h,d),_===null&&hd(o,e,d,id$1,h),_===g)break;g=_}g!==null&&d.stopPropagation()}else hd(o,e,d,null,h)}}var id$1=null;function Yc(o,e,h,d){if(id$1=null,o=xb(d),o=Wc(o),o!==null)if(e=Vb(o),e===null)o=null;else if(h=e.tag,h===13){if(o=Wb(e),o!==null)return o;o=null}else if(h===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;o=null}else e!==o&&(o=null);return id$1=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,e=ld,h=e.length,d,g="value"in kd?kd.value:kd.textContent,_=g.length;for(o=0;o<h&&e[o]===g[o];o++);var b=h-o;for(d=1;d<=b&&e[h-d]===g[_-d];d++);return md=g.slice(o,1<d?1-d:void 0)}function od(o){var e=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&e===13&&(o=13)):o=e,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function e(h,d,g,_,b){this._reactName=h,this._targetInst=g,this.type=d,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(h=o[$],this[$]=h?h(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(o):(o=Od[o])?!!e[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var e=Md[o.key]||o.key;if(e!=="Unidentified")return e}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(o,e){switch(o){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,e){switch(o){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return o=e.data,o===ee&&fe?null:o;default:return null}}function ke(o,e){if(ie)return o==="compositionend"||!ae&&ge(o,e)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e==="input"?!!le[o.type]:e==="textarea"}function ne(o,e,h,d){Eb(d),e=oe(e,"onChange"),0<e.length&&(h=new td("onChange","change",null,h,d),o.push({event:h,listeners:e}))}var pe=null,qe=null;function re$1(o){se(o,0)}function te(o){var e=ue(o);if(Wa(e))return o}function ve(o,e){if(o==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,o,xb(o)),Jb(re$1,e)}}function Ce(o,e,h){o==="focusin"?(Ae(),pe=e,qe=h,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,e){if(o==="click")return te(e)}function Fe(o,e){if(o==="input"||o==="change")return te(e)}function Ge(o,e){return o===e&&(o!==0||1/o==1/e)||o!==o&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,e){if(He(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var h=Object.keys(o),d=Object.keys(e);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var g=h[d];if(!ja.call(e,g)||!He(o[g],e[g]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,e){var h=Je(o);o=0;for(var d;h;){if(h.nodeType===3){if(d=o+h.textContent.length,o<=e&&d>=e)return{node:h,offset:e-o};o=d}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Je(h)}}function Le(o,e){return o&&e?o===e?!0:o&&o.nodeType===3?!1:e&&e.nodeType===3?Le(o,e.parentNode):"contains"in o?o.contains(e):o.compareDocumentPosition?!!(o.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var o=window,e=Xa();e instanceof o.HTMLIFrameElement;){try{var h=typeof e.contentWindow.location.href=="string"}catch{h=!1}if(h)o=e.contentWindow;else break;e=Xa(o.document)}return e}function Ne(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e&&(e==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||e==="textarea"||o.contentEditable==="true")}function Oe(o){var e=Me(),h=o.focusedElem,d=o.selectionRange;if(e!==h&&h&&h.ownerDocument&&Le(h.ownerDocument.documentElement,h)){if(d!==null&&Ne(h)){if(e=d.start,o=d.end,o===void 0&&(o=e),"selectionStart"in h)h.selectionStart=e,h.selectionEnd=Math.min(o,h.value.length);else if(o=(e=h.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var g=h.textContent.length,_=Math.min(d.start,g);d=d.end===void 0?_:Math.min(d.end,g),!o.extend&&_>d&&(g=d,d=_,_=g),g=Ke(h,_);var b=Ke(h,d);g&&b&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(e=e.createRange(),e.setStart(g.node,g.offset),o.removeAllRanges(),_>d?(o.addRange(e),o.extend(b.node,b.offset)):(e.setEnd(b.node,b.offset),o.addRange(e)))}}for(e=[],o=h;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<e.length;h++)o=e[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,e,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Te||Qe==null||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(e=new td("onSelect","select",null,e,h),o.push({event:e,listeners:d}),e.target=Qe)))}function Ve(o,e){var h={};return h[o.toLowerCase()]=e.toLowerCase(),h["Webkit"+o]="webkit"+e,h["Moz"+o]="moz"+e,h}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var e=We[o],h;for(h in e)if(e.hasOwnProperty(h)&&h in Ye)return Xe[o]=e[h];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,e){df.set(o,e),fa(e,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,e,h){var d=o.type||"unknown-event";o.currentTarget=h,Ub(d,e,void 0,o),o.currentTarget=null}function se(o,e){e=(e&4)!=0;for(var h=0;h<o.length;h++){var d=o[h],g=d.event;d=d.listeners;e:{var _=void 0;if(e)for(var b=d.length-1;0<=b;b--){var $=d[b],j=$.instance,_e=$.currentTarget;if($=$.listener,j!==_&&g.isPropagationStopped())break e;nf(g,$,_e),_=j}else for(b=0;b<d.length;b++){if($=d[b],j=$.instance,_e=$.currentTarget,$=$.listener,j!==_&&g.isPropagationStopped())break e;nf(g,$,_e),_=j}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,e){var h=e[of];h===void 0&&(h=e[of]=new Set);var d=o+"__bubble";h.has(d)||(pf(e,o,2,!1),h.add(d))}function qf(o,e,h){var d=0;e&&(d|=4),pf(h,o,d,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(h){h!=="selectionchange"&&(mf.has(h)||qf(h,!1,o),qf(h,!0,o))});var e=o.nodeType===9?o:o.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(o,e,h,d){switch(jd(e)){case 1:var g=ed;break;case 4:g=gd;break;default:g=fd}h=g.bind(null,e,h,o),g=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(g=!0),d?g!==void 0?o.addEventListener(e,h,{capture:!0,passive:g}):o.addEventListener(e,h,!0):g!==void 0?o.addEventListener(e,h,{passive:g}):o.addEventListener(e,h,!1)}function hd(o,e,h,d,g){var _=d;if((e&1)==0&&(e&2)==0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var $=d.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(b===4)for(b=d.return;b!==null;){var j=b.tag;if((j===3||j===4)&&(j=b.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;b=b.return}for(;$!==null;){if(b=Wc($),b===null)return;if(j=b.tag,j===5||j===6){d=_=b;continue e}$=$.parentNode}}d=d.return}Jb(function(){var _e=_,et=xb(h),rt=[];e:{var tt=df.get(o);if(tt!==void 0){var nt=td,st=o;switch(o){case"keypress":if(od(h)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":st="focus",nt=Fd;break;case"focusout":st="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case $e:case af:case bf:nt=Hd;break;case cf:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var at=(e&4)!=0,ct=!at&&o==="scroll",it=at?tt!==null?tt+"Capture":null:tt;at=[];for(var lt=_e,ht;lt!==null;){ht=lt;var ut=ht.stateNode;if(ht.tag===5&&ut!==null&&(ht=ut,it!==null&&(ut=Kb(lt,it),ut!=null&&at.push(tf(lt,ut,ht)))),ct)break;lt=lt.return}0<at.length&&(tt=new nt(tt,st,null,h,et),rt.push({event:tt,listeners:at}))}}if((e&7)==0){e:{if(tt=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",tt&&h!==wb&&(st=h.relatedTarget||h.fromElement)&&(Wc(st)||st[uf]))break e;if((nt||tt)&&(tt=et.window===et?et:(tt=et.ownerDocument)?tt.defaultView||tt.parentWindow:window,nt?(st=h.relatedTarget||h.toElement,nt=_e,st=st?Wc(st):null,st!==null&&(ct=Vb(st),st!==ct||st.tag!==5&&st.tag!==6)&&(st=null)):(nt=null,st=_e),nt!==st)){if(at=Bd,ut="onMouseLeave",it="onMouseEnter",lt="mouse",(o==="pointerout"||o==="pointerover")&&(at=Td,ut="onPointerLeave",it="onPointerEnter",lt="pointer"),ct=nt==null?tt:ue(nt),ht=st==null?tt:ue(st),tt=new at(ut,lt+"leave",nt,h,et),tt.target=ct,tt.relatedTarget=ht,ut=null,Wc(et)===_e&&(at=new at(it,lt+"enter",st,h,et),at.target=ht,at.relatedTarget=ct,ut=at),ct=ut,nt&&st)t:{for(at=nt,it=st,lt=0,ht=at;ht;ht=vf(ht))lt++;for(ht=0,ut=it;ut;ut=vf(ut))ht++;for(;0<lt-ht;)at=vf(at),lt--;for(;0<ht-lt;)it=vf(it),ht--;for(;lt--;){if(at===it||it!==null&&at===it.alternate)break t;at=vf(at),it=vf(it)}at=null}else at=null;nt!==null&&wf(rt,tt,nt,at,!1),st!==null&&ct!==null&&wf(rt,ct,st,at,!0)}}e:{if(tt=_e?ue(_e):window,nt=tt.nodeName&&tt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&tt.type==="file")var dt=ve;else if(me(tt))if(we)dt=Fe;else{dt=De;var pt=Ce}else(nt=tt.nodeName)&&nt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(dt=Ee);if(dt&&(dt=dt(o,_e))){ne(rt,dt,h,et);break e}pt&&pt(o,tt,_e),o==="focusout"&&(pt=tt._wrapperState)&&pt.controlled&&tt.type==="number"&&cb(tt,"number",tt.value)}switch(pt=_e?ue(_e):window,o){case"focusin":(me(pt)||pt.contentEditable==="true")&&(Qe=pt,Re=_e,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(rt,h,et);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(rt,h,et)}var mt;if(ae)e:{switch(o){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(o,h)&&(yt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(yt="onCompositionStart");yt&&(de&&h.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(mt=nd()):(kd=et,ld="value"in kd?kd.value:kd.textContent,ie=!0)),pt=oe(_e,yt),0<pt.length&&(yt=new Ld(yt,o,null,h,et),rt.push({event:yt,listeners:pt}),mt?yt.data=mt:(mt=he(h),mt!==null&&(yt.data=mt)))),(mt=ce?je(o,h):ke(o,h))&&(_e=oe(_e,"onBeforeInput"),0<_e.length&&(et=new Ld("onBeforeInput","beforeinput",null,h,et),rt.push({event:et,listeners:_e}),et.data=mt))}se(rt,e)})}function tf(o,e,h){return{instance:o,listener:e,currentTarget:h}}function oe(o,e){for(var h=e+"Capture",d=[];o!==null;){var g=o,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Kb(o,h),_!=null&&d.unshift(tf(o,_,g)),_=Kb(o,e),_!=null&&d.push(tf(o,_,g))),o=o.return}return d}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,e,h,d,g){for(var _=e._reactName,b=[];h!==null&&h!==d;){var $=h,j=$.alternate,_e=$.stateNode;if(j!==null&&j===d)break;$.tag===5&&_e!==null&&($=_e,g?(j=Kb(h,_),j!=null&&b.unshift(tf(h,j,$))):g||(j=Kb(h,_),j!=null&&b.push(tf(h,j,$)))),h=h.return}b.length!==0&&o.push({event:e,listeners:b})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,e,h){if(e=zf(e),zf(o)!==e&&h)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,e){return o==="textarea"||o==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,e){var h=e,d=0;do{var g=h.nextSibling;if(o.removeChild(h),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(d===0){o.removeChild(g),bd(e);return}d--}else h!=="$"&&h!=="$?"&&h!=="$!"||d++;h=g}while(h);bd(e)}function Lf(o){for(;o!=null;o=o.nextSibling){var e=o.nodeType;if(e===1||e===3)break;if(e===8){if(e=o.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var e=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(e===0)return o;e--}else h==="/$"&&e++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var e=o[Of];if(e)return e;for(var h=o.parentNode;h;){if(e=h[uf]||h[Of]){if(h=e.alternate,e.child!==null||h!==null&&h.child!==null)for(o=Mf(o);o!==null;){if(h=o[Of])return h;o=Mf(o)}return e}o=h,h=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$2(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,e){Tf++,Sf[Tf]=o.current,o.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,e){var h=o.type.contextTypes;if(!h)return Vf;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===e)return d.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in h)g[_]=e[_];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=e,o.__reactInternalMemoizedMaskedChildContext=g),g}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,e,h){if(H.current!==Vf)throw Error(p$2(168));G(H,e),G(Wf,h)}function bg(o,e,h){var d=o.stateNode;if(e=e.childContextTypes,typeof d.getChildContext!="function")return h;d=d.getChildContext();for(var g in d)if(!(g in e))throw Error(p$2(108,Ra(o)||"Unknown",g));return A({},h,d)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,e,h){var d=o.stateNode;if(!d)throw Error(p$2(169));h?(o=bg(o,e,Xf),d.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,h)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,e=C;try{var h=eg;for(C=1;o<h.length;o++){var d=h[o];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(g){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),g}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,e){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=e}function ug(o,e,h){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var d=rg;o=sg;var g=32-oc(d)-1;d&=~(1<<g),h+=1;var _=32-oc(e)+g;if(30<_){var b=g-g%5;_=(d&(1<<b)-1).toString(32),d>>=b,g-=b,rg=1<<32-oc(e)+g|h<<g|d,sg=_+o}else rg=1<<_|h<<g|d,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,e){var h=Bg(5,null,null,0);h.elementType="DELETED",h.stateNode=e,h.return=o,e=o.deletions,e===null?(o.deletions=[h],o.flags|=16):e.push(h)}function Cg(o,e){switch(o.tag){case 5:var h=o.type;return e=e.nodeType!==1||h.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(o.stateNode=e,xg=o,yg=Lf(e.firstChild),!0):!1;case 6:return e=o.pendingProps===""||e.nodeType!==3?null:e,e!==null?(o.stateNode=e,xg=o,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(h=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:e,treeContext:h,retryLane:1073741824},h=Bg(18,null,null,0),h.stateNode=e,h.return=o,o.child=h,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!=0&&(o.flags&128)==0}function Eg(o){if(I){var e=yg;if(e){var h=e;if(!Cg(o,e)){if(Dg(o))throw Error(p$2(418));e=Lf(h.nextSibling);var d=xg;e&&Cg(o,e)?Ag(d,h):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$2(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var e;if((e=o.tag!==3)&&!(e=o.tag!==5)&&(e=o.type,e=e!=="head"&&e!=="body"&&!Ef(o.type,o.memoizedProps)),e&&(e=yg)){if(Dg(o))throw Hg(),Error(p$2(418));for(;e;)Ag(o,e),e=Lf(e.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$2(317));e:{for(o=o.nextSibling,e=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(e===0){yg=Lf(o.nextSibling);break e}e--}else h!=="$"&&h!=="$!"&&h!=="$?"||e++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,e){if(o&&o.defaultProps){e=A({},e),o=o.defaultProps;for(var h in o)e[h]===void 0&&(e[h]=o[h]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var e=Mg.current;E(Mg),o._currentValue=e}function Sg(o,e,h){for(;o!==null;){var d=o.alternate;if((o.childLanes&e)!==e?(o.childLanes|=e,d!==null&&(d.childLanes|=e)):d!==null&&(d.childLanes&e)!==e&&(d.childLanes|=e),o===h)break;o=o.return}}function Tg(o,e){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&e)!=0&&(Ug=!0),o.firstContext=null)}function Vg(o){var e=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return e}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,e,h,d){var g=e.interleaved;return g===null?(h.next=h,Xg(e)):(h.next=g.next,g.next=h),e.interleaved=h,Zg(o,d)}function Zg(o,e){o.lanes|=e;var h=o.alternate;for(h!==null&&(h.lanes|=e),h=o,o=o.return;o!==null;)o.childLanes|=e,h=o.alternate,h!==null&&(h.childLanes|=e),h=o,o=o.return;return h.tag===3?h.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,e){o=o.updateQueue,e.updateQueue===o&&(e.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,e){return{eventTime:o,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(o,e,h){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(K&2)!=0){var g=d.pending;return g===null?e.next=e:(e.next=g.next,g.next=e),d.pending=e,Zg(o,h)}return g=d.interleaved,g===null?(e.next=e,Xg(d)):(e.next=g.next,g.next=e),d.interleaved=e,Zg(o,h)}function eh(o,e,h){if(e=e.updateQueue,e!==null&&(e=e.shared,(h&4194240)!=0)){var d=e.lanes;d&=o.pendingLanes,h|=d,e.lanes=h,Cc(o,h)}}function fh(o,e){var h=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var g=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var b={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};_===null?g=_=b:_=_.next=b,h=h.next}while(h!==null);_===null?g=_=e:_=_.next=e}else g=_=e;h={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:d.shared,effects:d.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=e:o.next=e,h.lastBaseUpdate=e}function gh(o,e,h,d){var g=o.updateQueue;$g=!1;var _=g.firstBaseUpdate,b=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var j=$,_e=j.next;j.next=null,b===null?_=_e:b.next=_e,b=j;var et=o.alternate;et!==null&&(et=et.updateQueue,$=et.lastBaseUpdate,$!==b&&($===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=j))}if(_!==null){var rt=g.baseState;b=0,et=_e=j=null,$=_;do{var tt=$.lane,nt=$.eventTime;if((d&tt)===tt){et!==null&&(et=et.next={eventTime:nt,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var st=o,at=$;switch(tt=e,nt=h,at.tag){case 1:if(st=at.payload,typeof st=="function"){rt=st.call(nt,rt,tt);break e}rt=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=at.payload,tt=typeof st=="function"?st.call(nt,rt,tt):st,tt==null)break e;rt=A({},rt,tt);break e;case 2:$g=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,tt=g.effects,tt===null?g.effects=[$]:tt.push($))}else nt={eventTime:nt,lane:tt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},et===null?(_e=et=nt,j=rt):et=et.next=nt,b|=tt;if($=$.next,$===null){if($=g.shared.pending,$===null)break;tt=$,$=tt.next,tt.next=null,g.lastBaseUpdate=tt,g.shared.pending=null}}while(1);if(et===null&&(j=rt),g.baseState=j,g.firstBaseUpdate=_e,g.lastBaseUpdate=et,e=g.shared.interleaved,e!==null){g=e;do b|=g.lane,g=g.next;while(g!==e)}else _===null&&(g.shared.lanes=0);hh|=b,o.lanes=b,o.memoizedState=rt}}function ih(o,e,h){if(o=e.effects,e.effects=null,o!==null)for(e=0;e<o.length;e++){var d=o[e],g=d.callback;if(g!==null){if(d.callback=null,d=h,typeof g!="function")throw Error(p$2(191,g));g.call(d)}}}var jh=new aa.Component().refs;function kh(o,e,h,d){e=o.memoizedState,h=h(d,e),h=h==null?e:A({},e,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,e,h){o=o._reactInternals;var d=L(),g=lh(o),_=ch(d,g);_.payload=e,h!=null&&(_.callback=h),e=dh(o,_,g),e!==null&&(mh(e,o,g,d),eh(e,o,g))},enqueueReplaceState:function(o,e,h){o=o._reactInternals;var d=L(),g=lh(o),_=ch(d,g);_.tag=1,_.payload=e,h!=null&&(_.callback=h),e=dh(o,_,g),e!==null&&(mh(e,o,g,d),eh(e,o,g))},enqueueForceUpdate:function(o,e){o=o._reactInternals;var h=L(),d=lh(o),g=ch(h,d);g.tag=2,e!=null&&(g.callback=e),e=dh(o,g,d),e!==null&&(mh(e,o,d,h),eh(e,o,d))}};function oh(o,e,h,d,g,_,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,_,b):e.prototype&&e.prototype.isPureReactComponent?!Ie(h,d)||!Ie(g,_):!0}function ph(o,e,h){var d=!1,g=Vf,_=e.contextType;return typeof _=="object"&&_!==null?_=Vg(_):(g=Zf(e)?Xf:H.current,d=e.contextTypes,_=(d=d!=null)?Yf(o,g):Vf),e=new e(h,_),o.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,o.stateNode=e,e._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=_),e}function qh(o,e,h,d){o=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(h,d),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(h,d),e.state!==o&&nh.enqueueReplaceState(e,e.state,null)}function rh(o,e,h,d){var g=o.stateNode;g.props=h,g.state=o.memoizedState,g.refs=jh,ah(o);var _=e.contextType;typeof _=="object"&&_!==null?g.context=Vg(_):(_=Zf(e)?Xf:H.current,g.context=Yf(o,_)),g.state=o.memoizedState,_=e.getDerivedStateFromProps,typeof _=="function"&&(kh(o,e,_,h),g.state=o.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(e=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),e!==g.state&&nh.enqueueReplaceState(g,g.state,null),gh(o,h,g,d),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,e,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(p$2(309));var d=h.stateNode}if(!d)throw Error(p$2(147,o));var g=d,_=""+o;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===_?e.ref:(e=function(b){var $=g.refs;$===jh&&($=g.refs={}),b===null?delete $[_]:$[_]=b},e._stringRef=_,e)}if(typeof o!="string")throw Error(p$2(284));if(!h._owner)throw Error(p$2(290,o))}return o}function th(o,e){throw o=Object.prototype.toString.call(e),Error(p$2(31,o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o))}function uh(o){var e=o._init;return e(o._payload)}function vh(o){function e(it,lt){if(o){var ht=it.deletions;ht===null?(it.deletions=[lt],it.flags|=16):ht.push(lt)}}function h(it,lt){if(!o)return null;for(;lt!==null;)e(it,lt),lt=lt.sibling;return null}function d(it,lt){for(it=new Map;lt!==null;)lt.key!==null?it.set(lt.key,lt):it.set(lt.index,lt),lt=lt.sibling;return it}function g(it,lt){return it=wh(it,lt),it.index=0,it.sibling=null,it}function _(it,lt,ht){return it.index=ht,o?(ht=it.alternate,ht!==null?(ht=ht.index,ht<lt?(it.flags|=2,lt):ht):(it.flags|=2,lt)):(it.flags|=1048576,lt)}function b(it){return o&&it.alternate===null&&(it.flags|=2),it}function $(it,lt,ht,ut){return lt===null||lt.tag!==6?(lt=xh(ht,it.mode,ut),lt.return=it,lt):(lt=g(lt,ht),lt.return=it,lt)}function j(it,lt,ht,ut){var dt=ht.type;return dt===ya?et(it,lt,ht.props.children,ut,ht.key):lt!==null&&(lt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ha&&uh(dt)===lt.type)?(ut=g(lt,ht.props),ut.ref=sh(it,lt,ht),ut.return=it,ut):(ut=yh(ht.type,ht.key,ht.props,null,it.mode,ut),ut.ref=sh(it,lt,ht),ut.return=it,ut)}function _e(it,lt,ht,ut){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==ht.containerInfo||lt.stateNode.implementation!==ht.implementation?(lt=zh(ht,it.mode,ut),lt.return=it,lt):(lt=g(lt,ht.children||[]),lt.return=it,lt)}function et(it,lt,ht,ut,dt){return lt===null||lt.tag!==7?(lt=Ah(ht,it.mode,ut,dt),lt.return=it,lt):(lt=g(lt,ht),lt.return=it,lt)}function rt(it,lt,ht){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return lt=xh(""+lt,it.mode,ht),lt.return=it,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return ht=yh(lt.type,lt.key,lt.props,null,it.mode,ht),ht.ref=sh(it,null,lt),ht.return=it,ht;case wa:return lt=zh(lt,it.mode,ht),lt.return=it,lt;case Ha:var ut=lt._init;return rt(it,ut(lt._payload),ht)}if(eb(lt)||Ka(lt))return lt=Ah(lt,it.mode,ht,null),lt.return=it,lt;th(it,lt)}return null}function tt(it,lt,ht,ut){var dt=lt!==null?lt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return dt!==null?null:$(it,lt,""+ht,ut);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ht.key===dt?j(it,lt,ht,ut):null;case wa:return ht.key===dt?_e(it,lt,ht,ut):null;case Ha:return dt=ht._init,tt(it,lt,dt(ht._payload),ut)}if(eb(ht)||Ka(ht))return dt!==null?null:et(it,lt,ht,ut,null);th(it,ht)}return null}function nt(it,lt,ht,ut,dt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return it=it.get(ht)||null,$(lt,it,""+ut,dt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return it=it.get(ut.key===null?ht:ut.key)||null,j(lt,it,ut,dt);case wa:return it=it.get(ut.key===null?ht:ut.key)||null,_e(lt,it,ut,dt);case Ha:var pt=ut._init;return nt(it,lt,ht,pt(ut._payload),dt)}if(eb(ut)||Ka(ut))return it=it.get(ht)||null,et(lt,it,ut,dt,null);th(lt,ut)}return null}function st(it,lt,ht,ut){for(var dt=null,pt=null,mt=lt,yt=lt=0,xt=null;mt!==null&&yt<ht.length;yt++){mt.index>yt?(xt=mt,mt=null):xt=mt.sibling;var Tt=tt(it,mt,ht[yt],ut);if(Tt===null){mt===null&&(mt=xt);break}o&&mt&&Tt.alternate===null&&e(it,mt),lt=_(Tt,lt,yt),pt===null?dt=Tt:pt.sibling=Tt,pt=Tt,mt=xt}if(yt===ht.length)return h(it,mt),I&&tg(it,yt),dt;if(mt===null){for(;yt<ht.length;yt++)mt=rt(it,ht[yt],ut),mt!==null&&(lt=_(mt,lt,yt),pt===null?dt=mt:pt.sibling=mt,pt=mt);return I&&tg(it,yt),dt}for(mt=d(it,mt);yt<ht.length;yt++)xt=nt(mt,it,yt,ht[yt],ut),xt!==null&&(o&&xt.alternate!==null&&mt.delete(xt.key===null?yt:xt.key),lt=_(xt,lt,yt),pt===null?dt=xt:pt.sibling=xt,pt=xt);return o&&mt.forEach(function(_t){return e(it,_t)}),I&&tg(it,yt),dt}function at(it,lt,ht,ut){var dt=Ka(ht);if(typeof dt!="function")throw Error(p$2(150));if(ht=dt.call(ht),ht==null)throw Error(p$2(151));for(var pt=dt=null,mt=lt,yt=lt=0,xt=null,Tt=ht.next();mt!==null&&!Tt.done;yt++,Tt=ht.next()){mt.index>yt?(xt=mt,mt=null):xt=mt.sibling;var _t=tt(it,mt,Tt.value,ut);if(_t===null){mt===null&&(mt=xt);break}o&&mt&&_t.alternate===null&&e(it,mt),lt=_(_t,lt,yt),pt===null?dt=_t:pt.sibling=_t,pt=_t,mt=xt}if(Tt.done)return h(it,mt),I&&tg(it,yt),dt;if(mt===null){for(;!Tt.done;yt++,Tt=ht.next())Tt=rt(it,Tt.value,ut),Tt!==null&&(lt=_(Tt,lt,yt),pt===null?dt=Tt:pt.sibling=Tt,pt=Tt);return I&&tg(it,yt),dt}for(mt=d(it,mt);!Tt.done;yt++,Tt=ht.next())Tt=nt(mt,it,yt,Tt.value,ut),Tt!==null&&(o&&Tt.alternate!==null&&mt.delete(Tt.key===null?yt:Tt.key),lt=_(Tt,lt,yt),pt===null?dt=Tt:pt.sibling=Tt,pt=Tt);return o&&mt.forEach(function(Mt){return e(it,Mt)}),I&&tg(it,yt),dt}function ct(it,lt,ht,ut){if(typeof ht=="object"&&ht!==null&&ht.type===ya&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:e:{for(var dt=ht.key,pt=lt;pt!==null;){if(pt.key===dt){if(dt=ht.type,dt===ya){if(pt.tag===7){h(it,pt.sibling),lt=g(pt,ht.props.children),lt.return=it,it=lt;break e}}else if(pt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ha&&uh(dt)===pt.type){h(it,pt.sibling),lt=g(pt,ht.props),lt.ref=sh(it,pt,ht),lt.return=it,it=lt;break e}h(it,pt);break}else e(it,pt);pt=pt.sibling}ht.type===ya?(lt=Ah(ht.props.children,it.mode,ut,ht.key),lt.return=it,it=lt):(ut=yh(ht.type,ht.key,ht.props,null,it.mode,ut),ut.ref=sh(it,lt,ht),ut.return=it,it=ut)}return b(it);case wa:e:{for(pt=ht.key;lt!==null;){if(lt.key===pt)if(lt.tag===4&&lt.stateNode.containerInfo===ht.containerInfo&&lt.stateNode.implementation===ht.implementation){h(it,lt.sibling),lt=g(lt,ht.children||[]),lt.return=it,it=lt;break e}else{h(it,lt);break}else e(it,lt);lt=lt.sibling}lt=zh(ht,it.mode,ut),lt.return=it,it=lt}return b(it);case Ha:return pt=ht._init,ct(it,lt,pt(ht._payload),ut)}if(eb(ht))return st(it,lt,ht,ut);if(Ka(ht))return at(it,lt,ht,ut);th(it,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,lt!==null&&lt.tag===6?(h(it,lt.sibling),lt=g(lt,ht),lt.return=it,it=lt):(h(it,lt),lt=xh(ht,it.mode,ut),lt.return=it,it=lt),b(it)):h(it,lt)}return ct}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$2(174));return o}function Ih(o,e){switch(G(Gh,e),G(Fh,o),G(Eh,Dh),o=e.nodeType,o){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:o=o===8?e.parentNode:e,e=o.namespaceURI||null,o=o.tagName,e=lb(e,o)}E(Eh),G(Eh,e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(o){Hh(Gh.current);var e=Hh(Eh.current),h=lb(e,o.type);e!==h&&(G(Fh,o),G(Eh,h))}function Lh(o){Fh.current===o&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(o){for(var e=o;e!==null;){if(e.tag===13){var h=e.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(o,e){if(e===null)return!1;for(var h=0;h<e.length&&h<o.length;h++)if(!He(o[h],e[h]))return!1;return!0}function Xh(o,e,h,d,g,_){if(Rh=_,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=h(d,g),Th){_=0;do{if(Th=!1,Uh=0,25<=_)throw Error(p$2(301));_+=1,P=O=null,e.updateQueue=null,Ph.current=$h,o=h(d,g)}while(Th)}if(Ph.current=ai,e=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,e)throw Error(p$2(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di(){if(O===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O.next;var e=P===null?N.memoizedState:P.next;if(e!==null)P=e,O=o;else{if(o===null)throw Error(p$2(310));O=o,o={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei(o,e){return typeof e=="function"?e(o):e}function fi(o){var e=di(),h=e.queue;if(h===null)throw Error(p$2(311));h.lastRenderedReducer=o;var d=O,g=d.baseQueue,_=h.pending;if(_!==null){if(g!==null){var b=g.next;g.next=_.next,_.next=b}d.baseQueue=g=_,h.pending=null}if(g!==null){_=g.next,d=d.baseState;var $=b=null,j=null,_e=_;do{var et=_e.lane;if((Rh&et)===et)j!==null&&(j=j.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),d=_e.hasEagerState?_e.eagerState:o(d,_e.action);else{var rt={lane:et,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};j===null?($=j=rt,b=d):j=j.next=rt,N.lanes|=et,hh|=et}_e=_e.next}while(_e!==null&&_e!==_);j===null?b=d:j.next=$,He(d,e.memoizedState)||(Ug=!0),e.memoizedState=d,e.baseState=b,e.baseQueue=j,h.lastRenderedState=d}if(o=h.interleaved,o!==null){g=o;do _=g.lane,N.lanes|=_,hh|=_,g=g.next;while(g!==o)}else g===null&&(h.lanes=0);return[e.memoizedState,h.dispatch]}function gi(o){var e=di(),h=e.queue;if(h===null)throw Error(p$2(311));h.lastRenderedReducer=o;var d=h.dispatch,g=h.pending,_=e.memoizedState;if(g!==null){h.pending=null;var b=g=g.next;do _=o(_,b.action),b=b.next;while(b!==g);He(_,e.memoizedState)||(Ug=!0),e.memoizedState=_,e.baseQueue===null&&(e.baseState=_),h.lastRenderedState=_}return[_,d]}function hi(){}function ii(o,e){var h=N,d=di(),g=e(),_=!He(d.memoizedState,g);if(_&&(d.memoizedState=g,Ug=!0),d=d.queue,ji(ki.bind(null,h,d,o),[o]),d.getSnapshot!==e||_||P!==null&&P.memoizedState.tag&1){if(h.flags|=2048,li(9,mi.bind(null,h,d,g,e),void 0,null),R===null)throw Error(p$2(349));(Rh&30)!=0||ni(h,e,g)}return g}function ni(o,e,h){o.flags|=16384,o={getSnapshot:e,value:h},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.stores=[o]):(h=e.stores,h===null?e.stores=[o]:h.push(o))}function mi(o,e,h,d){e.value=h,e.getSnapshot=d,oi(e)&&pi(o)}function ki(o,e,h){return h(function(){oi(e)&&pi(o)})}function oi(o){var e=o.getSnapshot;o=o.value;try{var h=e();return!He(o,h)}catch{return!0}}function pi(o){var e=Zg(o,1);e!==null&&mh(e,o,1,-1)}function qi(o){var e=ci();return typeof o=="function"&&(o=o()),e.memoizedState=e.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},e.queue=o,o=o.dispatch=ri.bind(null,N,o),[e.memoizedState,o]}function li(o,e,h,d){return o={tag:o,create:e,destroy:h,deps:d,next:null},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.lastEffect=o.next=o):(h=e.lastEffect,h===null?e.lastEffect=o.next=o:(d=h.next,h.next=o,o.next=d,e.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,e,h,d){var g=ci();N.flags|=o,g.memoizedState=li(1|e,h,void 0,d===void 0?null:d)}function ui(o,e,h,d){var g=di();d=d===void 0?null:d;var _=void 0;if(O!==null){var b=O.memoizedState;if(_=b.destroy,d!==null&&Wh(d,b.deps)){g.memoizedState=li(e,h,_,d);return}}N.flags|=o,g.memoizedState=li(1|e,h,_,d)}function vi(o,e){return ti(8390656,8,o,e)}function ji(o,e){return ui(2048,8,o,e)}function wi(o,e){return ui(4,2,o,e)}function xi(o,e){return ui(4,4,o,e)}function yi(o,e){if(typeof e=="function")return o=o(),e(o),function(){e(null)};if(e!=null)return o=o(),e.current=o,function(){e.current=null}}function zi(o,e,h){return h=h!=null?h.concat([o]):null,ui(4,4,yi.bind(null,e,o),h)}function Ai(){}function Bi(o,e){var h=di();e=e===void 0?null:e;var d=h.memoizedState;return d!==null&&e!==null&&Wh(e,d[1])?d[0]:(h.memoizedState=[o,e],o)}function Ci(o,e){var h=di();e=e===void 0?null:e;var d=h.memoizedState;return d!==null&&e!==null&&Wh(e,d[1])?d[0]:(o=o(),h.memoizedState=[o,e],o)}function Di(o,e,h){return(Rh&21)==0?(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=h):(He(h,e)||(h=yc(),N.lanes|=h,hh|=h,o.baseState=!0),e)}function Ei(o,e){var h=C;C=h!==0&&4>h?h:4,o(!0);var d=Qh.transition;Qh.transition={};try{o(!1),e()}finally{C=h,Qh.transition=d}}function Fi(){return di().memoizedState}function Gi(o,e,h){var d=lh(o);if(h={lane:d,action:h,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(e,h);else if(h=Yg(o,e,h,d),h!==null){var g=L();mh(h,o,d,g),Ji(h,e,d)}}function ri(o,e,h){var d=lh(o),g={lane:d,action:h,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(e,g);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=e.lastRenderedReducer,_!==null))try{var b=e.lastRenderedState,$=_(b,h);if(g.hasEagerState=!0,g.eagerState=$,He($,b)){var j=e.interleaved;j===null?(g.next=g,Xg(e)):(g.next=j.next,j.next=g),e.interleaved=g;return}}catch{}finally{}h=Yg(o,e,g,d),h!==null&&(g=L(),mh(h,o,d,g),Ji(h,e,d))}}function Hi(o){var e=o.alternate;return o===N||e!==null&&e===N}function Ii(o,e){Th=Sh=!0;var h=o.pending;h===null?e.next=e:(e.next=h.next,h.next=e),o.pending=e}function Ji(o,e,h){if((h&4194240)!=0){var d=e.lanes;d&=o.pendingLanes,h|=d,e.lanes=h,Cc(o,h)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,e){return ci().memoizedState=[o,e===void 0?null:e],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,e,h){return h=h!=null?h.concat([o]):null,ti(4194308,4,yi.bind(null,e,o),h)},useLayoutEffect:function(o,e){return ti(4194308,4,o,e)},useInsertionEffect:function(o,e){return ti(4,2,o,e)},useMemo:function(o,e){var h=ci();return e=e===void 0?null:e,o=o(),h.memoizedState=[o,e],o},useReducer:function(o,e,h){var d=ci();return e=h!==void 0?h(e):e,d.memoizedState=d.baseState=e,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:e},d.queue=o,o=o.dispatch=Gi.bind(null,N,o),[d.memoizedState,o]},useRef:function(o){var e=ci();return o={current:o},e.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),e=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[e,o]},useMutableSource:function(){},useSyncExternalStore:function(o,e,h){var d=N,g=ci();if(I){if(h===void 0)throw Error(p$2(407));h=h()}else{if(h=e(),R===null)throw Error(p$2(349));(Rh&30)!=0||ni(d,e,h)}g.memoizedState=h;var _={value:h,getSnapshot:e};return g.queue=_,vi(ki.bind(null,d,_,o),[o]),d.flags|=2048,li(9,mi.bind(null,d,_,h,e),void 0,null),h},useId:function(){var o=ci(),e=R.identifierPrefix;if(I){var h=sg,d=rg;h=(d&~(1<<32-oc(d)-1)).toString(32)+h,e=":"+e+"R"+h,h=Uh++,0<h&&(e+="H"+h.toString(32)),e+=":"}else h=Vh++,e=":"+e+"r"+h.toString(32)+":";return o.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var e=di();return Di(e,O.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],e=di().memoizedState;return[o,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var e=di();return O===null?e.memoizedState=o:Di(e,O.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],e=di().memoizedState;return[o,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,e){try{var h="",d=e;do h+=Pa(d),d=d.return;while(d);var g=h}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:e,stack:g,digest:null}}function Li(o,e,h){return{value:o,source:null,stack:h!=null?h:null,digest:e!=null?e:null}}function Mi(o,e){try{console.error(e.value)}catch(h){setTimeout(function(){throw h})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,e,h){h=ch(-1,h),h.tag=3,h.payload={element:null};var d=e.value;return h.callback=function(){Pi||(Pi=!0,Qi=d),Mi(o,e)},h}function Ri(o,e,h){h=ch(-1,h),h.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=e.value;h.payload=function(){return d(g)},h.callback=function(){Mi(o,e)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(h.callback=function(){Mi(o,e),typeof d!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var b=e.stack;this.componentDidCatch(e.value,{componentStack:b!==null?b:""})}),h}function Ti(o,e,h){var d=o.pingCache;if(d===null){d=o.pingCache=new Ni;var g=new Set;d.set(e,g)}else g=d.get(e),g===void 0&&(g=new Set,d.set(e,g));g.has(h)||(g.add(h),o=Ui.bind(null,o,e,h),e.then(o,o))}function Vi(o){do{var e;if((e=o.tag===13)&&(e=o.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return o;o=o.return}while(o!==null);return null}function Wi(o,e,h,d,g){return(o.mode&1)==0?(o===e?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(e=ch(-1,1),e.tag=2,dh(h,e,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,e,h,d){e.child=o===null?Ch(e,null,h,d):Bh(e,o.child,h,d)}function Zi(o,e,h,d,g){h=h.render;var _=e.ref;return Tg(e,g),d=Xh(o,e,h,d,_,g),h=bi(),o!==null&&!Ug?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~g,$i(o,e,g)):(I&&h&&vg(e),e.flags|=1,Yi(o,e,d,g),e.child)}function aj(o,e,h,d,g){if(o===null){var _=h.type;return typeof _=="function"&&!bj(_)&&_.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(e.tag=15,e.type=_,cj(o,e,_,d,g)):(o=yh(h.type,null,d,e,e.mode,g),o.ref=e.ref,o.return=e,e.child=o)}if(_=o.child,(o.lanes&g)==0){var b=_.memoizedProps;if(h=h.compare,h=h!==null?h:Ie,h(b,d)&&o.ref===e.ref)return $i(o,e,g)}return e.flags|=1,o=wh(_,d),o.ref=e.ref,o.return=e,e.child=o}function cj(o,e,h,d,g){if(o!==null){var _=o.memoizedProps;if(Ie(_,d)&&o.ref===e.ref)if(Ug=!1,e.pendingProps=d=_,(o.lanes&g)!=0)(o.flags&131072)!=0&&(Ug=!0);else return e.lanes=o.lanes,$i(o,e,g)}return dj(o,e,h,d,g)}function ej(o,e,h){var d=e.pendingProps,g=d.children,_=o!==null?o.memoizedState:null;if(d.mode==="hidden")if((e.mode&1)==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=h;else{if((h&1073741824)==0)return o=_!==null?_.baseLanes|h:h,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:o,cachePool:null,transitions:null},e.updateQueue=null,G(fj,gj),gj|=o,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:h,G(fj,gj),gj|=d}else _!==null?(d=_.baseLanes|h,e.memoizedState=null):d=h,G(fj,gj),gj|=d;return Yi(o,e,g,h),e.child}function hj(o,e){var h=e.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(e.flags|=512,e.flags|=2097152)}function dj(o,e,h,d,g){var _=Zf(h)?Xf:H.current;return _=Yf(e,_),Tg(e,g),h=Xh(o,e,h,d,_,g),d=bi(),o!==null&&!Ug?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~g,$i(o,e,g)):(I&&d&&vg(e),e.flags|=1,Yi(o,e,h,g),e.child)}function ij(o,e,h,d,g){if(Zf(h)){var _=!0;cg(e)}else _=!1;if(Tg(e,g),e.stateNode===null)jj(o,e),ph(e,h,d),rh(e,h,d,g),d=!0;else if(o===null){var b=e.stateNode,$=e.memoizedProps;b.props=$;var j=b.context,_e=h.contextType;typeof _e=="object"&&_e!==null?_e=Vg(_e):(_e=Zf(h)?Xf:H.current,_e=Yf(e,_e));var et=h.getDerivedStateFromProps,rt=typeof et=="function"||typeof b.getSnapshotBeforeUpdate=="function";rt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==d||j!==_e)&&qh(e,b,d,_e),$g=!1;var tt=e.memoizedState;b.state=tt,gh(e,d,b,g),j=e.memoizedState,$!==d||tt!==j||Wf.current||$g?(typeof et=="function"&&(kh(e,h,et,d),j=e.memoizedState),($=$g||oh(e,h,$,d,tt,j,_e))?(rt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(e.flags|=4194308)):(typeof b.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=d,e.memoizedState=j),b.props=d,b.state=j,b.context=_e,d=$):(typeof b.componentDidMount=="function"&&(e.flags|=4194308),d=!1)}else{b=e.stateNode,bh(o,e),$=e.memoizedProps,_e=e.type===e.elementType?$:Lg(e.type,$),b.props=_e,rt=e.pendingProps,tt=b.context,j=h.contextType,typeof j=="object"&&j!==null?j=Vg(j):(j=Zf(h)?Xf:H.current,j=Yf(e,j));var nt=h.getDerivedStateFromProps;(et=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==rt||tt!==j)&&qh(e,b,d,j),$g=!1,tt=e.memoizedState,b.state=tt,gh(e,d,b,g);var st=e.memoizedState;$!==rt||tt!==st||Wf.current||$g?(typeof nt=="function"&&(kh(e,h,nt,d),st=e.memoizedState),(_e=$g||oh(e,h,_e,d,tt,st,j)||!1)?(et||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,st,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,st,j)),typeof b.componentDidUpdate=="function"&&(e.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof b.componentDidUpdate!="function"||$===o.memoizedProps&&tt===o.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&tt===o.memoizedState||(e.flags|=1024),e.memoizedProps=d,e.memoizedState=st),b.props=d,b.state=st,b.context=j,d=_e):(typeof b.componentDidUpdate!="function"||$===o.memoizedProps&&tt===o.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&tt===o.memoizedState||(e.flags|=1024),d=!1)}return kj(o,e,h,d,_,g)}function kj(o,e,h,d,g,_){hj(o,e);var b=(e.flags&128)!=0;if(!d&&!b)return g&&dg(e,h,!1),$i(o,e,_);d=e.stateNode,Xi.current=e;var $=b&&typeof h.getDerivedStateFromError!="function"?null:d.render();return e.flags|=1,o!==null&&b?(e.child=Bh(e,o.child,null,_),e.child=Bh(e,null,$,_)):Yi(o,e,$,_),e.memoizedState=d.state,g&&dg(e,h,!0),e.child}function lj(o){var e=o.stateNode;e.pendingContext?ag(o,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(o,e.context,!1),Ih(o,e.containerInfo)}function mj(o,e,h,d,g){return Ig(),Jg(g),e.flags|=256,Yi(o,e,h,d),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,e,h){var d=e.pendingProps,g=M.current,_=!1,b=(e.flags&128)!=0,$;if(($=b)||($=o!==null&&o.memoizedState===null?!1:(g&2)!=0),$?(_=!0,e.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),G(M,g&1),o===null)return Eg(e),o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((e.mode&1)==0?e.lanes=1:o.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(b=d.children,o=d.fallback,_?(d=e.mode,_=e.child,b={mode:"hidden",children:b},(d&1)==0&&_!==null?(_.childLanes=0,_.pendingProps=b):_=qj(b,d,0,null),o=Ah(o,d,h,null),_.return=e,o.return=e,_.sibling=o,e.child=_,e.child.memoizedState=oj(h),e.memoizedState=nj,o):rj(e,b));if(g=o.memoizedState,g!==null&&($=g.dehydrated,$!==null))return sj(o,e,b,d,$,g,h);if(_){_=d.fallback,b=e.mode,g=o.child,$=g.sibling;var j={mode:"hidden",children:d.children};return(b&1)==0&&e.child!==g?(d=e.child,d.childLanes=0,d.pendingProps=j,e.deletions=null):(d=wh(g,j),d.subtreeFlags=g.subtreeFlags&14680064),$!==null?_=wh($,_):(_=Ah(_,b,h,null),_.flags|=2),_.return=e,d.return=e,d.sibling=_,e.child=d,d=_,_=e.child,b=o.child.memoizedState,b=b===null?oj(h):{baseLanes:b.baseLanes|h,cachePool:null,transitions:b.transitions},_.memoizedState=b,_.childLanes=o.childLanes&~h,e.memoizedState=nj,d}return _=o.child,o=_.sibling,d=wh(_,{mode:"visible",children:d.children}),(e.mode&1)==0&&(d.lanes=h),d.return=e,d.sibling=null,o!==null&&(h=e.deletions,h===null?(e.deletions=[o],e.flags|=16):h.push(o)),e.child=d,e.memoizedState=null,d}function rj(o,e){return e=qj({mode:"visible",children:e},o.mode,0,null),e.return=o,o.child=e}function tj(o,e,h,d){return d!==null&&Jg(d),Bh(e,o.child,null,h),o=rj(e,e.pendingProps.children),o.flags|=2,e.memoizedState=null,o}function sj(o,e,h,d,g,_,b){if(h)return e.flags&256?(e.flags&=-257,d=Li(Error(p$2(422))),tj(o,e,b,d)):e.memoizedState!==null?(e.child=o.child,e.flags|=128,null):(_=d.fallback,g=e.mode,d=qj({mode:"visible",children:d.children},g,0,null),_=Ah(_,g,b,null),_.flags|=2,d.return=e,_.return=e,d.sibling=_,e.child=d,(e.mode&1)!=0&&Bh(e,o.child,null,b),e.child.memoizedState=oj(b),e.memoizedState=nj,_);if((e.mode&1)==0)return tj(o,e,b,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var $=d.dgst;return d=$,_=Error(p$2(419)),d=Li(_,d,void 0),tj(o,e,b,d)}if($=(b&o.childLanes)!=0,Ug||$){if(d=R,d!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|b))!=0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Zg(o,g),mh(d,o,g,-1))}return uj(),d=Li(Error(p$2(421))),tj(o,e,b,d)}return g.data==="$?"?(e.flags|=128,e.child=o.child,e=vj.bind(null,o),g._reactRetry=e,null):(o=_.treeContext,yg=Lf(g.nextSibling),xg=e,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=e),e=rj(e,d.children),e.flags|=4096,e)}function wj(o,e,h){o.lanes|=e;var d=o.alternate;d!==null&&(d.lanes|=e),Sg(o.return,e,h)}function xj(o,e,h,d,g){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:g}:(_.isBackwards=e,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=h,_.tailMode=g)}function yj(o,e,h){var d=e.pendingProps,g=d.revealOrder,_=d.tail;if(Yi(o,e,d.children,h),d=M.current,(d&2)!=0)d=d&1|2,e.flags|=128;else{if(o!==null&&(o.flags&128)!=0)e:for(o=e.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,h,e);else if(o.tag===19)wj(o,h,e);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(G(M,d),(e.mode&1)==0)e.memoizedState=null;else switch(g){case"forwards":for(h=e.child,g=null;h!==null;)o=h.alternate,o!==null&&Mh(o)===null&&(g=h),h=h.sibling;h=g,h===null?(g=e.child,e.child=null):(g=h.sibling,h.sibling=null),xj(e,!1,g,h,_);break;case"backwards":for(h=null,g=e.child,e.child=null;g!==null;){if(o=g.alternate,o!==null&&Mh(o)===null){e.child=g;break}o=g.sibling,g.sibling=h,h=g,g=o}xj(e,!0,h,null,_);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(o,e){(e.mode&1)==0&&o!==null&&(o.alternate=null,e.alternate=null,e.flags|=2)}function $i(o,e,h){if(o!==null&&(e.dependencies=o.dependencies),hh|=e.lanes,(h&e.childLanes)==0)return null;if(o!==null&&e.child!==o.child)throw Error(p$2(153));if(e.child!==null){for(o=e.child,h=wh(o,o.pendingProps),e.child=h,h.return=e;o.sibling!==null;)o=o.sibling,h=h.sibling=wh(o,o.pendingProps),h.return=e;h.sibling=null}return e.child}function zj(o,e,h){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var d=e.type._context,g=e.memoizedProps.value;G(Mg,d._currentValue),d._currentValue=g;break;case 13:if(d=e.memoizedState,d!==null)return d.dehydrated!==null?(G(M,M.current&1),e.flags|=128,null):(h&e.child.childLanes)!=0?pj(o,e,h):(G(M,M.current&1),o=$i(o,e,h),o!==null?o.sibling:null);G(M,M.current&1);break;case 19:if(d=(h&e.childLanes)!=0,(o.flags&128)!=0){if(d)return yj(o,e,h);e.flags|=128}if(g=e.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(M,M.current),d)break;return null;case 22:case 23:return e.lanes=0,ej(o,e,h)}return $i(o,e,h)}var Aj,Bj,Cj,Dj;Aj=function(o,e){for(var h=e.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break;for(;h.sibling===null;){if(h.return===null||h.return===e)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};Bj=function(){};Cj=function(o,e,h,d){var g=o.memoizedProps;if(g!==d){o=e.stateNode,Hh(Eh.current);var _=null;switch(h){case"input":g=Ya(o,g),d=Ya(o,d),_=[];break;case"select":g=A({},g,{value:void 0}),d=A({},d,{value:void 0}),_=[];break;case"textarea":g=gb(o,g),d=gb(o,d),_=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(o.onclick=Bf)}ub(h,d);var b;h=null;for(_e in g)if(!d.hasOwnProperty(_e)&&g.hasOwnProperty(_e)&&g[_e]!=null)if(_e==="style"){var $=g[_e];for(b in $)$.hasOwnProperty(b)&&(h||(h={}),h[b]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?_||(_=[]):(_=_||[]).push(_e,null));for(_e in d){var j=d[_e];if($=g!=null?g[_e]:void 0,d.hasOwnProperty(_e)&&j!==$&&(j!=null||$!=null))if(_e==="style")if($){for(b in $)!$.hasOwnProperty(b)||j&&j.hasOwnProperty(b)||(h||(h={}),h[b]="");for(b in j)j.hasOwnProperty(b)&&$[b]!==j[b]&&(h||(h={}),h[b]=j[b])}else h||(_||(_=[]),_.push(_e,h)),h=j;else _e==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,$=$?$.__html:void 0,j!=null&&$!==j&&(_=_||[]).push(_e,j)):_e==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(_e,""+j):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_e)?(j!=null&&_e==="onScroll"&&D("scroll",o),_||$===j||(_=[])):(_=_||[]).push(_e,j))}h&&(_=_||[]).push("style",h);var _e=_;(e.updateQueue=_e)&&(e.flags|=4)}};Dj=function(o,e,h,d){h!==d&&(e.flags|=4)};function Ej(o,e){if(!I)switch(o.tailMode){case"hidden":e=o.tail;for(var h=null;e!==null;)e.alternate!==null&&(h=e),e=e.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?e||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function S(o){var e=o.alternate!==null&&o.alternate.child===o.child,h=0,d=0;if(e)for(var g=o.child;g!==null;)h|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)h|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=d,o.childLanes=h,e}function Fj(o,e,h){var d=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return d=e.stateNode,Jh(),E(Wf),E(H),Oh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Gg(e)?e.flags|=4:o===null||o.memoizedState.isDehydrated&&(e.flags&256)==0||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,e),S(e),null;case 5:Lh(e);var g=Hh(Gh.current);if(h=e.type,o!==null&&e.stateNode!=null)Cj(o,e,h,d,g),o.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!d){if(e.stateNode===null)throw Error(p$2(166));return S(e),null}if(o=Hh(Eh.current),Gg(e)){d=e.stateNode,h=e.type;var _=e.memoizedProps;switch(d[Of]=e,d[Pf]=_,o=(e.mode&1)!=0,h){case"dialog":D("cancel",d),D("close",d);break;case"iframe":case"object":case"embed":D("load",d);break;case"video":case"audio":for(g=0;g<lf.length;g++)D(lf[g],d);break;case"source":D("error",d);break;case"img":case"image":case"link":D("error",d),D("load",d);break;case"details":D("toggle",d);break;case"input":Za(d,_),D("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},D("invalid",d);break;case"textarea":hb(d,_),D("invalid",d)}ub(h,_),g=null;for(var b in _)if(_.hasOwnProperty(b)){var $=_[b];b==="children"?typeof $=="string"?d.textContent!==$&&(_.suppressHydrationWarning!==!0&&Af(d.textContent,$,o),g=["children",$]):typeof $=="number"&&d.textContent!==""+$&&(_.suppressHydrationWarning!==!0&&Af(d.textContent,$,o),g=["children",""+$]):ea.hasOwnProperty(b)&&$!=null&&b==="onScroll"&&D("scroll",d)}switch(h){case"input":Va(d),db(d,_,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=Bf)}d=g,e.updateQueue=d,d!==null&&(e.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof d.is=="string"?o=b.createElement(h,{is:d.is}):(o=b.createElement(h),h==="select"&&(b=o,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):o=b.createElementNS(o,h),o[Of]=e,o[Pf]=d,Aj(o,e,!1,!1),e.stateNode=o;e:{switch(b=vb(h,d),h){case"dialog":D("cancel",o),D("close",o),g=d;break;case"iframe":case"object":case"embed":D("load",o),g=d;break;case"video":case"audio":for(g=0;g<lf.length;g++)D(lf[g],o);g=d;break;case"source":D("error",o),g=d;break;case"img":case"image":case"link":D("error",o),D("load",o),g=d;break;case"details":D("toggle",o),g=d;break;case"input":Za(o,d),g=Ya(o,d),D("invalid",o);break;case"option":g=d;break;case"select":o._wrapperState={wasMultiple:!!d.multiple},g=A({},d,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,d),g=gb(o,d),D("invalid",o);break;default:g=d}ub(h,g),$=g;for(_ in $)if($.hasOwnProperty(_)){var j=$[_];_==="style"?sb(o,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb(o,j)):_==="children"?typeof j=="string"?(h!=="textarea"||j!=="")&&ob(o,j):typeof j=="number"&&ob(o,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?j!=null&&_==="onScroll"&&D("scroll",o):j!=null&&ta(o,_,j,b))}switch(h){case"input":Va(o),db(o,d,!1);break;case"textarea":Va(o),jb(o);break;case"option":d.value!=null&&o.setAttribute("value",""+Sa(d.value));break;case"select":o.multiple=!!d.multiple,_=d.value,_!=null?fb(o,!!d.multiple,_,!1):d.defaultValue!=null&&fb(o,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=Bf)}switch(h){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(o&&e.stateNode!=null)Dj(o,e,o.memoizedProps,d);else{if(typeof d!="string"&&e.stateNode===null)throw Error(p$2(166));if(h=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(d=e.stateNode,h=e.memoizedProps,d[Of]=e,(_=d.nodeValue!==h)&&(o=xg,o!==null))switch(o.tag){case 3:Af(d.nodeValue,h,(o.mode&1)!=0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,h,(o.mode&1)!=0)}_&&(e.flags|=4)}else d=(h.nodeType===9?h:h.ownerDocument).createTextNode(d),d[Of]=e,e.stateNode=d}return S(e),null;case 13:if(E(M),d=e.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&(e.mode&1)!=0&&(e.flags&128)==0)Hg(),Ig(),e.flags|=98560,_=!1;else if(_=Gg(e),d!==null&&d.dehydrated!==null){if(o===null){if(!_)throw Error(p$2(318));if(_=e.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(p$2(317));_[Of]=e}else Ig(),(e.flags&128)==0&&(e.memoizedState=null),e.flags|=4;S(e),_=!1}else zg!==null&&(Gj(zg),zg=null),_=!0;if(!_)return e.flags&65536?e:null}return(e.flags&128)!=0?(e.lanes=h,e):(d=d!==null,d!==(o!==null&&o.memoizedState!==null)&&d&&(e.child.flags|=8192,(e.mode&1)!=0&&(o===null||(M.current&1)!=0?T===0&&(T=3):uj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return Jh(),Bj(o,e),o===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return Rg(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(M),_=e.memoizedState,_===null)return S(e),null;if(d=(e.flags&128)!=0,b=_.rendering,b===null)if(d)Ej(_,!1);else{if(T!==0||o!==null&&(o.flags&128)!=0)for(o=e.child;o!==null;){if(b=Mh(o),b!==null){for(e.flags|=128,Ej(_,!1),d=b.updateQueue,d!==null&&(e.updateQueue=d,e.flags|=4),e.subtreeFlags=0,d=h,h=e.child;h!==null;)_=h,o=d,_.flags&=14680066,b=_.alternate,b===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=b.childLanes,_.lanes=b.lanes,_.child=b.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=b.memoizedProps,_.memoizedState=b.memoizedState,_.updateQueue=b.updateQueue,_.type=b.type,o=b.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return G(M,M.current&1|2),e.child}o=o.sibling}_.tail!==null&&B()>Hj&&(e.flags|=128,d=!0,Ej(_,!1),e.lanes=4194304)}else{if(!d)if(o=Mh(b),o!==null){if(e.flags|=128,d=!0,h=o.updateQueue,h!==null&&(e.updateQueue=h,e.flags|=4),Ej(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!I)return S(e),null}else 2*B()-_.renderingStartTime>Hj&&h!==1073741824&&(e.flags|=128,d=!0,Ej(_,!1),e.lanes=4194304);_.isBackwards?(b.sibling=e.child,e.child=b):(h=_.last,h!==null?h.sibling=b:e.child=b,_.last=b)}return _.tail!==null?(e=_.tail,_.rendering=e,_.tail=e.sibling,_.renderingStartTime=B(),e.sibling=null,h=M.current,G(M,d?h&1|2:h&1),e):(S(e),null);case 22:case 23:return Ij(),d=e.memoizedState!==null,o!==null&&o.memoizedState!==null!==d&&(e.flags|=8192),d&&(e.mode&1)!=0?(gj&1073741824)!=0&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Jj(o,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 3:return Jh(),E(Wf),E(H),Oh(),o=e.flags,(o&65536)!=0&&(o&128)==0?(e.flags=o&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E(M),o=e.memoizedState,o!==null&&o.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(o,e){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(d){W(o,e,d)}else h.current=null}function Nj(o,e,h){try{h()}catch(d){W(o,e,d)}}var Oj=!1;function Pj(o,e){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var g=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var b=0,$=-1,j=-1,_e=0,et=0,rt=o,tt=null;t:for(;;){for(var nt;rt!==h||g!==0&&rt.nodeType!==3||($=b+g),rt!==_||d!==0&&rt.nodeType!==3||(j=b+d),rt.nodeType===3&&(b+=rt.nodeValue.length),(nt=rt.firstChild)!==null;)tt=rt,rt=nt;for(;;){if(rt===o)break t;if(tt===h&&++_e===g&&($=b),tt===_&&++et===d&&(j=b),(nt=rt.nextSibling)!==null)break;rt=tt,tt=rt.parentNode}rt=nt}h=$===-1||j===-1?null:{start:$,end:j}}else h=null}h=h||{start:0,end:0}}else h=null;for(Df={focusedElem:o,selectionRange:h},dd=!1,V=e;V!==null;)if(e=V,o=e.child,(e.subtreeFlags&1028)!=0&&o!==null)o.return=e,V=o;else for(;V!==null;){e=V;try{var st=e.alternate;if((e.flags&1024)!=0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var at=st.memoizedProps,ct=st.memoizedState,it=e.stateNode,lt=it.getSnapshotBeforeUpdate(e.elementType===e.type?at:Lg(e.type,at),ct);it.__reactInternalSnapshotBeforeUpdate=lt}break;case 3:var ht=e.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(ut){W(e,e.return,ut)}if(o=e.sibling,o!==null){o.return=e.return,V=o;break}V=e.return}return st=Oj,Oj=!1,st}function Qj(o,e,h){var d=e.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&o)===o){var _=g.destroy;g.destroy=void 0,_!==void 0&&Nj(e,h,_)}g=g.next}while(g!==d)}}function Rj(o,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var h=e=e.next;do{if((h.tag&o)===o){var d=h.create;h.destroy=d()}h=h.next}while(h!==e)}}function Sj(o){var e=o.ref;if(e!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof e=="function"?e(o):e.current=o}}function Tj(o){var e=o.alternate;e!==null&&(o.alternate=null,Tj(e)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(e=o.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,e,h){var d=o.tag;if(d===5||d===6)o=o.stateNode,e?h.nodeType===8?h.parentNode.insertBefore(o,e):h.insertBefore(o,e):(h.nodeType===8?(e=h.parentNode,e.insertBefore(o,h)):(e=h,e.appendChild(o)),h=h._reactRootContainer,h!=null||e.onclick!==null||(e.onclick=Bf));else if(d!==4&&(o=o.child,o!==null))for(Wj(o,e,h),o=o.sibling;o!==null;)Wj(o,e,h),o=o.sibling}function Xj(o,e,h){var d=o.tag;if(d===5||d===6)o=o.stateNode,e?h.insertBefore(o,e):h.appendChild(o);else if(d!==4&&(o=o.child,o!==null))for(Xj(o,e,h),o=o.sibling;o!==null;)Xj(o,e,h),o=o.sibling}var X=null,Yj=!1;function Zj(o,e,h){for(h=h.child;h!==null;)ak(o,e,h),h=h.sibling}function ak(o,e,h){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,h)}catch{}switch(h.tag){case 5:U||Mj(h,e);case 6:var d=X,g=Yj;X=null,Zj(o,e,h),X=d,Yj=g,X!==null&&(Yj?(o=X,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):X.removeChild(h.stateNode));break;case 18:X!==null&&(Yj?(o=X,h=h.stateNode,o.nodeType===8?Kf(o.parentNode,h):o.nodeType===1&&Kf(o,h),bd(o)):Kf(X,h.stateNode));break;case 4:d=X,g=Yj,X=h.stateNode.containerInfo,Yj=!0,Zj(o,e,h),X=d,Yj=g;break;case 0:case 11:case 14:case 15:if(!U&&(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var _=g,b=_.destroy;_=_.tag,b!==void 0&&((_&2)!=0||(_&4)!=0)&&Nj(h,e,b),g=g.next}while(g!==d)}Zj(o,e,h);break;case 1:if(!U&&(Mj(h,e),d=h.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch($){W(h,e,$)}Zj(o,e,h);break;case 21:Zj(o,e,h);break;case 22:h.mode&1?(U=(d=U)||h.memoizedState!==null,Zj(o,e,h),U=d):Zj(o,e,h);break;default:Zj(o,e,h)}}function bk(o){var e=o.updateQueue;if(e!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new Lj),e.forEach(function(d){var g=ck.bind(null,o,d);h.has(d)||(h.add(d),d.then(g,g))})}}function dk(o,e){var h=e.deletions;if(h!==null)for(var d=0;d<h.length;d++){var g=h[d];try{var _=o,b=e,$=b;e:for(;$!==null;){switch($.tag){case 5:X=$.stateNode,Yj=!1;break e;case 3:X=$.stateNode.containerInfo,Yj=!0;break e;case 4:X=$.stateNode.containerInfo,Yj=!0;break e}$=$.return}if(X===null)throw Error(p$2(160));ak(_,b,g),X=null,Yj=!1;var j=g.alternate;j!==null&&(j.return=null),g.return=null}catch(_e){W(g,e,_e)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,o),e=e.sibling}function ek(o,e){var h=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(e,o),fk(o),d&4){try{Qj(3,o,o.return),Rj(3,o)}catch(at){W(o,o.return,at)}try{Qj(5,o,o.return)}catch(at){W(o,o.return,at)}}break;case 1:dk(e,o),fk(o),d&512&&h!==null&&Mj(h,h.return);break;case 5:if(dk(e,o),fk(o),d&512&&h!==null&&Mj(h,h.return),o.flags&32){var g=o.stateNode;try{ob(g,"")}catch(at){W(o,o.return,at)}}if(d&4&&(g=o.stateNode,g!=null)){var _=o.memoizedProps,b=h!==null?h.memoizedProps:_,$=o.type,j=o.updateQueue;if(o.updateQueue=null,j!==null)try{$==="input"&&_.type==="radio"&&_.name!=null&&ab(g,_),vb($,b);var _e=vb($,_);for(b=0;b<j.length;b+=2){var et=j[b],rt=j[b+1];et==="style"?sb(g,rt):et==="dangerouslySetInnerHTML"?nb(g,rt):et==="children"?ob(g,rt):ta(g,et,rt,_e)}switch($){case"input":bb(g,_);break;case"textarea":ib(g,_);break;case"select":var tt=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var nt=_.value;nt!=null?fb(g,!!_.multiple,nt,!1):tt!==!!_.multiple&&(_.defaultValue!=null?fb(g,!!_.multiple,_.defaultValue,!0):fb(g,!!_.multiple,_.multiple?[]:"",!1))}g[Pf]=_}catch(at){W(o,o.return,at)}}break;case 6:if(dk(e,o),fk(o),d&4){if(o.stateNode===null)throw Error(p$2(162));g=o.stateNode,_=o.memoizedProps;try{g.nodeValue=_}catch(at){W(o,o.return,at)}}break;case 3:if(dk(e,o),fk(o),d&4&&h!==null&&h.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(at){W(o,o.return,at)}break;case 4:dk(e,o),fk(o);break;case 13:dk(e,o),fk(o),g=o.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(gk=B())),d&4&&bk(o);break;case 22:if(et=h!==null&&h.memoizedState!==null,o.mode&1?(U=(_e=U)||et,dk(e,o),U=_e):dk(e,o),fk(o),d&8192){if(_e=o.memoizedState!==null,(o.stateNode.isHidden=_e)&&!et&&(o.mode&1)!=0)for(V=o,et=o.child;et!==null;){for(rt=V=et;V!==null;){switch(tt=V,nt=tt.child,tt.tag){case 0:case 11:case 14:case 15:Qj(4,tt,tt.return);break;case 1:Mj(tt,tt.return);var st=tt.stateNode;if(typeof st.componentWillUnmount=="function"){d=tt,h=tt.return;try{e=d,st.props=e.memoizedProps,st.state=e.memoizedState,st.componentWillUnmount()}catch(at){W(d,h,at)}}break;case 5:Mj(tt,tt.return);break;case 22:if(tt.memoizedState!==null){hk(rt);continue}}nt!==null?(nt.return=tt,V=nt):hk(rt)}et=et.sibling}e:for(et=null,rt=o;;){if(rt.tag===5){if(et===null){et=rt;try{g=rt.stateNode,_e?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):($=rt.stateNode,j=rt.memoizedProps.style,b=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=rb("display",b))}catch(at){W(o,o.return,at)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=_e?"":rt.memoizedProps}catch(at){W(o,o.return,at)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===o)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===o)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===o)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:dk(e,o),fk(o),d&4&&bk(o);break;case 21:break;default:dk(e,o),fk(o)}}function fk(o){var e=o.flags;if(e&2){try{e:{for(var h=o.return;h!==null;){if(Uj(h)){var d=h;break e}h=h.return}throw Error(p$2(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(ob(g,""),d.flags&=-33);var _=Vj(o);Xj(o,_,g);break;case 3:case 4:var b=d.stateNode.containerInfo,$=Vj(o);Wj(o,$,b);break;default:throw Error(p$2(161))}}catch(j){W(o,o.return,j)}o.flags&=-3}e&4096&&(o.flags&=-4097)}function ik(o,e,h){V=o,jk(o)}function jk(o,e,h){for(var d=(o.mode&1)!=0;V!==null;){var g=V,_=g.child;if(g.tag===22&&d){var b=g.memoizedState!==null||Kj;if(!b){var $=g.alternate,j=$!==null&&$.memoizedState!==null||U;$=Kj;var _e=U;if(Kj=b,(U=j)&&!_e)for(V=g;V!==null;)b=V,j=b.child,b.tag===22&&b.memoizedState!==null?kk(g):j!==null?(j.return=b,V=j):kk(g);for(;_!==null;)V=_,jk(_),_=_.sibling;V=g,Kj=$,U=_e}lk(o)}else(g.subtreeFlags&8772)!=0&&_!==null?(_.return=g,V=_):lk(o)}}function lk(o){for(;V!==null;){var e=V;if((e.flags&8772)!=0){var h=e.alternate;try{if((e.flags&8772)!=0)switch(e.tag){case 0:case 11:case 15:U||Rj(5,e);break;case 1:var d=e.stateNode;if(e.flags&4&&!U)if(h===null)d.componentDidMount();else{var g=e.elementType===e.type?h.memoizedProps:Lg(e.type,h.memoizedProps);d.componentDidUpdate(g,h.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=e.updateQueue;_!==null&&ih(e,_,d);break;case 3:var b=e.updateQueue;if(b!==null){if(h=null,e.child!==null)switch(e.child.tag){case 5:h=e.child.stateNode;break;case 1:h=e.child.stateNode}ih(e,b,h)}break;case 5:var $=e.stateNode;if(h===null&&e.flags&4){h=$;var j=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&h.focus();break;case"img":j.src&&(h.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _e=e.alternate;if(_e!==null){var et=_e.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&bd(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||e.flags&512&&Sj(e)}catch(tt){W(e,e.return,tt)}}if(e===o){V=null;break}if(h=e.sibling,h!==null){h.return=e.return,V=h;break}V=e.return}}function hk(o){for(;V!==null;){var e=V;if(e===o){V=null;break}var h=e.sibling;if(h!==null){h.return=e.return,V=h;break}V=e.return}}function kk(o){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var h=e.return;try{Rj(4,e)}catch(j){W(e,h,j)}break;case 1:var d=e.stateNode;if(typeof d.componentDidMount=="function"){var g=e.return;try{d.componentDidMount()}catch(j){W(e,g,j)}}var _=e.return;try{Sj(e)}catch(j){W(e,_,j)}break;case 5:var b=e.return;try{Sj(e)}catch(j){W(e,b,j)}}}catch(j){W(e,e.return,j)}if(e===o){V=null;break}var $=e.sibling;if($!==null){$.return=e.return,V=$;break}V=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return(K&6)!=0?B():Bk!==-1?Bk:Bk=B()}function lh(o){return(o.mode&1)==0?1:(K&2)!=0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o)}function mh(o,e,h,d){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(o,h,d),((K&2)==0||o!==R)&&(o===R&&((K&2)==0&&(rk|=h),T===4&&Dk(o,Z)),Ek(o,d),h===1&&K===0&&(e.mode&1)==0&&(Hj=B()+500,fg&&jg()))}function Ek(o,e){var h=o.callbackNode;wc(o,e);var d=uc(o,o===R?Z:0);if(d===0)h!==null&&bc(h),o.callbackNode=null,o.callbackPriority=0;else if(e=d&-d,o.callbackPriority!==e){if(h!=null&&bc(h),e===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){(K&6)==0&&jg()}),h=null;else{switch(Dc(d)){case 1:h=fc;break;case 4:h=gc;break;case 16:h=hc;break;case 536870912:h=jc;break;default:h=hc}h=Gk(h,Hk.bind(null,o))}o.callbackPriority=e,o.callbackNode=h}}function Hk(o,e){if(Bk=-1,Ck=0,(K&6)!=0)throw Error(p$2(327));var h=o.callbackNode;if(Ik()&&o.callbackNode!==h)return null;var d=uc(o,o===R?Z:0);if(d===0)return null;if((d&30)!=0||(d&o.expiredLanes)!=0||e)e=Jk(o,d);else{e=d;var g=K;K|=2;var _=Kk();(R!==o||Z!==e)&&(vk=null,Hj=B()+500,Lk(o,e));do try{Mk();break}catch($){Nk(o,$)}while(1);Qg(),nk.current=_,K=g,Y!==null?e=0:(R=null,Z=0,e=T)}if(e!==0){if(e===2&&(g=xc(o),g!==0&&(d=g,e=Ok(o,g))),e===1)throw h=qk,Lk(o,0),Dk(o,d),Ek(o,B()),h;if(e===6)Dk(o,d);else{if(g=o.current.alternate,(d&30)==0&&!Pk(g)&&(e=Jk(o,d),e===2&&(_=xc(o),_!==0&&(d=_,e=Ok(o,_))),e===1))throw h=qk,Lk(o,0),Dk(o,d),Ek(o,B()),h;switch(o.finishedWork=g,o.finishedLanes=d,e){case 0:case 1:throw Error(p$2(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,d),(d&130023424)===d&&(e=gk+500-B(),10<e)){if(uc(o,0)!==0)break;if(g=o.suspendedLanes,(g&d)!==d){L(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),e);break}Qk(o,uk,vk);break;case 4:if(Dk(o,d),(d&4194240)===d)break;for(e=o.eventTimes,g=-1;0<d;){var b=31-oc(d);_=1<<b,b=e[b],b>g&&(g=b),d&=~_}if(d=g,d=B()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*mk(d/1960))-d,10<d){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),d);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(o,B()),o.callbackNode===h?Hk.bind(null,o):null}function Ok(o,e){var h=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,e).flags|=256),o=Jk(o,e),o!==2&&(e=uk,uk=h,e!==null&&Gj(e)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var e=o;;){if(e.flags&16384){var h=e.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var d=0;d<h.length;d++){var g=h[d],_=g.getSnapshot;g=g.value;try{if(!He(_(),g))return!1}catch{return!1}}}if(h=e.child,e.subtreeFlags&16384&&h!==null)h.return=e,e=h;else{if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(o,e){for(e&=~sk,e&=~rk,o.suspendedLanes|=e,o.pingedLanes&=~e,o=o.expirationTimes;0<e;){var h=31-oc(e),d=1<<h;o[h]=-1,e&=~d}}function Fk(o){if((K&6)!=0)throw Error(p$2(327));Ik();var e=uc(o,0);if((e&1)==0)return Ek(o,B()),null;var h=Jk(o,e);if(o.tag!==0&&h===2){var d=xc(o);d!==0&&(e=d,h=Ok(o,d))}if(h===1)throw h=qk,Lk(o,0),Dk(o,e),Ek(o,B()),h;if(h===6)throw Error(p$2(345));return o.finishedWork=o.current.alternate,o.finishedLanes=e,Qk(o,uk,vk),Ek(o,B()),null}function Rk(o,e){var h=K;K|=1;try{return o(e)}finally{K=h,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&(K&6)==0&&Ik();var e=K;K|=1;var h=pk.transition,d=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=d,pk.transition=h,K=e,(K&6)==0&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(o,e){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Gf(h)),Y!==null)for(h=Y.return;h!==null;){var d=h;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}h=h.return}if(R=o,Y=o=wh(o.current,null),Z=gj=e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(h=Wg[e],d=h.interleaved,d!==null){h.interleaved=null;var g=d.next,_=h.pending;if(_!==null){var b=_.next;_.next=g,d.next=b}h.pending=d}Wg=null}return o}function Nk(o,e){do{var h=Y;try{if(Qg(),Ph.current=ai,Sh){for(var d=N.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,h===null||h.return===null){T=1,qk=e,Y=null;break}e:{var _=o,b=h.return,$=h,j=e;if(e=Z,$.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var _e=j,et=$,rt=et.tag;if((et.mode&1)==0&&(rt===0||rt===11||rt===15)){var tt=et.alternate;tt?(et.updateQueue=tt.updateQueue,et.memoizedState=tt.memoizedState,et.lanes=tt.lanes):(et.updateQueue=null,et.memoizedState=null)}var nt=Vi(b);if(nt!==null){nt.flags&=-257,Wi(nt,b,$,_,e),nt.mode&1&&Ti(_,_e,e),e=nt,j=_e;var st=e.updateQueue;if(st===null){var at=new Set;at.add(j),e.updateQueue=at}else st.add(j);break e}else{if((e&1)==0){Ti(_,_e,e),uj();break e}j=Error(p$2(426))}}else if(I&&$.mode&1){var ct=Vi(b);if(ct!==null){(ct.flags&65536)==0&&(ct.flags|=256),Wi(ct,b,$,_,e),Jg(Ki(j,$));break e}}_=j=Ki(j,$),T!==4&&(T=2),tk===null?tk=[_]:tk.push(_),_=b;do{switch(_.tag){case 3:_.flags|=65536,e&=-e,_.lanes|=e;var it=Oi(_,j,e);fh(_,it);break e;case 1:$=j;var lt=_.type,ht=_.stateNode;if((_.flags&128)==0&&(typeof lt.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(Si===null||!Si.has(ht)))){_.flags|=65536,e&=-e,_.lanes|=e;var ut=Ri(_,$,e);fh(_,ut);break e}}_=_.return}while(_!==null)}Tk(h)}catch(dt){e=dt,Y===h&&h!==null&&(Y=h=h.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||(hh&268435455)==0&&(rk&268435455)==0||Dk(R,Z)}function Jk(o,e){var h=K;K|=2;var d=Kk();(R!==o||Z!==e)&&(vk=null,Lk(o,e));do try{Uk();break}catch(g){Nk(o,g)}while(1);if(Qg(),K=h,nk.current=d,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(o){var e=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,e===null?Tk(o):Y=e,ok.current=null}function Tk(o){var e=o;do{var h=e.alternate;if(o=e.return,(e.flags&32768)==0){if(h=Fj(h,e,gj),h!==null){Y=h;return}}else{if(h=Jj(h,e),h!==null){h.flags&=32767,Y=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}if(e=e.sibling,e!==null){Y=e;return}Y=e=o}while(e!==null);T===0&&(T=5)}function Qk(o,e,h){var d=C,g=pk.transition;try{pk.transition=null,C=1,Xk(o,e,h,d)}finally{pk.transition=g,C=d}return null}function Xk(o,e,h,d){do Ik();while(xk!==null);if((K&6)!=0)throw Error(p$2(327));h=o.finishedWork;var g=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(p$2(177));o.callbackNode=null,o.callbackPriority=0;var _=h.lanes|h.childLanes;if(Bc(o,_),o===R&&(Y=R=null,Z=0),(h.subtreeFlags&2064)==0&&(h.flags&2064)==0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_=(h.flags&15990)!=0,(h.subtreeFlags&15990)!=0||_){_=pk.transition,pk.transition=null;var b=C;C=1;var $=K;K|=4,ok.current=null,Pj(o,h),ek(h,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=h,ik(h),dc(),K=$,C=b,pk.transition=_}else o.current=h;if(wk&&(wk=!1,xk=o,yk=g),_=o.pendingLanes,_===0&&(Si=null),mc(h.stateNode),Ek(o,B()),e!==null)for(d=o.onRecoverableError,h=0;h<e.length;h++)g=e[h],d(g.value,{componentStack:g.stack,digest:g.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return(yk&1)!=0&&o.tag!==0&&Ik(),_=o.pendingLanes,(_&1)!=0?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),e=pk.transition,h=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var d=!1;else{if(o=xk,xk=null,yk=0,(K&6)!=0)throw Error(p$2(331));var g=K;for(K|=4,V=o.current;V!==null;){var _=V,b=_.child;if((V.flags&16)!=0){var $=_.deletions;if($!==null){for(var j=0;j<$.length;j++){var _e=$[j];for(V=_e;V!==null;){var et=V;switch(et.tag){case 0:case 11:case 15:Qj(8,et,_)}var rt=et.child;if(rt!==null)rt.return=et,V=rt;else for(;V!==null;){et=V;var tt=et.sibling,nt=et.return;if(Tj(et),et===_e){V=null;break}if(tt!==null){tt.return=nt,V=tt;break}V=nt}}}var st=_.alternate;if(st!==null){var at=st.child;if(at!==null){st.child=null;do{var ct=at.sibling;at.sibling=null,at=ct}while(at!==null)}}V=_}}if((_.subtreeFlags&2064)!=0&&b!==null)b.return=_,V=b;else e:for(;V!==null;){if(_=V,(_.flags&2048)!=0)switch(_.tag){case 0:case 11:case 15:Qj(9,_,_.return)}var it=_.sibling;if(it!==null){it.return=_.return,V=it;break e}V=_.return}}var lt=o.current;for(V=lt;V!==null;){b=V;var ht=b.child;if((b.subtreeFlags&2064)!=0&&ht!==null)ht.return=b,V=ht;else e:for(b=lt;V!==null;){if($=V,($.flags&2048)!=0)try{switch($.tag){case 0:case 11:case 15:Rj(9,$)}}catch(dt){W($,$.return,dt)}if($===b){V=null;break e}var ut=$.sibling;if(ut!==null){ut.return=$.return,V=ut;break e}V=$.return}}if(K=g,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}d=!0}return d}finally{C=h,pk.transition=e}}return!1}function Yk(o,e,h){e=Ki(h,e),e=Oi(o,e,1),o=dh(o,e,1),e=L(),o!==null&&(Ac(o,1,e),Ek(o,e))}function W(o,e,h){if(o.tag===3)Yk(o,o,h);else for(;e!==null;){if(e.tag===3){Yk(e,o,h);break}else if(e.tag===1){var d=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d))){o=Ki(h,o),o=Ri(e,o,1),e=dh(e,o,1),o=L(),e!==null&&(Ac(e,1,o),Ek(e,o));break}}e=e.return}}function Ui(o,e,h){var d=o.pingCache;d!==null&&d.delete(e),e=L(),o.pingedLanes|=o.suspendedLanes&h,R===o&&(Z&h)===h&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(o,0):sk|=h),Ek(o,e)}function Zk(o,e){e===0&&((o.mode&1)==0?e=1:(e=sc,sc<<=1,(sc&130023424)==0&&(sc=4194304)));var h=L();o=Zg(o,e),o!==null&&(Ac(o,e,h),Ek(o,h))}function vj(o){var e=o.memoizedState,h=0;e!==null&&(h=e.retryLane),Zk(o,h)}function ck(o,e){var h=0;switch(o.tag){case 13:var d=o.stateNode,g=o.memoizedState;g!==null&&(h=g.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(p$2(314))}d!==null&&d.delete(e),Zk(o,h)}var Wk;Wk=function(o,e,h){if(o!==null)if(o.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if((o.lanes&h)==0&&(e.flags&128)==0)return Ug=!1,zj(o,e,h);Ug=(o.flags&131072)!=0}else Ug=!1,I&&(e.flags&1048576)!=0&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var d=e.type;jj(o,e),o=e.pendingProps;var g=Yf(e,H.current);Tg(e,h),g=Xh(null,e,d,o,g,h);var _=bi();return e.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(d)?(_=!0,cg(e)):_=!1,e.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ah(e),g.updater=nh,e.stateNode=g,g._reactInternals=e,rh(e,d,o,h),e=kj(null,e,d,!0,_,h)):(e.tag=0,I&&_&&vg(e),Yi(null,e,g,h),e=e.child),e;case 16:d=e.elementType;e:{switch(jj(o,e),o=e.pendingProps,g=d._init,d=g(d._payload),e.type=d,g=e.tag=$k(d),o=Lg(d,o),g){case 0:e=dj(null,e,d,o,h);break e;case 1:e=ij(null,e,d,o,h);break e;case 11:e=Zi(null,e,d,o,h);break e;case 14:e=aj(null,e,d,Lg(d.type,o),h);break e}throw Error(p$2(306,d,""))}return e;case 0:return d=e.type,g=e.pendingProps,g=e.elementType===d?g:Lg(d,g),dj(o,e,d,g,h);case 1:return d=e.type,g=e.pendingProps,g=e.elementType===d?g:Lg(d,g),ij(o,e,d,g,h);case 3:e:{if(lj(e),o===null)throw Error(p$2(387));d=e.pendingProps,_=e.memoizedState,g=_.element,bh(o,e),gh(e,d,null,h);var b=e.memoizedState;if(d=b.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},e.updateQueue.baseState=_,e.memoizedState=_,e.flags&256){g=Ki(Error(p$2(423)),e),e=mj(o,e,d,h,g);break e}else if(d!==g){g=Ki(Error(p$2(424)),e),e=mj(o,e,d,h,g);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,h=Ch(e,null,d,h),e.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ig(),d===g){e=$i(o,e,h);break e}Yi(o,e,d,h)}e=e.child}return e;case 5:return Kh(e),o===null&&Eg(e),d=e.type,g=e.pendingProps,_=o!==null?o.memoizedProps:null,b=g.children,Ef(d,g)?b=null:_!==null&&Ef(d,_)&&(e.flags|=32),hj(o,e),Yi(o,e,b,h),e.child;case 6:return o===null&&Eg(e),null;case 13:return pj(o,e,h);case 4:return Ih(e,e.stateNode.containerInfo),d=e.pendingProps,o===null?e.child=Bh(e,null,d,h):Yi(o,e,d,h),e.child;case 11:return d=e.type,g=e.pendingProps,g=e.elementType===d?g:Lg(d,g),Zi(o,e,d,g,h);case 7:return Yi(o,e,e.pendingProps,h),e.child;case 8:return Yi(o,e,e.pendingProps.children,h),e.child;case 12:return Yi(o,e,e.pendingProps.children,h),e.child;case 10:e:{if(d=e.type._context,g=e.pendingProps,_=e.memoizedProps,b=g.value,G(Mg,d._currentValue),d._currentValue=b,_!==null)if(He(_.value,b)){if(_.children===g.children&&!Wf.current){e=$i(o,e,h);break e}}else for(_=e.child,_!==null&&(_.return=e);_!==null;){var $=_.dependencies;if($!==null){b=_.child;for(var j=$.firstContext;j!==null;){if(j.context===d){if(_.tag===1){j=ch(-1,h&-h),j.tag=2;var _e=_.updateQueue;if(_e!==null){_e=_e.shared;var et=_e.pending;et===null?j.next=j:(j.next=et.next,et.next=j),_e.pending=j}}_.lanes|=h,j=_.alternate,j!==null&&(j.lanes|=h),Sg(_.return,h,e),$.lanes|=h;break}j=j.next}}else if(_.tag===10)b=_.type===e.type?null:_.child;else if(_.tag===18){if(b=_.return,b===null)throw Error(p$2(341));b.lanes|=h,$=b.alternate,$!==null&&($.lanes|=h),Sg(b,h,e),b=_.sibling}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===e){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}Yi(o,e,g.children,h),e=e.child}return e;case 9:return g=e.type,d=e.pendingProps.children,Tg(e,h),g=Vg(g),d=d(g),e.flags|=1,Yi(o,e,d,h),e.child;case 14:return d=e.type,g=Lg(d,e.pendingProps),g=Lg(d.type,g),aj(o,e,d,g,h);case 15:return cj(o,e,e.type,e.pendingProps,h);case 17:return d=e.type,g=e.pendingProps,g=e.elementType===d?g:Lg(d,g),jj(o,e),e.tag=1,Zf(d)?(o=!0,cg(e)):o=!1,Tg(e,h),ph(e,d,g),rh(e,d,g,h),kj(null,e,d,!0,o,h);case 19:return yj(o,e,h);case 22:return ej(o,e,h)}throw Error(p$2(156,e.tag))};function Gk(o,e){return ac(o,e)}function al(o,e,h,d){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,e,h,d){return new al(o,e,h,d)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,e){var h=o.alternate;return h===null?(h=Bg(o.tag,e,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=e,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,e=o.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function yh(o,e,h,d,g,_){var b=2;if(d=o,typeof o=="function")bj(o)&&(b=1);else if(typeof o=="string")b=5;else e:switch(o){case ya:return Ah(h.children,g,_,e);case za:b=8,g|=8;break;case Aa:return o=Bg(12,h,e,g|2),o.elementType=Aa,o.lanes=_,o;case Ea:return o=Bg(13,h,e,g),o.elementType=Ea,o.lanes=_,o;case Fa:return o=Bg(19,h,e,g),o.elementType=Fa,o.lanes=_,o;case Ia:return qj(h,g,_,e);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:b=10;break e;case Ca:b=9;break e;case Da:b=11;break e;case Ga:b=14;break e;case Ha:b=16,d=null;break e}throw Error(p$2(130,o==null?o:typeof o,""))}return e=Bg(b,h,e,g),e.elementType=o,e.type=d,e.lanes=_,e}function Ah(o,e,h,d){return o=Bg(7,o,d,e),o.lanes=h,o}function qj(o,e,h,d){return o=Bg(22,o,d,e),o.elementType=Ia,o.lanes=h,o.stateNode={isHidden:!1},o}function xh(o,e,h){return o=Bg(6,o,null,e),o.lanes=h,o}function zh(o,e,h){return e=Bg(4,o.children!==null?o.children:[],o.key,e),e.lanes=h,e.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},e}function bl(o,e,h,d,g){this.tag=e,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function cl(o,e,h,d,g,_,b,$,j){return o=new bl(o,e,h,$,j),e===1?(e=1,_===!0&&(e|=8)):e=0,_=Bg(3,null,null,e),o.current=_,_.stateNode=o,_.memoizedState={element:d,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_),o}function dl(o,e,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:o,containerInfo:e,implementation:h}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$2(170));var e=o;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(o.tag===1){var h=o.type;if(Zf(h))return bg(o,h,e)}return e}function fl(o,e,h,d,g,_,b,$,j){return o=cl(h,d,!0,o,g,_,b,$,j),o.context=el(null),h=o.current,d=L(),g=lh(h),_=ch(d,g),_.callback=e!=null?e:null,dh(h,_,g),o.current.lanes=g,Ac(o,g,d),Ek(o,d),o}function gl(o,e,h,d){var g=e.current,_=L(),b=lh(g);return h=el(h),e.context===null?e.context=h:e.pendingContext=h,e=ch(_,b),e.payload={element:o},d=d===void 0?null:d,d!==null&&(e.callback=d),o=dh(g,e,b),o!==null&&(mh(o,g,b,_),eh(o,g,b)),b}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,e){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<e?h:e}}function jl(o,e){il(o,e),(o=o.alternate)&&il(o,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var e=this._internalRoot;if(e===null)throw Error(p$2(409));gl(o,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var e=o.containerInfo;Sk(function(){gl(null,o,null,null)}),e[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var e=Hc();o={blockedOn:null,target:o,priority:e};for(var h=0;h<Qc.length&&e!==0&&e<Qc[h].priority;h++);Qc.splice(h,0,o),h===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,e,h,d,g){if(g){if(typeof d=="function"){var _=d;d=function(){var _e=hl(b);_.call(_e)}}var b=fl(e,d,o,0,null,!1,!1,"",ql);return o._reactRootContainer=b,o[uf]=b.current,sf(o.nodeType===8?o.parentNode:o),Sk(),b}for(;g=o.lastChild;)o.removeChild(g);if(typeof d=="function"){var $=d;d=function(){var _e=hl(j);$.call(_e)}}var j=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=j,o[uf]=j.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(e,j,h,d)}),j}function sl(o,e,h,d,g){var _=h._reactRootContainer;if(_){var b=_;if(typeof g=="function"){var $=g;g=function(){var j=hl(b);$.call(j)}}gl(e,b,o,g)}else b=rl(h,e,o,g,d);return hl(b)}Ec=function(o){switch(o.tag){case 3:var e=o.stateNode;if(e.current.memoizedState.isDehydrated){var h=tc(e.pendingLanes);h!==0&&(Cc(e,h|1),Ek(e,B()),(K&6)==0&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var d=Zg(o,1);if(d!==null){var g=L();mh(d,o,1,g)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var e=Zg(o,134217728);if(e!==null){var h=L();mh(e,o,134217728,h)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var e=lh(o),h=Zg(o,e);if(h!==null){var d=L();mh(h,o,e,d)}jl(o,e)}};Hc=function(){return C};Ic=function(o,e){var h=C;try{return C=o,e()}finally{C=h}};yb=function(o,e,h){switch(e){case"input":if(bb(o,h),e=h.name,h.type==="radio"&&e!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<h.length;e++){var d=h[e];if(d!==o&&d.form===o.form){var g=Db(d);if(!g)throw Error(p$2(90));Wa(d),bb(d,g)}}}break;case"textarea":ib(o,h);break;case"select":e=h.value,e!=null&&fb(o,!!h.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,e){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$2(200));return dl(o,e,null,h)};reactDom_production_min.createRoot=function(o,e){if(!ol(o))throw Error(p$2(299));var h=!1,d="",g=ll;return e!=null&&(e.unstable_strictMode===!0&&(h=!0),e.identifierPrefix!==void 0&&(d=e.identifierPrefix),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=cl(o,1,!1,null,null,h,!1,d,g),o[uf]=e.current,sf(o.nodeType===8?o.parentNode:o),new ml(e)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var e=o._reactInternals;if(e===void 0)throw typeof o.render=="function"?Error(p$2(188)):(o=Object.keys(o).join(","),Error(p$2(268,o)));return o=Zb(e),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,e,h){if(!pl(e))throw Error(p$2(200));return sl(null,o,e,!0,h)};reactDom_production_min.hydrateRoot=function(o,e,h){if(!ol(o))throw Error(p$2(405));var d=h!=null&&h.hydratedSources||null,g=!1,_="",b=ll;if(h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(b=h.onRecoverableError)),e=fl(e,null,o,1,h!=null?h:null,g,!1,_,b),o[uf]=e.current,sf(o),d)for(o=0;o<d.length;o++)h=d[o],g=h._getVersion,g=g(h._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[h,g]:e.mutableSourceEagerHydrationData.push(h,g);return new nl(e)};reactDom_production_min.render=function(o,e,h){if(!pl(e))throw Error(p$2(200));return sl(null,o,e,!1,h)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$2(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,e,h,d){if(!pl(h))throw Error(p$2(200));if(o==null||o._reactInternals===void 0)throw Error(p$2(38));return sl(o,e,h,!1,d)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom$1.exports=reactDom_production_min;var reactDom=reactDom$1.exports,ReactDOM=_mergeNamespaces({__proto__:null,default:reactDom},[reactDom$1.exports]),createRoot,m$2=reactDom$1.exports;createRoot=m$2.createRoot,m$2.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var h=arguments[e];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d])}return o},_extends$3.apply(this,arguments)}var Action$1;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function e(d,g){let{pathname:_,search:b,hash:$}=d.location;return createLocation$1("",{pathname:_,search:b,hash:$},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function h(d,g){return typeof g=="string"?g:createPath$1(g)}return getUrlBasedHistory(e,h,null,o)}function invariant$1(o,e){if(o===!1||o===null||typeof o=="undefined")throw new Error(e)}function warning$1(o,e){if(!o){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey$1(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,e){return{usr:o.state,key:o.key,idx:e}}function createLocation$1(o,e,h,d){return h===void 0&&(h=null),_extends$3({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof e=="string"?parsePath$1(e):e,{state:h,key:e&&e.key||d||createKey$1()})}function createPath$1(o){let{pathname:e="/",search:h="",hash:d=""}=o;return h&&h!=="?"&&(e+=h.charAt(0)==="?"?h:"?"+h),d&&d!=="#"&&(e+=d.charAt(0)==="#"?d:"#"+d),e}function parsePath$1(o){let e={};if(o){let h=o.indexOf("#");h>=0&&(e.hash=o.substr(h),o=o.substr(0,h));let d=o.indexOf("?");d>=0&&(e.search=o.substr(d),o=o.substr(0,d)),o&&(e.pathname=o)}return e}function getUrlBasedHistory(o,e,h,d){d===void 0&&(d={});let{window:g=document.defaultView,v5Compat:_=!1}=d,b=g.history,$=Action$1.Pop,j=null,_e=et();_e==null&&(_e=0,b.replaceState(_extends$3({},b.state,{idx:_e}),""));function et(){return(b.state||{idx:null}).idx}function rt(){$=Action$1.Pop;let ct=et(),it=ct==null?null:ct-_e;_e=ct,j&&j({action:$,location:at.location,delta:it})}function tt(ct,it){$=Action$1.Push;let lt=createLocation$1(at.location,ct,it);h&&h(lt,ct),_e=et()+1;let ht=getHistoryState(lt,_e),ut=at.createHref(lt);try{b.pushState(ht,"",ut)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;g.location.assign(ut)}_&&j&&j({action:$,location:at.location,delta:1})}function nt(ct,it){$=Action$1.Replace;let lt=createLocation$1(at.location,ct,it);h&&h(lt,ct),_e=et();let ht=getHistoryState(lt,_e),ut=at.createHref(lt);b.replaceState(ht,"",ut),_&&j&&j({action:$,location:at.location,delta:0})}function st(ct){let it=g.location.origin!=="null"?g.location.origin:g.location.href,lt=typeof ct=="string"?ct:createPath$1(ct);return invariant$1(it,"No window.location.(origin|href) available to create URL for href: "+lt),new URL(lt,it)}let at={get action(){return $},get location(){return o(g,b)},listen(ct){if(j)throw new Error("A history only accepts one active listener");return g.addEventListener(PopStateEventType,rt),j=ct,()=>{g.removeEventListener(PopStateEventType,rt),j=null}},createHref(ct){return e(g,ct)},createURL:st,encodeLocation(ct){let it=st(ct);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:tt,replace:nt,go(ct){return b.go(ct)}};return at}var ResultType$1;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType$1||(ResultType$1={}));function matchRoutes$1(o,e,h){h===void 0&&(h="/");let d=typeof e=="string"?parsePath$1(e):e,g=stripBasename$1(d.pathname||"/",h);if(g==null)return null;let _=flattenRoutes$1(o);rankRouteBranches$1(_);let b=null;for(let $=0;b==null&&$<_.length;++$)b=matchRouteBranch$1(_[$],safelyDecodeURI$1(g));return b}function flattenRoutes$1(o,e,h,d){e===void 0&&(e=[]),h===void 0&&(h=[]),d===void 0&&(d="");let g=(_,b,$)=>{let j={relativePath:$===void 0?_.path||"":$,caseSensitive:_.caseSensitive===!0,childrenIndex:b,route:_};j.relativePath.startsWith("/")&&(invariant$1(j.relativePath.startsWith(d),'Absolute route path "'+j.relativePath+'" nested under path '+('"'+d+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),j.relativePath=j.relativePath.slice(d.length));let _e=joinPaths$1([d,j.relativePath]),et=h.concat(j);_.children&&_.children.length>0&&(invariant$1(_.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_e+'".')),flattenRoutes$1(_.children,e,et,_e)),!(_.path==null&&!_.index)&&e.push({path:_e,score:computeScore$1(_e,_.index),routesMeta:et})};return o.forEach((_,b)=>{var $;if(_.path===""||!(($=_.path)!=null&&$.includes("?")))g(_,b);else for(let j of explodeOptionalSegments$1(_.path))g(_,b,j)}),e}function explodeOptionalSegments$1(o){let e=o.split("/");if(e.length===0)return[];let[h,...d]=e,g=h.endsWith("?"),_=h.replace(/\?$/,"");if(d.length===0)return g?[_,""]:[_];let b=explodeOptionalSegments$1(d.join("/")),$=[];return $.push(...b.map(j=>j===""?_:[_,j].join("/"))),g&&$.push(...b),$.map(j=>o.startsWith("/")&&j===""?"/":j)}function rankRouteBranches$1(o){o.sort((e,h)=>e.score!==h.score?h.score-e.score:compareIndexes$1(e.routesMeta.map(d=>d.childrenIndex),h.routesMeta.map(d=>d.childrenIndex)))}const paramRe$1=/^:\w+$/,dynamicSegmentValue$1=3,indexRouteValue$1=2,emptySegmentValue$1=1,staticSegmentValue$1=10,splatPenalty$1=-2,isSplat$1=o=>o==="*";function computeScore$1(o,e){let h=o.split("/"),d=h.length;return h.some(isSplat$1)&&(d+=splatPenalty$1),e&&(d+=indexRouteValue$1),h.filter(g=>!isSplat$1(g)).reduce((g,_)=>g+(paramRe$1.test(_)?dynamicSegmentValue$1:_===""?emptySegmentValue$1:staticSegmentValue$1),d)}function compareIndexes$1(o,e){return o.length===e.length&&o.slice(0,-1).every((d,g)=>d===e[g])?o[o.length-1]-e[e.length-1]:0}function matchRouteBranch$1(o,e){let{routesMeta:h}=o,d={},g="/",_=[];for(let b=0;b<h.length;++b){let $=h[b],j=b===h.length-1,_e=g==="/"?e:e.slice(g.length)||"/",et=matchPath$1({path:$.relativePath,caseSensitive:$.caseSensitive,end:j},_e);if(!et)return null;Object.assign(d,et.params);let rt=$.route;_.push({params:d,pathname:joinPaths$1([g,et.pathname]),pathnameBase:normalizePathname$1(joinPaths$1([g,et.pathnameBase])),route:rt}),et.pathnameBase!=="/"&&(g=joinPaths$1([g,et.pathnameBase]))}return _}function matchPath$1(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[h,d]=compilePath$1(o.path,o.caseSensitive,o.end),g=e.match(h);if(!g)return null;let _=g[0],b=_.replace(/(.)\/+$/,"$1"),$=g.slice(1);return{params:d.reduce((_e,et,rt)=>{let{paramName:tt,isOptional:nt}=et;if(tt==="*"){let at=$[rt]||"";b=_.slice(0,_.length-at.length).replace(/(.)\/+$/,"$1")}const st=$[rt];return nt&&!st?_e[tt]=void 0:_e[tt]=safelyDecodeURIComponent$1(st||"",tt),_e},{}),pathname:_,pathnameBase:b,pattern:o}}function compilePath$1(o,e,h){e===void 0&&(e=!1),h===void 0&&(h=!0),warning$1(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let d=[],g="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(b,$,j)=>(d.push({paramName:$,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(d.push({paramName:"*"}),g+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?g+="\\/*$":o!==""&&o!=="/"&&(g+="(?:(?=\\/|$))"),[new RegExp(g,e?void 0:"i"),d]}function safelyDecodeURI$1(o){try{return decodeURI(o)}catch(e){return warning$1(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),o}}function safelyDecodeURIComponent$1(o,e){try{return decodeURIComponent(o)}catch(h){return warning$1(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+h+").")),o}}function stripBasename$1(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let h=e.endsWith("/")?e.length-1:e.length,d=o.charAt(h);return d&&d!=="/"?null:o.slice(h)||"/"}const joinPaths$1=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname$1=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse$1(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr$1=["post","put","patch","delete"];[...validMutationMethodsArr$1];/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var h=arguments[e];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d])}return o},_extends$2.apply(this,arguments)}const DataRouterContext$1=react.exports.createContext(null),DataRouterStateContext$1=react.exports.createContext(null),NavigationContext$1=react.exports.createContext(null),LocationContext$1=react.exports.createContext(null),RouteContext$1=react.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext$1=react.exports.createContext(null);function useInRouterContext$1(){return react.exports.useContext(LocationContext$1)!=null}function useLocation$1(){return useInRouterContext$1()||invariant$1(!1),react.exports.useContext(LocationContext$1).location}function useRoutes$1(o,e){return useRoutesImpl$1(o,e)}function useRoutesImpl$1(o,e,h,d){useInRouterContext$1()||invariant$1(!1);let{navigator:g}=react.exports.useContext(NavigationContext$1),{matches:_}=react.exports.useContext(RouteContext$1),b=_[_.length-1],$=b?b.params:{};b&&b.pathname;let j=b?b.pathnameBase:"/";b&&b.route;let _e=useLocation$1(),et;if(e){var rt;let ct=typeof e=="string"?parsePath$1(e):e;j==="/"||((rt=ct.pathname)==null?void 0:rt.startsWith(j))||invariant$1(!1),et=ct}else et=_e;let tt=et.pathname||"/",nt=j==="/"?tt:tt.slice(j.length)||"/",st=matchRoutes$1(o,{pathname:nt}),at=_renderMatches$1(st&&st.map(ct=>Object.assign({},ct,{params:Object.assign({},$,ct.params),pathname:joinPaths$1([j,g.encodeLocation?g.encodeLocation(ct.pathname).pathname:ct.pathname]),pathnameBase:ct.pathnameBase==="/"?j:joinPaths$1([j,g.encodeLocation?g.encodeLocation(ct.pathnameBase).pathname:ct.pathnameBase])})),_,h,d);return e&&at?react.exports.createElement(LocationContext$1.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},et),navigationType:Action$1.Pop}},at):at}function DefaultErrorComponent$1(){let o=useRouteError$1(),e=isRouteErrorResponse$1(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),h=o instanceof Error?o.stack:null,g={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},_=null;return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("h2",null,"Unexpected Application Error!"),react.exports.createElement("h3",{style:{fontStyle:"italic"}},e),h?react.exports.createElement("pre",{style:g},h):null,_)}const defaultErrorElement$1=react.exports.createElement(DefaultErrorComponent$1,null);class RenderErrorBoundary$1 extends react.exports.Component{constructor(e){super(e);this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,h){return h.location!==e.location||h.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:h.error,location:h.location,revalidation:e.revalidation||h.revalidation}}componentDidCatch(e,h){console.error("React Router caught the following error during render",e,h)}render(){return this.state.error!==void 0?react.exports.createElement(RouteContext$1.Provider,{value:this.props.routeContext},react.exports.createElement(RouteErrorContext$1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute$1(o){let{routeContext:e,match:h,children:d}=o,g=react.exports.useContext(DataRouterContext$1);return g&&g.static&&g.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=h.route.id),react.exports.createElement(RouteContext$1.Provider,{value:e},d)}function _renderMatches$1(o,e,h,d){var g;if(e===void 0&&(e=[]),h===void 0&&(h=null),d===void 0&&(d=null),o==null){var _;if((_=h)!=null&&_.errors)o=h.matches;else return null}let b=o,$=(g=h)==null?void 0:g.errors;if($!=null){let et=b.findIndex(rt=>rt.route.id&&($==null?void 0:$[rt.route.id]));et>=0||invariant$1(!1),b=b.slice(0,Math.min(b.length,et+1))}let j=!1,_e=-1;if(h&&d&&d.v7_partialHydration)for(let et=0;et<b.length;et++){let rt=b[et];if((rt.route.HydrateFallback||rt.route.hydrateFallbackElement)&&(_e=et),rt.route.loader&&rt.route.id&&h.loaderData[rt.route.id]===void 0&&(!h.errors||h.errors[rt.route.id]===void 0)){j=!0,_e>=0?b=b.slice(0,_e+1):b=[b[0]];break}}return b.reduceRight((et,rt,tt)=>{let nt,st=!1,at=null,ct=null;h&&(nt=$&&rt.route.id?$[rt.route.id]:void 0,at=rt.route.errorElement||defaultErrorElement$1,j&&(_e<0&&tt===0?(warningOnce$1("route-fallback",!1),st=!0,ct=null):_e===tt&&(st=!0,ct=rt.route.hydrateFallbackElement||null)));let it=e.concat(b.slice(0,tt+1)),lt=()=>{let ht;return nt?ht=at:st?ht=ct:rt.route.Component?ht=react.exports.createElement(rt.route.Component,null):rt.route.element?ht=rt.route.element:ht=et,react.exports.createElement(RenderedRoute$1,{match:rt,routeContext:{outlet:et,matches:it,isDataRoute:h!=null},children:ht})};return h&&(rt.route.ErrorBoundary||rt.route.errorElement||tt===0)?react.exports.createElement(RenderErrorBoundary$1,{location:h.location,revalidation:h.revalidation,component:at,error:nt,children:lt(),routeContext:{outlet:null,matches:it,isDataRoute:!0}}):lt()},null)}var DataRouterStateHook$2=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$2||{});function useDataRouterState$1(o){let e=react.exports.useContext(DataRouterStateContext$1);return e||invariant$1(!1),e}function useRouteContext$1(o){let e=react.exports.useContext(RouteContext$1);return e||invariant$1(!1),e}function useCurrentRouteId$1(o){let e=useRouteContext$1(),h=e.matches[e.matches.length-1];return h.route.id||invariant$1(!1),h.route.id}function useRouteError$1(){var o;let e=react.exports.useContext(RouteErrorContext$1),h=useDataRouterState$1(DataRouterStateHook$2.UseRouteError),d=useCurrentRouteId$1(DataRouterStateHook$2.UseRouteError);return e!==void 0?e:(o=h.errors)==null?void 0:o[d]}const alreadyWarned$1={};function warningOnce$1(o,e,h){!e&&!alreadyWarned$1[o]&&(alreadyWarned$1[o]=!0)}const START_TRANSITION$2="startTransition";React$1[START_TRANSITION$2];function Route$1(o){invariant$1(!1)}function Router$1(o){let{basename:e="/",children:h=null,location:d,navigationType:g=Action$1.Pop,navigator:_,static:b=!1,future:$}=o;useInRouterContext$1()&&invariant$1(!1);let j=e.replace(/^\/*/,"/"),_e=react.exports.useMemo(()=>({basename:j,navigator:_,static:b,future:_extends$2({v7_relativeSplatPath:!1},$)}),[j,$,_,b]);typeof d=="string"&&(d=parsePath$1(d));let{pathname:et="/",search:rt="",hash:tt="",state:nt=null,key:st="default"}=d,at=react.exports.useMemo(()=>{let ct=stripBasename$1(et,j);return ct==null?null:{location:{pathname:ct,search:rt,hash:tt,state:nt,key:st},navigationType:g}},[j,et,rt,tt,nt,st,g]);return at==null?null:react.exports.createElement(NavigationContext$1.Provider,{value:_e},react.exports.createElement(LocationContext$1.Provider,{children:h,value:at}))}function Routes$1(o){let{children:e,location:h}=o;return useRoutes$1(createRoutesFromChildren$1(e),h)}new Promise(()=>{});function createRoutesFromChildren$1(o,e){e===void 0&&(e=[]);let h=[];return react.exports.Children.forEach(o,(d,g)=>{if(!react.exports.isValidElement(d))return;let _=[...e,g];if(d.type===react.exports.Fragment){h.push.apply(h,createRoutesFromChildren$1(d.props.children,_));return}d.type!==Route$1&&invariant$1(!1),!d.props.index||!d.props.children||invariant$1(!1);let b={id:d.props.id||_.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(b.children=createRoutesFromChildren$1(d.props.children,_)),h.push(b)}),h}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const START_TRANSITION$1="startTransition",startTransitionImpl$1=React$1[START_TRANSITION$1],FLUSH_SYNC="flushSync";ReactDOM[FLUSH_SYNC];function BrowserRouter(o){let{basename:e,children:h,future:d,window:g}=o,_=react.exports.useRef();_.current==null&&(_.current=createBrowserHistory({window:g,v5Compat:!0}));let b=_.current,[$,j]=react.exports.useState({action:b.action,location:b.location}),{v7_startTransition:_e}=d||{},et=react.exports.useCallback(rt=>{_e&&startTransitionImpl$1?startTransitionImpl$1(()=>j(rt)):j(rt)},[j,_e]);return react.exports.useLayoutEffect(()=>b.listen(et),[b,et]),react.exports.createElement(Router$1,{basename:e,children:h,location:$.location,navigationType:$.action,navigator:b,future:d})}var DataRouterHook$1;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(o,e){(function(){var h,d="4.17.21",g=200,_="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",$="Invalid `variable` option passed into `_.template`",j="__lodash_hash_undefined__",_e=500,et="__lodash_placeholder__",rt=1,tt=2,nt=4,st=1,at=2,ct=1,it=2,lt=4,ht=8,ut=16,dt=32,pt=64,mt=128,yt=256,xt=512,Tt=30,_t="...",Mt=800,Lt=16,Pt=1,It=2,Et=3,Ct=1/0,St=9007199254740991,At=17976931348623157e292,Rt=0/0,Ot=4294967295,Gt=Ot-1,Qt=Ot>>>1,ir=[["ary",mt],["bind",ct],["bindKey",it],["curry",ht],["curryRight",ut],["flip",xt],["partial",dt],["partialRight",pt],["rearg",yt]],tr="[object Arguments]",Wt="[object Array]",wr="[object AsyncFunction]",Lr="[object Boolean]",Er="[object Date]",Ar="[object DOMException]",yr="[object Error]",Yt="[object Function]",Xt="[object GeneratorFunction]",ur="[object Map]",br="[object Number]",_r="[object Null]",Pr="[object Object]",Or="[object Promise]",Nr="[object Proxy]",an="[object RegExp]",$t="[object Set]",kt="[object String]",hr="[object Symbol]",vr="[object Undefined]",Ir="[object WeakMap]",Dr="[object WeakSet]",Gr="[object ArrayBuffer]",mr="[object DataView]",Wr="[object Float32Array]",Qr="[object Float64Array]",qr="[object Int8Array]",zr="[object Int16Array]",Kt="[object Int32Array]",Br="[object Uint8Array]",cr="[object Uint8ClampedArray]",ar="[object Uint16Array]",pr="[object Uint32Array]",rr=/\b__p \+= '';/g,ln=/\b(__p \+=) '' \+/g,wn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kn=/&(?:amp|lt|gt|quot|#39);/g,Fn=/[&<>"']/g,er=RegExp(Kn.source),sr=RegExp(Fn.source),gr=/<%-([\s\S]+?)%>/g,Fr=/<%([\s\S]+?)%>/g,jr=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,en=/^\w*$/,Jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xr=/[\\^$.*+?()[\]{}|]/g,bn=RegExp(Xr.source),Ut=/^\s+/,Zt=/\s/,lr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,or=/\{\n\/\* \[wrapped with (.+)\] \*/,xr=/,? & /,Vr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rn=/[()=,{}\[\]\/\s]/,_n=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xn=/\w*$/,un=/^[-+]0x[0-9a-f]+$/i,Sn=/^0b[01]+$/i,$n=/^\[object .+?Constructor\]$/,vs=/^0o[0-7]+$/i,os=/^(?:0|[1-9]\d*)$/,On=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vn=/($^)/,Yr=/['\n\r\u2028\u2029\\]/g,jn="\\ud800-\\udfff",Mn="\\u0300-\\u036f",Ts="\\ufe20-\\ufe2f",ds="\\u20d0-\\u20ff",Ys=Mn+Ts+ds,ho="\\u2700-\\u27bf",Qn="a-z\\xdf-\\xf6\\xf8-\\xff",Xs="\\xac\\xb1\\xd7\\xf7",Ps="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ys="\\u2000-\\u206f",Rl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ku="A-Z\\xc0-\\xd6\\xd8-\\xde",_o="\\ufe0e\\ufe0f",Ho=Xs+Ps+ys+Rl,zo="['\u2019]",Bu="["+jn+"]",$u="["+Ho+"]",Il="["+Ys+"]",iu="\\d+",Pp="["+ho+"]",su="["+Qn+"]",Uu="[^"+jn+Ho+iu+ho+Qn+ku+"]",Wo="\\ud83c[\\udffb-\\udfff]",Ll="(?:"+Il+"|"+Wo+")",Gu="[^"+jn+"]",Ol="(?:\\ud83c[\\udde6-\\uddff]){2}",jo="[\\ud800-\\udbff][\\udc00-\\udfff]",Zr="["+ku+"]",zt="\\u200d",xo="(?:"+su+"|"+Uu+")",au="(?:"+Zr+"|"+Uu+")",Vu="(?:"+zo+"(?:d|ll|m|re|s|t|ve))?",Hu="(?:"+zo+"(?:D|LL|M|RE|S|T|VE))?",qn=Ll+"?",cn="["+_o+"]?",ou="(?:"+zt+"(?:"+[Gu,Ol,jo].join("|")+")"+cn+qn+")*",Rp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wu=cn+qn+ou,ps="(?:"+[Pp,Ol,jo].join("|")+")"+Wu,Ip="(?:"+[Gu+Il+"?",Il,Ol,jo,Bu].join("|")+")",Us=RegExp(zo,"g"),ju=RegExp(Il,"g"),Dl=RegExp(Wo+"(?="+Wo+")|"+Ip+Wu,"g"),Lp=RegExp([Zr+"?"+su+"+"+Vu+"(?="+[$u,Zr,"$"].join("|")+")",au+"+"+Hu+"(?="+[$u,Zr+xo,"$"].join("|")+")",Zr+"?"+xo+"+"+Vu,Zr+"+"+Hu,zu,Rp,iu,ps].join("|"),"g"),Op=RegExp("["+zt+jn+Ys+_o+"]"),Im=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,So=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dp=-1,Un={};Un[Wr]=Un[Qr]=Un[qr]=Un[zr]=Un[Kt]=Un[Br]=Un[cr]=Un[ar]=Un[pr]=!0,Un[tr]=Un[Wt]=Un[Gr]=Un[Lr]=Un[mr]=Un[Er]=Un[yr]=Un[Yt]=Un[ur]=Un[br]=Un[Pr]=Un[an]=Un[$t]=Un[kt]=Un[Ir]=!1;var zn={};zn[tr]=zn[Wt]=zn[Gr]=zn[mr]=zn[Lr]=zn[Er]=zn[Wr]=zn[Qr]=zn[qr]=zn[zr]=zn[Kt]=zn[ur]=zn[br]=zn[Pr]=zn[an]=zn[$t]=zn[kt]=zn[hr]=zn[Br]=zn[cr]=zn[ar]=zn[pr]=!0,zn[yr]=zn[Yt]=zn[Ir]=!1;var Yu={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Xu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fp=parseFloat,To=parseInt,Yo=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Fl=typeof self=="object"&&self&&self.Object===Object&&self,Tn=Yo||Fl||Function("return this")(),Eo=e&&!e.nodeType&&e,qs=Eo&&!0&&o&&!o.nodeType&&o,Nl=qs&&qs.exports===Eo,Zs=Nl&&Yo.process,Es=function(){try{var Jt=qs&&qs.require&&qs.require("util").types;return Jt||Zs&&Zs.binding&&Zs.binding("util")}catch{}}(),Gs=Es&&Es.isArrayBuffer,Bl=Es&&Es.isDate,Zu=Es&&Es.isMap,uu=Es&&Es.isRegExp,wo=Es&&Es.isSet,Ku=Es&&Es.isTypedArray;function ws(Jt,Sr,fr){switch(fr.length){case 0:return Jt.call(Sr);case 1:return Jt.call(Sr,fr[0]);case 2:return Jt.call(Sr,fr[0],fr[1]);case 3:return Jt.call(Sr,fr[0],fr[1],fr[2])}return Jt.apply(Sr,fr)}function Qu(Jt,Sr,fr,Hr){for(var yn=-1,Nn=Jt==null?0:Jt.length;++yn<Nn;){var ns=Jt[yn];Sr(Hr,ns,fr(ns),Jt)}return Hr}function bs(Jt,Sr){for(var fr=-1,Hr=Jt==null?0:Jt.length;++fr<Hr&&Sr(Jt[fr],fr,Jt)!==!1;);return Jt}function Np(Jt,Sr){for(var fr=Jt==null?0:Jt.length;fr--&&Sr(Jt[fr],fr,Jt)!==!1;);return Jt}function kp(Jt,Sr){for(var fr=-1,Hr=Jt==null?0:Jt.length;++fr<Hr;)if(!Sr(Jt[fr],fr,Jt))return!1;return!0}function $a(Jt,Sr){for(var fr=-1,Hr=Jt==null?0:Jt.length,yn=0,Nn=[];++fr<Hr;){var ns=Jt[fr];Sr(ns,fr,Jt)&&(Nn[yn++]=ns)}return Nn}function bo(Jt,Sr){var fr=Jt==null?0:Jt.length;return!!fr&&Ks(Jt,Sr,0)>-1}function eo(Jt,Sr,fr){for(var Hr=-1,yn=Jt==null?0:Jt.length;++Hr<yn;)if(fr(Sr,Jt[Hr]))return!0;return!1}function Wn(Jt,Sr){for(var fr=-1,Hr=Jt==null?0:Jt.length,yn=Array(Hr);++fr<Hr;)yn[fr]=Sr(Jt[fr],fr,Jt);return yn}function Yn(Jt,Sr){for(var fr=-1,Hr=Sr.length,yn=Jt.length;++fr<Hr;)Jt[yn+fr]=Sr[fr];return Jt}function Ju(Jt,Sr,fr,Hr){var yn=-1,Nn=Jt==null?0:Jt.length;for(Hr&&Nn&&(fr=Jt[++yn]);++yn<Nn;)fr=Sr(fr,Jt[yn],yn,Jt);return fr}function Bp(Jt,Sr,fr,Hr){var yn=Jt==null?0:Jt.length;for(Hr&&yn&&(fr=Jt[--yn]);yn--;)fr=Sr(fr,Jt[yn],yn,Jt);return fr}function _h(Jt,Sr){for(var fr=-1,Hr=Jt==null?0:Jt.length;++fr<Hr;)if(Sr(Jt[fr],fr,Jt))return!0;return!1}var Mo=hu("length");function $p(Jt){return Jt.split("")}function Up(Jt){return Jt.match(Vr)||[]}function Gp(Jt,Sr,fr){var Hr;return fr(Jt,function(yn,Nn,ns){if(Sr(yn,Nn,ns))return Hr=Nn,!1}),Hr}function Xo(Jt,Sr,fr,Hr){for(var yn=Jt.length,Nn=fr+(Hr?1:-1);Hr?Nn--:++Nn<yn;)if(Sr(Jt[Nn],Nn,Jt))return Nn;return-1}function Ks(Jt,Sr,fr){return Sr===Sr?Dm(Jt,Sr,fr):Xo(Jt,Co,fr)}function _f(Jt,Sr,fr,Hr){for(var yn=fr-1,Nn=Jt.length;++yn<Nn;)if(Hr(Jt[yn],Sr))return yn;return-1}function Co(Jt){return Jt!==Jt}function cu(Jt,Sr){var fr=Jt==null?0:Jt.length;return fr?$l(Jt,Sr)/fr:Rt}function hu(Jt){return function(Sr){return Sr==null?h:Sr[Jt]}}function _d(Jt){return function(Sr){return Jt==null?h:Jt[Sr]}}function ep(Jt,Sr,fr,Hr,yn){return yn(Jt,function(Nn,ns,Vn){fr=Hr?(Hr=!1,Nn):Sr(fr,Nn,ns,Vn)}),fr}function Lm(Jt,Sr){var fr=Jt.length;for(Jt.sort(Sr);fr--;)Jt[fr]=Jt[fr].value;return Jt}function $l(Jt,Sr){for(var fr,Hr=-1,yn=Jt.length;++Hr<yn;){var Nn=Sr(Jt[Hr]);Nn!==h&&(fr=fr===h?Nn:fr+Nn)}return fr}function Ul(Jt,Sr){for(var fr=-1,Hr=Array(Jt);++fr<Jt;)Hr[fr]=Sr(fr);return Hr}function tp(Jt,Sr){return Wn(Sr,function(fr){return[fr,Jt[fr]]})}function fu(Jt){return Jt&&Jt.slice(0,vu(Jt)+1).replace(Ut,"")}function _s(Jt){return function(Sr){return Jt(Sr)}}function Ao(Jt,Sr){return Wn(Sr,function(fr){return Jt[fr]})}function Po(Jt,Sr){return Jt.has(Sr)}function Vp(Jt,Sr){for(var fr=-1,Hr=Jt.length;++fr<Hr&&Ks(Sr,Jt[fr],0)>-1;);return fr}function rp(Jt,Sr){for(var fr=Jt.length;fr--&&Ks(Sr,Jt[fr],0)>-1;);return fr}function qo(Jt,Sr){for(var fr=Jt.length,Hr=0;fr--;)Jt[fr]===Sr&&++Hr;return Hr}var Hp=_d(Yu),du=_d(Xu);function np(Jt){return"\\"+qu[Jt]}function zp(Jt,Sr){return Jt==null?h:Jt[Sr]}function Ro(Jt){return Op.test(Jt)}function pu(Jt){return Im.test(Jt)}function ip(Jt){for(var Sr,fr=[];!(Sr=Jt.next()).done;)fr.push(Sr.value);return fr}function mu(Jt){var Sr=-1,fr=Array(Jt.size);return Jt.forEach(function(Hr,yn){fr[++Sr]=[yn,Hr]}),fr}function gu(Jt,Sr){return function(fr){return Jt(Sr(fr))}}function ro(Jt,Sr){for(var fr=-1,Hr=Jt.length,yn=0,Nn=[];++fr<Hr;){var ns=Jt[fr];(ns===Sr||ns===et)&&(Jt[fr]=et,Nn[yn++]=fr)}return Nn}function Zo(Jt){var Sr=-1,fr=Array(Jt.size);return Jt.forEach(function(Hr){fr[++Sr]=Hr}),fr}function Om(Jt){var Sr=-1,fr=Array(Jt.size);return Jt.forEach(function(Hr){fr[++Sr]=[Hr,Hr]}),fr}function Dm(Jt,Sr,fr){for(var Hr=fr-1,yn=Jt.length;++Hr<yn;)if(Jt[Hr]===Sr)return Hr;return-1}function sp(Jt,Sr,fr){for(var Hr=fr+1;Hr--;)if(Jt[Hr]===Sr)return Hr;return Hr}function tn(Jt){return Ro(Jt)?yu(Jt):Mo(Jt)}function Rs(Jt){return Ro(Jt)?Wp(Jt):$p(Jt)}function vu(Jt){for(var Sr=Jt.length;Sr--&&Zt.test(Jt.charAt(Sr)););return Sr}var Qs=_d(lu);function yu(Jt){for(var Sr=Dl.lastIndex=0;Dl.test(Jt);)++Sr;return Sr}function Wp(Jt){return Jt.match(Dl)||[]}function jp(Jt){return Jt.match(Lp)||[]}var Io=function Jt(Sr){Sr=Sr==null?Tn:Js.defaults(Tn.Object(),Sr,Js.pick(Tn,So));var fr=Sr.Array,Hr=Sr.Date,yn=Sr.Error,Nn=Sr.Function,ns=Sr.Math,Vn=Sr.Object,_u=Sr.RegExp,Yp=Sr.String,Ms=Sr.TypeError,Vs=fr.prototype,xu=Nn.prototype,Ko=Vn.prototype,Su=Sr["__core-js_shared__"],Gl=xu.toString,Bn=Ko.hasOwnProperty,ap=0,Tu=function(){var ot=/[^.]+$/.exec(Su&&Su.keys&&Su.keys.IE_PROTO||"");return ot?"Symbol(src)_1."+ot:""}(),Vl=Ko.toString,Hl=Gl.call(Vn),Qo=Tn._,Eu=_u("^"+Gl.call(Bn).replace(Xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zl=Nl?Sr.Buffer:h,no=Sr.Symbol,Lo=Sr.Uint8Array,wu=zl?zl.allocUnsafe:h,io=gu(Vn.getPrototypeOf,Vn),Wl=Vn.create,Jo=Ko.propertyIsEnumerable,Oo=Vs.splice,yl=no?no.isConcatSpreadable:h,fo=no?no.iterator:h,ls=no?no.toStringTag:h,po=function(){try{var ot=tu(Vn,"defineProperty");return ot({},"",{}),ot}catch{}}(),Yl=Sr.clearTimeout!==Tn.clearTimeout&&Sr.clearTimeout,bu=Hr&&Hr.now!==Tn.Date.now&&Hr.now,Xp=Sr.setTimeout!==Tn.setTimeout&&Sr.setTimeout,_l=ns.ceil,Xl=ns.floor,Zl=Vn.getOwnPropertySymbols,qp=zl?zl.isBuffer:h,Mu=Sr.isFinite,op=Vs.join,lp=gu(Vn.keys,Vn),es=ns.max,us=ns.min,Kl=Hr.now,Fm=Sr.parseInt,up=ns.random,Zp=Vs.reverse,cp=tu(Sr,"DataView"),Ql=tu(Sr,"Map"),hp=tu(Sr,"Promise"),Do=tu(Sr,"Set"),Fo=tu(Sr,"WeakMap"),xl=tu(Vn,"create"),so=Fo&&new Fo,mo={},Sl=ru(cp),Kp=ru(Ql),Qp=ru(hp),Jl=ru(Do),fp=ru(Fo),Cu=no?no.prototype:h,Tl=Cu?Cu.valueOf:h,dp=Cu?Cu.toString:h;function Nt(ot){if(rs(ot)&&!En(ot)&&!(ot instanceof In)){if(ot instanceof Cs)return ot;if(Bn.call(ot,"__wrapped__"))return wy(ot)}return new Cs(ot)}var go=function(){function ot(){}return function(ft){if(!_i(ft))return{};if(Wl)return Wl(ft);ot.prototype=ft;var gt=new ot;return ot.prototype=h,gt}}();function eu(){}function Cs(ot,ft){this.__wrapped__=ot,this.__actions__=[],this.__chain__=!!ft,this.__index__=0,this.__values__=h}Nt.templateSettings={escape:gr,evaluate:Fr,interpolate:jr,variable:"",imports:{_:Nt}},Nt.prototype=eu.prototype,Nt.prototype.constructor=Nt,Cs.prototype=go(eu.prototype),Cs.prototype.constructor=Cs;function In(ot){this.__wrapped__=ot,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ot,this.__views__=[]}function pp(){var ot=new In(this.__wrapped__);return ot.__actions__=Ns(this.__actions__),ot.__dir__=this.__dir__,ot.__filtered__=this.__filtered__,ot.__iteratees__=Ns(this.__iteratees__),ot.__takeCount__=this.__takeCount__,ot.__views__=Ns(this.__views__),ot}function Nm(){if(this.__filtered__){var ot=new In(this);ot.__dir__=-1,ot.__filtered__=!0}else ot=this.clone(),ot.__dir__*=-1;return ot}function mp(){var ot=this.__wrapped__.value(),ft=this.__dir__,gt=En(ot),wt=ft<0,Dt=gt?ot.length:0,Bt=z0(0,Dt,this.__views__),Ht=Bt.start,qt=Bt.end,nr=qt-Ht,Mr=wt?qt:Ht-1,Cr=this.__iteratees__,Rr=Cr.length,Ur=0,Kr=us(nr,this.__takeCount__);if(!gt||!wt&&Dt==nr&&Kr==nr)return Hv(ot,this.__actions__);var dn=[];e:for(;nr--&&Ur<Kr;){Mr+=ft;for(var Rn=-1,pn=ot[Mr];++Rn<Rr;){var Dn=Cr[Rn],kn=Dn.iteratee,Ws=Dn.type,Os=kn(pn);if(Ws==It)pn=Os;else if(!Os){if(Ws==Pt)continue e;break e}}dn[Ur++]=pn}return dn}In.prototype=go(eu.prototype),In.prototype.constructor=In;function ao(ot){var ft=-1,gt=ot==null?0:ot.length;for(this.clear();++ft<gt;){var wt=ot[ft];this.set(wt[0],wt[1])}}function Jp(){this.__data__=xl?xl(null):{},this.size=0}function gp(ot){var ft=this.has(ot)&&delete this.__data__[ot];return this.size-=ft?1:0,ft}function km(ot){var ft=this.__data__;if(xl){var gt=ft[ot];return gt===j?h:gt}return Bn.call(ft,ot)?ft[ot]:h}function em(ot){var ft=this.__data__;return xl?ft[ot]!==h:Bn.call(ft,ot)}function Bm(ot,ft){var gt=this.__data__;return this.size+=this.has(ot)?0:1,gt[ot]=xl&&ft===h?j:ft,this}ao.prototype.clear=Jp,ao.prototype.delete=gp,ao.prototype.get=km,ao.prototype.has=em,ao.prototype.set=Bm;function oo(ot){var ft=-1,gt=ot==null?0:ot.length;for(this.clear();++ft<gt;){var wt=ot[ft];this.set(wt[0],wt[1])}}function $m(){this.__data__=[],this.size=0}function vp(ot){var ft=this.__data__,gt=vt(ft,ot);if(gt<0)return!1;var wt=ft.length-1;return gt==wt?ft.pop():Oo.call(ft,gt,1),--this.size,!0}function yp(ot){var ft=this.__data__,gt=vt(ft,ot);return gt<0?h:ft[gt][1]}function tm(ot){return vt(this.__data__,ot)>-1}function Au(ot,ft){var gt=this.__data__,wt=vt(gt,ot);return wt<0?(++this.size,gt.push([ot,ft])):gt[wt][1]=ft,this}oo.prototype.clear=$m,oo.prototype.delete=vp,oo.prototype.get=yp,oo.prototype.has=tm,oo.prototype.set=Au;function na(ot){var ft=-1,gt=ot==null?0:ot.length;for(this.clear();++ft<gt;){var wt=ot[ft];this.set(wt[0],wt[1])}}function Um(){this.size=0,this.__data__={hash:new ao,map:new(Ql||oo),string:new ao}}function rm(ot){var ft=_m(this,ot).delete(ot);return this.size-=ft?1:0,ft}function _p(ot){return _m(this,ot).get(ot)}function nm(ot){return _m(this,ot).has(ot)}function Gm(ot,ft){var gt=_m(this,ot),wt=gt.size;return gt.set(ot,ft),this.size+=gt.size==wt?0:1,this}na.prototype.clear=Um,na.prototype.delete=rm,na.prototype.get=_p,na.prototype.has=nm,na.prototype.set=Gm;function Ds(ot){var ft=-1,gt=ot==null?0:ot.length;for(this.__data__=new na;++ft<gt;)this.add(ot[ft])}function Pu(ot){return this.__data__.set(ot,j),this}function lo(ot){return this.__data__.has(ot)}Ds.prototype.add=Ds.prototype.push=Pu,Ds.prototype.has=lo;function Fs(ot){var ft=this.__data__=new oo(ot);this.size=ft.size}function xp(){this.__data__=new oo,this.size=0}function Ru(ot){var ft=this.__data__,gt=ft.delete(ot);return this.size=ft.size,gt}function im(ot){return this.__data__.get(ot)}function sm(ot){return this.__data__.has(ot)}function Vm(ot,ft){var gt=this.__data__;if(gt instanceof oo){var wt=gt.__data__;if(!Ql||wt.length<g-1)return wt.push([ot,ft]),this.size=++gt.size,this;gt=this.__data__=new na(wt)}return gt.set(ot,ft),this.size=gt.size,this}Fs.prototype.clear=xp,Fs.prototype.delete=Ru,Fs.prototype.get=im,Fs.prototype.has=sm,Fs.prototype.set=Vm;function am(ot,ft){var gt=En(ot),wt=!gt&&nu(ot),Dt=!gt&&!wt&&Pl(ot),Bt=!gt&&!wt&&!Dt&&Du(ot),Ht=gt||wt||Dt||Bt,qt=Ht?Ul(ot.length,Yp):[],nr=qt.length;for(var Mr in ot)(ft||Bn.call(ot,Mr))&&!(Ht&&(Mr=="length"||Dt&&(Mr=="offset"||Mr=="parent")||Bt&&(Mr=="buffer"||Mr=="byteLength"||Mr=="byteOffset")||$o(Mr,nr)))&&qt.push(Mr);return qt}function om(ot){var ft=ot.length;return ft?ot[Zm(0,ft-1)]:h}function lm(ot,ft){return xm(Ns(ot),dr(ft,0,ot.length))}function Hm(ot){return xm(Ns(ot))}function xs(ot,ft,gt){(gt!==h&&!uo(ot[ft],gt)||gt===h&&!(ft in ot))&&jt(ot,ft,gt)}function El(ot,ft,gt){var wt=ot[ft];(!(Bn.call(ot,ft)&&uo(wt,gt))||gt===h&&!(ft in ot))&&jt(ot,ft,gt)}function vt(ot,ft){for(var gt=ot.length;gt--;)if(uo(ot[gt][0],ft))return gt;return-1}function bt(ot,ft,gt,wt){return Pn(ot,function(Dt,Bt,Ht){ft(wt,Dt,gt(Dt),Ht)}),wt}function Ft(ot,ft){return ot&&vo(ft,gs(ft),ot)}function Vt(ot,ft){return ot&&vo(ft,Bs(ft),ot)}function jt(ot,ft,gt){ft=="__proto__"&&po?po(ot,ft,{configurable:!0,enumerable:!0,value:gt,writable:!0}):ot[ft]=gt}function Tr(ot,ft){for(var gt=-1,wt=ft.length,Dt=fr(wt),Bt=ot==null;++gt<wt;)Dt[gt]=Bt?h:xv(ot,ft[gt]);return Dt}function dr(ot,ft,gt){return ot===ot&&(gt!==h&&(ot=ot<=gt?ot:gt),ft!==h&&(ot=ot>=ft?ot:ft)),ot}function $r(ot,ft,gt,wt,Dt,Bt){var Ht,qt=ft&rt,nr=ft&tt,Mr=ft&nt;if(gt&&(Ht=Dt?gt(ot,wt,Dt,Bt):gt(ot)),Ht!==h)return Ht;if(!_i(ot))return ot;var Cr=En(ot);if(Cr){if(Ht=j0(ot),!qt)return Ns(ot,Ht)}else{var Rr=As(ot),Ur=Rr==Yt||Rr==Xt;if(Pl(ot))return jv(ot,qt);if(Rr==Pr||Rr==tr||Ur&&!Dt){if(Ht=nr||Ur?{}:fy(ot),!qt)return nr?F0(ot,Vt(Ht,ot)):D0(ot,Ft(Ht,ot))}else{if(!zn[Rr])return Dt?ot:{};Ht=Y0(ot,Rr,qt)}}Bt||(Bt=new Fs);var Kr=Bt.get(ot);if(Kr)return Kr;Bt.set(ot,Ht),zy(ot)?ot.forEach(function(pn){Ht.add($r(pn,ft,gt,pn,ot,Bt))}):Vy(ot)&&ot.forEach(function(pn,Dn){Ht.set(Dn,$r(pn,ft,gt,Dn,ot,Bt))});var dn=Mr?nr?av:sv:nr?Bs:gs,Rn=Cr?h:dn(ot);return bs(Rn||ot,function(pn,Dn){Rn&&(Dn=pn,pn=ot[Dn]),El(Ht,Dn,$r(pn,ft,gt,Dn,ot,Bt))}),Ht}function kr(ot){var ft=gs(ot);return function(gt){return mn(gt,ot,ft)}}function mn(ot,ft,gt){var wt=gt.length;if(ot==null)return!wt;for(ot=Vn(ot);wt--;){var Dt=gt[wt],Bt=ft[Dt],Ht=ot[Dt];if(Ht===h&&!(Dt in ot)||!Bt(Ht))return!1}return!0}function An(ot,ft,gt){if(typeof ot!="function")throw new Ms(b);return Mp(function(){ot.apply(h,gt)},ft)}function nn(ot,ft,gt,wt){var Dt=-1,Bt=bo,Ht=!0,qt=ot.length,nr=[],Mr=ft.length;if(!qt)return nr;gt&&(ft=Wn(ft,_s(gt))),wt?(Bt=eo,Ht=!1):ft.length>=g&&(Bt=Po,Ht=!1,ft=new Ds(ft));e:for(;++Dt<qt;){var Cr=ot[Dt],Rr=gt==null?Cr:gt(Cr);if(Cr=wt||Cr!==0?Cr:0,Ht&&Rr===Rr){for(var Ur=Mr;Ur--;)if(ft[Ur]===Rr)continue e;nr.push(Cr)}else Bt(ft,Rr,wt)||nr.push(Cr)}return nr}var Pn=Kv(fs),Gn=Kv(ms,!0);function cs(ot,ft){var gt=!0;return Pn(ot,function(wt,Dt,Bt){return gt=!!ft(wt,Dt,Bt),gt}),gt}function Jn(ot,ft,gt){for(var wt=-1,Dt=ot.length;++wt<Dt;){var Bt=ot[wt],Ht=ft(Bt);if(Ht!=null&&(qt===h?Ht===Ht&&!zs(Ht):gt(Ht,qt)))var qt=Ht,nr=Bt}return nr}function Zn(ot,ft,gt,wt){var Dt=ot.length;for(gt=Cn(gt),gt<0&&(gt=-gt>Dt?0:Dt+gt),wt=wt===h||wt>Dt?Dt:Cn(wt),wt<0&&(wt+=Dt),wt=gt>wt?0:jy(wt);gt<wt;)ot[gt++]=ft;return ot}function Xn(ot,ft){var gt=[];return Pn(ot,function(wt,Dt,Bt){ft(wt,Dt,Bt)&&gt.push(wt)}),gt}function sn(ot,ft,gt,wt,Dt){var Bt=-1,Ht=ot.length;for(gt||(gt=q0),Dt||(Dt=[]);++Bt<Ht;){var qt=ot[Bt];ft>0&&gt(qt)?ft>1?sn(qt,ft-1,gt,wt,Dt):Yn(Dt,qt):wt||(Dt[Dt.length]=qt)}return Dt}var ts=Qv(),hs=Qv(!0);function fs(ot,ft){return ot&&ts(ot,ft,gs)}function ms(ot,ft){return ot&&hs(ot,ft,gs)}function Ss(ot,ft){return $a(ft,function(gt){return Uo(ot[gt])})}function No(ot,ft){ft=Cl(ft,ot);for(var gt=0,wt=ft.length;ot!=null&&gt<wt;)ot=ot[yo(ft[gt++])];return gt&&gt==wt?ot:h}function um(ot,ft,gt){var wt=ft(ot);return En(ot)?wt:Yn(wt,gt(ot))}function Is(ot){return ot==null?ot===h?vr:_r:ls&&ls in Vn(ot)?H0(ot):r_(ot)}function zm(ot,ft){return ot>ft}function l0(ot,ft){return ot!=null&&Bn.call(ot,ft)}function u0(ot,ft){return ot!=null&&ft in Vn(ot)}function c0(ot,ft,gt){return ot>=us(ft,gt)&&ot<es(ft,gt)}function Wm(ot,ft,gt){for(var wt=gt?eo:bo,Dt=ot[0].length,Bt=ot.length,Ht=Bt,qt=fr(Bt),nr=1/0,Mr=[];Ht--;){var Cr=ot[Ht];Ht&&ft&&(Cr=Wn(Cr,_s(ft))),nr=us(Cr.length,nr),qt[Ht]=!gt&&(ft||Dt>=120&&Cr.length>=120)?new Ds(Ht&&Cr):h}Cr=ot[0];var Rr=-1,Ur=qt[0];e:for(;++Rr<Dt&&Mr.length<nr;){var Kr=Cr[Rr],dn=ft?ft(Kr):Kr;if(Kr=gt||Kr!==0?Kr:0,!(Ur?Po(Ur,dn):wt(Mr,dn,gt))){for(Ht=Bt;--Ht;){var Rn=qt[Ht];if(!(Rn?Po(Rn,dn):wt(ot[Ht],dn,gt)))continue e}Ur&&Ur.push(dn),Mr.push(Kr)}}return Mr}function h0(ot,ft,gt,wt){return fs(ot,function(Dt,Bt,Ht){ft(wt,gt(Dt),Bt,Ht)}),wt}function Sp(ot,ft,gt){ft=Cl(ft,ot),ot=yy(ot,ft);var wt=ot==null?ot:ot[yo(xa(ft))];return wt==null?h:ws(wt,ot,gt)}function Pv(ot){return rs(ot)&&Is(ot)==tr}function f0(ot){return rs(ot)&&Is(ot)==Gr}function d0(ot){return rs(ot)&&Is(ot)==Er}function Tp(ot,ft,gt,wt,Dt){return ot===ft?!0:ot==null||ft==null||!rs(ot)&&!rs(ft)?ot!==ot&&ft!==ft:p0(ot,ft,gt,wt,Tp,Dt)}function p0(ot,ft,gt,wt,Dt,Bt){var Ht=En(ot),qt=En(ft),nr=Ht?Wt:As(ot),Mr=qt?Wt:As(ft);nr=nr==tr?Pr:nr,Mr=Mr==tr?Pr:Mr;var Cr=nr==Pr,Rr=Mr==Pr,Ur=nr==Mr;if(Ur&&Pl(ot)){if(!Pl(ft))return!1;Ht=!0,Cr=!1}if(Ur&&!Cr)return Bt||(Bt=new Fs),Ht||Du(ot)?ly(ot,ft,gt,wt,Dt,Bt):G0(ot,ft,nr,gt,wt,Dt,Bt);if(!(gt&st)){var Kr=Cr&&Bn.call(ot,"__wrapped__"),dn=Rr&&Bn.call(ft,"__wrapped__");if(Kr||dn){var Rn=Kr?ot.value():ot,pn=dn?ft.value():ft;return Bt||(Bt=new Fs),Dt(Rn,pn,gt,wt,Bt)}}return Ur?(Bt||(Bt=new Fs),V0(ot,ft,gt,wt,Dt,Bt)):!1}function m0(ot){return rs(ot)&&As(ot)==ur}function jm(ot,ft,gt,wt){var Dt=gt.length,Bt=Dt,Ht=!wt;if(ot==null)return!Bt;for(ot=Vn(ot);Dt--;){var qt=gt[Dt];if(Ht&&qt[2]?qt[1]!==ot[qt[0]]:!(qt[0]in ot))return!1}for(;++Dt<Bt;){qt=gt[Dt];var nr=qt[0],Mr=ot[nr],Cr=qt[1];if(Ht&&qt[2]){if(Mr===h&&!(nr in ot))return!1}else{var Rr=new Fs;if(wt)var Ur=wt(Mr,Cr,nr,ot,ft,Rr);if(!(Ur===h?Tp(Cr,Mr,st|at,wt,Rr):Ur))return!1}}return!0}function Rv(ot){if(!_i(ot)||K0(ot))return!1;var ft=Uo(ot)?Eu:$n;return ft.test(ru(ot))}function g0(ot){return rs(ot)&&Is(ot)==an}function v0(ot){return rs(ot)&&As(ot)==$t}function y0(ot){return rs(ot)&&Mm(ot.length)&&!!Un[Is(ot)]}function Iv(ot){return typeof ot=="function"?ot:ot==null?$s:typeof ot=="object"?En(ot)?Dv(ot[0],ot[1]):Ov(ot):n0(ot)}function Ym(ot){if(!bp(ot))return lp(ot);var ft=[];for(var gt in Vn(ot))Bn.call(ot,gt)&&gt!="constructor"&&ft.push(gt);return ft}function _0(ot){if(!_i(ot))return t_(ot);var ft=bp(ot),gt=[];for(var wt in ot)wt=="constructor"&&(ft||!Bn.call(ot,wt))||gt.push(wt);return gt}function Xm(ot,ft){return ot<ft}function Lv(ot,ft){var gt=-1,wt=ks(ot)?fr(ot.length):[];return Pn(ot,function(Dt,Bt,Ht){wt[++gt]=ft(Dt,Bt,Ht)}),wt}function Ov(ot){var ft=lv(ot);return ft.length==1&&ft[0][2]?my(ft[0][0],ft[0][1]):function(gt){return gt===ot||jm(gt,ot,ft)}}function Dv(ot,ft){return cv(ot)&&dy(ft)?my(yo(ot),ft):function(gt){var wt=xv(gt,ot);return wt===h&&wt===ft?Sv(gt,ot):Tp(ft,wt,st|at)}}function cm(ot,ft,gt,wt,Dt){ot!==ft&&ts(ft,function(Bt,Ht){if(Dt||(Dt=new Fs),_i(Bt))x0(ot,ft,Ht,gt,cm,wt,Dt);else{var qt=wt?wt(fv(ot,Ht),Bt,Ht+"",ot,ft,Dt):h;qt===h&&(qt=Bt),xs(ot,Ht,qt)}},Bs)}function x0(ot,ft,gt,wt,Dt,Bt,Ht){var qt=fv(ot,gt),nr=fv(ft,gt),Mr=Ht.get(nr);if(Mr){xs(ot,gt,Mr);return}var Cr=Bt?Bt(qt,nr,gt+"",ot,ft,Ht):h,Rr=Cr===h;if(Rr){var Ur=En(nr),Kr=!Ur&&Pl(nr),dn=!Ur&&!Kr&&Du(nr);Cr=nr,Ur||Kr||dn?En(qt)?Cr=qt:is(qt)?Cr=Ns(qt):Kr?(Rr=!1,Cr=jv(nr,!0)):dn?(Rr=!1,Cr=Yv(nr,!0)):Cr=[]:Cp(nr)||nu(nr)?(Cr=qt,nu(qt)?Cr=Yy(qt):(!_i(qt)||Uo(qt))&&(Cr=fy(nr))):Rr=!1}Rr&&(Ht.set(nr,Cr),Dt(Cr,nr,wt,Bt,Ht),Ht.delete(nr)),xs(ot,gt,Cr)}function Fv(ot,ft){var gt=ot.length;if(!!gt)return ft+=ft<0?gt:0,$o(ft,gt)?ot[ft]:h}function Nv(ot,ft,gt){ft.length?ft=Wn(ft,function(Bt){return En(Bt)?function(Ht){return No(Ht,Bt.length===1?Bt[0]:Bt)}:Bt}):ft=[$s];var wt=-1;ft=Wn(ft,_s(hn()));var Dt=Lv(ot,function(Bt,Ht,qt){var nr=Wn(ft,function(Mr){return Mr(Bt)});return{criteria:nr,index:++wt,value:Bt}});return Lm(Dt,function(Bt,Ht){return O0(Bt,Ht,gt)})}function S0(ot,ft){return kv(ot,ft,function(gt,wt){return Sv(ot,wt)})}function kv(ot,ft,gt){for(var wt=-1,Dt=ft.length,Bt={};++wt<Dt;){var Ht=ft[wt],qt=No(ot,Ht);gt(qt,Ht)&&Ep(Bt,Cl(Ht,ot),qt)}return Bt}function T0(ot){return function(ft){return No(ft,ot)}}function qm(ot,ft,gt,wt){var Dt=wt?_f:Ks,Bt=-1,Ht=ft.length,qt=ot;for(ot===ft&&(ft=Ns(ft)),gt&&(qt=Wn(ot,_s(gt)));++Bt<Ht;)for(var nr=0,Mr=ft[Bt],Cr=gt?gt(Mr):Mr;(nr=Dt(qt,Cr,nr,wt))>-1;)qt!==ot&&Oo.call(qt,nr,1),Oo.call(ot,nr,1);return ot}function Bv(ot,ft){for(var gt=ot?ft.length:0,wt=gt-1;gt--;){var Dt=ft[gt];if(gt==wt||Dt!==Bt){var Bt=Dt;$o(Dt)?Oo.call(ot,Dt,1):Jm(ot,Dt)}}return ot}function Zm(ot,ft){return ot+Xl(up()*(ft-ot+1))}function E0(ot,ft,gt,wt){for(var Dt=-1,Bt=es(_l((ft-ot)/(gt||1)),0),Ht=fr(Bt);Bt--;)Ht[wt?Bt:++Dt]=ot,ot+=gt;return Ht}function Km(ot,ft){var gt="";if(!ot||ft<1||ft>St)return gt;do ft%2&&(gt+=ot),ft=Xl(ft/2),ft&&(ot+=ot);while(ft);return gt}function Ln(ot,ft){return dv(gy(ot,ft,$s),ot+"")}function w0(ot){return om(Fu(ot))}function b0(ot,ft){var gt=Fu(ot);return xm(gt,dr(ft,0,gt.length))}function Ep(ot,ft,gt,wt){if(!_i(ot))return ot;ft=Cl(ft,ot);for(var Dt=-1,Bt=ft.length,Ht=Bt-1,qt=ot;qt!=null&&++Dt<Bt;){var nr=yo(ft[Dt]),Mr=gt;if(nr==="__proto__"||nr==="constructor"||nr==="prototype")return ot;if(Dt!=Ht){var Cr=qt[nr];Mr=wt?wt(Cr,nr,qt):h,Mr===h&&(Mr=_i(Cr)?Cr:$o(ft[Dt+1])?[]:{})}El(qt,nr,Mr),qt=qt[nr]}return ot}var $v=so?function(ot,ft){return so.set(ot,ft),ot}:$s,M0=po?function(ot,ft){return po(ot,"toString",{configurable:!0,enumerable:!1,value:Ev(ft),writable:!0})}:$s;function C0(ot){return xm(Fu(ot))}function ga(ot,ft,gt){var wt=-1,Dt=ot.length;ft<0&&(ft=-ft>Dt?0:Dt+ft),gt=gt>Dt?Dt:gt,gt<0&&(gt+=Dt),Dt=ft>gt?0:gt-ft>>>0,ft>>>=0;for(var Bt=fr(Dt);++wt<Dt;)Bt[wt]=ot[wt+ft];return Bt}function A0(ot,ft){var gt;return Pn(ot,function(wt,Dt,Bt){return gt=ft(wt,Dt,Bt),!gt}),!!gt}function hm(ot,ft,gt){var wt=0,Dt=ot==null?wt:ot.length;if(typeof ft=="number"&&ft===ft&&Dt<=Qt){for(;wt<Dt;){var Bt=wt+Dt>>>1,Ht=ot[Bt];Ht!==null&&!zs(Ht)&&(gt?Ht<=ft:Ht<ft)?wt=Bt+1:Dt=Bt}return Dt}return Qm(ot,ft,$s,gt)}function Qm(ot,ft,gt,wt){var Dt=0,Bt=ot==null?0:ot.length;if(Bt===0)return 0;ft=gt(ft);for(var Ht=ft!==ft,qt=ft===null,nr=zs(ft),Mr=ft===h;Dt<Bt;){var Cr=Xl((Dt+Bt)/2),Rr=gt(ot[Cr]),Ur=Rr!==h,Kr=Rr===null,dn=Rr===Rr,Rn=zs(Rr);if(Ht)var pn=wt||dn;else Mr?pn=dn&&(wt||Ur):qt?pn=dn&&Ur&&(wt||!Kr):nr?pn=dn&&Ur&&!Kr&&(wt||!Rn):Kr||Rn?pn=!1:pn=wt?Rr<=ft:Rr<ft;pn?Dt=Cr+1:Bt=Cr}return us(Bt,Gt)}function Uv(ot,ft){for(var gt=-1,wt=ot.length,Dt=0,Bt=[];++gt<wt;){var Ht=ot[gt],qt=ft?ft(Ht):Ht;if(!gt||!uo(qt,nr)){var nr=qt;Bt[Dt++]=Ht===0?0:Ht}}return Bt}function Gv(ot){return typeof ot=="number"?ot:zs(ot)?Rt:+ot}function Hs(ot){if(typeof ot=="string")return ot;if(En(ot))return Wn(ot,Hs)+"";if(zs(ot))return dp?dp.call(ot):"";var ft=ot+"";return ft=="0"&&1/ot==-Ct?"-0":ft}function Ml(ot,ft,gt){var wt=-1,Dt=bo,Bt=ot.length,Ht=!0,qt=[],nr=qt;if(gt)Ht=!1,Dt=eo;else if(Bt>=g){var Mr=ft?null:$0(ot);if(Mr)return Zo(Mr);Ht=!1,Dt=Po,nr=new Ds}else nr=ft?[]:qt;e:for(;++wt<Bt;){var Cr=ot[wt],Rr=ft?ft(Cr):Cr;if(Cr=gt||Cr!==0?Cr:0,Ht&&Rr===Rr){for(var Ur=nr.length;Ur--;)if(nr[Ur]===Rr)continue e;ft&&nr.push(Rr),qt.push(Cr)}else Dt(nr,Rr,gt)||(nr!==qt&&nr.push(Rr),qt.push(Cr))}return qt}function Jm(ot,ft){return ft=Cl(ft,ot),ot=yy(ot,ft),ot==null||delete ot[yo(xa(ft))]}function Vv(ot,ft,gt,wt){return Ep(ot,ft,gt(No(ot,ft)),wt)}function fm(ot,ft,gt,wt){for(var Dt=ot.length,Bt=wt?Dt:-1;(wt?Bt--:++Bt<Dt)&&ft(ot[Bt],Bt,ot););return gt?ga(ot,wt?0:Bt,wt?Bt+1:Dt):ga(ot,wt?Bt+1:0,wt?Dt:Bt)}function Hv(ot,ft){var gt=ot;return gt instanceof In&&(gt=gt.value()),Ju(ft,function(wt,Dt){return Dt.func.apply(Dt.thisArg,Yn([wt],Dt.args))},gt)}function _g(ot,ft,gt){var wt=ot.length;if(wt<2)return wt?Ml(ot[0]):[];for(var Dt=-1,Bt=fr(wt);++Dt<wt;)for(var Ht=ot[Dt],qt=-1;++qt<wt;)qt!=Dt&&(Bt[Dt]=nn(Bt[Dt]||Ht,ot[qt],ft,gt));return Ml(sn(Bt,1),ft,gt)}function zv(ot,ft,gt){for(var wt=-1,Dt=ot.length,Bt=ft.length,Ht={};++wt<Dt;){var qt=wt<Bt?ft[wt]:h;gt(Ht,ot[wt],qt)}return Ht}function ev(ot){return is(ot)?ot:[]}function tv(ot){return typeof ot=="function"?ot:$s}function Cl(ot,ft){return En(ot)?ot:cv(ot,ft)?[ot]:Ey(Hn(ot))}var P0=Ln;function Al(ot,ft,gt){var wt=ot.length;return gt=gt===h?wt:gt,!ft&&gt>=wt?ot:ga(ot,ft,gt)}var Wv=Yl||function(ot){return Tn.clearTimeout(ot)};function jv(ot,ft){if(ft)return ot.slice();var gt=ot.length,wt=wu?wu(gt):new ot.constructor(gt);return ot.copy(wt),wt}function rv(ot){var ft=new ot.constructor(ot.byteLength);return new Lo(ft).set(new Lo(ot)),ft}function R0(ot,ft){var gt=ft?rv(ot.buffer):ot.buffer;return new ot.constructor(gt,ot.byteOffset,ot.byteLength)}function I0(ot){var ft=new ot.constructor(ot.source,xn.exec(ot));return ft.lastIndex=ot.lastIndex,ft}function L0(ot){return Tl?Vn(Tl.call(ot)):{}}function Yv(ot,ft){var gt=ft?rv(ot.buffer):ot.buffer;return new ot.constructor(gt,ot.byteOffset,ot.length)}function Xv(ot,ft){if(ot!==ft){var gt=ot!==h,wt=ot===null,Dt=ot===ot,Bt=zs(ot),Ht=ft!==h,qt=ft===null,nr=ft===ft,Mr=zs(ft);if(!qt&&!Mr&&!Bt&&ot>ft||Bt&&Ht&&nr&&!qt&&!Mr||wt&&Ht&&nr||!gt&&nr||!Dt)return 1;if(!wt&&!Bt&&!Mr&&ot<ft||Mr&&gt&&Dt&&!wt&&!Bt||qt&&gt&&Dt||!Ht&&Dt||!nr)return-1}return 0}function O0(ot,ft,gt){for(var wt=-1,Dt=ot.criteria,Bt=ft.criteria,Ht=Dt.length,qt=gt.length;++wt<Ht;){var nr=Xv(Dt[wt],Bt[wt]);if(nr){if(wt>=qt)return nr;var Mr=gt[wt];return nr*(Mr=="desc"?-1:1)}}return ot.index-ft.index}function qv(ot,ft,gt,wt){for(var Dt=-1,Bt=ot.length,Ht=gt.length,qt=-1,nr=ft.length,Mr=es(Bt-Ht,0),Cr=fr(nr+Mr),Rr=!wt;++qt<nr;)Cr[qt]=ft[qt];for(;++Dt<Ht;)(Rr||Dt<Bt)&&(Cr[gt[Dt]]=ot[Dt]);for(;Mr--;)Cr[qt++]=ot[Dt++];return Cr}function Zv(ot,ft,gt,wt){for(var Dt=-1,Bt=ot.length,Ht=-1,qt=gt.length,nr=-1,Mr=ft.length,Cr=es(Bt-qt,0),Rr=fr(Cr+Mr),Ur=!wt;++Dt<Cr;)Rr[Dt]=ot[Dt];for(var Kr=Dt;++nr<Mr;)Rr[Kr+nr]=ft[nr];for(;++Ht<qt;)(Ur||Dt<Bt)&&(Rr[Kr+gt[Ht]]=ot[Dt++]);return Rr}function Ns(ot,ft){var gt=-1,wt=ot.length;for(ft||(ft=fr(wt));++gt<wt;)ft[gt]=ot[gt];return ft}function vo(ot,ft,gt,wt){var Dt=!gt;gt||(gt={});for(var Bt=-1,Ht=ft.length;++Bt<Ht;){var qt=ft[Bt],nr=wt?wt(gt[qt],ot[qt],qt,gt,ot):h;nr===h&&(nr=ot[qt]),Dt?jt(gt,qt,nr):El(gt,qt,nr)}return gt}function D0(ot,ft){return vo(ot,uv(ot),ft)}function F0(ot,ft){return vo(ot,cy(ot),ft)}function dm(ot,ft){return function(gt,wt){var Dt=En(gt)?Qu:bt,Bt=ft?ft():{};return Dt(gt,ot,hn(wt,2),Bt)}}function Iu(ot){return Ln(function(ft,gt){var wt=-1,Dt=gt.length,Bt=Dt>1?gt[Dt-1]:h,Ht=Dt>2?gt[2]:h;for(Bt=ot.length>3&&typeof Bt=="function"?(Dt--,Bt):h,Ht&&Ls(gt[0],gt[1],Ht)&&(Bt=Dt<3?h:Bt,Dt=1),ft=Vn(ft);++wt<Dt;){var qt=gt[wt];qt&&ot(ft,qt,wt,Bt)}return ft})}function Kv(ot,ft){return function(gt,wt){if(gt==null)return gt;if(!ks(gt))return ot(gt,wt);for(var Dt=gt.length,Bt=ft?Dt:-1,Ht=Vn(gt);(ft?Bt--:++Bt<Dt)&&wt(Ht[Bt],Bt,Ht)!==!1;);return gt}}function Qv(ot){return function(ft,gt,wt){for(var Dt=-1,Bt=Vn(ft),Ht=wt(ft),qt=Ht.length;qt--;){var nr=Ht[ot?qt:++Dt];if(gt(Bt[nr],nr,Bt)===!1)break}return ft}}function N0(ot,ft,gt){var wt=ft&ct,Dt=wp(ot);function Bt(){var Ht=this&&this!==Tn&&this instanceof Bt?Dt:ot;return Ht.apply(wt?gt:this,arguments)}return Bt}function Jv(ot){return function(ft){ft=Hn(ft);var gt=Ro(ft)?Rs(ft):h,wt=gt?gt[0]:ft.charAt(0),Dt=gt?Al(gt,1).join(""):ft.slice(1);return wt[ot]()+Dt}}function Lu(ot){return function(ft){return Ju(t0(e0(ft).replace(Us,"")),ot,"")}}function wp(ot){return function(){var ft=arguments;switch(ft.length){case 0:return new ot;case 1:return new ot(ft[0]);case 2:return new ot(ft[0],ft[1]);case 3:return new ot(ft[0],ft[1],ft[2]);case 4:return new ot(ft[0],ft[1],ft[2],ft[3]);case 5:return new ot(ft[0],ft[1],ft[2],ft[3],ft[4]);case 6:return new ot(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);case 7:return new ot(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5],ft[6])}var gt=go(ot.prototype),wt=ot.apply(gt,ft);return _i(wt)?wt:gt}}function k0(ot,ft,gt){var wt=wp(ot);function Dt(){for(var Bt=arguments.length,Ht=fr(Bt),qt=Bt,nr=Ou(Dt);qt--;)Ht[qt]=arguments[qt];var Mr=Bt<3&&Ht[0]!==nr&&Ht[Bt-1]!==nr?[]:ro(Ht,nr);if(Bt-=Mr.length,Bt<gt)return iy(ot,ft,pm,Dt.placeholder,h,Ht,Mr,h,h,gt-Bt);var Cr=this&&this!==Tn&&this instanceof Dt?wt:ot;return ws(Cr,this,Ht)}return Dt}function ey(ot){return function(ft,gt,wt){var Dt=Vn(ft);if(!ks(ft)){var Bt=hn(gt,3);ft=gs(ft),gt=function(qt){return Bt(Dt[qt],qt,Dt)}}var Ht=ot(ft,gt,wt);return Ht>-1?Dt[Bt?ft[Ht]:Ht]:h}}function ty(ot){return Bo(function(ft){var gt=ft.length,wt=gt,Dt=Cs.prototype.thru;for(ot&&ft.reverse();wt--;){var Bt=ft[wt];if(typeof Bt!="function")throw new Ms(b);if(Dt&&!Ht&&ym(Bt)=="wrapper")var Ht=new Cs([],!0)}for(wt=Ht?wt:gt;++wt<gt;){Bt=ft[wt];var qt=ym(Bt),nr=qt=="wrapper"?ov(Bt):h;nr&&hv(nr[0])&&nr[1]==(mt|ht|dt|yt)&&!nr[4].length&&nr[9]==1?Ht=Ht[ym(nr[0])].apply(Ht,nr[3]):Ht=Bt.length==1&&hv(Bt)?Ht[qt]():Ht.thru(Bt)}return function(){var Mr=arguments,Cr=Mr[0];if(Ht&&Mr.length==1&&En(Cr))return Ht.plant(Cr).value();for(var Rr=0,Ur=gt?ft[Rr].apply(this,Mr):Cr;++Rr<gt;)Ur=ft[Rr].call(this,Ur);return Ur}})}function pm(ot,ft,gt,wt,Dt,Bt,Ht,qt,nr,Mr){var Cr=ft&mt,Rr=ft&ct,Ur=ft&it,Kr=ft&(ht|ut),dn=ft&xt,Rn=Ur?h:wp(ot);function pn(){for(var Dn=arguments.length,kn=fr(Dn),Ws=Dn;Ws--;)kn[Ws]=arguments[Ws];if(Kr)var Os=Ou(pn),js=qo(kn,Os);if(wt&&(kn=qv(kn,wt,Dt,Kr)),Bt&&(kn=Zv(kn,Bt,Ht,Kr)),Dn-=js,Kr&&Dn<Mr){var ss=ro(kn,Os);return iy(ot,ft,pm,pn.placeholder,gt,kn,ss,qt,nr,Mr-Dn)}var co=Rr?gt:this,Vo=Ur?co[ot]:ot;return Dn=kn.length,qt?kn=n_(kn,qt):dn&&Dn>1&&kn.reverse(),Cr&&nr<Dn&&(kn.length=nr),this&&this!==Tn&&this instanceof pn&&(Vo=Rn||wp(Vo)),Vo.apply(co,kn)}return pn}function ry(ot,ft){return function(gt,wt){return h0(gt,ot,ft(wt),{})}}function mm(ot,ft){return function(gt,wt){var Dt;if(gt===h&&wt===h)return ft;if(gt!==h&&(Dt=gt),wt!==h){if(Dt===h)return wt;typeof gt=="string"||typeof wt=="string"?(gt=Hs(gt),wt=Hs(wt)):(gt=Gv(gt),wt=Gv(wt)),Dt=ot(gt,wt)}return Dt}}function nv(ot){return Bo(function(ft){return ft=Wn(ft,_s(hn())),Ln(function(gt){var wt=this;return ot(ft,function(Dt){return ws(Dt,wt,gt)})})})}function gm(ot,ft){ft=ft===h?" ":Hs(ft);var gt=ft.length;if(gt<2)return gt?Km(ft,ot):ft;var wt=Km(ft,_l(ot/tn(ft)));return Ro(ft)?Al(Rs(wt),0,ot).join(""):wt.slice(0,ot)}function B0(ot,ft,gt,wt){var Dt=ft&ct,Bt=wp(ot);function Ht(){for(var qt=-1,nr=arguments.length,Mr=-1,Cr=wt.length,Rr=fr(Cr+nr),Ur=this&&this!==Tn&&this instanceof Ht?Bt:ot;++Mr<Cr;)Rr[Mr]=wt[Mr];for(;nr--;)Rr[Mr++]=arguments[++qt];return ws(Ur,Dt?gt:this,Rr)}return Ht}function ny(ot){return function(ft,gt,wt){return wt&&typeof wt!="number"&&Ls(ft,gt,wt)&&(gt=wt=h),ft=Go(ft),gt===h?(gt=ft,ft=0):gt=Go(gt),wt=wt===h?ft<gt?1:-1:Go(wt),E0(ft,gt,wt,ot)}}function vm(ot){return function(ft,gt){return typeof ft=="string"&&typeof gt=="string"||(ft=ba(ft),gt=ba(gt)),ot(ft,gt)}}function iy(ot,ft,gt,wt,Dt,Bt,Ht,qt,nr,Mr){var Cr=ft&ht,Rr=Cr?Ht:h,Ur=Cr?h:Ht,Kr=Cr?Bt:h,dn=Cr?h:Bt;ft|=Cr?dt:pt,ft&=~(Cr?pt:dt),ft&lt||(ft&=~(ct|it));var Rn=[ot,ft,Dt,Kr,Rr,dn,Ur,qt,nr,Mr],pn=gt.apply(h,Rn);return hv(ot)&&xy(pn,Rn),pn.placeholder=wt,Sy(pn,ot,ft)}function iv(ot){var ft=ns[ot];return function(gt,wt){if(gt=ba(gt),wt=wt==null?0:us(Cn(wt),292),wt&&Mu(gt)){var Dt=(Hn(gt)+"e").split("e"),Bt=ft(Dt[0]+"e"+(+Dt[1]+wt));return Dt=(Hn(Bt)+"e").split("e"),+(Dt[0]+"e"+(+Dt[1]-wt))}return ft(gt)}}var $0=Do&&1/Zo(new Do([,-0]))[1]==Ct?function(ot){return new Do(ot)}:Mv;function sy(ot){return function(ft){var gt=As(ft);return gt==ur?mu(ft):gt==$t?Om(ft):tp(ft,ot(ft))}}function ko(ot,ft,gt,wt,Dt,Bt,Ht,qt){var nr=ft&it;if(!nr&&typeof ot!="function")throw new Ms(b);var Mr=wt?wt.length:0;if(Mr||(ft&=~(dt|pt),wt=Dt=h),Ht=Ht===h?Ht:es(Cn(Ht),0),qt=qt===h?qt:Cn(qt),Mr-=Dt?Dt.length:0,ft&pt){var Cr=wt,Rr=Dt;wt=Dt=h}var Ur=nr?h:ov(ot),Kr=[ot,ft,gt,wt,Dt,Cr,Rr,Bt,Ht,qt];if(Ur&&e_(Kr,Ur),ot=Kr[0],ft=Kr[1],gt=Kr[2],wt=Kr[3],Dt=Kr[4],qt=Kr[9]=Kr[9]===h?nr?0:ot.length:es(Kr[9]-Mr,0),!qt&&ft&(ht|ut)&&(ft&=~(ht|ut)),!ft||ft==ct)var dn=N0(ot,ft,gt);else ft==ht||ft==ut?dn=k0(ot,ft,qt):(ft==dt||ft==(ct|dt))&&!Dt.length?dn=B0(ot,ft,gt,wt):dn=pm.apply(h,Kr);var Rn=Ur?$v:xy;return Sy(Rn(dn,Kr),ot,ft)}function ay(ot,ft,gt,wt){return ot===h||uo(ot,Ko[gt])&&!Bn.call(wt,gt)?ft:ot}function oy(ot,ft,gt,wt,Dt,Bt){return _i(ot)&&_i(ft)&&(Bt.set(ft,ot),cm(ot,ft,h,oy,Bt),Bt.delete(ft)),ot}function U0(ot){return Cp(ot)?h:ot}function ly(ot,ft,gt,wt,Dt,Bt){var Ht=gt&st,qt=ot.length,nr=ft.length;if(qt!=nr&&!(Ht&&nr>qt))return!1;var Mr=Bt.get(ot),Cr=Bt.get(ft);if(Mr&&Cr)return Mr==ft&&Cr==ot;var Rr=-1,Ur=!0,Kr=gt&at?new Ds:h;for(Bt.set(ot,ft),Bt.set(ft,ot);++Rr<qt;){var dn=ot[Rr],Rn=ft[Rr];if(wt)var pn=Ht?wt(Rn,dn,Rr,ft,ot,Bt):wt(dn,Rn,Rr,ot,ft,Bt);if(pn!==h){if(pn)continue;Ur=!1;break}if(Kr){if(!_h(ft,function(Dn,kn){if(!Po(Kr,kn)&&(dn===Dn||Dt(dn,Dn,gt,wt,Bt)))return Kr.push(kn)})){Ur=!1;break}}else if(!(dn===Rn||Dt(dn,Rn,gt,wt,Bt))){Ur=!1;break}}return Bt.delete(ot),Bt.delete(ft),Ur}function G0(ot,ft,gt,wt,Dt,Bt,Ht){switch(gt){case mr:if(ot.byteLength!=ft.byteLength||ot.byteOffset!=ft.byteOffset)return!1;ot=ot.buffer,ft=ft.buffer;case Gr:return!(ot.byteLength!=ft.byteLength||!Bt(new Lo(ot),new Lo(ft)));case Lr:case Er:case br:return uo(+ot,+ft);case yr:return ot.name==ft.name&&ot.message==ft.message;case an:case kt:return ot==ft+"";case ur:var qt=mu;case $t:var nr=wt&st;if(qt||(qt=Zo),ot.size!=ft.size&&!nr)return!1;var Mr=Ht.get(ot);if(Mr)return Mr==ft;wt|=at,Ht.set(ot,ft);var Cr=ly(qt(ot),qt(ft),wt,Dt,Bt,Ht);return Ht.delete(ot),Cr;case hr:if(Tl)return Tl.call(ot)==Tl.call(ft)}return!1}function V0(ot,ft,gt,wt,Dt,Bt){var Ht=gt&st,qt=sv(ot),nr=qt.length,Mr=sv(ft),Cr=Mr.length;if(nr!=Cr&&!Ht)return!1;for(var Rr=nr;Rr--;){var Ur=qt[Rr];if(!(Ht?Ur in ft:Bn.call(ft,Ur)))return!1}var Kr=Bt.get(ot),dn=Bt.get(ft);if(Kr&&dn)return Kr==ft&&dn==ot;var Rn=!0;Bt.set(ot,ft),Bt.set(ft,ot);for(var pn=Ht;++Rr<nr;){Ur=qt[Rr];var Dn=ot[Ur],kn=ft[Ur];if(wt)var Ws=Ht?wt(kn,Dn,Ur,ft,ot,Bt):wt(Dn,kn,Ur,ot,ft,Bt);if(!(Ws===h?Dn===kn||Dt(Dn,kn,gt,wt,Bt):Ws)){Rn=!1;break}pn||(pn=Ur=="constructor")}if(Rn&&!pn){var Os=ot.constructor,js=ft.constructor;Os!=js&&"constructor"in ot&&"constructor"in ft&&!(typeof Os=="function"&&Os instanceof Os&&typeof js=="function"&&js instanceof js)&&(Rn=!1)}return Bt.delete(ot),Bt.delete(ft),Rn}function Bo(ot){return dv(gy(ot,h,Cy),ot+"")}function sv(ot){return um(ot,gs,uv)}function av(ot){return um(ot,Bs,cy)}var ov=so?function(ot){return so.get(ot)}:Mv;function ym(ot){for(var ft=ot.name+"",gt=mo[ft],wt=Bn.call(mo,ft)?gt.length:0;wt--;){var Dt=gt[wt],Bt=Dt.func;if(Bt==null||Bt==ot)return Dt.name}return ft}function Ou(ot){var ft=Bn.call(Nt,"placeholder")?Nt:ot;return ft.placeholder}function hn(){var ot=Nt.iteratee||wv;return ot=ot===wv?Iv:ot,arguments.length?ot(arguments[0],arguments[1]):ot}function _m(ot,ft){var gt=ot.__data__;return Z0(ft)?gt[typeof ft=="string"?"string":"hash"]:gt.map}function lv(ot){for(var ft=gs(ot),gt=ft.length;gt--;){var wt=ft[gt],Dt=ot[wt];ft[gt]=[wt,Dt,dy(Dt)]}return ft}function tu(ot,ft){var gt=zp(ot,ft);return Rv(gt)?gt:h}function H0(ot){var ft=Bn.call(ot,ls),gt=ot[ls];try{ot[ls]=h;var wt=!0}catch{}var Dt=Vl.call(ot);return wt&&(ft?ot[ls]=gt:delete ot[ls]),Dt}var uv=Zl?function(ot){return ot==null?[]:(ot=Vn(ot),$a(Zl(ot),function(ft){return Jo.call(ot,ft)}))}:Cv,cy=Zl?function(ot){for(var ft=[];ot;)Yn(ft,uv(ot)),ot=io(ot);return ft}:Cv,As=Is;(cp&&As(new cp(new ArrayBuffer(1)))!=mr||Ql&&As(new Ql)!=ur||hp&&As(hp.resolve())!=Or||Do&&As(new Do)!=$t||Fo&&As(new Fo)!=Ir)&&(As=function(ot){var ft=Is(ot),gt=ft==Pr?ot.constructor:h,wt=gt?ru(gt):"";if(wt)switch(wt){case Sl:return mr;case Kp:return ur;case Qp:return Or;case Jl:return $t;case fp:return Ir}return ft});function z0(ot,ft,gt){for(var wt=-1,Dt=gt.length;++wt<Dt;){var Bt=gt[wt],Ht=Bt.size;switch(Bt.type){case"drop":ot+=Ht;break;case"dropRight":ft-=Ht;break;case"take":ft=us(ft,ot+Ht);break;case"takeRight":ot=es(ot,ft-Ht);break}}return{start:ot,end:ft}}function W0(ot){var ft=ot.match(or);return ft?ft[1].split(xr):[]}function hy(ot,ft,gt){ft=Cl(ft,ot);for(var wt=-1,Dt=ft.length,Bt=!1;++wt<Dt;){var Ht=yo(ft[wt]);if(!(Bt=ot!=null&&gt(ot,Ht)))break;ot=ot[Ht]}return Bt||++wt!=Dt?Bt:(Dt=ot==null?0:ot.length,!!Dt&&Mm(Dt)&&$o(Ht,Dt)&&(En(ot)||nu(ot)))}function j0(ot){var ft=ot.length,gt=new ot.constructor(ft);return ft&&typeof ot[0]=="string"&&Bn.call(ot,"index")&&(gt.index=ot.index,gt.input=ot.input),gt}function fy(ot){return typeof ot.constructor=="function"&&!bp(ot)?go(io(ot)):{}}function Y0(ot,ft,gt){var wt=ot.constructor;switch(ft){case Gr:return rv(ot);case Lr:case Er:return new wt(+ot);case mr:return R0(ot,gt);case Wr:case Qr:case qr:case zr:case Kt:case Br:case cr:case ar:case pr:return Yv(ot,gt);case ur:return new wt;case br:case kt:return new wt(ot);case an:return I0(ot);case $t:return new wt;case hr:return L0(ot)}}function X0(ot,ft){var gt=ft.length;if(!gt)return ot;var wt=gt-1;return ft[wt]=(gt>1?"& ":"")+ft[wt],ft=ft.join(gt>2?", ":" "),ot.replace(lr,`{
/* [wrapped with `+ft+`] */
`)}function q0(ot){return En(ot)||nu(ot)||!!(yl&&ot&&ot[yl])}function $o(ot,ft){var gt=typeof ot;return ft=ft==null?St:ft,!!ft&&(gt=="number"||gt!="symbol"&&os.test(ot))&&ot>-1&&ot%1==0&&ot<ft}function Ls(ot,ft,gt){if(!_i(gt))return!1;var wt=typeof ft;return(wt=="number"?ks(gt)&&$o(ft,gt.length):wt=="string"&&ft in gt)?uo(gt[ft],ot):!1}function cv(ot,ft){if(En(ot))return!1;var gt=typeof ot;return gt=="number"||gt=="symbol"||gt=="boolean"||ot==null||zs(ot)?!0:en.test(ot)||!gn.test(ot)||ft!=null&&ot in Vn(ft)}function Z0(ot){var ft=typeof ot;return ft=="string"||ft=="number"||ft=="symbol"||ft=="boolean"?ot!=="__proto__":ot===null}function hv(ot){var ft=ym(ot),gt=Nt[ft];if(typeof gt!="function"||!(ft in In.prototype))return!1;if(ot===gt)return!0;var wt=ov(gt);return!!wt&&ot===wt[0]}function K0(ot){return!!Tu&&Tu in ot}var Q0=Su?Uo:Av;function bp(ot){var ft=ot&&ot.constructor,gt=typeof ft=="function"&&ft.prototype||Ko;return ot===gt}function dy(ot){return ot===ot&&!_i(ot)}function my(ot,ft){return function(gt){return gt==null?!1:gt[ot]===ft&&(ft!==h||ot in Vn(gt))}}function J0(ot){var ft=wm(ot,function(wt){return gt.size===_e&&gt.clear(),wt}),gt=ft.cache;return ft}function e_(ot,ft){var gt=ot[1],wt=ft[1],Dt=gt|wt,Bt=Dt<(ct|it|mt),Ht=wt==mt&&gt==ht||wt==mt&&gt==yt&&ot[7].length<=ft[8]||wt==(mt|yt)&&ft[7].length<=ft[8]&&gt==ht;if(!(Bt||Ht))return ot;wt&ct&&(ot[2]=ft[2],Dt|=gt&ct?0:lt);var qt=ft[3];if(qt){var nr=ot[3];ot[3]=nr?qv(nr,qt,ft[4]):qt,ot[4]=nr?ro(ot[3],et):ft[4]}return qt=ft[5],qt&&(nr=ot[5],ot[5]=nr?Zv(nr,qt,ft[6]):qt,ot[6]=nr?ro(ot[5],et):ft[6]),qt=ft[7],qt&&(ot[7]=qt),wt&mt&&(ot[8]=ot[8]==null?ft[8]:us(ot[8],ft[8])),ot[9]==null&&(ot[9]=ft[9]),ot[0]=ft[0],ot[1]=Dt,ot}function t_(ot){var ft=[];if(ot!=null)for(var gt in Vn(ot))ft.push(gt);return ft}function r_(ot){return Vl.call(ot)}function gy(ot,ft,gt){return ft=es(ft===h?ot.length-1:ft,0),function(){for(var wt=arguments,Dt=-1,Bt=es(wt.length-ft,0),Ht=fr(Bt);++Dt<Bt;)Ht[Dt]=wt[ft+Dt];Dt=-1;for(var qt=fr(ft+1);++Dt<ft;)qt[Dt]=wt[Dt];return qt[ft]=gt(Ht),ws(ot,this,qt)}}function yy(ot,ft){return ft.length<2?ot:No(ot,ga(ft,0,-1))}function n_(ot,ft){for(var gt=ot.length,wt=us(ft.length,gt),Dt=Ns(ot);wt--;){var Bt=ft[wt];ot[wt]=$o(Bt,gt)?Dt[Bt]:h}return ot}function fv(ot,ft){if(!(ft==="constructor"&&typeof ot[ft]=="function")&&ft!="__proto__")return ot[ft]}var xy=Ty($v),Mp=Xp||function(ot,ft){return Tn.setTimeout(ot,ft)},dv=Ty(M0);function Sy(ot,ft,gt){var wt=ft+"";return dv(ot,X0(wt,i_(W0(wt),gt)))}function Ty(ot){var ft=0,gt=0;return function(){var wt=Kl(),Dt=Lt-(wt-gt);if(gt=wt,Dt>0){if(++ft>=Mt)return arguments[0]}else ft=0;return ot.apply(h,arguments)}}function xm(ot,ft){var gt=-1,wt=ot.length,Dt=wt-1;for(ft=ft===h?wt:ft;++gt<ft;){var Bt=Zm(gt,Dt),Ht=ot[Bt];ot[Bt]=ot[gt],ot[gt]=Ht}return ot.length=ft,ot}var Ey=J0(function(ot){var ft=[];return ot.charCodeAt(0)===46&&ft.push(""),ot.replace(Jr,function(gt,wt,Dt,Bt){ft.push(Dt?Bt.replace(_n,"$1"):wt||gt)}),ft});function yo(ot){if(typeof ot=="string"||zs(ot))return ot;var ft=ot+"";return ft=="0"&&1/ot==-Ct?"-0":ft}function ru(ot){if(ot!=null){try{return Gl.call(ot)}catch{}try{return ot+""}catch{}}return""}function i_(ot,ft){return bs(ir,function(gt){var wt="_."+gt[0];ft&gt[1]&&!bo(ot,wt)&&ot.push(wt)}),ot.sort()}function wy(ot){if(ot instanceof In)return ot.clone();var ft=new Cs(ot.__wrapped__,ot.__chain__);return ft.__actions__=Ns(ot.__actions__),ft.__index__=ot.__index__,ft.__values__=ot.__values__,ft}function s_(ot,ft,gt){(gt?Ls(ot,ft,gt):ft===h)?ft=1:ft=es(Cn(ft),0);var wt=ot==null?0:ot.length;if(!wt||ft<1)return[];for(var Dt=0,Bt=0,Ht=fr(_l(wt/ft));Dt<wt;)Ht[Bt++]=ga(ot,Dt,Dt+=ft);return Ht}function a_(ot){for(var ft=-1,gt=ot==null?0:ot.length,wt=0,Dt=[];++ft<gt;){var Bt=ot[ft];Bt&&(Dt[wt++]=Bt)}return Dt}function o_(){var ot=arguments.length;if(!ot)return[];for(var ft=fr(ot-1),gt=arguments[0],wt=ot;wt--;)ft[wt-1]=arguments[wt];return Yn(En(gt)?Ns(gt):[gt],sn(ft,1))}var l_=Ln(function(ot,ft){return is(ot)?nn(ot,sn(ft,1,is,!0)):[]}),u_=Ln(function(ot,ft){var gt=xa(ft);return is(gt)&&(gt=h),is(ot)?nn(ot,sn(ft,1,is,!0),hn(gt,2)):[]}),c_=Ln(function(ot,ft){var gt=xa(ft);return is(gt)&&(gt=h),is(ot)?nn(ot,sn(ft,1,is,!0),h,gt):[]});function h_(ot,ft,gt){var wt=ot==null?0:ot.length;return wt?(ft=gt||ft===h?1:Cn(ft),ga(ot,ft<0?0:ft,wt)):[]}function f_(ot,ft,gt){var wt=ot==null?0:ot.length;return wt?(ft=gt||ft===h?1:Cn(ft),ft=wt-ft,ga(ot,0,ft<0?0:ft)):[]}function d_(ot,ft){return ot&&ot.length?fm(ot,hn(ft,3),!0,!0):[]}function p_(ot,ft){return ot&&ot.length?fm(ot,hn(ft,3),!0):[]}function m_(ot,ft,gt,wt){var Dt=ot==null?0:ot.length;return Dt?(gt&&typeof gt!="number"&&Ls(ot,ft,gt)&&(gt=0,wt=Dt),Zn(ot,ft,gt,wt)):[]}function by(ot,ft,gt){var wt=ot==null?0:ot.length;if(!wt)return-1;var Dt=gt==null?0:Cn(gt);return Dt<0&&(Dt=es(wt+Dt,0)),Xo(ot,hn(ft,3),Dt)}function My(ot,ft,gt){var wt=ot==null?0:ot.length;if(!wt)return-1;var Dt=wt-1;return gt!==h&&(Dt=Cn(gt),Dt=gt<0?es(wt+Dt,0):us(Dt,wt-1)),Xo(ot,hn(ft,3),Dt,!0)}function Cy(ot){var ft=ot==null?0:ot.length;return ft?sn(ot,1):[]}function g_(ot){var ft=ot==null?0:ot.length;return ft?sn(ot,Ct):[]}function v_(ot,ft){var gt=ot==null?0:ot.length;return gt?(ft=ft===h?1:Cn(ft),sn(ot,ft)):[]}function y_(ot){for(var ft=-1,gt=ot==null?0:ot.length,wt={};++ft<gt;){var Dt=ot[ft];wt[Dt[0]]=Dt[1]}return wt}function Ay(ot){return ot&&ot.length?ot[0]:h}function __(ot,ft,gt){var wt=ot==null?0:ot.length;if(!wt)return-1;var Dt=gt==null?0:Cn(gt);return Dt<0&&(Dt=es(wt+Dt,0)),Ks(ot,ft,Dt)}function x_(ot){var ft=ot==null?0:ot.length;return ft?ga(ot,0,-1):[]}var S_=Ln(function(ot){var ft=Wn(ot,ev);return ft.length&&ft[0]===ot[0]?Wm(ft):[]}),T_=Ln(function(ot){var ft=xa(ot),gt=Wn(ot,ev);return ft===xa(gt)?ft=h:gt.pop(),gt.length&&gt[0]===ot[0]?Wm(gt,hn(ft,2)):[]}),E_=Ln(function(ot){var ft=xa(ot),gt=Wn(ot,ev);return ft=typeof ft=="function"?ft:h,ft&&gt.pop(),gt.length&&gt[0]===ot[0]?Wm(gt,h,ft):[]});function w_(ot,ft){return ot==null?"":op.call(ot,ft)}function xa(ot){var ft=ot==null?0:ot.length;return ft?ot[ft-1]:h}function b_(ot,ft,gt){var wt=ot==null?0:ot.length;if(!wt)return-1;var Dt=wt;return gt!==h&&(Dt=Cn(gt),Dt=Dt<0?es(wt+Dt,0):us(Dt,wt-1)),ft===ft?sp(ot,ft,Dt):Xo(ot,Co,Dt,!0)}function M_(ot,ft){return ot&&ot.length?Fv(ot,Cn(ft)):h}var C_=Ln(Py);function Py(ot,ft){return ot&&ot.length&&ft&&ft.length?qm(ot,ft):ot}function A_(ot,ft,gt){return ot&&ot.length&&ft&&ft.length?qm(ot,ft,hn(gt,2)):ot}function P_(ot,ft,gt){return ot&&ot.length&&ft&&ft.length?qm(ot,ft,h,gt):ot}var R_=Bo(function(ot,ft){var gt=ot==null?0:ot.length,wt=Tr(ot,ft);return Bv(ot,Wn(ft,function(Dt){return $o(Dt,gt)?+Dt:Dt}).sort(Xv)),wt});function I_(ot,ft){var gt=[];if(!(ot&&ot.length))return gt;var wt=-1,Dt=[],Bt=ot.length;for(ft=hn(ft,3);++wt<Bt;){var Ht=ot[wt];ft(Ht,wt,ot)&&(gt.push(Ht),Dt.push(wt))}return Bv(ot,Dt),gt}function pv(ot){return ot==null?ot:Zp.call(ot)}function L_(ot,ft,gt){var wt=ot==null?0:ot.length;return wt?(gt&&typeof gt!="number"&&Ls(ot,ft,gt)?(ft=0,gt=wt):(ft=ft==null?0:Cn(ft),gt=gt===h?wt:Cn(gt)),ga(ot,ft,gt)):[]}function O_(ot,ft){return hm(ot,ft)}function D_(ot,ft,gt){return Qm(ot,ft,hn(gt,2))}function F_(ot,ft){var gt=ot==null?0:ot.length;if(gt){var wt=hm(ot,ft);if(wt<gt&&uo(ot[wt],ft))return wt}return-1}function N_(ot,ft){return hm(ot,ft,!0)}function k_(ot,ft,gt){return Qm(ot,ft,hn(gt,2),!0)}function B_(ot,ft){var gt=ot==null?0:ot.length;if(gt){var wt=hm(ot,ft,!0)-1;if(uo(ot[wt],ft))return wt}return-1}function $_(ot){return ot&&ot.length?Uv(ot):[]}function U_(ot,ft){return ot&&ot.length?Uv(ot,hn(ft,2)):[]}function G_(ot){var ft=ot==null?0:ot.length;return ft?ga(ot,1,ft):[]}function V_(ot,ft,gt){return ot&&ot.length?(ft=gt||ft===h?1:Cn(ft),ga(ot,0,ft<0?0:ft)):[]}function H_(ot,ft,gt){var wt=ot==null?0:ot.length;return wt?(ft=gt||ft===h?1:Cn(ft),ft=wt-ft,ga(ot,ft<0?0:ft,wt)):[]}function z_(ot,ft){return ot&&ot.length?fm(ot,hn(ft,3),!1,!0):[]}function W_(ot,ft){return ot&&ot.length?fm(ot,hn(ft,3)):[]}var j_=Ln(function(ot){return Ml(sn(ot,1,is,!0))}),Y_=Ln(function(ot){var ft=xa(ot);return is(ft)&&(ft=h),Ml(sn(ot,1,is,!0),hn(ft,2))}),X_=Ln(function(ot){var ft=xa(ot);return ft=typeof ft=="function"?ft:h,Ml(sn(ot,1,is,!0),h,ft)});function q_(ot){return ot&&ot.length?Ml(ot):[]}function Z_(ot,ft){return ot&&ot.length?Ml(ot,hn(ft,2)):[]}function K_(ot,ft){return ft=typeof ft=="function"?ft:h,ot&&ot.length?Ml(ot,h,ft):[]}function mv(ot){if(!(ot&&ot.length))return[];var ft=0;return ot=$a(ot,function(gt){if(is(gt))return ft=es(gt.length,ft),!0}),Ul(ft,function(gt){return Wn(ot,hu(gt))})}function Ry(ot,ft){if(!(ot&&ot.length))return[];var gt=mv(ot);return ft==null?gt:Wn(gt,function(wt){return ws(ft,h,wt)})}var Q_=Ln(function(ot,ft){return is(ot)?nn(ot,ft):[]}),J_=Ln(function(ot){return _g($a(ot,is))}),ex=Ln(function(ot){var ft=xa(ot);return is(ft)&&(ft=h),_g($a(ot,is),hn(ft,2))}),tx=Ln(function(ot){var ft=xa(ot);return ft=typeof ft=="function"?ft:h,_g($a(ot,is),h,ft)}),rx=Ln(mv);function nx(ot,ft){return zv(ot||[],ft||[],El)}function ix(ot,ft){return zv(ot||[],ft||[],Ep)}var sx=Ln(function(ot){var ft=ot.length,gt=ft>1?ot[ft-1]:h;return gt=typeof gt=="function"?(ot.pop(),gt):h,Ry(ot,gt)});function Iy(ot){var ft=Nt(ot);return ft.__chain__=!0,ft}function ax(ot,ft){return ft(ot),ot}function Sm(ot,ft){return ft(ot)}var ox=Bo(function(ot){var ft=ot.length,gt=ft?ot[0]:0,wt=this.__wrapped__,Dt=function(Bt){return Tr(Bt,ot)};return ft>1||this.__actions__.length||!(wt instanceof In)||!$o(gt)?this.thru(Dt):(wt=wt.slice(gt,+gt+(ft?1:0)),wt.__actions__.push({func:Sm,args:[Dt],thisArg:h}),new Cs(wt,this.__chain__).thru(function(Bt){return ft&&!Bt.length&&Bt.push(h),Bt}))});function lx(){return Iy(this)}function cx(){return new Cs(this.value(),this.__chain__)}function hx(){this.__values__===h&&(this.__values__=Wy(this.value()));var ot=this.__index__>=this.__values__.length,ft=ot?h:this.__values__[this.__index__++];return{done:ot,value:ft}}function fx(){return this}function dx(ot){for(var ft,gt=this;gt instanceof eu;){var wt=wy(gt);wt.__index__=0,wt.__values__=h,ft?Dt.__wrapped__=wt:ft=wt;var Dt=wt;gt=gt.__wrapped__}return Dt.__wrapped__=ot,ft}function mx(){var ot=this.__wrapped__;if(ot instanceof In){var ft=ot;return this.__actions__.length&&(ft=new In(this)),ft=ft.reverse(),ft.__actions__.push({func:Sm,args:[pv],thisArg:h}),new Cs(ft,this.__chain__)}return this.thru(pv)}function gx(){return Hv(this.__wrapped__,this.__actions__)}var yx=dm(function(ot,ft,gt){Bn.call(ot,gt)?++ot[gt]:jt(ot,gt,1)});function xx(ot,ft,gt){var wt=En(ot)?kp:cs;return gt&&Ls(ot,ft,gt)&&(ft=h),wt(ot,hn(ft,3))}function Sx(ot,ft){var gt=En(ot)?$a:Xn;return gt(ot,hn(ft,3))}var Tx=ey(by),Ex=ey(My);function wx(ot,ft){return sn(Tm(ot,ft),1)}function bx(ot,ft){return sn(Tm(ot,ft),Ct)}function Mx(ot,ft,gt){return gt=gt===h?1:Cn(gt),sn(Tm(ot,ft),gt)}function Ly(ot,ft){var gt=En(ot)?bs:Pn;return gt(ot,hn(ft,3))}function Oy(ot,ft){var gt=En(ot)?Np:Gn;return gt(ot,hn(ft,3))}var Cx=dm(function(ot,ft,gt){Bn.call(ot,gt)?ot[gt].push(ft):jt(ot,gt,[ft])});function Ax(ot,ft,gt,wt){ot=ks(ot)?ot:Fu(ot),gt=gt&&!wt?Cn(gt):0;var Dt=ot.length;return gt<0&&(gt=es(Dt+gt,0)),Cm(ot)?gt<=Dt&&ot.indexOf(ft,gt)>-1:!!Dt&&Ks(ot,ft,gt)>-1}var Px=Ln(function(ot,ft,gt){var wt=-1,Dt=typeof ft=="function",Bt=ks(ot)?fr(ot.length):[];return Pn(ot,function(Ht){Bt[++wt]=Dt?ws(ft,Ht,gt):Sp(Ht,ft,gt)}),Bt}),Rx=dm(function(ot,ft,gt){jt(ot,gt,ft)});function Tm(ot,ft){var gt=En(ot)?Wn:Lv;return gt(ot,hn(ft,3))}function Ix(ot,ft,gt,wt){return ot==null?[]:(En(ft)||(ft=ft==null?[]:[ft]),gt=wt?h:gt,En(gt)||(gt=gt==null?[]:[gt]),Nv(ot,ft,gt))}var Lx=dm(function(ot,ft,gt){ot[gt?0:1].push(ft)},function(){return[[],[]]});function Ox(ot,ft,gt){var wt=En(ot)?Ju:ep,Dt=arguments.length<3;return wt(ot,hn(ft,4),gt,Dt,Pn)}function Dx(ot,ft,gt){var wt=En(ot)?Bp:ep,Dt=arguments.length<3;return wt(ot,hn(ft,4),gt,Dt,Gn)}function Fx(ot,ft){var gt=En(ot)?$a:Xn;return gt(ot,bm(hn(ft,3)))}function Nx(ot){var ft=En(ot)?om:w0;return ft(ot)}function kx(ot,ft,gt){(gt?Ls(ot,ft,gt):ft===h)?ft=1:ft=Cn(ft);var wt=En(ot)?lm:b0;return wt(ot,ft)}function Bx(ot){var ft=En(ot)?Hm:C0;return ft(ot)}function $x(ot){if(ot==null)return 0;if(ks(ot))return Cm(ot)?tn(ot):ot.length;var ft=As(ot);return ft==ur||ft==$t?ot.size:Ym(ot).length}function Ux(ot,ft,gt){var wt=En(ot)?_h:A0;return gt&&Ls(ot,ft,gt)&&(ft=h),wt(ot,hn(ft,3))}var Gx=Ln(function(ot,ft){if(ot==null)return[];var gt=ft.length;return gt>1&&Ls(ot,ft[0],ft[1])?ft=[]:gt>2&&Ls(ft[0],ft[1],ft[2])&&(ft=[ft[0]]),Nv(ot,sn(ft,1),[])}),Em=bu||function(){return Tn.Date.now()};function Vx(ot,ft){if(typeof ft!="function")throw new Ms(b);return ot=Cn(ot),function(){if(--ot<1)return ft.apply(this,arguments)}}function Dy(ot,ft,gt){return ft=gt?h:ft,ft=ot&&ft==null?ot.length:ft,ko(ot,mt,h,h,h,h,ft)}function Fy(ot,ft){var gt;if(typeof ft!="function")throw new Ms(b);return ot=Cn(ot),function(){return--ot>0&&(gt=ft.apply(this,arguments)),ot<=1&&(ft=h),gt}}var gv=Ln(function(ot,ft,gt){var wt=ct;if(gt.length){var Dt=ro(gt,Ou(gv));wt|=dt}return ko(ot,wt,ft,gt,Dt)}),Ny=Ln(function(ot,ft,gt){var wt=ct|it;if(gt.length){var Dt=ro(gt,Ou(Ny));wt|=dt}return ko(ft,wt,ot,gt,Dt)});function ky(ot,ft,gt){ft=gt?h:ft;var wt=ko(ot,ht,h,h,h,h,h,ft);return wt.placeholder=ky.placeholder,wt}function By(ot,ft,gt){ft=gt?h:ft;var wt=ko(ot,ut,h,h,h,h,h,ft);return wt.placeholder=By.placeholder,wt}function $y(ot,ft,gt){var wt,Dt,Bt,Ht,qt,nr,Mr=0,Cr=!1,Rr=!1,Ur=!0;if(typeof ot!="function")throw new Ms(b);ft=ba(ft)||0,_i(gt)&&(Cr=!!gt.leading,Rr="maxWait"in gt,Bt=Rr?es(ba(gt.maxWait)||0,ft):Bt,Ur="trailing"in gt?!!gt.trailing:Ur);function Kr(ss){var co=wt,Vo=Dt;return wt=Dt=h,Mr=ss,Ht=ot.apply(Vo,co),Ht}function dn(ss){return Mr=ss,qt=Mp(Dn,ft),Cr?Kr(ss):Ht}function Rn(ss){var co=ss-nr,Vo=ss-Mr,i0=ft-co;return Rr?us(i0,Bt-Vo):i0}function pn(ss){var co=ss-nr,Vo=ss-Mr;return nr===h||co>=ft||co<0||Rr&&Vo>=Bt}function Dn(){var ss=Em();if(pn(ss))return kn(ss);qt=Mp(Dn,Rn(ss))}function kn(ss){return qt=h,Ur&&wt?Kr(ss):(wt=Dt=h,Ht)}function Ws(){qt!==h&&Wv(qt),Mr=0,wt=nr=Dt=qt=h}function Os(){return qt===h?Ht:kn(Em())}function js(){var ss=Em(),co=pn(ss);if(wt=arguments,Dt=this,nr=ss,co){if(qt===h)return dn(nr);if(Rr)return Wv(qt),qt=Mp(Dn,ft),Kr(nr)}return qt===h&&(qt=Mp(Dn,ft)),Ht}return js.cancel=Ws,js.flush=Os,js}var Hx=Ln(function(ot,ft){return An(ot,1,ft)}),zx=Ln(function(ot,ft,gt){return An(ot,ba(ft)||0,gt)});function Wx(ot){return ko(ot,xt)}function wm(ot,ft){if(typeof ot!="function"||ft!=null&&typeof ft!="function")throw new Ms(b);var gt=function(){var wt=arguments,Dt=ft?ft.apply(this,wt):wt[0],Bt=gt.cache;if(Bt.has(Dt))return Bt.get(Dt);var Ht=ot.apply(this,wt);return gt.cache=Bt.set(Dt,Ht)||Bt,Ht};return gt.cache=new(wm.Cache||na),gt}wm.Cache=na;function bm(ot){if(typeof ot!="function")throw new Ms(b);return function(){var ft=arguments;switch(ft.length){case 0:return!ot.call(this);case 1:return!ot.call(this,ft[0]);case 2:return!ot.call(this,ft[0],ft[1]);case 3:return!ot.call(this,ft[0],ft[1],ft[2])}return!ot.apply(this,ft)}}function jx(ot){return Fy(2,ot)}var Yx=P0(function(ot,ft){ft=ft.length==1&&En(ft[0])?Wn(ft[0],_s(hn())):Wn(sn(ft,1),_s(hn()));var gt=ft.length;return Ln(function(wt){for(var Dt=-1,Bt=us(wt.length,gt);++Dt<Bt;)wt[Dt]=ft[Dt].call(this,wt[Dt]);return ws(ot,this,wt)})}),vv=Ln(function(ot,ft){var gt=ro(ft,Ou(vv));return ko(ot,dt,h,ft,gt)}),Uy=Ln(function(ot,ft){var gt=ro(ft,Ou(Uy));return ko(ot,pt,h,ft,gt)}),Xx=Bo(function(ot,ft){return ko(ot,yt,h,h,h,ft)});function qx(ot,ft){if(typeof ot!="function")throw new Ms(b);return ft=ft===h?ft:Cn(ft),Ln(ot,ft)}function Zx(ot,ft){if(typeof ot!="function")throw new Ms(b);return ft=ft==null?0:es(Cn(ft),0),Ln(function(gt){var wt=gt[ft],Dt=Al(gt,0,ft);return wt&&Yn(Dt,wt),ws(ot,this,Dt)})}function Kx(ot,ft,gt){var wt=!0,Dt=!0;if(typeof ot!="function")throw new Ms(b);return _i(gt)&&(wt="leading"in gt?!!gt.leading:wt,Dt="trailing"in gt?!!gt.trailing:Dt),$y(ot,ft,{leading:wt,maxWait:ft,trailing:Dt})}function Qx(ot){return Dy(ot,1)}function Jx(ot,ft){return vv(tv(ft),ot)}function e1(){if(!arguments.length)return[];var ot=arguments[0];return En(ot)?ot:[ot]}function t1(ot){return $r(ot,nt)}function r1(ot,ft){return ft=typeof ft=="function"?ft:h,$r(ot,nt,ft)}function n1(ot){return $r(ot,rt|nt)}function i1(ot,ft){return ft=typeof ft=="function"?ft:h,$r(ot,rt|nt,ft)}function s1(ot,ft){return ft==null||mn(ot,ft,gs(ft))}function uo(ot,ft){return ot===ft||ot!==ot&&ft!==ft}var a1=vm(zm),o1=vm(function(ot,ft){return ot>=ft}),nu=Pv(function(){return arguments}())?Pv:function(ot){return rs(ot)&&Bn.call(ot,"callee")&&!Jo.call(ot,"callee")},En=fr.isArray,l1=Gs?_s(Gs):f0;function ks(ot){return ot!=null&&Mm(ot.length)&&!Uo(ot)}function is(ot){return rs(ot)&&ks(ot)}function u1(ot){return ot===!0||ot===!1||rs(ot)&&Is(ot)==Lr}var Pl=qp||Av,c1=Bl?_s(Bl):d0;function h1(ot){return rs(ot)&&ot.nodeType===1&&!Cp(ot)}function f1(ot){if(ot==null)return!0;if(ks(ot)&&(En(ot)||typeof ot=="string"||typeof ot.splice=="function"||Pl(ot)||Du(ot)||nu(ot)))return!ot.length;var ft=As(ot);if(ft==ur||ft==$t)return!ot.size;if(bp(ot))return!Ym(ot).length;for(var gt in ot)if(Bn.call(ot,gt))return!1;return!0}function d1(ot,ft){return Tp(ot,ft)}function p1(ot,ft,gt){gt=typeof gt=="function"?gt:h;var wt=gt?gt(ot,ft):h;return wt===h?Tp(ot,ft,h,gt):!!wt}function yv(ot){if(!rs(ot))return!1;var ft=Is(ot);return ft==yr||ft==Ar||typeof ot.message=="string"&&typeof ot.name=="string"&&!Cp(ot)}function m1(ot){return typeof ot=="number"&&Mu(ot)}function Uo(ot){if(!_i(ot))return!1;var ft=Is(ot);return ft==Yt||ft==Xt||ft==wr||ft==Nr}function Gy(ot){return typeof ot=="number"&&ot==Cn(ot)}function Mm(ot){return typeof ot=="number"&&ot>-1&&ot%1==0&&ot<=St}function _i(ot){var ft=typeof ot;return ot!=null&&(ft=="object"||ft=="function")}function rs(ot){return ot!=null&&typeof ot=="object"}var Vy=Zu?_s(Zu):m0;function g1(ot,ft){return ot===ft||jm(ot,ft,lv(ft))}function v1(ot,ft,gt){return gt=typeof gt=="function"?gt:h,jm(ot,ft,lv(ft),gt)}function y1(ot){return Hy(ot)&&ot!=+ot}function _1(ot){if(Q0(ot))throw new yn(_);return Rv(ot)}function x1(ot){return ot===null}function S1(ot){return ot==null}function Hy(ot){return typeof ot=="number"||rs(ot)&&Is(ot)==br}function Cp(ot){if(!rs(ot)||Is(ot)!=Pr)return!1;var ft=io(ot);if(ft===null)return!0;var gt=Bn.call(ft,"constructor")&&ft.constructor;return typeof gt=="function"&&gt instanceof gt&&Gl.call(gt)==Hl}var _v=uu?_s(uu):g0;function T1(ot){return Gy(ot)&&ot>=-St&&ot<=St}var zy=wo?_s(wo):v0;function Cm(ot){return typeof ot=="string"||!En(ot)&&rs(ot)&&Is(ot)==kt}function zs(ot){return typeof ot=="symbol"||rs(ot)&&Is(ot)==hr}var Du=Ku?_s(Ku):y0;function E1(ot){return ot===h}function w1(ot){return rs(ot)&&As(ot)==Ir}function b1(ot){return rs(ot)&&Is(ot)==Dr}var M1=vm(Xm),C1=vm(function(ot,ft){return ot<=ft});function Wy(ot){if(!ot)return[];if(ks(ot))return Cm(ot)?Rs(ot):Ns(ot);if(fo&&ot[fo])return ip(ot[fo]());var ft=As(ot),gt=ft==ur?mu:ft==$t?Zo:Fu;return gt(ot)}function Go(ot){if(!ot)return ot===0?ot:0;if(ot=ba(ot),ot===Ct||ot===-Ct){var ft=ot<0?-1:1;return ft*At}return ot===ot?ot:0}function Cn(ot){var ft=Go(ot),gt=ft%1;return ft===ft?gt?ft-gt:ft:0}function jy(ot){return ot?dr(Cn(ot),0,Ot):0}function ba(ot){if(typeof ot=="number")return ot;if(zs(ot))return Rt;if(_i(ot)){var ft=typeof ot.valueOf=="function"?ot.valueOf():ot;ot=_i(ft)?ft+"":ft}if(typeof ot!="string")return ot===0?ot:+ot;ot=fu(ot);var gt=Sn.test(ot);return gt||vs.test(ot)?To(ot.slice(2),gt?2:8):un.test(ot)?Rt:+ot}function Yy(ot){return vo(ot,Bs(ot))}function A1(ot){return ot?dr(Cn(ot),-St,St):ot===0?ot:0}function Hn(ot){return ot==null?"":Hs(ot)}var P1=Iu(function(ot,ft){if(bp(ft)||ks(ft)){vo(ft,gs(ft),ot);return}for(var gt in ft)Bn.call(ft,gt)&&El(ot,gt,ft[gt])}),Xy=Iu(function(ot,ft){vo(ft,Bs(ft),ot)}),Am=Iu(function(ot,ft,gt,wt){vo(ft,Bs(ft),ot,wt)}),R1=Iu(function(ot,ft,gt,wt){vo(ft,gs(ft),ot,wt)}),I1=Bo(Tr);function L1(ot,ft){var gt=go(ot);return ft==null?gt:Ft(gt,ft)}var O1=Ln(function(ot,ft){ot=Vn(ot);var gt=-1,wt=ft.length,Dt=wt>2?ft[2]:h;for(Dt&&Ls(ft[0],ft[1],Dt)&&(wt=1);++gt<wt;)for(var Bt=ft[gt],Ht=Bs(Bt),qt=-1,nr=Ht.length;++qt<nr;){var Mr=Ht[qt],Cr=ot[Mr];(Cr===h||uo(Cr,Ko[Mr])&&!Bn.call(ot,Mr))&&(ot[Mr]=Bt[Mr])}return ot}),D1=Ln(function(ot){return ot.push(h,oy),ws(qy,h,ot)});function F1(ot,ft){return Gp(ot,hn(ft,3),fs)}function N1(ot,ft){return Gp(ot,hn(ft,3),ms)}function k1(ot,ft){return ot==null?ot:ts(ot,hn(ft,3),Bs)}function B1(ot,ft){return ot==null?ot:hs(ot,hn(ft,3),Bs)}function $1(ot,ft){return ot&&fs(ot,hn(ft,3))}function U1(ot,ft){return ot&&ms(ot,hn(ft,3))}function G1(ot){return ot==null?[]:Ss(ot,gs(ot))}function V1(ot){return ot==null?[]:Ss(ot,Bs(ot))}function xv(ot,ft,gt){var wt=ot==null?h:No(ot,ft);return wt===h?gt:wt}function H1(ot,ft){return ot!=null&&hy(ot,ft,l0)}function Sv(ot,ft){return ot!=null&&hy(ot,ft,u0)}var z1=ry(function(ot,ft,gt){ft!=null&&typeof ft.toString!="function"&&(ft=Vl.call(ft)),ot[ft]=gt},Ev($s)),W1=ry(function(ot,ft,gt){ft!=null&&typeof ft.toString!="function"&&(ft=Vl.call(ft)),Bn.call(ot,ft)?ot[ft].push(gt):ot[ft]=[gt]},hn),j1=Ln(Sp);function gs(ot){return ks(ot)?am(ot):Ym(ot)}function Bs(ot){return ks(ot)?am(ot,!0):_0(ot)}function Y1(ot,ft){var gt={};return ft=hn(ft,3),fs(ot,function(wt,Dt,Bt){jt(gt,ft(wt,Dt,Bt),wt)}),gt}function X1(ot,ft){var gt={};return ft=hn(ft,3),fs(ot,function(wt,Dt,Bt){jt(gt,Dt,ft(wt,Dt,Bt))}),gt}var q1=Iu(function(ot,ft,gt){cm(ot,ft,gt)}),qy=Iu(function(ot,ft,gt,wt){cm(ot,ft,gt,wt)}),Z1=Bo(function(ot,ft){var gt={};if(ot==null)return gt;var wt=!1;ft=Wn(ft,function(Bt){return Bt=Cl(Bt,ot),wt||(wt=Bt.length>1),Bt}),vo(ot,av(ot),gt),wt&&(gt=$r(gt,rt|tt|nt,U0));for(var Dt=ft.length;Dt--;)Jm(gt,ft[Dt]);return gt});function K1(ot,ft){return Zy(ot,bm(hn(ft)))}var Q1=Bo(function(ot,ft){return ot==null?{}:S0(ot,ft)});function Zy(ot,ft){if(ot==null)return{};var gt=Wn(av(ot),function(wt){return[wt]});return ft=hn(ft),kv(ot,gt,function(wt,Dt){return ft(wt,Dt[0])})}function J1(ot,ft,gt){ft=Cl(ft,ot);var wt=-1,Dt=ft.length;for(Dt||(Dt=1,ot=h);++wt<Dt;){var Bt=ot==null?h:ot[yo(ft[wt])];Bt===h&&(wt=Dt,Bt=gt),ot=Uo(Bt)?Bt.call(ot):Bt}return ot}function eS(ot,ft,gt){return ot==null?ot:Ep(ot,ft,gt)}function tS(ot,ft,gt,wt){return wt=typeof wt=="function"?wt:h,ot==null?ot:Ep(ot,ft,gt,wt)}var Ky=sy(gs),Qy=sy(Bs);function rS(ot,ft,gt){var wt=En(ot),Dt=wt||Pl(ot)||Du(ot);if(ft=hn(ft,4),gt==null){var Bt=ot&&ot.constructor;Dt?gt=wt?new Bt:[]:_i(ot)?gt=Uo(Bt)?go(io(ot)):{}:gt={}}return(Dt?bs:fs)(ot,function(Ht,qt,nr){return ft(gt,Ht,qt,nr)}),gt}function nS(ot,ft){return ot==null?!0:Jm(ot,ft)}function iS(ot,ft,gt){return ot==null?ot:Vv(ot,ft,tv(gt))}function sS(ot,ft,gt,wt){return wt=typeof wt=="function"?wt:h,ot==null?ot:Vv(ot,ft,tv(gt),wt)}function Fu(ot){return ot==null?[]:Ao(ot,gs(ot))}function aS(ot){return ot==null?[]:Ao(ot,Bs(ot))}function oS(ot,ft,gt){return gt===h&&(gt=ft,ft=h),gt!==h&&(gt=ba(gt),gt=gt===gt?gt:0),ft!==h&&(ft=ba(ft),ft=ft===ft?ft:0),dr(ba(ot),ft,gt)}function lS(ot,ft,gt){return ft=Go(ft),gt===h?(gt=ft,ft=0):gt=Go(gt),ot=ba(ot),c0(ot,ft,gt)}function uS(ot,ft,gt){if(gt&&typeof gt!="boolean"&&Ls(ot,ft,gt)&&(ft=gt=h),gt===h&&(typeof ft=="boolean"?(gt=ft,ft=h):typeof ot=="boolean"&&(gt=ot,ot=h)),ot===h&&ft===h?(ot=0,ft=1):(ot=Go(ot),ft===h?(ft=ot,ot=0):ft=Go(ft)),ot>ft){var wt=ot;ot=ft,ft=wt}if(gt||ot%1||ft%1){var Dt=up();return us(ot+Dt*(ft-ot+Fp("1e-"+((Dt+"").length-1))),ft)}return Zm(ot,ft)}var cS=Lu(function(ot,ft,gt){return ft=ft.toLowerCase(),ot+(gt?Jy(ft):ft)});function Jy(ot){return Tv(Hn(ot).toLowerCase())}function e0(ot){return ot=Hn(ot),ot&&ot.replace(On,Hp).replace(ju,"")}function hS(ot,ft,gt){ot=Hn(ot),ft=Hs(ft);var wt=ot.length;gt=gt===h?wt:dr(Cn(gt),0,wt);var Dt=gt;return gt-=ft.length,gt>=0&&ot.slice(gt,Dt)==ft}function fS(ot){return ot=Hn(ot),ot&&sr.test(ot)?ot.replace(Fn,du):ot}function dS(ot){return ot=Hn(ot),ot&&bn.test(ot)?ot.replace(Xr,"\\$&"):ot}var pS=Lu(function(ot,ft,gt){return ot+(gt?"-":"")+ft.toLowerCase()}),mS=Lu(function(ot,ft,gt){return ot+(gt?" ":"")+ft.toLowerCase()}),gS=Jv("toLowerCase");function vS(ot,ft,gt){ot=Hn(ot),ft=Cn(ft);var wt=ft?tn(ot):0;if(!ft||wt>=ft)return ot;var Dt=(ft-wt)/2;return gm(Xl(Dt),gt)+ot+gm(_l(Dt),gt)}function yS(ot,ft,gt){ot=Hn(ot),ft=Cn(ft);var wt=ft?tn(ot):0;return ft&&wt<ft?ot+gm(ft-wt,gt):ot}function _S(ot,ft,gt){ot=Hn(ot),ft=Cn(ft);var wt=ft?tn(ot):0;return ft&&wt<ft?gm(ft-wt,gt)+ot:ot}function xS(ot,ft,gt){return gt||ft==null?ft=0:ft&&(ft=+ft),Fm(Hn(ot).replace(Ut,""),ft||0)}function SS(ot,ft,gt){return(gt?Ls(ot,ft,gt):ft===h)?ft=1:ft=Cn(ft),Km(Hn(ot),ft)}function TS(){var ot=arguments,ft=Hn(ot[0]);return ot.length<3?ft:ft.replace(ot[1],ot[2])}var ES=Lu(function(ot,ft,gt){return ot+(gt?"_":"")+ft.toLowerCase()});function wS(ot,ft,gt){return gt&&typeof gt!="number"&&Ls(ot,ft,gt)&&(ft=gt=h),gt=gt===h?Ot:gt>>>0,gt?(ot=Hn(ot),ot&&(typeof ft=="string"||ft!=null&&!_v(ft))&&(ft=Hs(ft),!ft&&Ro(ot))?Al(Rs(ot),0,gt):ot.split(ft,gt)):[]}var bS=Lu(function(ot,ft,gt){return ot+(gt?" ":"")+Tv(ft)});function MS(ot,ft,gt){return ot=Hn(ot),gt=gt==null?0:dr(Cn(gt),0,ot.length),ft=Hs(ft),ot.slice(gt,gt+ft.length)==ft}function CS(ot,ft,gt){var wt=Nt.templateSettings;gt&&Ls(ot,ft,gt)&&(ft=h),ot=Hn(ot),ft=Am({},ft,wt,ay);var Dt=Am({},ft.imports,wt.imports,ay),Bt=gs(Dt),Ht=Ao(Dt,Bt),qt,nr,Mr=0,Cr=ft.interpolate||vn,Rr="__p += '",Ur=_u((ft.escape||vn).source+"|"+Cr.source+"|"+(Cr===jr?fn:vn).source+"|"+(ft.evaluate||vn).source+"|$","g"),Kr="//# sourceURL="+(Bn.call(ft,"sourceURL")?(ft.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dp+"]")+`
`;ot.replace(Ur,function(pn,Dn,kn,Ws,Os,js){return kn||(kn=Ws),Rr+=ot.slice(Mr,js).replace(Yr,np),Dn&&(qt=!0,Rr+=`' +
__e(`+Dn+`) +
'`),Os&&(nr=!0,Rr+=`';
`+Os+`;
__p += '`),kn&&(Rr+=`' +
((__t = (`+kn+`)) == null ? '' : __t) +
'`),Mr=js+pn.length,pn}),Rr+=`';
`;var dn=Bn.call(ft,"variable")&&ft.variable;if(!dn)Rr=`with (obj) {
`+Rr+`
}
`;else if(rn.test(dn))throw new yn($);Rr=(nr?Rr.replace(rr,""):Rr).replace(ln,"$1").replace(wn,"$1;"),Rr="function("+(dn||"obj")+`) {
`+(dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(qt?", __e = _.escape":"")+(nr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Rr+`return __p
}`;var Rn=r0(function(){return Nn(Bt,Kr+"return "+Rr).apply(h,Ht)});if(Rn.source=Rr,yv(Rn))throw Rn;return Rn}function AS(ot){return Hn(ot).toLowerCase()}function PS(ot){return Hn(ot).toUpperCase()}function RS(ot,ft,gt){if(ot=Hn(ot),ot&&(gt||ft===h))return fu(ot);if(!ot||!(ft=Hs(ft)))return ot;var wt=Rs(ot),Dt=Rs(ft),Bt=Vp(wt,Dt),Ht=rp(wt,Dt)+1;return Al(wt,Bt,Ht).join("")}function IS(ot,ft,gt){if(ot=Hn(ot),ot&&(gt||ft===h))return ot.slice(0,vu(ot)+1);if(!ot||!(ft=Hs(ft)))return ot;var wt=Rs(ot),Dt=rp(wt,Rs(ft))+1;return Al(wt,0,Dt).join("")}function LS(ot,ft,gt){if(ot=Hn(ot),ot&&(gt||ft===h))return ot.replace(Ut,"");if(!ot||!(ft=Hs(ft)))return ot;var wt=Rs(ot),Dt=Vp(wt,Rs(ft));return Al(wt,Dt).join("")}function OS(ot,ft){var gt=Tt,wt=_t;if(_i(ft)){var Dt="separator"in ft?ft.separator:Dt;gt="length"in ft?Cn(ft.length):gt,wt="omission"in ft?Hs(ft.omission):wt}ot=Hn(ot);var Bt=ot.length;if(Ro(ot)){var Ht=Rs(ot);Bt=Ht.length}if(gt>=Bt)return ot;var qt=gt-tn(wt);if(qt<1)return wt;var nr=Ht?Al(Ht,0,qt).join(""):ot.slice(0,qt);if(Dt===h)return nr+wt;if(Ht&&(qt+=nr.length-qt),_v(Dt)){if(ot.slice(qt).search(Dt)){var Mr,Cr=nr;for(Dt.global||(Dt=_u(Dt.source,Hn(xn.exec(Dt))+"g")),Dt.lastIndex=0;Mr=Dt.exec(Cr);)var Rr=Mr.index;nr=nr.slice(0,Rr===h?qt:Rr)}}else if(ot.indexOf(Hs(Dt),qt)!=qt){var Ur=nr.lastIndexOf(Dt);Ur>-1&&(nr=nr.slice(0,Ur))}return nr+wt}function DS(ot){return ot=Hn(ot),ot&&er.test(ot)?ot.replace(Kn,Qs):ot}var FS=Lu(function(ot,ft,gt){return ot+(gt?" ":"")+ft.toUpperCase()}),Tv=Jv("toUpperCase");function t0(ot,ft,gt){return ot=Hn(ot),ft=gt?h:ft,ft===h?pu(ot)?jp(ot):Up(ot):ot.match(ft)||[]}var r0=Ln(function(ot,ft){try{return ws(ot,h,ft)}catch(gt){return yv(gt)?gt:new yn(gt)}}),NS=Bo(function(ot,ft){return bs(ft,function(gt){gt=yo(gt),jt(ot,gt,gv(ot[gt],ot))}),ot});function kS(ot){var ft=ot==null?0:ot.length,gt=hn();return ot=ft?Wn(ot,function(wt){if(typeof wt[1]!="function")throw new Ms(b);return[gt(wt[0]),wt[1]]}):[],Ln(function(wt){for(var Dt=-1;++Dt<ft;){var Bt=ot[Dt];if(ws(Bt[0],this,wt))return ws(Bt[1],this,wt)}})}function BS(ot){return kr($r(ot,rt))}function Ev(ot){return function(){return ot}}function $S(ot,ft){return ot==null||ot!==ot?ft:ot}var US=ty(),GS=ty(!0);function $s(ot){return ot}function wv(ot){return Iv(typeof ot=="function"?ot:$r(ot,rt))}function VS(ot){return Ov($r(ot,rt))}function HS(ot,ft){return Dv(ot,$r(ft,rt))}var zS=Ln(function(ot,ft){return function(gt){return Sp(gt,ot,ft)}}),jS=Ln(function(ot,ft){return function(gt){return Sp(ot,gt,ft)}});function bv(ot,ft,gt){var wt=gs(ft),Dt=Ss(ft,wt);gt==null&&!(_i(ft)&&(Dt.length||!wt.length))&&(gt=ft,ft=ot,ot=this,Dt=Ss(ft,gs(ft)));var Bt=!(_i(gt)&&"chain"in gt)||!!gt.chain,Ht=Uo(ot);return bs(Dt,function(qt){var nr=ft[qt];ot[qt]=nr,Ht&&(ot.prototype[qt]=function(){var Mr=this.__chain__;if(Bt||Mr){var Cr=ot(this.__wrapped__),Rr=Cr.__actions__=Ns(this.__actions__);return Rr.push({func:nr,args:arguments,thisArg:ot}),Cr.__chain__=Mr,Cr}return nr.apply(ot,Yn([this.value()],arguments))})}),ot}function YS(){return Tn._===this&&(Tn._=Qo),this}function Mv(){}function XS(ot){return ot=Cn(ot),Ln(function(ft){return Fv(ft,ot)})}var qS=nv(Wn),ZS=nv(kp),KS=nv(_h);function n0(ot){return cv(ot)?hu(yo(ot)):T0(ot)}function QS(ot){return function(ft){return ot==null?h:No(ot,ft)}}var JS=ny(),eT=ny(!0);function Cv(){return[]}function Av(){return!1}function tT(){return{}}function rT(){return""}function nT(){return!0}function iT(ot,ft){if(ot=Cn(ot),ot<1||ot>St)return[];var gt=Ot,wt=us(ot,Ot);ft=hn(ft),ot-=Ot;for(var Dt=Ul(wt,ft);++gt<ot;)ft(gt);return Dt}function sT(ot){return En(ot)?Wn(ot,yo):zs(ot)?[ot]:Ns(Ey(Hn(ot)))}function aT(ot){var ft=++ap;return Hn(ot)+ft}var oT=mm(function(ot,ft){return ot+ft},0),lT=iv("ceil"),uT=mm(function(ot,ft){return ot/ft},1),cT=iv("floor");function hT(ot){return ot&&ot.length?Jn(ot,$s,zm):h}function fT(ot,ft){return ot&&ot.length?Jn(ot,hn(ft,2),zm):h}function dT(ot){return cu(ot,$s)}function pT(ot,ft){return cu(ot,hn(ft,2))}function mT(ot){return ot&&ot.length?Jn(ot,$s,Xm):h}function gT(ot,ft){return ot&&ot.length?Jn(ot,hn(ft,2),Xm):h}var vT=mm(function(ot,ft){return ot*ft},1),yT=iv("round"),_T=mm(function(ot,ft){return ot-ft},0);function xT(ot){return ot&&ot.length?$l(ot,$s):0}function ST(ot,ft){return ot&&ot.length?$l(ot,hn(ft,2)):0}return Nt.after=Vx,Nt.ary=Dy,Nt.assign=P1,Nt.assignIn=Xy,Nt.assignInWith=Am,Nt.assignWith=R1,Nt.at=I1,Nt.before=Fy,Nt.bind=gv,Nt.bindAll=NS,Nt.bindKey=Ny,Nt.castArray=e1,Nt.chain=Iy,Nt.chunk=s_,Nt.compact=a_,Nt.concat=o_,Nt.cond=kS,Nt.conforms=BS,Nt.constant=Ev,Nt.countBy=yx,Nt.create=L1,Nt.curry=ky,Nt.curryRight=By,Nt.debounce=$y,Nt.defaults=O1,Nt.defaultsDeep=D1,Nt.defer=Hx,Nt.delay=zx,Nt.difference=l_,Nt.differenceBy=u_,Nt.differenceWith=c_,Nt.drop=h_,Nt.dropRight=f_,Nt.dropRightWhile=d_,Nt.dropWhile=p_,Nt.fill=m_,Nt.filter=Sx,Nt.flatMap=wx,Nt.flatMapDeep=bx,Nt.flatMapDepth=Mx,Nt.flatten=Cy,Nt.flattenDeep=g_,Nt.flattenDepth=v_,Nt.flip=Wx,Nt.flow=US,Nt.flowRight=GS,Nt.fromPairs=y_,Nt.functions=G1,Nt.functionsIn=V1,Nt.groupBy=Cx,Nt.initial=x_,Nt.intersection=S_,Nt.intersectionBy=T_,Nt.intersectionWith=E_,Nt.invert=z1,Nt.invertBy=W1,Nt.invokeMap=Px,Nt.iteratee=wv,Nt.keyBy=Rx,Nt.keys=gs,Nt.keysIn=Bs,Nt.map=Tm,Nt.mapKeys=Y1,Nt.mapValues=X1,Nt.matches=VS,Nt.matchesProperty=HS,Nt.memoize=wm,Nt.merge=q1,Nt.mergeWith=qy,Nt.method=zS,Nt.methodOf=jS,Nt.mixin=bv,Nt.negate=bm,Nt.nthArg=XS,Nt.omit=Z1,Nt.omitBy=K1,Nt.once=jx,Nt.orderBy=Ix,Nt.over=qS,Nt.overArgs=Yx,Nt.overEvery=ZS,Nt.overSome=KS,Nt.partial=vv,Nt.partialRight=Uy,Nt.partition=Lx,Nt.pick=Q1,Nt.pickBy=Zy,Nt.property=n0,Nt.propertyOf=QS,Nt.pull=C_,Nt.pullAll=Py,Nt.pullAllBy=A_,Nt.pullAllWith=P_,Nt.pullAt=R_,Nt.range=JS,Nt.rangeRight=eT,Nt.rearg=Xx,Nt.reject=Fx,Nt.remove=I_,Nt.rest=qx,Nt.reverse=pv,Nt.sampleSize=kx,Nt.set=eS,Nt.setWith=tS,Nt.shuffle=Bx,Nt.slice=L_,Nt.sortBy=Gx,Nt.sortedUniq=$_,Nt.sortedUniqBy=U_,Nt.split=wS,Nt.spread=Zx,Nt.tail=G_,Nt.take=V_,Nt.takeRight=H_,Nt.takeRightWhile=z_,Nt.takeWhile=W_,Nt.tap=ax,Nt.throttle=Kx,Nt.thru=Sm,Nt.toArray=Wy,Nt.toPairs=Ky,Nt.toPairsIn=Qy,Nt.toPath=sT,Nt.toPlainObject=Yy,Nt.transform=rS,Nt.unary=Qx,Nt.union=j_,Nt.unionBy=Y_,Nt.unionWith=X_,Nt.uniq=q_,Nt.uniqBy=Z_,Nt.uniqWith=K_,Nt.unset=nS,Nt.unzip=mv,Nt.unzipWith=Ry,Nt.update=iS,Nt.updateWith=sS,Nt.values=Fu,Nt.valuesIn=aS,Nt.without=Q_,Nt.words=t0,Nt.wrap=Jx,Nt.xor=J_,Nt.xorBy=ex,Nt.xorWith=tx,Nt.zip=rx,Nt.zipObject=nx,Nt.zipObjectDeep=ix,Nt.zipWith=sx,Nt.entries=Ky,Nt.entriesIn=Qy,Nt.extend=Xy,Nt.extendWith=Am,bv(Nt,Nt),Nt.add=oT,Nt.attempt=r0,Nt.camelCase=cS,Nt.capitalize=Jy,Nt.ceil=lT,Nt.clamp=oS,Nt.clone=t1,Nt.cloneDeep=n1,Nt.cloneDeepWith=i1,Nt.cloneWith=r1,Nt.conformsTo=s1,Nt.deburr=e0,Nt.defaultTo=$S,Nt.divide=uT,Nt.endsWith=hS,Nt.eq=uo,Nt.escape=fS,Nt.escapeRegExp=dS,Nt.every=xx,Nt.find=Tx,Nt.findIndex=by,Nt.findKey=F1,Nt.findLast=Ex,Nt.findLastIndex=My,Nt.findLastKey=N1,Nt.floor=cT,Nt.forEach=Ly,Nt.forEachRight=Oy,Nt.forIn=k1,Nt.forInRight=B1,Nt.forOwn=$1,Nt.forOwnRight=U1,Nt.get=xv,Nt.gt=a1,Nt.gte=o1,Nt.has=H1,Nt.hasIn=Sv,Nt.head=Ay,Nt.identity=$s,Nt.includes=Ax,Nt.indexOf=__,Nt.inRange=lS,Nt.invoke=j1,Nt.isArguments=nu,Nt.isArray=En,Nt.isArrayBuffer=l1,Nt.isArrayLike=ks,Nt.isArrayLikeObject=is,Nt.isBoolean=u1,Nt.isBuffer=Pl,Nt.isDate=c1,Nt.isElement=h1,Nt.isEmpty=f1,Nt.isEqual=d1,Nt.isEqualWith=p1,Nt.isError=yv,Nt.isFinite=m1,Nt.isFunction=Uo,Nt.isInteger=Gy,Nt.isLength=Mm,Nt.isMap=Vy,Nt.isMatch=g1,Nt.isMatchWith=v1,Nt.isNaN=y1,Nt.isNative=_1,Nt.isNil=S1,Nt.isNull=x1,Nt.isNumber=Hy,Nt.isObject=_i,Nt.isObjectLike=rs,Nt.isPlainObject=Cp,Nt.isRegExp=_v,Nt.isSafeInteger=T1,Nt.isSet=zy,Nt.isString=Cm,Nt.isSymbol=zs,Nt.isTypedArray=Du,Nt.isUndefined=E1,Nt.isWeakMap=w1,Nt.isWeakSet=b1,Nt.join=w_,Nt.kebabCase=pS,Nt.last=xa,Nt.lastIndexOf=b_,Nt.lowerCase=mS,Nt.lowerFirst=gS,Nt.lt=M1,Nt.lte=C1,Nt.max=hT,Nt.maxBy=fT,Nt.mean=dT,Nt.meanBy=pT,Nt.min=mT,Nt.minBy=gT,Nt.stubArray=Cv,Nt.stubFalse=Av,Nt.stubObject=tT,Nt.stubString=rT,Nt.stubTrue=nT,Nt.multiply=vT,Nt.nth=M_,Nt.noConflict=YS,Nt.noop=Mv,Nt.now=Em,Nt.pad=vS,Nt.padEnd=yS,Nt.padStart=_S,Nt.parseInt=xS,Nt.random=uS,Nt.reduce=Ox,Nt.reduceRight=Dx,Nt.repeat=SS,Nt.replace=TS,Nt.result=J1,Nt.round=yT,Nt.runInContext=Jt,Nt.sample=Nx,Nt.size=$x,Nt.snakeCase=ES,Nt.some=Ux,Nt.sortedIndex=O_,Nt.sortedIndexBy=D_,Nt.sortedIndexOf=F_,Nt.sortedLastIndex=N_,Nt.sortedLastIndexBy=k_,Nt.sortedLastIndexOf=B_,Nt.startCase=bS,Nt.startsWith=MS,Nt.subtract=_T,Nt.sum=xT,Nt.sumBy=ST,Nt.template=CS,Nt.times=iT,Nt.toFinite=Go,Nt.toInteger=Cn,Nt.toLength=jy,Nt.toLower=AS,Nt.toNumber=ba,Nt.toSafeInteger=A1,Nt.toString=Hn,Nt.toUpper=PS,Nt.trim=RS,Nt.trimEnd=IS,Nt.trimStart=LS,Nt.truncate=OS,Nt.unescape=DS,Nt.uniqueId=aT,Nt.upperCase=FS,Nt.upperFirst=Tv,Nt.each=Ly,Nt.eachRight=Oy,Nt.first=Ay,bv(Nt,function(){var ot={};return fs(Nt,function(ft,gt){Bn.call(Nt.prototype,gt)||(ot[gt]=ft)}),ot}(),{chain:!1}),Nt.VERSION=d,bs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(ot){Nt[ot].placeholder=Nt}),bs(["drop","take"],function(ot,ft){In.prototype[ot]=function(gt){gt=gt===h?1:es(Cn(gt),0);var wt=this.__filtered__&&!ft?new In(this):this.clone();return wt.__filtered__?wt.__takeCount__=us(gt,wt.__takeCount__):wt.__views__.push({size:us(gt,Ot),type:ot+(wt.__dir__<0?"Right":"")}),wt},In.prototype[ot+"Right"]=function(gt){return this.reverse()[ot](gt).reverse()}}),bs(["filter","map","takeWhile"],function(ot,ft){var gt=ft+1,wt=gt==Pt||gt==Et;In.prototype[ot]=function(Dt){var Bt=this.clone();return Bt.__iteratees__.push({iteratee:hn(Dt,3),type:gt}),Bt.__filtered__=Bt.__filtered__||wt,Bt}}),bs(["head","last"],function(ot,ft){var gt="take"+(ft?"Right":"");In.prototype[ot]=function(){return this[gt](1).value()[0]}}),bs(["initial","tail"],function(ot,ft){var gt="drop"+(ft?"":"Right");In.prototype[ot]=function(){return this.__filtered__?new In(this):this[gt](1)}}),In.prototype.compact=function(){return this.filter($s)},In.prototype.find=function(ot){return this.filter(ot).head()},In.prototype.findLast=function(ot){return this.reverse().find(ot)},In.prototype.invokeMap=Ln(function(ot,ft){return typeof ot=="function"?new In(this):this.map(function(gt){return Sp(gt,ot,ft)})}),In.prototype.reject=function(ot){return this.filter(bm(hn(ot)))},In.prototype.slice=function(ot,ft){ot=Cn(ot);var gt=this;return gt.__filtered__&&(ot>0||ft<0)?new In(gt):(ot<0?gt=gt.takeRight(-ot):ot&&(gt=gt.drop(ot)),ft!==h&&(ft=Cn(ft),gt=ft<0?gt.dropRight(-ft):gt.take(ft-ot)),gt)},In.prototype.takeRightWhile=function(ot){return this.reverse().takeWhile(ot).reverse()},In.prototype.toArray=function(){return this.take(Ot)},fs(In.prototype,function(ot,ft){var gt=/^(?:filter|find|map|reject)|While$/.test(ft),wt=/^(?:head|last)$/.test(ft),Dt=Nt[wt?"take"+(ft=="last"?"Right":""):ft],Bt=wt||/^find/.test(ft);!Dt||(Nt.prototype[ft]=function(){var Ht=this.__wrapped__,qt=wt?[1]:arguments,nr=Ht instanceof In,Mr=qt[0],Cr=nr||En(Ht),Rr=function(Dn){var kn=Dt.apply(Nt,Yn([Dn],qt));return wt&&Ur?kn[0]:kn};Cr&&gt&&typeof Mr=="function"&&Mr.length!=1&&(nr=Cr=!1);var Ur=this.__chain__,Kr=!!this.__actions__.length,dn=Bt&&!Ur,Rn=nr&&!Kr;if(!Bt&&Cr){Ht=Rn?Ht:new In(this);var pn=ot.apply(Ht,qt);return pn.__actions__.push({func:Sm,args:[Rr],thisArg:h}),new Cs(pn,Ur)}return dn&&Rn?ot.apply(this,qt):(pn=this.thru(Rr),dn?wt?pn.value()[0]:pn.value():pn)})}),bs(["pop","push","shift","sort","splice","unshift"],function(ot){var ft=Vs[ot],gt=/^(?:push|sort|unshift)$/.test(ot)?"tap":"thru",wt=/^(?:pop|shift)$/.test(ot);Nt.prototype[ot]=function(){var Dt=arguments;if(wt&&!this.__chain__){var Bt=this.value();return ft.apply(En(Bt)?Bt:[],Dt)}return this[gt](function(Ht){return ft.apply(En(Ht)?Ht:[],Dt)})}}),fs(In.prototype,function(ot,ft){var gt=Nt[ft];if(gt){var wt=gt.name+"";Bn.call(mo,wt)||(mo[wt]=[]),mo[wt].push({name:ft,func:gt})}}),mo[pm(h,it).name]=[{name:"wrapper",func:h}],In.prototype.clone=pp,In.prototype.reverse=Nm,In.prototype.value=mp,Nt.prototype.at=ox,Nt.prototype.chain=lx,Nt.prototype.commit=cx,Nt.prototype.next=hx,Nt.prototype.plant=dx,Nt.prototype.reverse=mx,Nt.prototype.toJSON=Nt.prototype.valueOf=Nt.prototype.value=gx,Nt.prototype.first=Nt.prototype.head,fo&&(Nt.prototype[fo]=fx),Nt},Js=Io();qs?((qs.exports=Js)._=Js,Eo._=Js):Tn._=Js}).call(commonjsGlobal)})(lodash,lodash.exports);var classnames$1={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(o){(function(){var e={}.hasOwnProperty;function h(){for(var d=[],g=0;g<arguments.length;g++){var _=arguments[g];if(!!_){var b=typeof _;if(b==="string"||b==="number")d.push(_);else if(Array.isArray(_)){if(_.length){var $=h.apply(null,_);$&&d.push($)}}else if(b==="object")if(_.toString===Object.prototype.toString)for(var j in _)e.call(_,j)&&_[j]&&d.push(j);else d.push(_.toString())}}return d.join(" ")}o.exports?(h.default=h,o.exports=h):window.classNames=h})()})(classnames$1);var classnames=classnames$1.exports,axios$2={exports:{}},bind$5=function(e,h){return function(){for(var g=new Array(arguments.length),_=0;_<g.length;_++)g[_]=arguments[_];return e.apply(h,g)}},bind$4=bind$5,toString$3=Object.prototype.toString;function isArray$6(o){return Array.isArray(o)}function isUndefined$2(o){return typeof o=="undefined"}function isBuffer$1(o){return o!==null&&!isUndefined$2(o)&&o.constructor!==null&&!isUndefined$2(o.constructor)&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function isArrayBuffer(o){return toString$3.call(o)==="[object ArrayBuffer]"}function isFormData(o){return toString$3.call(o)==="[object FormData]"}function isArrayBufferView(o){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(o):e=o&&o.buffer&&isArrayBuffer(o.buffer),e}function isString$3(o){return typeof o=="string"}function isNumber$3(o){return typeof o=="number"}function isObject$5(o){return o!==null&&typeof o=="object"}function isPlainObject(o){if(toString$3.call(o)!=="[object Object]")return!1;var e=Object.getPrototypeOf(o);return e===null||e===Object.prototype}function isDate$3(o){return toString$3.call(o)==="[object Date]"}function isFile(o){return toString$3.call(o)==="[object File]"}function isBlob(o){return toString$3.call(o)==="[object Blob]"}function isFunction$2(o){return toString$3.call(o)==="[object Function]"}function isStream(o){return isObject$5(o)&&isFunction$2(o.pipe)}function isURLSearchParams(o){return toString$3.call(o)==="[object URLSearchParams]"}function trim(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(o,e){if(!(o===null||typeof o=="undefined"))if(typeof o!="object"&&(o=[o]),isArray$6(o))for(var h=0,d=o.length;h<d;h++)e.call(null,o[h],h,o);else for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&e.call(null,o[g],g,o)}function merge$2(){var o={};function e(g,_){isPlainObject(o[_])&&isPlainObject(g)?o[_]=merge$2(o[_],g):isPlainObject(g)?o[_]=merge$2({},g):isArray$6(g)?o[_]=g.slice():o[_]=g}for(var h=0,d=arguments.length;h<d;h++)forEach(arguments[h],e);return o}function extend$5(o,e,h){return forEach(e,function(g,_){h&&typeof g=="function"?o[_]=bind$4(g,h):o[_]=g}),o}function stripBOM(o){return o.charCodeAt(0)===65279&&(o=o.slice(1)),o}var utils$h={isArray:isArray$6,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$3,isNumber:isNumber$3,isObject:isObject$5,isPlainObject,isUndefined:isUndefined$2,isDate:isDate$3,isFile,isBlob,isFunction:isFunction$2,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge:merge$2,extend:extend$5,trim,stripBOM},utils$g=utils$h;function encode$3(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(e,h,d){if(!h)return e;var g;if(d)g=d(h);else if(utils$g.isURLSearchParams(h))g=h.toString();else{var _=[];utils$g.forEach(h,function(j,_e){j===null||typeof j=="undefined"||(utils$g.isArray(j)?_e=_e+"[]":j=[j],utils$g.forEach(j,function(rt){utils$g.isDate(rt)?rt=rt.toISOString():utils$g.isObject(rt)&&(rt=JSON.stringify(rt)),_.push(encode$3(_e)+"="+encode$3(rt))}))}),g=_.join("&")}if(g){var b=e.indexOf("#");b!==-1&&(e=e.slice(0,b)),e+=(e.indexOf("?")===-1?"?":"&")+g}return e},utils$f=utils$h;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,h,d){return this.handlers.push({fulfilled:e,rejected:h,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};InterceptorManager$1.prototype.forEach=function(e){utils$f.forEach(this.handlers,function(d){d!==null&&e(d)})};var InterceptorManager_1=InterceptorManager$1,utils$e=utils$h,normalizeHeaderName$1=function(e,h){utils$e.forEach(e,function(g,_){_!==h&&_.toUpperCase()===h.toUpperCase()&&(e[h]=g,delete e[_])})},enhanceError$2=function(e,h,d,g,_){return e.config=h,d&&(e.code=d),e.request=g,e.response=_,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},enhanceError$1=enhanceError$2,createError$2=function(e,h,d,g,_){var b=new Error(e);return enhanceError$1(b,h,d,g,_)},createError$1=createError$2,settle$1=function(e,h,d){var g=d.config.validateStatus;!d.status||!g||g(d.status)?e(d):h(createError$1("Request failed with status code "+d.status,d.config,null,d.request,d))},utils$d=utils$h,cookies$1=utils$d.isStandardBrowserEnv()?function(){return{write:function(h,d,g,_,b,$){var j=[];j.push(h+"="+encodeURIComponent(d)),utils$d.isNumber(g)&&j.push("expires="+new Date(g).toGMTString()),utils$d.isString(_)&&j.push("path="+_),utils$d.isString(b)&&j.push("domain="+b),$===!0&&j.push("secure"),document.cookie=j.join("; ")},read:function(h){var d=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return d?decodeURIComponent(d[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},combineURLs$1=function(e,h){return h?e.replace(/\/+$/,"")+"/"+h.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(e,h){return e&&!isAbsoluteURL(h)?combineURLs(e,h):h},utils$c=utils$h,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(e){var h={},d,g,_;return e&&utils$c.forEach(e.split(`
`),function($){if(_=$.indexOf(":"),d=utils$c.trim($.substr(0,_)).toLowerCase(),g=utils$c.trim($.substr(_+1)),d){if(h[d]&&ignoreDuplicateOf.indexOf(d)>=0)return;d==="set-cookie"?h[d]=(h[d]?h[d]:[]).concat([g]):h[d]=h[d]?h[d]+", "+g:g}}),h},utils$b=utils$h,isURLSameOrigin$1=utils$b.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a"),d;function g(_){var b=_;return e&&(h.setAttribute("href",b),b=h.href),h.setAttribute("href",b),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:h.pathname.charAt(0)==="/"?h.pathname:"/"+h.pathname}}return d=g(window.location.href),function(b){var $=utils$b.isString(b)?g(b):b;return $.protocol===d.protocol&&$.host===d.host}}():function(){return function(){return!0}}();function Cancel$3(o){this.message=o}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$a=utils$h,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,defaults$8=defaults_1,Cancel$2=Cancel_1,xhr=function(e){return new Promise(function(d,g){var _=e.data,b=e.headers,$=e.responseType,j;function _e(){e.cancelToken&&e.cancelToken.unsubscribe(j),e.signal&&e.signal.removeEventListener("abort",j)}utils$a.isFormData(_)&&delete b["Content-Type"];var et=new XMLHttpRequest;if(e.auth){var rt=e.auth.username||"",tt=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";b.Authorization="Basic "+btoa(rt+":"+tt)}var nt=buildFullPath(e.baseURL,e.url);et.open(e.method.toUpperCase(),buildURL$1(nt,e.params,e.paramsSerializer),!0),et.timeout=e.timeout;function st(){if(!!et){var ct="getAllResponseHeaders"in et?parseHeaders(et.getAllResponseHeaders()):null,it=!$||$==="text"||$==="json"?et.responseText:et.response,lt={data:it,status:et.status,statusText:et.statusText,headers:ct,config:e,request:et};settle(function(ut){d(ut),_e()},function(ut){g(ut),_e()},lt),et=null}}if("onloadend"in et?et.onloadend=st:et.onreadystatechange=function(){!et||et.readyState!==4||et.status===0&&!(et.responseURL&&et.responseURL.indexOf("file:")===0)||setTimeout(st)},et.onabort=function(){!et||(g(createError("Request aborted",e,"ECONNABORTED",et)),et=null)},et.onerror=function(){g(createError("Network Error",e,null,et)),et=null},et.ontimeout=function(){var it=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",lt=e.transitional||defaults$8.transitional;e.timeoutErrorMessage&&(it=e.timeoutErrorMessage),g(createError(it,e,lt.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",et)),et=null},utils$a.isStandardBrowserEnv()){var at=(e.withCredentials||isURLSameOrigin(nt))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;at&&(b[e.xsrfHeaderName]=at)}"setRequestHeader"in et&&utils$a.forEach(b,function(it,lt){typeof _=="undefined"&&lt.toLowerCase()==="content-type"?delete b[lt]:et.setRequestHeader(lt,it)}),utils$a.isUndefined(e.withCredentials)||(et.withCredentials=!!e.withCredentials),$&&$!=="json"&&(et.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&et.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&et.upload&&et.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(j=function(ct){!et||(g(!ct||ct&&ct.type?new Cancel$2("canceled"):ct),et.abort(),et=null)},e.cancelToken&&e.cancelToken.subscribe(j),e.signal&&(e.signal.aborted?j():e.signal.addEventListener("abort",j))),_||(_=null),et.send(_)})},utils$9=utils$h,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(o,e){!utils$9.isUndefined(o)&&utils$9.isUndefined(o["Content-Type"])&&(o["Content-Type"]=e)}function getDefaultAdapter(){var o;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(o=xhr),o}function stringifySafely(o,e,h){if(utils$9.isString(o))try{return(e||JSON.parse)(o),utils$9.trim(o)}catch(d){if(d.name!=="SyntaxError")throw d}return(h||JSON.stringify)(o)}var defaults$7={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(e,h){return normalizeHeaderName(h,"Accept"),normalizeHeaderName(h,"Content-Type"),utils$9.isFormData(e)||utils$9.isArrayBuffer(e)||utils$9.isBuffer(e)||utils$9.isStream(e)||utils$9.isFile(e)||utils$9.isBlob(e)?e:utils$9.isArrayBufferView(e)?e.buffer:utils$9.isURLSearchParams(e)?(setContentTypeIfUnset(h,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils$9.isObject(e)||h&&h["Content-Type"]==="application/json"?(setContentTypeIfUnset(h,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var h=this.transitional||defaults$7.transitional,d=h&&h.silentJSONParsing,g=h&&h.forcedJSONParsing,_=!d&&this.responseType==="json";if(_||g&&utils$9.isString(e)&&e.length)try{return JSON.parse(e)}catch(b){if(_)throw b.name==="SyntaxError"?enhanceError(b,this,"E_JSON_PARSE"):b}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$9.forEach(["delete","get","head"],function(e){defaults$7.headers[e]={}});utils$9.forEach(["post","put","patch"],function(e){defaults$7.headers[e]=utils$9.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$7,utils$8=utils$h,defaults$6=defaults_1,transformData$1=function(e,h,d){var g=this||defaults$6;return utils$8.forEach(d,function(b){e=b.call(g,e,h)}),e},isCancel$1=function(e){return!!(e&&e.__CANCEL__)},utils$7=utils$h,transformData=transformData$1,isCancel=isCancel$1,defaults$5=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(e){throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$7.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$7.forEach(["delete","get","head","post","put","patch","common"],function(g){delete e.headers[g]});var h=e.adapter||defaults$5.adapter;return h(e).then(function(g){return throwIfCancellationRequested(e),g.data=transformData.call(e,g.data,g.headers,e.transformResponse),g},function(g){return isCancel(g)||(throwIfCancellationRequested(e),g&&g.response&&(g.response.data=transformData.call(e,g.response.data,g.response.headers,e.transformResponse))),Promise.reject(g)})},utils$6=utils$h,mergeConfig$2=function(e,h){h=h||{};var d={};function g(et,rt){return utils$6.isPlainObject(et)&&utils$6.isPlainObject(rt)?utils$6.merge(et,rt):utils$6.isPlainObject(rt)?utils$6.merge({},rt):utils$6.isArray(rt)?rt.slice():rt}function _(et){if(utils$6.isUndefined(h[et])){if(!utils$6.isUndefined(e[et]))return g(void 0,e[et])}else return g(e[et],h[et])}function b(et){if(!utils$6.isUndefined(h[et]))return g(void 0,h[et])}function $(et){if(utils$6.isUndefined(h[et])){if(!utils$6.isUndefined(e[et]))return g(void 0,e[et])}else return g(void 0,h[et])}function j(et){if(et in h)return g(e[et],h[et]);if(et in e)return g(void 0,e[et])}var _e={url:b,method:b,data:b,baseURL:$,transformRequest:$,transformResponse:$,paramsSerializer:$,timeout:$,timeoutMessage:$,withCredentials:$,adapter:$,responseType:$,xsrfCookieName:$,xsrfHeaderName:$,onUploadProgress:$,onDownloadProgress:$,decompress:$,maxContentLength:$,maxBodyLength:$,transport:$,httpAgent:$,httpsAgent:$,cancelToken:$,socketPath:$,responseEncoding:$,validateStatus:j};return utils$6.forEach(Object.keys(e).concat(Object.keys(h)),function(rt){var tt=_e[rt]||_,nt=tt(rt);utils$6.isUndefined(nt)&&tt!==j||(d[rt]=nt)}),d},data={version:"0.25.0"},VERSION$3=data.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(o,e){validators$1[o]=function(d){return typeof d===o||"a"+(e<1?"n ":" ")+o}});var deprecatedWarnings={};validators$1.transitional=function(e,h,d){function g(_,b){return"[Axios v"+VERSION$3+"] Transitional option '"+_+"'"+b+(d?". "+d:"")}return function(_,b,$){if(e===!1)throw new Error(g(b," has been removed"+(h?" in "+h:"")));return h&&!deprecatedWarnings[b]&&(deprecatedWarnings[b]=!0,console.warn(g(b," has been deprecated since v"+h+" and will be removed in the near future"))),e?e(_,b,$):!0}};function assertOptions(o,e,h){if(typeof o!="object")throw new TypeError("options must be an object");for(var d=Object.keys(o),g=d.length;g-- >0;){var _=d[g],b=e[_];if(b){var $=o[_],j=$===void 0||b($,_,o);if(j!==!0)throw new TypeError("option "+_+" must be "+j);continue}if(h!==!0)throw Error("Unknown option "+_)}}var validator$1={assertOptions,validators:validators$1},utils$5=utils$h,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(o){this.defaults=o,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e,h){if(typeof e=="string"?(h=h||{},h.url=e):h=e||{},!h.url)throw new Error("Provided config url is not valid");h=mergeConfig$1(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var d=h.transitional;d!==void 0&&validator.assertOptions(d,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var g=[],_=!0;this.interceptors.request.forEach(function(nt){typeof nt.runWhen=="function"&&nt.runWhen(h)===!1||(_=_&&nt.synchronous,g.unshift(nt.fulfilled,nt.rejected))});var b=[];this.interceptors.response.forEach(function(nt){b.push(nt.fulfilled,nt.rejected)});var $;if(!_){var j=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(j,g),j=j.concat(b),$=Promise.resolve(h);j.length;)$=$.then(j.shift(),j.shift());return $}for(var _e=h;g.length;){var et=g.shift(),rt=g.shift();try{_e=et(_e)}catch(tt){rt(tt);break}}try{$=dispatchRequest(_e)}catch(tt){return Promise.reject(tt)}for(;b.length;)$=$.then(b.shift(),b.shift());return $};Axios$1.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=mergeConfig$1(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};utils$5.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(h,d){return this.request(mergeConfig$1(d||{},{method:e,url:h,data:(d||{}).data}))}});utils$5.forEach(["post","put","patch"],function(e){Axios$1.prototype[e]=function(h,d,g){return this.request(mergeConfig$1(g||{},{method:e,url:h,data:d}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(o){if(typeof o!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(g){e=g});var h=this;this.promise.then(function(d){if(!!h._listeners){var g,_=h._listeners.length;for(g=0;g<_;g++)h._listeners[g](d);h._listeners=null}}),this.promise.then=function(d){var g,_=new Promise(function(b){h.subscribe(b),g=b}).then(d);return _.cancel=function(){h.unsubscribe(g)},_},o(function(g){h.reason||(h.reason=new Cancel(g),e(h.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};CancelToken.prototype.unsubscribe=function(e){if(!!this._listeners){var h=this._listeners.indexOf(e);h!==-1&&this._listeners.splice(h,1)}};CancelToken.source=function(){var e,h=new CancelToken(function(g){e=g});return{token:h,cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(d){return e.apply(null,d)}},utils$4=utils$h,isAxiosError=function(e){return utils$4.isObject(e)&&e.isAxiosError===!0},utils$3=utils$h,bind$3=bind$5,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$4=defaults_1;function createInstance(o){var e=new Axios(o),h=bind$3(Axios.prototype.request,e);return utils$3.extend(h,Axios.prototype,e),utils$3.extend(h,e),h.create=function(g){return createInstance(mergeConfig(o,g))},h}var axios$1=createInstance(defaults$4);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.all=function(e){return Promise.all(e)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports,isPlainObj=o=>{if(Object.prototype.toString.call(o)!=="[object Object]")return!1;const e=Object.getPrototypeOf(o);return e===null||e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$2}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(o,e,h)=>Object.defineProperty(o,e,{value:h,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=o=>{const e=[];for(const h in o)hasOwnProperty$2.call(o,h)&&e.push(h);if(Object.getOwnPropertySymbols){const h=Object.getOwnPropertySymbols(o);for(const d of h)propertyIsEnumerable.call(o,d)&&e.push(d)}return e};function clone$4(o){return Array.isArray(o)?cloneArray(o):isOptionObject(o)?cloneOptionObject(o):o}function cloneArray(o){const e=o.slice(0,0);return getEnumerableOwnPropertyKeys(o).forEach(h=>{defineProperty(e,h,clone$4(o[h]))}),e}function cloneOptionObject(o){const e=Object.getPrototypeOf(o)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(o).forEach(h=>{defineProperty(e,h,clone$4(o[h]))}),e}const mergeKeys=(o,e,h,d)=>(h.forEach(g=>{typeof e[g]=="undefined"&&d.ignoreUndefined||(g in o&&o[g]!==Object.getPrototypeOf(o)?defineProperty(o,g,merge$1(o[g],e[g],d)):defineProperty(o,g,clone$4(e[g])))}),o),concatArrays=(o,e,h)=>{let d=o.slice(0,0),g=0;return[o,e].forEach(_=>{const b=[];for(let $=0;$<_.length;$++)!hasOwnProperty$2.call(_,$)||(b.push(String($)),_===o?defineProperty(d,g++,_[$]):defineProperty(d,g++,clone$4(_[$])));d=mergeKeys(d,_,getEnumerableOwnPropertyKeys(_).filter($=>!b.includes($)),h)}),d};function merge$1(o,e,h){return h.concatArrays&&Array.isArray(o)&&Array.isArray(e)?concatArrays(o,e,h):!isOptionObject(e)||!isOptionObject(o)?clone$4(e):mergeKeys(o,e,getEnumerableOwnPropertyKeys(e),h)}var mergeOptions=function(...o){const e=merge$1(clone$4(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let h={_:{}};for(const d of o)if(d!==void 0){if(!isOptionObject(d))throw new TypeError("`"+d+"` is not an Option Object");h=merge$1(h,{_:d},e)}return h._},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(o,e,h){var d,g={},_=null,b=null;h!==void 0&&(_=""+h),e.key!==void 0&&(_=""+e.key),e.ref!==void 0&&(b=e.ref);for(d in e)m$1.call(e,d)&&!p$1.hasOwnProperty(d)&&(g[d]=e[d]);if(o&&o.defaultProps)for(d in e=o.defaultProps,e)g[d]===void 0&&(g[d]=e[d]);return{$$typeof:k,type:o,key:_,ref:b,props:g,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment;class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(e){super(`Invalid unit ${e}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hour12:!1},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hour12:!1},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hour12:!1,timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hour12:!1,timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};function isUndefined$1(o){return typeof o=="undefined"}function isNumber$2(o){return typeof o=="number"}function isInteger(o){return typeof o=="number"&&o%1==0}function isString$2(o){return typeof o=="string"}function isDate$2(o){return Object.prototype.toString.call(o)==="[object Date]"}function hasIntl(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function hasFormatToParts(){return!isUndefined$1(Intl.DateTimeFormat.prototype.formatToParts)}function hasRelative(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function maybeArray(o){return Array.isArray(o)?o:[o]}function bestBy(o,e,h){if(o.length!==0)return o.reduce((d,g)=>{const _=[e(g),g];return d&&h(d[0],_[0])===d[0]?d:_},null)[1]}function pick$1(o,e){return e.reduce((h,d)=>(h[d]=o[d],h),{})}function hasOwnProperty$1(o,e){return Object.prototype.hasOwnProperty.call(o,e)}function integerBetween(o,e,h){return isInteger(o)&&o>=e&&o<=h}function floorMod(o,e){return o-e*Math.floor(o/e)}function padStart(o,e=2){const h=o<0?"-":"",d=h?o*-1:o;let g;return d.toString().length<e?g=("0".repeat(e)+d).slice(-e):g=d.toString(),`${h}${g}`}function parseInteger(o){if(!(isUndefined$1(o)||o===null||o===""))return parseInt(o,10)}function parseMillis(o){if(!(isUndefined$1(o)||o===null||o==="")){const e=parseFloat("0."+o)*1e3;return Math.floor(e)}}function roundTo(o,e,h=!1){const d=10**e;return(h?Math.trunc:Math.round)(o*d)/d}function isLeapYear$1(o){return o%4==0&&(o%100!=0||o%400==0)}function daysInYear$1(o){return isLeapYear$1(o)?366:365}function daysInMonth$1(o,e){const h=floorMod(e-1,12)+1,d=o+(e-h)/12;return h===2?isLeapYear$1(d)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][h-1]}function objToLocalTS(o){let e=Date.UTC(o.year,o.month-1,o.day,o.hour,o.minute,o.second,o.millisecond);return o.year<100&&o.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function weeksInWeekYear(o){const e=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7,h=o-1,d=(h+Math.floor(h/4)-Math.floor(h/100)+Math.floor(h/400))%7;return e===4||d===3?53:52}function untruncateYear$1(o){return o>99?o:o>60?1900+o:2e3+o}function parseZoneInfo(o,e,h,d=null){const g=new Date(o),_={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};d&&(_.timeZone=d);const b=Object.assign({timeZoneName:e},_),$=hasIntl();if($&&hasFormatToParts()){const j=new Intl.DateTimeFormat(h,b).formatToParts(g).find(_e=>_e.type.toLowerCase()==="timezonename");return j?j.value:null}else if($){const j=new Intl.DateTimeFormat(h,_).format(g);return new Intl.DateTimeFormat(h,b).format(g).substring(j.length).replace(/^[, \u200e]+/,"")}else return null}function signedOffset(o,e){let h=parseInt(o,10);Number.isNaN(h)&&(h=0);const d=parseInt(e,10)||0,g=h<0||Object.is(h,-0)?-d:d;return h*60+g}function asNumber(o){const e=Number(o);if(typeof o=="boolean"||o===""||Number.isNaN(e))throw new InvalidArgumentError(`Invalid unit value ${o}`);return e}function normalizeObject(o,e,h){const d={};for(const g in o)if(hasOwnProperty$1(o,g)){if(h.indexOf(g)>=0)continue;const _=o[g];if(_==null)continue;d[e(g)]=asNumber(_)}return d}function formatOffset(o,e){const h=Math.trunc(Math.abs(o/60)),d=Math.trunc(Math.abs(o%60)),g=o>=0?"+":"-";switch(e){case"short":return`${g}${padStart(h,2)}:${padStart(d,2)}`;case"narrow":return`${g}${h}${d>0?`:${d}`:""}`;case"techie":return`${g}${padStart(h,2)}${padStart(d,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function timeObject(o){return pick$1(o,["hour","minute","second","millisecond"])}const ianaRegex=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function stringify$3(o){return JSON.stringify(o,Object.keys(o).sort())}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months$1(o){switch(o){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(o){switch(o){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(o){switch(o){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(o){return meridiems[o.hour<12?0:1]}function weekdayForDateTime(o,e){return weekdays(e)[o.weekday-1]}function monthForDateTime(o,e){return months$1(e)[o.month-1]}function eraForDateTime(o,e){return eras(e)[o.year<0?0:1]}function formatRelativeTime(o,e,h="always",d=!1){const g={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},_=["hours","minutes","seconds"].indexOf(o)===-1;if(h==="auto"&&_){const rt=o==="days";switch(e){case 1:return rt?"tomorrow":`next ${g[o][0]}`;case-1:return rt?"yesterday":`last ${g[o][0]}`;case 0:return rt?"today":`this ${g[o][0]}`}}const b=Object.is(e,-0)||e<0,$=Math.abs(e),j=$===1,_e=g[o],et=d?j?_e[1]:_e[2]||_e[1]:j?g[o][0]:o;return b?`${$} ${et} ago`:`in ${$} ${et}`}function formatString(o){const e=pick$1(o,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),h=stringify$3(e),d="EEEE, LLLL d, yyyy, h:mm a";switch(h){case stringify$3(DATE_SHORT):return"M/d/yyyy";case stringify$3(DATE_MED):return"LLL d, yyyy";case stringify$3(DATE_MED_WITH_WEEKDAY):return"EEE, LLL d, yyyy";case stringify$3(DATE_FULL):return"LLLL d, yyyy";case stringify$3(DATE_HUGE):return"EEEE, LLLL d, yyyy";case stringify$3(TIME_SIMPLE):return"h:mm a";case stringify$3(TIME_WITH_SECONDS):return"h:mm:ss a";case stringify$3(TIME_WITH_SHORT_OFFSET):return"h:mm a";case stringify$3(TIME_WITH_LONG_OFFSET):return"h:mm a";case stringify$3(TIME_24_SIMPLE):return"HH:mm";case stringify$3(TIME_24_WITH_SECONDS):return"HH:mm:ss";case stringify$3(TIME_24_WITH_SHORT_OFFSET):return"HH:mm";case stringify$3(TIME_24_WITH_LONG_OFFSET):return"HH:mm";case stringify$3(DATETIME_SHORT):return"M/d/yyyy, h:mm a";case stringify$3(DATETIME_MED):return"LLL d, yyyy, h:mm a";case stringify$3(DATETIME_FULL):return"LLLL d, yyyy, h:mm a";case stringify$3(DATETIME_HUGE):return d;case stringify$3(DATETIME_SHORT_WITH_SECONDS):return"M/d/yyyy, h:mm:ss a";case stringify$3(DATETIME_MED_WITH_SECONDS):return"LLL d, yyyy, h:mm:ss a";case stringify$3(DATETIME_MED_WITH_WEEKDAY):return"EEE, d LLL yyyy, h:mm a";case stringify$3(DATETIME_FULL_WITH_SECONDS):return"LLLL d, yyyy, h:mm:ss a";case stringify$3(DATETIME_HUGE_WITH_SECONDS):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return d}}function stringifyTokens(o,e){let h="";for(const d of o)d.literal?h+=d.val:h+=e(d.val);return h}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(e,h={}){return new Formatter(e,h)}static parseFormat(e){let h=null,d="",g=!1;const _=[];for(let b=0;b<e.length;b++){const $=e.charAt(b);$==="'"?(d.length>0&&_.push({literal:g,val:d}),h=null,d="",g=!g):g||$===h?d+=$:(d.length>0&&_.push({literal:!1,val:d}),d=$,h=$)}return d.length>0&&_.push({literal:g,val:d}),_}static macroTokenToFormatOpts(e){return macroTokenToFormatOpts[e]}constructor(e,h){this.opts=h,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,h){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,Object.assign({},this.opts,h)).format()}formatDateTime(e,h={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,h)).format()}formatDateTimeParts(e,h={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,h)).formatToParts()}resolvedOptions(e,h={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,h)).resolvedOptions()}num(e,h=0){if(this.opts.forceSimple)return padStart(e,h);const d=Object.assign({},this.opts);return h>0&&(d.padTo=h),this.loc.numberFormatter(d).format(e)}formatDateTimeFromString(e,h){const d=this.loc.listingMode()==="en",g=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&hasFormatToParts(),_=(nt,st)=>this.loc.extract(e,nt,st),b=nt=>e.isOffsetFixed&&e.offset===0&&nt.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,nt.format):"",$=()=>d?meridiemForDateTime(e):_({hour:"numeric",hour12:!0},"dayperiod"),j=(nt,st)=>d?monthForDateTime(e,nt):_(st?{month:nt}:{month:nt,day:"numeric"},"month"),_e=(nt,st)=>d?weekdayForDateTime(e,nt):_(st?{weekday:nt}:{weekday:nt,month:"long",day:"numeric"},"weekday"),et=nt=>{const st=Formatter.macroTokenToFormatOpts(nt);return st?this.formatWithSystemDefault(e,st):nt},rt=nt=>d?eraForDateTime(e,nt):_({era:nt},"era"),tt=nt=>{switch(nt){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return b({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return b({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return b({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return $();case"d":return g?_({day:"numeric"},"day"):this.num(e.day);case"dd":return g?_({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return _e("short",!0);case"cccc":return _e("long",!0);case"ccccc":return _e("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return _e("short",!1);case"EEEE":return _e("long",!1);case"EEEEE":return _e("narrow",!1);case"L":return g?_({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return g?_({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return j("short",!0);case"LLLL":return j("long",!0);case"LLLLL":return j("narrow",!0);case"M":return g?_({month:"numeric"},"month"):this.num(e.month);case"MM":return g?_({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return j("short",!1);case"MMMM":return j("long",!1);case"MMMMM":return j("narrow",!1);case"y":return g?_({year:"numeric"},"year"):this.num(e.year);case"yy":return g?_({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return g?_({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return g?_({year:"numeric"},"year"):this.num(e.year,6);case"G":return rt("short");case"GG":return rt("long");case"GGGGG":return rt("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return et(nt)}};return stringifyTokens(Formatter.parseFormat(h),tt)}formatDurationFromString(e,h){const d=j=>{switch(j[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},g=j=>_e=>{const et=d(_e);return et?this.num(j.get(et),_e.length):_e},_=Formatter.parseFormat(h),b=_.reduce((j,{literal:_e,val:et})=>_e?j:j.concat(et),[]),$=e.shiftTo(...b.map(d).filter(j=>j));return stringifyTokens(_,g($))}}class Invalid{constructor(e,h){this.reason=e,this.explanation=h}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get universal(){throw new ZoneIsAbstractError}offsetName(e,h){throw new ZoneIsAbstractError}formatOffset(e,h){throw new ZoneIsAbstractError}offset(e){throw new ZoneIsAbstractError}equals(e){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class LocalZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new LocalZone),singleton$1}get type(){return"local"}get name(){return hasIntl()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}get universal(){return!1}offsetName(e,{format:h,locale:d}){return parseZoneInfo(e,h,d)}formatOffset(e,h){return formatOffset(this.offset(e),h)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="local"}get isValid(){return!0}}const matchingRegex=RegExp(`^${ianaRegex.source}$`);let dtfCache={};function makeDTF(o){return dtfCache[o]||(dtfCache[o]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:o,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),dtfCache[o]}const typeToPos={year:0,month:1,day:2,hour:3,minute:4,second:5};function hackyOffset(o,e){const h=o.format(e).replace(/\u200E/g,""),d=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(h),[,g,_,b,$,j,_e]=d;return[b,g,_,$,j,_e]}function partsOffset(o,e){const h=o.formatToParts(e),d=[];for(let g=0;g<h.length;g++){const{type:_,value:b}=h[g],$=typeToPos[_];isUndefined$1($)||(d[$]=parseInt(b,10))}return d}let ianaZoneCache={};class IANAZone extends Zone{static create(e){return ianaZoneCache[e]||(ianaZoneCache[e]=new IANAZone(e)),ianaZoneCache[e]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(e){return!!(e&&e.match(matchingRegex))}static isValidZone(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}static parseGMTOffset(e){if(e){const h=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(h)return-60*parseInt(h[1])}return null}constructor(e){super();this.zoneName=e,this.valid=IANAZone.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get universal(){return!1}offsetName(e,{format:h,locale:d}){return parseZoneInfo(e,h,d,this.name)}formatOffset(e,h){return formatOffset(this.offset(e),h)}offset(e){const h=new Date(e);if(isNaN(h))return NaN;const d=makeDTF(this.name),[g,_,b,$,j,_e]=d.formatToParts?partsOffset(d,h):hackyOffset(d,h),rt=objToLocalTS({year:g,month:_,day:b,hour:$===24?0:$,minute:j,second:_e,millisecond:0});let tt=+h;const nt=tt%1e3;return tt-=nt>=0?nt:1e3+nt,(rt-tt)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(e){return e===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(e)}static parseSpecifier(e){if(e){const h=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(h)return new FixedOffsetZone(signedOffset(h[1],h[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,h){return formatOffset(this.fixed,h)}get universal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get universal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(o,e){let h;if(isUndefined$1(o)||o===null)return e;if(o instanceof Zone)return o;if(isString$2(o)){const d=o.toLowerCase();return d==="local"?e:d==="utc"||d==="gmt"?FixedOffsetZone.utcInstance:(h=IANAZone.parseGMTOffset(o))!=null?FixedOffsetZone.instance(h):IANAZone.isValidSpecifier(d)?IANAZone.create(o):FixedOffsetZone.parseSpecifier(d)||new InvalidZone(o)}else return isNumber$2(o)?FixedOffsetZone.instance(o):typeof o=="object"&&o.offset&&typeof o.offset=="number"?o:new InvalidZone(o)}let now$5=()=>Date.now(),defaultZone=null,defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,throwOnInvalid=!1;class Settings{static get now(){return now$5}static set now(e){now$5=e}static get defaultZoneName(){return Settings.defaultZone.name}static set defaultZoneName(e){e?defaultZone=normalizeZone(e):defaultZone=null}static get defaultZone(){return defaultZone||LocalZone.instance}static get defaultLocale(){return defaultLocale}static set defaultLocale(e){defaultLocale=e}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(e){defaultNumberingSystem=e}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(e){defaultOutputCalendar=e}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(e){throwOnInvalid=e}static resetCaches(){Locale$1.resetCache(),IANAZone.resetCache()}}let intlDTCache={};function getCachedDTF(o,e={}){const h=JSON.stringify([o,e]);let d=intlDTCache[h];return d||(d=new Intl.DateTimeFormat(o,e),intlDTCache[h]=d),d}let intlNumCache={};function getCachedINF(o,e={}){const h=JSON.stringify([o,e]);let d=intlNumCache[h];return d||(d=new Intl.NumberFormat(o,e),intlNumCache[h]=d),d}let intlRelCache={};function getCachedRTF(o,e={}){const b=e,{base:h}=b,d=Rm(b,["base"]),g=JSON.stringify([o,d]);let _=intlRelCache[g];return _||(_=new Intl.RelativeTimeFormat(o,e),intlRelCache[g]=_),_}let sysLocaleCache=null;function systemLocale(){if(sysLocaleCache)return sysLocaleCache;if(hasIntl()){const o=new Intl.DateTimeFormat().resolvedOptions().locale;return sysLocaleCache=!o||o==="und"?"en-US":o,sysLocaleCache}else return sysLocaleCache="en-US",sysLocaleCache}function parseLocaleString(o){const e=o.indexOf("-u-");if(e===-1)return[o];{let h;const d=o.substring(0,e);try{h=getCachedDTF(o).resolvedOptions()}catch{h=getCachedDTF(d).resolvedOptions()}const{numberingSystem:g,calendar:_}=h;return[d,g,_]}}function intlConfigString(o,e,h){return hasIntl()?((h||e)&&(o+="-u",h&&(o+=`-ca-${h}`),e&&(o+=`-nu-${e}`)),o):[]}function mapMonths(o){const e=[];for(let h=1;h<=12;h++){const d=DateTime.utc(2016,h,1);e.push(o(d))}return e}function mapWeekdays(o){const e=[];for(let h=1;h<=7;h++){const d=DateTime.utc(2016,11,13+h);e.push(o(d))}return e}function listStuff(o,e,h,d,g){const _=o.listingMode(h);return _==="error"?null:_==="en"?d(e):g(e)}function supportsFastNumbers(o){return o.numberingSystem&&o.numberingSystem!=="latn"?!1:o.numberingSystem==="latn"||!o.locale||o.locale.startsWith("en")||hasIntl()&&new Intl.DateTimeFormat(o.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(e,h,d){if(this.padTo=d.padTo||0,this.floor=d.floor||!1,!h&&hasIntl()){const g={useGrouping:!1};d.padTo>0&&(g.minimumIntegerDigits=d.padTo),this.inf=getCachedINF(e,g)}}format(e){if(this.inf){const h=this.floor?Math.floor(e):e;return this.inf.format(h)}else{const h=this.floor?Math.floor(e):roundTo(e,3);return padStart(h,this.padTo)}}}class PolyDateFormatter{constructor(e,h,d){this.opts=d,this.hasIntl=hasIntl();let g;if(e.zone.universal&&this.hasIntl){const _=-1*(e.offset/60),b=_>=0?`Etc/GMT+${_}`:`Etc/GMT${_}`,$=IANAZone.isValidZone(b);e.offset!==0&&$?(g=b,this.dt=e):(g="UTC",d.timeZoneName?this.dt=e:this.dt=e.offset===0?e:DateTime.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="local"?this.dt=e:(this.dt=e,g=e.zone.name);if(this.hasIntl){const _=Object.assign({},this.opts);g&&(_.timeZone=g),this.dtf=getCachedDTF(h,_)}}format(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());{const e=formatString(this.opts),h=Locale$1.create("en-US");return Formatter.create(h).formatDateTimeFromString(this.dt,e)}}formatToParts(){return this.hasIntl&&hasFormatToParts()?this.dtf.formatToParts(this.dt.toJSDate()):[]}resolvedOptions(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}}}class PolyRelFormatter{constructor(e,h,d){this.opts=Object.assign({style:"long"},d),!h&&hasRelative()&&(this.rtf=getCachedRTF(e,d))}format(e,h){return this.rtf?this.rtf.format(e,h):formatRelativeTime(h,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,h){return this.rtf?this.rtf.formatToParts(e,h):[]}}class Locale$1{static fromOpts(e){return Locale$1.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,h,d,g=!1){const _=e||Settings.defaultLocale,b=_||(g?"en-US":systemLocale()),$=h||Settings.defaultNumberingSystem,j=d||Settings.defaultOutputCalendar;return new Locale$1(b,$,j,_)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:e,numberingSystem:h,outputCalendar:d}={}){return Locale$1.create(e,h,d)}constructor(e,h,d,g){const[_,b,$]=parseLocaleString(e);this.locale=_,this.numberingSystem=h||b||null,this.outputCalendar=d||$||null,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=g,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(e=!0){const h=hasIntl(),d=h&&hasFormatToParts(),g=this.isEnglish(),_=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!d&&!(g&&_)&&!e?"error":!d||g&&_?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Locale$1.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(Object.assign({},e,{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Object.assign({},e,{defaultToEN:!1}))}months(e,h=!1,d=!0){return listStuff(this,e,d,months$1,()=>{const g=h?{month:e,day:"numeric"}:{month:e},_=h?"format":"standalone";return this.monthsCache[_][e]||(this.monthsCache[_][e]=mapMonths(b=>this.extract(b,g,"month"))),this.monthsCache[_][e]})}weekdays(e,h=!1,d=!0){return listStuff(this,e,d,weekdays,()=>{const g=h?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},_=h?"format":"standalone";return this.weekdaysCache[_][e]||(this.weekdaysCache[_][e]=mapWeekdays(b=>this.extract(b,g,"weekday"))),this.weekdaysCache[_][e]})}meridiems(e=!0){return listStuff(this,void 0,e,()=>meridiems,()=>{if(!this.meridiemCache){const h={hour:"numeric",hour12:!0};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(d=>this.extract(d,h,"dayperiod"))}return this.meridiemCache})}eras(e,h=!0){return listStuff(this,e,h,eras,()=>{const d={era:e};return this.eraCache[e]||(this.eraCache[e]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(g=>this.extract(g,d,"era"))),this.eraCache[e]})}extract(e,h,d){const g=this.dtFormatter(e,h),_=g.formatToParts(),b=_.find($=>$.type.toLowerCase()===d);return b?b.value:null}numberFormatter(e={}){return new PolyNumberFormatter(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,h={}){return new PolyDateFormatter(e,this.intl,h)}relFormatter(e={}){return new PolyRelFormatter(this.intl,this.isEnglish(),e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||hasIntl()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function combineRegexes(...o){const e=o.reduce((h,d)=>h+d.source,"");return RegExp(`^${e}$`)}function combineExtractors(...o){return e=>o.reduce(([h,d,g],_)=>{const[b,$,j]=_(e,g);return[Object.assign(h,b),d||$,j]},[{},null,1]).slice(0,2)}function parse$4(o,...e){if(o==null)return[null,null];for(const[h,d]of e){const g=h.exec(o);if(g)return d(g)}return[null,null]}function simpleParse(...o){return(e,h)=>{const d={};let g;for(g=0;g<o.length;g++)d[o[g]]=parseInteger(e[h+g]);return[d,null,h+g]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${offsetRegex.source}?`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(o,e,h){const d=o[e];return isUndefined$1(d)?h:parseInteger(d)}function extractISOYmd(o,e){return[{year:int(o,e),month:int(o,e+1,1),day:int(o,e+2,1)},null,e+3]}function extractISOTime(o,e){return[{hours:int(o,e,0),minutes:int(o,e+1,0),seconds:int(o,e+2,0),milliseconds:parseMillis(o[e+3])},null,e+4]}function extractISOOffset(o,e){const h=!o[e]&&!o[e+1],d=signedOffset(o[e+1],o[e+2]),g=h?null:FixedOffsetZone.instance(d);return[{},g,e+3]}function extractIANAZone(o,e){const h=o[e]?IANAZone.create(o[e]):null;return[{},h,e+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function extractISODuration(o){const[e,h,d,g,_,b,$,j,_e]=o,et=e[0]==="-",rt=j&&j[0]==="-",tt=(nt,st=!1)=>nt!==void 0&&(st||nt&&et)?-nt:nt;return[{years:tt(parseInteger(h)),months:tt(parseInteger(d)),weeks:tt(parseInteger(g)),days:tt(parseInteger(_)),hours:tt(parseInteger(b)),minutes:tt(parseInteger($)),seconds:tt(parseInteger(j),j==="-0"),milliseconds:tt(parseMillis(_e),rt)}]}const obsOffsets$1={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(o,e,h,d,g,_,b){const $={year:e.length===2?untruncateYear$1(parseInteger(e)):parseInteger(e),month:monthsShort.indexOf(h)+1,day:parseInteger(d),hour:parseInteger(g),minute:parseInteger(_)};return b&&($.second=parseInteger(b)),o&&($.weekday=o.length>3?weekdaysLong.indexOf(o)+1:weekdaysShort.indexOf(o)+1),$}const rfc2822$1=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(o){const[,e,h,d,g,_,b,$,j,_e,et,rt]=o,tt=fromStrings(e,g,d,h,_,b,$);let nt;return j?nt=obsOffsets$1[j]:_e?nt=0:nt=signedOffset(et,rt),[tt,new FixedOffsetZone(nt)]}function preprocessRFC2822$1(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(o){const[,e,h,d,g,_,b,$]=o;return[fromStrings(e,g,d,h,_,b,$),FixedOffsetZone.utcInstance]}function extractASCII(o){const[,e,h,d,g,_,b,$]=o;return[fromStrings(e,$,h,d,g,_,b),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset);function parseISODate(o){return parse$4(o,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(o){return parse$4(preprocessRFC2822$1(o),[rfc2822$1,extractRFC2822])}function parseHTTPDate(o){return parse$4(o,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(o){return parse$4(o,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(o){return parse$4(o,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOYmdTimeOffsetAndIANAZone=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(o){return parse$4(o,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeOffsetAndIANAZone],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},lowOrderMatrix),daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix=Object.assign({years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3}},lowOrderMatrix),orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$3(o,e,h=!1){const d={values:h?e.values:Object.assign({},o.values,e.values||{}),loc:o.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||o.conversionAccuracy};return new Duration$1(d)}function antiTrunc(o){return o<0?Math.floor(o):Math.ceil(o)}function convert(o,e,h,d,g){const _=o[g][h],b=e[h]/_,$=Math.sign(b)===Math.sign(d[g]),j=!$&&d[g]!==0&&Math.abs(b)<=1?antiTrunc(b):Math.trunc(b);d[g]+=j,e[h]-=j*_}function normalizeValues(o,e){reverseUnits.reduce((h,d)=>isUndefined$1(e[d])?h:(h&&convert(o,e,h,e,d),d),null)}class Duration$1{constructor(e){const h=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||Locale$1.create(),this.conversionAccuracy=h?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=h?accurateMatrix:casualMatrix,this.isLuxonDuration=!0}static fromMillis(e,h){return Duration$1.fromObject(Object.assign({milliseconds:e},h))}static fromObject(e){if(e==null||typeof e!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Duration$1({values:normalizeObject(e,Duration$1.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Locale$1.fromObject(e),conversionAccuracy:e.conversionAccuracy})}static fromISO(e,h){const[d]=parseISODuration(e);if(d){const g=Object.assign(d,h);return Duration$1.fromObject(g)}else return Duration$1.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,h){const[d]=parseISOTimeOnly(e);if(d){const g=Object.assign(d,h);return Duration$1.fromObject(g)}else return Duration$1.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,h=null){if(!e)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const d=e instanceof Invalid?e:new Invalid(e,h);if(Settings.throwOnInvalid)throw new InvalidDurationError(d);return new Duration$1({invalid:d})}static normalizeUnit(e){const h={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!h)throw new InvalidUnitError(e);return h}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,h={}){const d=Object.assign({},h,{floor:h.round!==!1&&h.floor!==!1});return this.isValid?Formatter.create(this.loc,d).formatDurationFromString(this,e):INVALID$2}toObject(e={}){if(!this.isValid)return{};const h=Object.assign({},this.values);return e.includeConfig&&(h.conversionAccuracy=this.conversionAccuracy,h.numberingSystem=this.loc.numberingSystem,h.locale=this.loc.locale),h}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const h=this.toMillis();if(h<0||h>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);const d=this.shiftTo("hours","minutes","seconds","milliseconds");let g=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||d.seconds!==0||d.milliseconds!==0)&&(g+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||d.milliseconds!==0)&&(g+=".SSS"));let _=d.toFormat(g);return e.includePrefix&&(_="T"+_),_}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const h=friendlyDuration(e),d={};for(const g of orderedUnits$1)(hasOwnProperty$1(h.values,g)||hasOwnProperty$1(this.values,g))&&(d[g]=h.get(g)+this.get(g));return clone$3(this,{values:d},!0)}minus(e){if(!this.isValid)return this;const h=friendlyDuration(e);return this.plus(h.negate())}mapUnits(e){if(!this.isValid)return this;const h={};for(const d of Object.keys(this.values))h[d]=asNumber(e(this.values[d],d));return clone$3(this,{values:h},!0)}get(e){return this[Duration$1.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const h=Object.assign(this.values,normalizeObject(e,Duration$1.normalizeUnit,[]));return clone$3(this,{values:h})}reconfigure({locale:e,numberingSystem:h,conversionAccuracy:d}={}){const g=this.loc.clone({locale:e,numberingSystem:h}),_={loc:g};return d&&(_.conversionAccuracy=d),clone$3(this,_)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return normalizeValues(this.matrix,e),clone$3(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(b=>Duration$1.normalizeUnit(b));const h={},d={},g=this.toObject();let _;for(const b of orderedUnits$1)if(e.indexOf(b)>=0){_=b;let $=0;for(const _e in d)$+=this.matrix[_e][b]*d[_e],d[_e]=0;isNumber$2(g[b])&&($+=g[b]);const j=Math.trunc($);h[b]=j,d[b]=$-j;for(const _e in g)orderedUnits$1.indexOf(_e)>orderedUnits$1.indexOf(b)&&convert(this.matrix,g,_e,h,b)}else isNumber$2(g[b])&&(d[b]=g[b]);for(const b in d)d[b]!==0&&(h[_]+=b===_?d[b]:d[b]/this.matrix[_][b]);return clone$3(this,{values:h},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const h of Object.keys(this.values))e[h]=-this.values[h];return clone$3(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function h(d,g){return d===void 0||d===0?g===void 0||g===0:d===g}for(const d of orderedUnits$1)if(!h(this.values[d],e.values[d]))return!1;return!0}}function friendlyDuration(o){if(isNumber$2(o))return Duration$1.fromMillis(o);if(Duration$1.isDuration(o))return o;if(typeof o=="object")return Duration$1.fromObject(o);throw new InvalidArgumentError(`Unknown duration argument ${o} of type ${typeof o}`)}const INVALID$1="Invalid Interval";function validateStartEnd(o,e){return!o||!o.isValid?Interval.invalid("missing or invalid start"):!e||!e.isValid?Interval.invalid("missing or invalid end"):e<o?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${o.toISO()} and end=${e.toISO()}`):null}class Interval{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,h=null){if(!e)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const d=e instanceof Invalid?e:new Invalid(e,h);if(Settings.throwOnInvalid)throw new InvalidIntervalError(d);return new Interval({invalid:d})}static fromDateTimes(e,h){const d=friendlyDateTime(e),g=friendlyDateTime(h),_=validateStartEnd(d,g);return _==null?new Interval({start:d,end:g}):_}static after(e,h){const d=friendlyDuration(h),g=friendlyDateTime(e);return Interval.fromDateTimes(g,g.plus(d))}static before(e,h){const d=friendlyDuration(h),g=friendlyDateTime(e);return Interval.fromDateTimes(g.minus(d),g)}static fromISO(e,h){const[d,g]=(e||"").split("/",2);if(d&&g){let _,b;try{_=DateTime.fromISO(d,h),b=_.isValid}catch{b=!1}let $,j;try{$=DateTime.fromISO(g,h),j=$.isValid}catch{j=!1}if(b&&j)return Interval.fromDateTimes(_,$);if(b){const _e=Duration$1.fromISO(g,h);if(_e.isValid)return Interval.after(_,_e)}else if(j){const _e=Duration$1.fromISO(d,h);if(_e.isValid)return Interval.before($,_e)}}return Interval.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const h=this.start.startOf(e),d=this.end.startOf(e);return Math.floor(d.diff(h,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:h}={}){return this.isValid?Interval.fromDateTimes(e||this.s,h||this.e):this}splitAt(...e){if(!this.isValid)return[];const h=e.map(friendlyDateTime).filter(b=>this.contains(b)).sort(),d=[];let{s:g}=this,_=0;for(;g<this.e;){const b=h[_]||this.e,$=+b>+this.e?this.e:b;d.push(Interval.fromDateTimes(g,$)),g=$,_+=1}return d}splitBy(e){const h=friendlyDuration(e);if(!this.isValid||!h.isValid||h.as("milliseconds")===0)return[];let{s:d}=this,g=1,_;const b=[];for(;d<this.e;){const $=this.start.plus(h.mapUnits(j=>j*g));_=+$>+this.e?this.e:$,b.push(Interval.fromDateTimes(d,_)),d=_,g+=1}return b}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const h=this.s>e.s?this.s:e.s,d=this.e<e.e?this.e:e.e;return h>=d?null:Interval.fromDateTimes(h,d)}union(e){if(!this.isValid)return this;const h=this.s<e.s?this.s:e.s,d=this.e>e.e?this.e:e.e;return Interval.fromDateTimes(h,d)}static merge(e){const[h,d]=e.sort((g,_)=>g.s-_.s).reduce(([g,_],b)=>_?_.overlaps(b)||_.abutsStart(b)?[g,_.union(b)]:[g.concat([_]),b]:[g,b],[[],null]);return d&&h.push(d),h}static xor(e){let h=null,d=0;const g=[],_=e.map(j=>[{time:j.s,type:"s"},{time:j.e,type:"e"}]),b=Array.prototype.concat(..._),$=b.sort((j,_e)=>j.time-_e.time);for(const j of $)d+=j.type==="s"?1:-1,d===1?h=j.time:(h&&+h!=+j.time&&g.push(Interval.fromDateTimes(h,j.time)),h=null);return Interval.merge(g)}difference(...e){return Interval.xor([this].concat(e)).map(h=>this.intersection(h)).filter(h=>h&&!h.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:INVALID$1}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:INVALID$1}toFormat(e,{separator:h=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${h}${this.e.toFormat(e)}`:INVALID$1}toDuration(e,h){return this.isValid?this.e.diff(this.s,e,h):Duration$1.invalid(this.invalidReason)}mapEndpoints(e){return Interval.fromDateTimes(e(this.s),e(this.e))}}class Info{static hasDST(e=Settings.defaultZone){const h=DateTime.now().setZone(e).set({month:12});return!e.universal&&h.offset!==h.set({month:6}).offset}static isValidIANAZone(e){return IANAZone.isValidSpecifier(e)&&IANAZone.isValidZone(e)}static normalizeZone(e){return normalizeZone(e,Settings.defaultZone)}static months(e="long",{locale:h=null,numberingSystem:d=null,locObj:g=null,outputCalendar:_="gregory"}={}){return(g||Locale$1.create(h,d,_)).months(e)}static monthsFormat(e="long",{locale:h=null,numberingSystem:d=null,locObj:g=null,outputCalendar:_="gregory"}={}){return(g||Locale$1.create(h,d,_)).months(e,!0)}static weekdays(e="long",{locale:h=null,numberingSystem:d=null,locObj:g=null}={}){return(g||Locale$1.create(h,d,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:h=null,numberingSystem:d=null,locObj:g=null}={}){return(g||Locale$1.create(h,d,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Locale$1.create(e).meridiems()}static eras(e="short",{locale:h=null}={}){return Locale$1.create(h,null,"gregory").eras(e)}static features(){let e=!1,h=!1,d=!1,g=!1;if(hasIntl()){e=!0,h=hasFormatToParts(),g=hasRelative();try{d=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{d=!1}}return{intl:e,intlTokens:h,zones:d,relative:g}}}function dayDiff(o,e){const h=g=>g.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),d=h(e)-h(o);return Math.floor(Duration$1.fromMillis(d).as("days"))}function highOrderDiffs(o,e,h){const d=[["years",($,j)=>j.year-$.year],["quarters",($,j)=>j.quarter-$.quarter],["months",($,j)=>j.month-$.month+(j.year-$.year)*12],["weeks",($,j)=>{const _e=dayDiff($,j);return(_e-_e%7)/7}],["days",dayDiff]],g={};let _,b;for(const[$,j]of d)if(h.indexOf($)>=0){_=$;let _e=j(o,e);b=o.plus({[$]:_e}),b>e?(o=o.plus({[$]:_e-1}),_e-=1):o=b,g[$]=_e}return[o,g,b,_]}function diff$1(o,e,h,d){let[g,_,b,$]=highOrderDiffs(o,e,h);const j=e-g,_e=h.filter(rt=>["hours","minutes","seconds","milliseconds"].indexOf(rt)>=0);_e.length===0&&(b<e&&(b=g.plus({[$]:1})),b!==g&&(_[$]=(_[$]||0)+j/(b-g)));const et=Duration$1.fromObject(Object.assign(_,d));return _e.length>0?Duration$1.fromMillis(j,d).shiftTo(..._e).plus(et):et}const numberingSystems={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(o){let e=parseInt(o,10);if(isNaN(e)){e="";for(let h=0;h<o.length;h++){const d=o.charCodeAt(h);if(o[h].search(numberingSystems.hanidec)!==-1)e+=hanidecChars.indexOf(o[h]);else for(const g in numberingSystemsUTF16){const[_,b]=numberingSystemsUTF16[g];d>=_&&d<=b&&(e+=d-_)}}return parseInt(e,10)}else return e}function digitRegex({numberingSystem:o},e=""){return new RegExp(`${numberingSystems[o||"latn"]}${e}`)}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(o,e=h=>h){return{regex:o,deser:([h])=>e(parseDigits(h))}}const NBSP=String.fromCharCode(160),spaceOrNBSP=`( |${NBSP})`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(o){return o.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(o){return o.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(o,e){return o===null?null:{regex:RegExp(o.map(fixListRegex).join("|")),deser:([h])=>o.findIndex(d=>stripInsensitivities(h)===stripInsensitivities(d))+e}}function offset$1(o,e){return{regex:o,deser:([,h,d])=>signedOffset(h,d),groups:e}}function simple(o){return{regex:o,deser:([e])=>e}}function escapeToken(o){return o.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(o,e){const h=digitRegex(e),d=digitRegex(e,"{2}"),g=digitRegex(e,"{3}"),_=digitRegex(e,"{4}"),b=digitRegex(e,"{6}"),$=digitRegex(e,"{1,2}"),j=digitRegex(e,"{1,3}"),_e=digitRegex(e,"{1,6}"),et=digitRegex(e,"{1,9}"),rt=digitRegex(e,"{2,4}"),tt=digitRegex(e,"{4,6}"),nt=ct=>({regex:RegExp(escapeToken(ct.val)),deser:([it])=>it,literal:!0}),at=(ct=>{if(o.literal)return nt(ct);switch(ct.val){case"G":return oneOf(e.eras("short",!1),0);case"GG":return oneOf(e.eras("long",!1),0);case"y":return intUnit(_e);case"yy":return intUnit(rt,untruncateYear$1);case"yyyy":return intUnit(_);case"yyyyy":return intUnit(tt);case"yyyyyy":return intUnit(b);case"M":return intUnit($);case"MM":return intUnit(d);case"MMM":return oneOf(e.months("short",!0,!1),1);case"MMMM":return oneOf(e.months("long",!0,!1),1);case"L":return intUnit($);case"LL":return intUnit(d);case"LLL":return oneOf(e.months("short",!1,!1),1);case"LLLL":return oneOf(e.months("long",!1,!1),1);case"d":return intUnit($);case"dd":return intUnit(d);case"o":return intUnit(j);case"ooo":return intUnit(g);case"HH":return intUnit(d);case"H":return intUnit($);case"hh":return intUnit(d);case"h":return intUnit($);case"mm":return intUnit(d);case"m":return intUnit($);case"q":return intUnit($);case"qq":return intUnit(d);case"s":return intUnit($);case"ss":return intUnit(d);case"S":return intUnit(j);case"SSS":return intUnit(g);case"u":return simple(et);case"a":return oneOf(e.meridiems(),0);case"kkkk":return intUnit(_);case"kk":return intUnit(rt,untruncateYear$1);case"W":return intUnit($);case"WW":return intUnit(d);case"E":case"c":return intUnit(h);case"EEE":return oneOf(e.weekdays("short",!1,!1),1);case"EEEE":return oneOf(e.weekdays("long",!1,!1),1);case"ccc":return oneOf(e.weekdays("short",!0,!1),1);case"cccc":return oneOf(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return offset$1(new RegExp(`([+-]${$.source})(?::(${d.source}))?`),2);case"ZZZ":return offset$1(new RegExp(`([+-]${$.source})(${d.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);default:return nt(ct)}})(o)||{invalidReason:MISSING_FTP};return at.token=o,at}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function tokenForPart(o,e,h){const{type:d,value:g}=o;if(d==="literal")return{literal:!0,val:g};const _=h[d];let b=partTypeStyleToTokenVal[d];if(typeof b=="object"&&(b=b[_]),b)return{literal:!1,val:b}}function buildRegex(o){return[`^${o.map(h=>h.regex).reduce((h,d)=>`${h}(${d.source})`,"")}$`,o]}function match(o,e,h){const d=o.match(e);if(d){const g={};let _=1;for(const b in h)if(hasOwnProperty$1(h,b)){const $=h[b],j=$.groups?$.groups+1:1;!$.literal&&$.token&&(g[$.token.val[0]]=$.deser(d.slice(_,_+j))),_+=j}return[d,g]}else return[d,{}]}function dateTimeFromMatches(o){const e=g=>{switch(g){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let h;return isUndefined$1(o.Z)?isUndefined$1(o.z)?h=null:h=IANAZone.create(o.z):h=new FixedOffsetZone(o.Z),isUndefined$1(o.q)||(o.M=(o.q-1)*3+1),isUndefined$1(o.h)||(o.h<12&&o.a===1?o.h+=12:o.h===12&&o.a===0&&(o.h=0)),o.G===0&&o.y&&(o.y=-o.y),isUndefined$1(o.u)||(o.S=parseMillis(o.u)),[Object.keys(o).reduce((g,_)=>{const b=e(_);return b&&(g[b]=o[_]),g},{}),h]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(o,e){if(o.literal)return o;const h=Formatter.macroTokenToFormatOpts(o.val);if(!h)return o;const _=Formatter.create(e,h).formatDateTimeParts(getDummyDateTime()).map(b=>tokenForPart(b,e,h));return _.includes(void 0)?o:_}function expandMacroTokens(o,e){return Array.prototype.concat(...o.map(h=>maybeExpandMacroToken(h,e)))}function explainFromTokens(o,e,h){const d=expandMacroTokens(Formatter.parseFormat(h),o),g=d.map(b=>unitForToken(b,o)),_=g.find(b=>b.invalidReason);if(_)return{input:e,tokens:d,invalidReason:_.invalidReason};{const[b,$]=buildRegex(g),j=RegExp(b,"i"),[_e,et]=match(e,j,$),[rt,tt]=et?dateTimeFromMatches(et):[null,null];if(hasOwnProperty$1(et,"a")&&hasOwnProperty$1(et,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:d,regex:j,rawMatches:_e,matches:et,result:rt,zone:tt}}}function parseFromTokens(o,e,h){const{result:d,zone:g,invalidReason:_}=explainFromTokens(o,e,h);return[d,g,_]}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(o,e){return new Invalid("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${o}, which is invalid`)}function dayOfWeek(o,e,h){const d=new Date(Date.UTC(o,e-1,h)).getUTCDay();return d===0?7:d}function computeOrdinal(o,e,h){return h+(isLeapYear$1(o)?leapLadder:nonLeapLadder)[e-1]}function uncomputeOrdinal(o,e){const h=isLeapYear$1(o)?leapLadder:nonLeapLadder,d=h.findIndex(_=>_<e),g=e-h[d];return{month:d+1,day:g}}function gregorianToWeek(o){const{year:e,month:h,day:d}=o,g=computeOrdinal(e,h,d),_=dayOfWeek(e,h,d);let b=Math.floor((g-_+10)/7),$;return b<1?($=e-1,b=weeksInWeekYear($)):b>weeksInWeekYear(e)?($=e+1,b=1):$=e,Object.assign({weekYear:$,weekNumber:b,weekday:_},timeObject(o))}function weekToGregorian(o){const{weekYear:e,weekNumber:h,weekday:d}=o,g=dayOfWeek(e,1,4),_=daysInYear$1(e);let b=h*7+d-g-3,$;b<1?($=e-1,b+=daysInYear$1($)):b>_?($=e+1,b-=daysInYear$1(e)):$=e;const{month:j,day:_e}=uncomputeOrdinal($,b);return Object.assign({year:$,month:j,day:_e},timeObject(o))}function gregorianToOrdinal(o){const{year:e,month:h,day:d}=o,g=computeOrdinal(e,h,d);return Object.assign({year:e,ordinal:g},timeObject(o))}function ordinalToGregorian(o){const{year:e,ordinal:h}=o,{month:d,day:g}=uncomputeOrdinal(e,h);return Object.assign({year:e,month:d,day:g},timeObject(o))}function hasInvalidWeekData(o){const e=isInteger(o.weekYear),h=integerBetween(o.weekNumber,1,weeksInWeekYear(o.weekYear)),d=integerBetween(o.weekday,1,7);return e?h?d?!1:unitOutOfRange("weekday",o.weekday):unitOutOfRange("week",o.week):unitOutOfRange("weekYear",o.weekYear)}function hasInvalidOrdinalData(o){const e=isInteger(o.year),h=integerBetween(o.ordinal,1,daysInYear$1(o.year));return e?h?!1:unitOutOfRange("ordinal",o.ordinal):unitOutOfRange("year",o.year)}function hasInvalidGregorianData(o){const e=isInteger(o.year),h=integerBetween(o.month,1,12),d=integerBetween(o.day,1,daysInMonth$1(o.year,o.month));return e?h?d?!1:unitOutOfRange("day",o.day):unitOutOfRange("month",o.month):unitOutOfRange("year",o.year)}function hasInvalidTimeData(o){const{hour:e,minute:h,second:d,millisecond:g}=o,_=integerBetween(e,0,23)||e===24&&h===0&&d===0&&g===0,b=integerBetween(h,0,59),$=integerBetween(d,0,59),j=integerBetween(g,0,999);return _?b?$?j?!1:unitOutOfRange("millisecond",g):unitOutOfRange("second",d):unitOutOfRange("minute",h):unitOutOfRange("hour",e)}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(o){return new Invalid("unsupported zone",`the zone "${o.name}" is not supported`)}function possiblyCachedWeekData(o){return o.weekData===null&&(o.weekData=gregorianToWeek(o.c)),o.weekData}function clone$2(o,e){const h={ts:o.ts,zone:o.zone,c:o.c,o:o.o,loc:o.loc,invalid:o.invalid};return new DateTime(Object.assign({},h,e,{old:h}))}function fixOffset(o,e,h){let d=o-e*60*1e3;const g=h.offset(d);if(e===g)return[d,e];d-=(g-e)*60*1e3;const _=h.offset(d);return g===_?[d,g]:[o-Math.min(g,_)*60*1e3,Math.max(g,_)]}function tsToObj(o,e){o+=e*60*1e3;const h=new Date(o);return{year:h.getUTCFullYear(),month:h.getUTCMonth()+1,day:h.getUTCDate(),hour:h.getUTCHours(),minute:h.getUTCMinutes(),second:h.getUTCSeconds(),millisecond:h.getUTCMilliseconds()}}function objToTS(o,e,h){return fixOffset(objToLocalTS(o),e,h)}function adjustTime(o,e){const h=o.o,d=o.c.year+Math.trunc(e.years),g=o.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,_=Object.assign({},o.c,{year:d,month:g,day:Math.min(o.c.day,daysInMonth$1(d,g))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),b=Duration$1.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),$=objToLocalTS(_);let[j,_e]=fixOffset($,h,o.zone);return b!==0&&(j+=b,_e=o.zone.offset(j)),{ts:j,o:_e}}function parseDataToDateTime(o,e,h,d,g){const{setZone:_,zone:b}=h;if(o&&Object.keys(o).length!==0){const $=e||b,j=DateTime.fromObject(Object.assign(o,h,{zone:$,setZone:void 0}));return _?j:j.setZone(b)}else return DateTime.invalid(new Invalid("unparsable",`the input "${g}" can't be parsed as ${d}`))}function toTechFormat(o,e,h=!0){return o.isValid?Formatter.create(Locale$1.create("en-US"),{allowZ:h,forceSimple:!0}).formatDateTimeFromString(o,e):null}function toTechTimeFormat(o,{suppressSeconds:e=!1,suppressMilliseconds:h=!1,includeOffset:d,includePrefix:g=!1,includeZone:_=!1,spaceZone:b=!1,format:$="extended"}){let j=$==="basic"?"HHmm":"HH:mm";(!e||o.second!==0||o.millisecond!==0)&&(j+=$==="basic"?"ss":":ss",(!h||o.millisecond!==0)&&(j+=".SSS")),(_||d)&&b&&(j+=" "),_?j+="z":d&&(j+=$==="basic"?"ZZZ":"ZZ");let _e=toTechFormat(o,j);return g&&(_e="T"+_e),_e}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(o){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[o.toLowerCase()];if(!e)throw new InvalidUnitError(o);return e}function quickDT(o,e){for(const $ of orderedUnits)isUndefined$1(o[$])&&(o[$]=defaultUnitValues[$]);const h=hasInvalidGregorianData(o)||hasInvalidTimeData(o);if(h)return DateTime.invalid(h);const d=Settings.now(),g=e.offset(d),[_,b]=objToTS(o,g,e);return new DateTime({ts:_,zone:e,o:b})}function diffRelative(o,e,h){const d=isUndefined$1(h.round)?!0:h.round,g=(b,$)=>(b=roundTo(b,d||h.calendary?0:2,!0),e.loc.clone(h).relFormatter(h).format(b,$)),_=b=>h.calendary?e.hasSame(o,b)?0:e.startOf(b).diff(o.startOf(b),b).get(b):e.diff(o,b).get(b);if(h.unit)return g(_(h.unit),h.unit);for(const b of h.units){const $=_(b);if(Math.abs($)>=1)return g($,b)}return g(o>e?-0:0,h.units[h.units.length-1])}class DateTime{constructor(e){const h=e.zone||Settings.defaultZone;let d=e.invalid||(Number.isNaN(e.ts)?new Invalid("invalid input"):null)||(h.isValid?null:unsupportedZone(h));this.ts=isUndefined$1(e.ts)?Settings.now():e.ts;let g=null,_=null;if(!d)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(h))[g,_]=[e.old.c,e.old.o];else{const $=h.offset(this.ts);g=tsToObj(this.ts,$),d=Number.isNaN(g.year)?new Invalid("invalid input"):null,g=d?null:g,_=d?null:$}this._zone=h,this.loc=e.loc||Locale$1.create(),this.invalid=d,this.weekData=null,this.c=g,this.o=_,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(e,h,d,g,_,b,$){return isUndefined$1(e)?DateTime.now():quickDT({year:e,month:h,day:d,hour:g,minute:_,second:b,millisecond:$},Settings.defaultZone)}static utc(e,h,d,g,_,b,$){return isUndefined$1(e)?new DateTime({ts:Settings.now(),zone:FixedOffsetZone.utcInstance}):quickDT({year:e,month:h,day:d,hour:g,minute:_,second:b,millisecond:$},FixedOffsetZone.utcInstance)}static fromJSDate(e,h={}){const d=isDate$2(e)?e.valueOf():NaN;if(Number.isNaN(d))return DateTime.invalid("invalid input");const g=normalizeZone(h.zone,Settings.defaultZone);return g.isValid?new DateTime({ts:d,zone:g,loc:Locale$1.fromObject(h)}):DateTime.invalid(unsupportedZone(g))}static fromMillis(e,h={}){if(isNumber$2(e))return e<-MAX_DATE||e>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:e,zone:normalizeZone(h.zone,Settings.defaultZone),loc:Locale$1.fromObject(h)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,h={}){if(isNumber$2(e))return new DateTime({ts:e*1e3,zone:normalizeZone(h.zone,Settings.defaultZone),loc:Locale$1.fromObject(h)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(e){const h=normalizeZone(e.zone,Settings.defaultZone);if(!h.isValid)return DateTime.invalid(unsupportedZone(h));const d=Settings.now(),g=h.offset(d),_=normalizeObject(e,normalizeUnit,["zone","locale","outputCalendar","numberingSystem"]),b=!isUndefined$1(_.ordinal),$=!isUndefined$1(_.year),j=!isUndefined$1(_.month)||!isUndefined$1(_.day),_e=$||j,et=_.weekYear||_.weekNumber,rt=Locale$1.fromObject(e);if((_e||b)&&et)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(j&&b)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const tt=et||_.weekday&&!_e;let nt,st,at=tsToObj(d,g);tt?(nt=orderedWeekUnits,st=defaultWeekUnitValues,at=gregorianToWeek(at)):b?(nt=orderedOrdinalUnits,st=defaultOrdinalUnitValues,at=gregorianToOrdinal(at)):(nt=orderedUnits,st=defaultUnitValues);let ct=!1;for(const mt of nt){const yt=_[mt];isUndefined$1(yt)?ct?_[mt]=st[mt]:_[mt]=at[mt]:ct=!0}const it=tt?hasInvalidWeekData(_):b?hasInvalidOrdinalData(_):hasInvalidGregorianData(_),lt=it||hasInvalidTimeData(_);if(lt)return DateTime.invalid(lt);const ht=tt?weekToGregorian(_):b?ordinalToGregorian(_):_,[ut,dt]=objToTS(ht,g,h),pt=new DateTime({ts:ut,zone:h,o:dt,loc:rt});return _.weekday&&_e&&e.weekday!==pt.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${_.weekday} and a date of ${pt.toISO()}`):pt}static fromISO(e,h={}){const[d,g]=parseISODate(e);return parseDataToDateTime(d,g,h,"ISO 8601",e)}static fromRFC2822(e,h={}){const[d,g]=parseRFC2822Date(e);return parseDataToDateTime(d,g,h,"RFC 2822",e)}static fromHTTP(e,h={}){const[d,g]=parseHTTPDate(e);return parseDataToDateTime(d,g,h,"HTTP",h)}static fromFormat(e,h,d={}){if(isUndefined$1(e)||isUndefined$1(h))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:g=null,numberingSystem:_=null}=d,b=Locale$1.fromOpts({locale:g,numberingSystem:_,defaultToEN:!0}),[$,j,_e]=parseFromTokens(b,e,h);return _e?DateTime.invalid(_e):parseDataToDateTime($,j,d,`format ${h}`,e)}static fromString(e,h,d={}){return DateTime.fromFormat(e,h,d)}static fromSQL(e,h={}){const[d,g]=parseSQL(e);return parseDataToDateTime(d,g,h,"SQL",e)}static invalid(e,h=null){if(!e)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const d=e instanceof Invalid?e:new Invalid(e,h);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(d);return new DateTime({invalid:d})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.universal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return isLeapYear$1(this.year)}get daysInMonth(){return daysInMonth$1(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear$1(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}resolvedLocaleOpts(e={}){const{locale:h,numberingSystem:d,calendar:g}=Formatter.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:h,numberingSystem:d,outputCalendar:g}}toUTC(e=0,h={}){return this.setZone(FixedOffsetZone.instance(e),h)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(e,{keepLocalTime:h=!1,keepCalendarTime:d=!1}={}){if(e=normalizeZone(e,Settings.defaultZone),e.equals(this.zone))return this;if(e.isValid){let g=this.ts;if(h||d){const _=e.offset(this.ts),b=this.toObject();[g]=objToTS(b,_,e)}return clone$2(this,{ts:g,zone:e})}else return DateTime.invalid(unsupportedZone(e))}reconfigure({locale:e,numberingSystem:h,outputCalendar:d}={}){const g=this.loc.clone({locale:e,numberingSystem:h,outputCalendar:d});return clone$2(this,{loc:g})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const h=normalizeObject(e,normalizeUnit,[]),d=!isUndefined$1(h.weekYear)||!isUndefined$1(h.weekNumber)||!isUndefined$1(h.weekday),g=!isUndefined$1(h.ordinal),_=!isUndefined$1(h.year),b=!isUndefined$1(h.month)||!isUndefined$1(h.day),$=_||b,j=h.weekYear||h.weekNumber;if(($||g)&&j)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&g)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let _e;d?_e=weekToGregorian(Object.assign(gregorianToWeek(this.c),h)):isUndefined$1(h.ordinal)?(_e=Object.assign(this.toObject(),h),isUndefined$1(h.day)&&(_e.day=Math.min(daysInMonth$1(_e.year,_e.month),_e.day))):_e=ordinalToGregorian(Object.assign(gregorianToOrdinal(this.c),h));const[et,rt]=objToTS(_e,this.o,this.zone);return clone$2(this,{ts:et,o:rt})}plus(e){if(!this.isValid)return this;const h=friendlyDuration(e);return clone$2(this,adjustTime(this,h))}minus(e){if(!this.isValid)return this;const h=friendlyDuration(e).negate();return clone$2(this,adjustTime(this,h))}startOf(e){if(!this.isValid)return this;const h={},d=Duration$1.normalizeUnit(e);switch(d){case"years":h.month=1;case"quarters":case"months":h.day=1;case"weeks":case"days":h.hour=0;case"hours":h.minute=0;case"minutes":h.second=0;case"seconds":h.millisecond=0;break}if(d==="weeks"&&(h.weekday=1),d==="quarters"){const g=Math.ceil(this.month/3);h.month=(g-1)*3+1}return this.set(h)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,h={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(h)).formatDateTimeFromString(this,e):INVALID}toLocaleString(e=DATE_SHORT){return this.isValid?Formatter.create(this.loc.clone(e),e).formatDateTime(this):INVALID}toLocaleParts(e={}){return this.isValid?Formatter.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(e={}){return this.isValid?`${this.toISODate(e)}T${this.toISOTime(e)}`:null}toISODate({format:e="extended"}={}){let h=e==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(h="+"+h),toTechFormat(this,h)}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:h=!1,includeOffset:d=!0,includePrefix:g=!1,format:_="extended"}={}){return toTechTimeFormat(this,{suppressSeconds:h,suppressMilliseconds:e,includeOffset:d,includePrefix:g,format:_})}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return toTechFormat(this,"yyyy-MM-dd")}toSQLTime({includeOffset:e=!0,includeZone:h=!1}={}){return toTechTimeFormat(this,{includeOffset:e,includeZone:h,spaceZone:!0})}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():INVALID}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const h=Object.assign({},this.c);return e.includeConfig&&(h.outputCalendar=this.outputCalendar,h.numberingSystem=this.loc.numberingSystem,h.locale=this.loc.locale),h}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,h="milliseconds",d={}){if(!this.isValid||!e.isValid)return Duration$1.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");const g=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},d),_=maybeArray(h).map(Duration$1.normalizeUnit),b=e.valueOf()>this.valueOf(),$=b?this:e,j=b?e:this,_e=diff$1($,j,_,g);return b?_e.negate():_e}diffNow(e="milliseconds",h={}){return this.diff(DateTime.now(),e,h)}until(e){return this.isValid?Interval.fromDateTimes(this,e):this}hasSame(e,h){if(!this.isValid)return!1;const d=e.valueOf(),g=this.setZone(e.zone,{keepLocalTime:!0});return g.startOf(h)<=d&&d<=g.endOf(h)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const h=e.base||DateTime.fromObject({zone:this.zone}),d=e.padding?this<h?-e.padding:e.padding:0;let g=["years","months","days","hours","minutes","seconds"],_=e.unit;return Array.isArray(e.unit)&&(g=e.unit,_=void 0),diffRelative(h,this.plus(d),Object.assign(e,{numeric:"always",units:g,unit:_}))}toRelativeCalendar(e={}){return this.isValid?diffRelative(e.base||DateTime.fromObject({zone:this.zone}),this,Object.assign(e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(e,h=>h.valueOf(),Math.min)}static max(...e){if(!e.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(e,h=>h.valueOf(),Math.max)}static fromFormatExplain(e,h,d={}){const{locale:g=null,numberingSystem:_=null}=d,b=Locale$1.fromOpts({locale:g,numberingSystem:_,defaultToEN:!0});return explainFromTokens(b,e,h)}static fromStringExplain(e,h,d={}){return DateTime.fromFormatExplain(e,h,d)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(o){if(DateTime.isDateTime(o))return o;if(o&&o.valueOf&&isNumber$2(o.valueOf()))return DateTime.fromJSDate(o);if(o&&typeof o=="object")return DateTime.fromObject(o);throw new InvalidArgumentError(`Unknown datetime argument: ${o}, of type ${typeof o}`)}const VERSION$2="1.28.1";var luxon$1=Object.freeze(Object.defineProperty({__proto__:null,VERSION:VERSION$2,DateTime,Duration:Duration$1,Interval,Info,Zone,FixedOffsetZone,IANAZone,InvalidZone,LocalZone,Settings},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(luxon$1),luxon=require$$0$1;CronDate$1.prototype.addYear=function(){this._date=this._date.plus({years:1})};CronDate$1.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")};CronDate$1.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")};CronDate$1.prototype.addHour=function(){var o=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=o&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.addMinute=function(){var o=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<o&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.addSecond=function(){var o=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<o&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.subtractYear=function(){this._date=this._date.minus({years:1})};CronDate$1.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")};CronDate$1.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")};CronDate$1.prototype.subtractHour=function(){var o=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=o&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.subtractMinute=function(){var o=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>o&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.subtractSecond=function(){var o=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>o&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.getDate=function(){return this._date.day};CronDate$1.prototype.getFullYear=function(){return this._date.year};CronDate$1.prototype.getDay=function(){var o=this._date.weekday;return o==7?0:o};CronDate$1.prototype.getMonth=function(){return this._date.month-1};CronDate$1.prototype.getHours=function(){return this._date.hour};CronDate$1.prototype.getMinutes=function(){return this._date.minute};CronDate$1.prototype.getSeconds=function(){return this._date.second};CronDate$1.prototype.getMilliseconds=function(){return this._date.millisecond};CronDate$1.prototype.getTime=function(){return this._date.valueOf()};CronDate$1.prototype.getUTCDate=function(){return this._getUTC().day};CronDate$1.prototype.getUTCFullYear=function(){return this._getUTC().year};CronDate$1.prototype.getUTCDay=function(){var o=this._getUTC().weekday;return o==7?0:o};CronDate$1.prototype.getUTCMonth=function(){return this._getUTC().month-1};CronDate$1.prototype.getUTCHours=function(){return this._getUTC().hour};CronDate$1.prototype.getUTCMinutes=function(){return this._getUTC().minute};CronDate$1.prototype.getUTCSeconds=function(){return this._getUTC().second};CronDate$1.prototype.toISOString=function(){return this._date.toUTC().toISO()};CronDate$1.prototype.toJSON=function(){return this._date.toJSON()};CronDate$1.prototype.setDate=function(o){this._date=this._date.set({day:o})};CronDate$1.prototype.setFullYear=function(o){this._date=this._date.set({year:o})};CronDate$1.prototype.setDay=function(o){this._date=this._date.set({weekday:o})};CronDate$1.prototype.setMonth=function(o){this._date=this._date.set({month:o+1})};CronDate$1.prototype.setHours=function(o){this._date=this._date.set({hour:o})};CronDate$1.prototype.setMinutes=function(o){this._date=this._date.set({minute:o})};CronDate$1.prototype.setSeconds=function(o){this._date=this._date.set({second:o})};CronDate$1.prototype.setMilliseconds=function(o){this._date=this._date.set({millisecond:o})};CronDate$1.prototype._getUTC=function(){return this._date.toUTC()};CronDate$1.prototype.toString=function(){return this.toDate().toString()};CronDate$1.prototype.toDate=function(){return this._date.toJSDate()};CronDate$1.prototype.isLastDayOfMonth=function(){var o=this._date.plus({days:1}).startOf("day");return this._date.month!==o.month};CronDate$1.prototype.isLastWeekdayOfMonth=function(){var o=this._date.plus({days:7}).startOf("day");return this._date.month!==o.month};function CronDate$1(o,e){var h={zone:e};if(o?o instanceof CronDate$1?this._date=o._date:o instanceof Date?this._date=luxon.DateTime.fromJSDate(o,h):typeof o=="number"?this._date=luxon.DateTime.fromMillis(o,h):typeof o=="string"&&(this._date=luxon.DateTime.fromISO(o,h),this._date.isValid||(this._date=luxon.DateTime.fromRFC2822(o,h)),this._date.isValid||(this._date=luxon.DateTime.fromSQL(o,h)),this._date.isValid||(this._date=luxon.DateTime.fromFormat(o,"EEE, d MMM yyyy HH:mm:ss",h))):this._date=luxon.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(o));e&&e!==this._date.zoneName&&(this._date=this._date.setZone(e))}var date=CronDate$1;function buildRange(o){return{start:o,count:1}}function completeRangeWithItem(o,e){o.end=e,o.step=e-o.start,o.count=2}function finalizeCurrentRange(o,e,h){e&&(e.count===2?(o.push(buildRange(e.start)),o.push(buildRange(e.end))):o.push(e)),h&&o.push(h)}function compactField$1(o){for(var e=[],h=void 0,d=0;d<o.length;d++){var g=o[d];typeof g!="number"?(finalizeCurrentRange(e,h,buildRange(g)),h=void 0):h?h.count===1?completeRangeWithItem(h,g):h.step===g-h.end?(h.count++,h.end=g):h.count===2?(e.push(buildRange(h.start)),h=buildRange(h.end),completeRangeWithItem(h,g)):(finalizeCurrentRange(e,h),h=buildRange(g)):h=buildRange(g)}return finalizeCurrentRange(e,h),e}var field_compactor=compactField$1,compactField=field_compactor;function stringifyField$1(o,e,h){var d=compactField(o);if(d.length===1){var g=d[0],_=g.step;if(_===1&&g.start===e&&g.end===h)return"*";if(_!==1&&g.start===e&&g.end===h-_+1)return"*/"+_}for(var b=[],$=0,j=d.length;$<j;++$){var _e=d[$];if(_e.count===1)b.push(_e.start);else{var _=_e.step;_===1?b.push(_e.start+"-"+_e.end):_e.end===h-_+1?b.push(_e.start+"/"+_):b.push(_e.start+"-"+_e.end+"/"+_)}}return b.join(",")}var field_stringify=stringifyField$1,CronDate=date,stringifyField=field_stringify,LOOP_LIMIT=1e4;function CronExpression$1(o,e){this._options=e,this._utc=e.utc||!1,this._tz=this._utc?"UTC":e.tz,this._currentDate=new CronDate(e.currentDate,this._tz),this._startDate=e.startDate?new CronDate(e.startDate,this._tz):null,this._endDate=e.endDate?new CronDate(e.endDate,this._tz):null,this._isIterator=e.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=e.nthDayOfWeek||0,this.fields=CronExpression$1._freezeFields(o)}CronExpression$1.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"];CronExpression$1.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"};CronExpression$1.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}];CronExpression$1.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31];CronExpression$1.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}};CronExpression$1.parseDefaults=["0","*","*","*","*","*"];CronExpression$1.standardValidCharacters=/^[,*\d/-]+$/;CronExpression$1.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/;CronExpression$1.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/;CronExpression$1.validCharacters={second:CronExpression$1.standardValidCharacters,minute:CronExpression$1.standardValidCharacters,hour:CronExpression$1.standardValidCharacters,dayOfMonth:CronExpression$1.dayOfMonthValidCharacters,month:CronExpression$1.standardValidCharacters,dayOfWeek:CronExpression$1.dayOfWeekValidCharacters};CronExpression$1._isValidConstraintChar=function(e,h){return typeof h!="string"?!1:e.chars.some(function(d){return h.indexOf(d)>-1})};CronExpression$1._parseField=function(e,h,d){switch(e){case"month":case"dayOfWeek":var g=CronExpression$1.aliases[e];h=h.replace(/[a-z]{3}/gi,function(j){if(j=j.toLowerCase(),typeof g[j]!="undefined")return g[j];throw new Error('Validation error, cannot resolve alias "'+j+'"')});break}if(!CronExpression$1.validCharacters[e].test(h))throw new Error("Invalid characters, got value: "+h);h.indexOf("*")!==-1?h=h.replace(/\*/g,d.min+"-"+d.max):h.indexOf("?")!==-1&&(h=h.replace(/\?/g,d.min+"-"+d.max));function _(j){var _e=[];function et(st){if(st instanceof Array)for(var at=0,ct=st.length;at<ct;at++){var it=st[at];if(CronExpression$1._isValidConstraintChar(d,it)){_e.push(it);continue}if(typeof it!="number"||Number.isNaN(it)||it<d.min||it>d.max)throw new Error("Constraint error, got value "+it+" expected range "+d.min+"-"+d.max);_e.push(it)}else{if(CronExpression$1._isValidConstraintChar(d,st)){_e.push(st);return}var lt=+st;if(Number.isNaN(lt)||lt<d.min||lt>d.max)throw new Error("Constraint error, got value "+st+" expected range "+d.min+"-"+d.max);e==="dayOfWeek"&&(lt=lt%7),_e.push(lt)}}var rt=j.split(",");if(!rt.every(function(st){return st.length>0}))throw new Error("Invalid list value format");if(rt.length>1)for(var tt=0,nt=rt.length;tt<nt;tt++)et(b(rt[tt]));else et(b(j));return _e.sort(CronExpression$1._sortCompareFn),_e}function b(j){var _e=1,et=j.split("/");return et.length>1?(et[0]==+et[0]&&(et=[et[0]+"-"+d.max,et[1]]),$(et[0],et[et.length-1])):$(j,_e)}function $(j,_e){var et=[],rt=j.split("-");if(rt.length>1){if(rt.length<2)return+j;if(!rt[0].length){if(!rt[1].length)throw new Error("Invalid range: "+j);return+j}var tt=+rt[0],nt=+rt[1];if(Number.isNaN(tt)||Number.isNaN(nt)||tt<d.min||nt>d.max)throw new Error("Constraint error, got range "+tt+"-"+nt+" expected range "+d.min+"-"+d.max);if(tt>=nt)throw new Error("Invalid range: "+j);var st=+_e;if(Number.isNaN(st)||st<=0)throw new Error("Constraint error, cannot repeat at every "+st+" time.");for(var at=tt,ct=nt;at<=ct;at++)st>0&&st%_e==0?(st=1,et.push(at)):st++;return et}return Number.isNaN(+j)?j:+j}return _(h)};CronExpression$1._sortCompareFn=function(o,e){var h=typeof o=="number",d=typeof e=="number";return h&&d?o-e:!h&&d?1:h&&!d?-1:o.localeCompare(e)};CronExpression$1._handleMaxDaysInMonth=function(o){if(o.month.length===1){var e=CronExpression$1.daysInMonth[o.month[0]-1];if(o.dayOfMonth[0]>e)throw new Error("Invalid explicit day of month definition");return o.dayOfMonth.filter(function(h){return h==="L"?!0:h<=e}).sort(CronExpression$1._sortCompareFn)}};CronExpression$1._freezeFields=function(o){for(var e=0,h=CronExpression$1.map.length;e<h;++e){var d=CronExpression$1.map[e],g=o[d];o[d]=Object.freeze(g)}return Object.freeze(o)};CronExpression$1.prototype._applyTimezoneShift=function(o,e,h){if(h==="Month"||h==="Day"){var d=o.getTime();o[e+h]();var g=o.getTime();d===g&&(o.getMinutes()===0&&o.getSeconds()===0?o.addHour():o.getMinutes()===59&&o.getSeconds()===59&&o.subtractHour())}else{var _=o.getHours();o[e+h]();var b=o.getHours(),$=b-_;$===2?this.fields.hour.length!==24&&(this._dstStart=b):$===0&&o.getMinutes()===0&&o.getSeconds()===0&&this.fields.hour.length!==24&&(this._dstEnd=b)}};CronExpression$1.prototype._findSchedule=function(e){function h(it,lt){for(var ht=0,ut=lt.length;ht<ut;ht++)if(lt[ht]>=it)return lt[ht]===it;return lt[0]===it}function d(it,lt){if(lt<6){if(it.getDate()<8&&lt===1)return!0;var ht=it.getDate()%7?1:0,ut=it.getDate()-it.getDate()%7,dt=Math.floor(ut/7)+ht;return dt===lt}return!1}function g(it){return it.length>0&&it.some(function(lt){return typeof lt=="string"&&lt.indexOf("L")>=0})}e=e||!1;var _=e?"subtract":"add",b=new CronDate(this._currentDate,this._tz),$=this._startDate,j=this._endDate,_e=b.getTime(),et=0;function rt(it){return it.some(function(lt){if(!g([lt]))return!1;var ht=Number.parseInt(lt[0]);if(Number.isNaN(ht))throw new Error("Invalid last weekday of the month expression: "+lt);return b.getDay()===ht&&b.isLastWeekdayOfMonth()})}for(;et<LOOP_LIMIT;){if(et++,e){if($&&b.getTime()-$.getTime()<0)throw new Error("Out of the timespan range")}else if(j&&j.getTime()-b.getTime()<0)throw new Error("Out of the timespan range");var tt=h(b.getDate(),this.fields.dayOfMonth);g(this.fields.dayOfMonth)&&(tt=tt||b.isLastDayOfMonth());var nt=h(b.getDay(),this.fields.dayOfWeek);g(this.fields.dayOfWeek)&&(nt=nt||rt(this.fields.dayOfWeek));var st=this.fields.dayOfMonth.length>=CronExpression$1.daysInMonth[b.getMonth()],at=this.fields.dayOfWeek.length===CronExpression$1.constraints[5].max-CronExpression$1.constraints[5].min+1,ct=b.getHours();if(!tt&&!nt){this._applyTimezoneShift(b,_,"Day");continue}if(!st&&at&&!tt){this._applyTimezoneShift(b,_,"Day");continue}if(st&&!at&&!nt){this._applyTimezoneShift(b,_,"Day");continue}if(this._nthDayOfWeek>0&&!d(b,this._nthDayOfWeek)){this._applyTimezoneShift(b,_,"Day");continue}if(!h(b.getMonth()+1,this.fields.month)){this._applyTimezoneShift(b,_,"Month");continue}if(h(ct,this.fields.hour)){if(this._dstEnd===ct&&!e){this._dstEnd=null,this._applyTimezoneShift(b,"add","Hour");continue}}else if(this._dstStart!==ct){this._dstStart=null,this._applyTimezoneShift(b,_,"Hour");continue}else if(!h(ct-1,this.fields.hour)){b[_+"Hour"]();continue}if(!h(b.getMinutes(),this.fields.minute)){this._applyTimezoneShift(b,_,"Minute");continue}if(!h(b.getSeconds(),this.fields.second)){this._applyTimezoneShift(b,_,"Second");continue}if(_e===b.getTime()){_==="add"||b.getMilliseconds()===0?this._applyTimezoneShift(b,_,"Second"):b.setMilliseconds(0);continue}break}if(et>=LOOP_LIMIT)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new CronDate(b,this._tz),this._hasIterated=!0,b};CronExpression$1.prototype.next=function(){var e=this._findSchedule();return this._isIterator?{value:e,done:!this.hasNext()}:e};CronExpression$1.prototype.prev=function(){var e=this._findSchedule(!0);return this._isIterator?{value:e,done:!this.hasPrev()}:e};CronExpression$1.prototype.hasNext=function(){var o=this._currentDate,e=this._hasIterated;try{return this._findSchedule(),!0}catch{return!1}finally{this._currentDate=o,this._hasIterated=e}};CronExpression$1.prototype.hasPrev=function(){var o=this._currentDate,e=this._hasIterated;try{return this._findSchedule(!0),!0}catch{return!1}finally{this._currentDate=o,this._hasIterated=e}};CronExpression$1.prototype.iterate=function(e,h){var d=[];if(e>=0)for(var g=0,_=e;g<_;g++)try{var b=this.next();d.push(b),h&&h(b,g)}catch{break}else for(var g=0,_=e;g>_;g--)try{var b=this.prev();d.push(b),h&&h(b,g)}catch{break}return d};CronExpression$1.prototype.reset=function(e){this._currentDate=new CronDate(e||this._options.currentDate)};CronExpression$1.prototype.stringify=function(e){for(var h=[],d=e?0:1,g=CronExpression$1.map.length;d<g;++d){var _=CronExpression$1.map[d],b=this.fields[_],$=CronExpression$1.constraints[d];h.push(stringifyField(b,$.min,$.max))}return h.join(" ")};CronExpression$1.parse=function(e,h){var d=this;typeof h=="function"&&(h={});function g(_,b){b||(b={}),typeof b.currentDate=="undefined"&&(b.currentDate=new CronDate(void 0,d._tz)),CronExpression$1.predefined[_]&&(_=CronExpression$1.predefined[_]);var $=[],j=(_+"").trim().split(/\s+/);if(j.length>6)throw new Error("Invalid cron expression");for(var _e=CronExpression$1.map.length-j.length,et=0,rt=CronExpression$1.map.length;et<rt;++et){var tt=CronExpression$1.map[et],nt=j[j.length>rt?et:et-_e];if(et<_e||!nt)$.push(CronExpression$1._parseField(tt,CronExpression$1.parseDefaults[et],CronExpression$1.constraints[et]));else{var st=tt==="dayOfWeek"?lt(nt):nt;$.push(CronExpression$1._parseField(tt,st,CronExpression$1.constraints[et]))}}for(var at={},et=0,rt=CronExpression$1.map.length;et<rt;et++){var ct=CronExpression$1.map[et];at[ct]=$[et]}var it=CronExpression$1._handleMaxDaysInMonth(at);return at.dayOfMonth=it||at.dayOfMonth,new CronExpression$1(at,b);function lt(ht){var ut=ht.split("#");if(ut.length>1){var dt=+ut[ut.length-1];if(/,/.test(ht))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(ht))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(ht))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(ut.length>2||Number.isNaN(dt)||dt<1||dt>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return b.nthDayOfWeek=dt,ut[0]}return ht}}return g(e,h)};CronExpression$1.fieldsToExpression=function(e,h){function d(tt,nt,st){if(!nt)throw new Error("Validation error, Field "+tt+" is missing");if(nt.length===0)throw new Error("Validation error, Field "+tt+" contains no values");for(var at=0,ct=nt.length;at<ct;at++){var it=nt[at];if(!CronExpression$1._isValidConstraintChar(st,it)&&(typeof it!="number"||Number.isNaN(it)||it<st.min||it>st.max))throw new Error("Constraint error, got value "+it+" expected range "+st.min+"-"+st.max)}}for(var g={},_=0,b=CronExpression$1.map.length;_<b;++_){var $=CronExpression$1.map[_],j=e[$];d($,j,CronExpression$1.constraints[_]);for(var _e=[],et=-1;++et<j.length;)_e[et]=j[et];if(j=_e.sort(CronExpression$1._sortCompareFn).filter(function(tt,nt,st){return!nt||tt!==st[nt-1]}),j.length!==_e.length)throw new Error("Validation error, Field "+$+" contains duplicate values");g[$]=j}var rt=CronExpression$1._handleMaxDaysInMonth(g);return g.dayOfMonth=rt||g.dayOfMonth,new CronExpression$1(g,h||{})};var expression=CronExpression$1,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1),CronExpression=expression;function CronParser(){}CronParser._parseEntry=function(e){var h=e.split(" ");if(h.length===6)return{interval:CronExpression.parse(e)};if(h.length>6)return{interval:CronExpression.parse(h.slice(0,6).join(" ")),command:h.slice(6,h.length)};throw new Error("Invalid entry: "+e)};CronParser.parseExpression=function(e,h){return CronExpression.parse(e,h)};CronParser.fieldsToExpression=function(e,h){return CronExpression.fieldsToExpression(e,h)};CronParser.parseString=function(e){for(var h=e.split(`
`),d={variables:{},expressions:[],errors:{}},g=0,_=h.length;g<_;g++){var b=h[g],$=null,j=b.trim();if(j.length>0){if(j.match(/^#/))continue;if($=j.match(/^(.*)=(.*)$/))d.variables[$[1]]=$[2];else{var _e=null;try{_e=CronParser._parseEntry("0 "+j),d.expressions.push(_e.interval)}catch(et){d.errors[j]=et}}}}return d};CronParser.parseFile=function(e,h){require$$0.readFile(e,function(d,g){if(d){h(d);return}return h(null,CronParser.parseString(g.toString()))})};var parser$1=CronParser;//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(o){hookCallback=o}function isArray$5(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}function isObject$4(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}function hasOwnProp(o,e){return Object.prototype.hasOwnProperty.call(o,e)}function isObjectEmpty(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var e;for(e in o)if(hasOwnProp(o,e))return!1;return!0}function isUndefined(o){return o===void 0}function isNumber$1(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}function isDate$1(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}function map$3(o,e){var h=[],d;for(d=0;d<o.length;++d)h.push(e(o[d],d));return h}function extend$4(o,e){for(var h in e)hasOwnProp(e,h)&&(o[h]=e[h]);return hasOwnProp(e,"toString")&&(o.toString=e.toString),hasOwnProp(e,"valueOf")&&(o.valueOf=e.valueOf),o}function createUTC(o,e,h,d){return createLocalOrUTC(o,e,h,d,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(o){return o._pf==null&&(o._pf=defaultParsingFlags()),o._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(o){var e=Object(this),h=e.length>>>0,d;for(d=0;d<h;d++)if(d in e&&o.call(this,e[d],d,e))return!0;return!1};function isValid(o){if(o._isValid==null){var e=getParsingFlags(o),h=some.call(e.parsedDateParts,function(g){return g!=null}),d=!isNaN(o._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&h);if(o._strict&&(d=d&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=d;else return d}return o._isValid}function createInvalid(o){var e=createUTC(NaN);return o!=null?extend$4(getParsingFlags(e),o):getParsingFlags(e).userInvalidated=!0,e}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(o,e){var h,d,g;if(isUndefined(e._isAMomentObject)||(o._isAMomentObject=e._isAMomentObject),isUndefined(e._i)||(o._i=e._i),isUndefined(e._f)||(o._f=e._f),isUndefined(e._l)||(o._l=e._l),isUndefined(e._strict)||(o._strict=e._strict),isUndefined(e._tzm)||(o._tzm=e._tzm),isUndefined(e._isUTC)||(o._isUTC=e._isUTC),isUndefined(e._offset)||(o._offset=e._offset),isUndefined(e._pf)||(o._pf=getParsingFlags(e)),isUndefined(e._locale)||(o._locale=e._locale),momentProperties.length>0)for(h=0;h<momentProperties.length;h++)d=momentProperties[h],g=e[d],isUndefined(g)||(o[d]=g);return o}function Moment(o){copyConfig(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(o){return o instanceof Moment||o!=null&&o._isAMomentObject!=null}function warn(o){hooks.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+o)}function deprecate(o,e){var h=!0;return extend$4(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,o),h){var d=[],g,_,b;for(_=0;_<arguments.length;_++){if(g="",typeof arguments[_]=="object"){g+=`
[`+_+"] ";for(b in arguments[0])hasOwnProp(arguments[0],b)&&(g+=b+": "+arguments[0][b]+", ");g=g.slice(0,-2)}else g=arguments[_];d.push(g)}warn(o+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),h=!1}return e.apply(this,arguments)},e)}var deprecations={};function deprecateSimple(o,e){hooks.deprecationHandler!=null&&hooks.deprecationHandler(o,e),deprecations[o]||(warn(e),deprecations[o]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(o){return typeof Function!="undefined"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}function set$2(o){var e,h;for(h in o)hasOwnProp(o,h)&&(e=o[h],isFunction$1(e)?this[h]=e:this["_"+h]=e);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(o,e){var h=extend$4({},o),d;for(d in e)hasOwnProp(e,d)&&(isObject$4(o[d])&&isObject$4(e[d])?(h[d]={},extend$4(h[d],o[d]),extend$4(h[d],e[d])):e[d]!=null?h[d]=e[d]:delete h[d]);for(d in o)hasOwnProp(o,d)&&!hasOwnProp(e,d)&&isObject$4(o[d])&&(h[d]=extend$4({},h[d]));return h}function Locale(o){o!=null&&this.set(o)}var keys;Object.keys?keys=Object.keys:keys=function(o){var e,h=[];for(e in o)hasOwnProp(o,e)&&h.push(e);return h};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(o,e,h){var d=this._calendar[o]||this._calendar.sameElse;return isFunction$1(d)?d.call(e,h):d}function zeroFill(o,e,h){var d=""+Math.abs(o),g=e-d.length,_=o>=0;return(_?h?"+":"":"-")+Math.pow(10,Math.max(0,g)).toString().substr(1)+d}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(o,e,h,d){var g=d;typeof d=="string"&&(g=function(){return this[d]()}),o&&(formatTokenFunctions[o]=g),e&&(formatTokenFunctions[e[0]]=function(){return zeroFill(g.apply(this,arguments),e[1],e[2])}),h&&(formatTokenFunctions[h]=function(){return this.localeData().ordinal(g.apply(this,arguments),o)})}function removeFormattingTokens(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}function makeFormatFunction(o){var e=o.match(formattingTokens),h,d;for(h=0,d=e.length;h<d;h++)formatTokenFunctions[e[h]]?e[h]=formatTokenFunctions[e[h]]:e[h]=removeFormattingTokens(e[h]);return function(g){var _="",b;for(b=0;b<d;b++)_+=isFunction$1(e[b])?e[b].call(g,o):e[b];return _}}function formatMoment(o,e){return o.isValid()?(e=expandFormat(e,o.localeData()),formatFunctions[e]=formatFunctions[e]||makeFormatFunction(e),formatFunctions[e](o)):o.localeData().invalidDate()}function expandFormat(o,e){var h=5;function d(g){return e.longDateFormat(g)||g}for(localFormattingTokens.lastIndex=0;h>=0&&localFormattingTokens.test(o);)o=o.replace(localFormattingTokens,d),localFormattingTokens.lastIndex=0,h-=1;return o}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(o){var e=this._longDateFormat[o],h=this._longDateFormat[o.toUpperCase()];return e||!h?e:(this._longDateFormat[o]=h.match(formattingTokens).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[o])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal$1(o){return this._ordinal.replace("%d",o)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(o,e,h,d){var g=this._relativeTime[h];return isFunction$1(g)?g(o,e,h,d):g.replace(/%d/i,o)}function pastFuture(o,e){var h=this._relativeTime[o>0?"future":"past"];return isFunction$1(h)?h(e):h.replace(/%s/i,e)}var aliases={};function addUnitAlias(o,e){var h=o.toLowerCase();aliases[h]=aliases[h+"s"]=aliases[e]=o}function normalizeUnits(o){return typeof o=="string"?aliases[o]||aliases[o.toLowerCase()]:void 0}function normalizeObjectUnits(o){var e={},h,d;for(d in o)hasOwnProp(o,d)&&(h=normalizeUnits(d),h&&(e[h]=o[d]));return e}var priorities={};function addUnitPriority(o,e){priorities[o]=e}function getPrioritizedUnits(o){var e=[],h;for(h in o)hasOwnProp(o,h)&&e.push({unit:h,priority:priorities[h]});return e.sort(function(d,g){return d.priority-g.priority}),e}function isLeapYear(o){return o%4==0&&o%100!=0||o%400==0}function absFloor(o){return o<0?Math.ceil(o)||0:Math.floor(o)}function toInt(o){var e=+o,h=0;return e!==0&&isFinite(e)&&(h=absFloor(e)),h}function makeGetSet(o,e){return function(h){return h!=null?(set$1$1(this,o,h),hooks.updateOffset(this,e),this):get$2(this,o)}}function get$2(o,e){return o.isValid()?o._d["get"+(o._isUTC?"UTC":"")+e]():NaN}function set$1$1(o,e,h){o.isValid()&&!isNaN(h)&&(e==="FullYear"&&isLeapYear(o.year())&&o.month()===1&&o.date()===29?(h=toInt(h),o._d["set"+(o._isUTC?"UTC":"")+e](h,o.month(),daysInMonth(h,o.month()))):o._d["set"+(o._isUTC?"UTC":"")+e](h))}function stringGet(o){return o=normalizeUnits(o),isFunction$1(this[o])?this[o]():this}function stringSet(o,e){if(typeof o=="object"){o=normalizeObjectUnits(o);var h=getPrioritizedUnits(o),d;for(d=0;d<h.length;d++)this[h[d].unit](o[h[d].unit])}else if(o=normalizeUnits(o),isFunction$1(this[o]))return this[o](e);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(o,e,h){regexes[o]=isFunction$1(e)?e:function(d,g){return d&&h?h:e}}function getParseRegexForToken(o,e){return hasOwnProp(regexes,o)?regexes[o](e._strict,e._locale):new RegExp(unescapeFormat(o))}function unescapeFormat(o){return regexEscape(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,h,d,g,_){return h||d||g||_}))}function regexEscape(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(o,e){var h,d=e;for(typeof o=="string"&&(o=[o]),isNumber$1(e)&&(d=function(g,_){_[e]=toInt(g)}),h=0;h<o.length;h++)tokens[o[h]]=d}function addWeekParseToken(o,e){addParseToken(o,function(h,d,g,_){g._w=g._w||{},e(h,g._w,g,_)})}function addTimeToArrayFromToken(o,e,h){e!=null&&hasOwnProp(tokens,o)&&tokens[o](e,h._a,h,o)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(o,e){return(o%e+e)%e}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(o){var e;for(e=0;e<this.length;++e)if(this[e]===o)return e;return-1};function daysInMonth(o,e){if(isNaN(o)||isNaN(e))return NaN;var h=mod(e,12);return o+=(e-h)/12,h===1?isLeapYear(o)?29:28:31-h%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)});addFormatToken("MMMM",0,0,function(o){return this.localeData().months(this,o)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(o,e){return e.monthsShortRegex(o)});addRegexToken("MMMM",function(o,e){return e.monthsRegex(o)});addParseToken(["M","MM"],function(o,e){e[MONTH]=toInt(o)-1});addParseToken(["MMM","MMMM"],function(o,e,h,d){var g=h._locale.monthsParse(o,d,h._strict);g!=null?e[MONTH]=g:getParsingFlags(h).invalidMonth=o});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(o,e){return o?isArray$5(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(e)?"format":"standalone"][o.month()]:isArray$5(this._months)?this._months:this._months.standalone}function localeMonthsShort(o,e){return o?isArray$5(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(e)?"format":"standalone"][o.month()]:isArray$5(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(o,e,h){var d,g,_,b=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)_=createUTC([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(_,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(_,"").toLocaleLowerCase();return h?e==="MMM"?(g=indexOf$1.call(this._shortMonthsParse,b),g!==-1?g:null):(g=indexOf$1.call(this._longMonthsParse,b),g!==-1?g:null):e==="MMM"?(g=indexOf$1.call(this._shortMonthsParse,b),g!==-1?g:(g=indexOf$1.call(this._longMonthsParse,b),g!==-1?g:null)):(g=indexOf$1.call(this._longMonthsParse,b),g!==-1?g:(g=indexOf$1.call(this._shortMonthsParse,b),g!==-1?g:null))}function localeMonthsParse(o,e,h){var d,g,_;if(this._monthsParseExact)return handleStrictParse.call(this,o,e,h);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(g=createUTC([2e3,d]),h&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),!h&&!this._monthsParse[d]&&(_="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[d]=new RegExp(_.replace(".",""),"i")),h&&e==="MMMM"&&this._longMonthsParse[d].test(o))return d;if(h&&e==="MMM"&&this._shortMonthsParse[d].test(o))return d;if(!h&&this._monthsParse[d].test(o))return d}}function setMonth(o,e){var h;if(!o.isValid())return o;if(typeof e=="string"){if(/^\d+$/.test(e))e=toInt(e);else if(e=o.localeData().monthsParse(e),!isNumber$1(e))return o}return h=Math.min(o.date(),daysInMonth(o.year(),e)),o._d["set"+(o._isUTC?"UTC":"")+"Month"](e,h),o}function getSetMonth(o){return o!=null?(setMonth(this,o),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(o){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(o){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),o?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function o(b,$){return $.length-b.length}var e=[],h=[],d=[],g,_;for(g=0;g<12;g++)_=createUTC([2e3,g]),e.push(this.monthsShort(_,"")),h.push(this.months(_,"")),d.push(this.months(_,"")),d.push(this.monthsShort(_,""));for(e.sort(o),h.sort(o),d.sort(o),g=0;g<12;g++)e[g]=regexEscape(e[g]),h[g]=regexEscape(h[g]);for(g=0;g<24;g++)d[g]=regexEscape(d[g]);this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}addFormatToken("Y",0,0,function(){var o=this.year();return o<=9999?zeroFill(o,4):"+"+o});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(o,e){e[YEAR]=o.length===2?hooks.parseTwoDigitYear(o):toInt(o)});addParseToken("YY",function(o,e){e[YEAR]=hooks.parseTwoDigitYear(o)});addParseToken("Y",function(o,e){e[YEAR]=parseInt(o,10)});function daysInYear(o){return isLeapYear(o)?366:365}hooks.parseTwoDigitYear=function(o){return toInt(o)+(toInt(o)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(o,e,h,d,g,_,b){var $;return o<100&&o>=0?($=new Date(o+400,e,h,d,g,_,b),isFinite($.getFullYear())&&$.setFullYear(o)):$=new Date(o,e,h,d,g,_,b),$}function createUTCDate(o){var e,h;return o<100&&o>=0?(h=Array.prototype.slice.call(arguments),h[0]=o+400,e=new Date(Date.UTC.apply(null,h)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(o)):e=new Date(Date.UTC.apply(null,arguments)),e}function firstWeekOffset(o,e,h){var d=7+e-h,g=(7+createUTCDate(o,0,d).getUTCDay()-e)%7;return-g+d-1}function dayOfYearFromWeeks(o,e,h,d,g){var _=(7+h-d)%7,b=firstWeekOffset(o,d,g),$=1+7*(e-1)+_+b,j,_e;return $<=0?(j=o-1,_e=daysInYear(j)+$):$>daysInYear(o)?(j=o+1,_e=$-daysInYear(o)):(j=o,_e=$),{year:j,dayOfYear:_e}}function weekOfYear(o,e,h){var d=firstWeekOffset(o.year(),e,h),g=Math.floor((o.dayOfYear()-d-1)/7)+1,_,b;return g<1?(b=o.year()-1,_=g+weeksInYear(b,e,h)):g>weeksInYear(o.year(),e,h)?(_=g-weeksInYear(o.year(),e,h),b=o.year()+1):(b=o.year(),_=g),{week:_,year:b}}function weeksInYear(o,e,h){var d=firstWeekOffset(o,e,h),g=firstWeekOffset(o+1,e,h);return(daysInYear(o)-d+g)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(o,e,h,d){e[d.substr(0,1)]=toInt(o)});function localeWeek(o){return weekOfYear(o,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(o){var e=this.localeData().week(this);return o==null?e:this.add((o-e)*7,"d")}function getSetISOWeek(o){var e=weekOfYear(this,1,4).week;return o==null?e:this.add((o-e)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)});addFormatToken("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)});addFormatToken("dddd",0,0,function(o){return this.localeData().weekdays(this,o)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(o,e){return e.weekdaysMinRegex(o)});addRegexToken("ddd",function(o,e){return e.weekdaysShortRegex(o)});addRegexToken("dddd",function(o,e){return e.weekdaysRegex(o)});addWeekParseToken(["dd","ddd","dddd"],function(o,e,h,d){var g=h._locale.weekdaysParse(o,d,h._strict);g!=null?e.d=g:getParsingFlags(h).invalidWeekday=o});addWeekParseToken(["d","e","E"],function(o,e,h,d){e[d]=toInt(o)});function parseWeekday(o,e){return typeof o!="string"?o:isNaN(o)?(o=e.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}function parseIsoWeekday(o,e){return typeof o=="string"?e.weekdaysParse(o)%7||7:isNaN(o)?null:o}function shiftWeekdays(o,e){return o.slice(e,7).concat(o.slice(0,e))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(o,e){var h=isArray$5(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return o===!0?shiftWeekdays(h,this._week.dow):o?h[o.day()]:h}function localeWeekdaysShort(o){return o===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}function localeWeekdaysMin(o){return o===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}function handleStrictParse$1(o,e,h){var d,g,_,b=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)_=createUTC([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(_,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(_,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(_,"").toLocaleLowerCase();return h?e==="dddd"?(g=indexOf$1.call(this._weekdaysParse,b),g!==-1?g:null):e==="ddd"?(g=indexOf$1.call(this._shortWeekdaysParse,b),g!==-1?g:null):(g=indexOf$1.call(this._minWeekdaysParse,b),g!==-1?g:null):e==="dddd"?(g=indexOf$1.call(this._weekdaysParse,b),g!==-1||(g=indexOf$1.call(this._shortWeekdaysParse,b),g!==-1)?g:(g=indexOf$1.call(this._minWeekdaysParse,b),g!==-1?g:null)):e==="ddd"?(g=indexOf$1.call(this._shortWeekdaysParse,b),g!==-1||(g=indexOf$1.call(this._weekdaysParse,b),g!==-1)?g:(g=indexOf$1.call(this._minWeekdaysParse,b),g!==-1?g:null)):(g=indexOf$1.call(this._minWeekdaysParse,b),g!==-1||(g=indexOf$1.call(this._weekdaysParse,b),g!==-1)?g:(g=indexOf$1.call(this._shortWeekdaysParse,b),g!==-1?g:null))}function localeWeekdaysParse(o,e,h){var d,g,_;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,o,e,h);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(g=createUTC([2e3,1]).day(d),h&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(g,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(g,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(g,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(_="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[d]=new RegExp(_.replace(".",""),"i")),h&&e==="dddd"&&this._fullWeekdaysParse[d].test(o))return d;if(h&&e==="ddd"&&this._shortWeekdaysParse[d].test(o))return d;if(h&&e==="dd"&&this._minWeekdaysParse[d].test(o))return d;if(!h&&this._weekdaysParse[d].test(o))return d}}function getSetDayOfWeek(o){if(!this.isValid())return o!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return o!=null?(o=parseWeekday(o,this.localeData()),this.add(o-e,"d")):e}function getSetLocaleDayOfWeek(o){if(!this.isValid())return o!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return o==null?e:this.add(o-e,"d")}function getSetISODayOfWeek(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var e=parseIsoWeekday(o,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function weekdaysRegex(o){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(o){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(o){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function o(et,rt){return rt.length-et.length}var e=[],h=[],d=[],g=[],_,b,$,j,_e;for(_=0;_<7;_++)b=createUTC([2e3,1]).day(_),$=regexEscape(this.weekdaysMin(b,"")),j=regexEscape(this.weekdaysShort(b,"")),_e=regexEscape(this.weekdays(b,"")),e.push($),h.push(j),d.push(_e),g.push($),g.push(j),g.push(_e);e.sort(o),h.sort(o),d.sort(o),g.sort(o),this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(o,e){addFormatToken(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(o,e){return e._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(o,e,h){var d=toInt(o);e[HOUR]=d===24?0:d});addParseToken(["a","A"],function(o,e,h){h._isPm=h._locale.isPM(o),h._meridiem=o});addParseToken(["h","hh"],function(o,e,h){e[HOUR]=toInt(o),getParsingFlags(h).bigHour=!0});addParseToken("hmm",function(o,e,h){var d=o.length-2;e[HOUR]=toInt(o.substr(0,d)),e[MINUTE]=toInt(o.substr(d)),getParsingFlags(h).bigHour=!0});addParseToken("hmmss",function(o,e,h){var d=o.length-4,g=o.length-2;e[HOUR]=toInt(o.substr(0,d)),e[MINUTE]=toInt(o.substr(d,2)),e[SECOND]=toInt(o.substr(g)),getParsingFlags(h).bigHour=!0});addParseToken("Hmm",function(o,e,h){var d=o.length-2;e[HOUR]=toInt(o.substr(0,d)),e[MINUTE]=toInt(o.substr(d))});addParseToken("Hmmss",function(o,e,h){var d=o.length-4,g=o.length-2;e[HOUR]=toInt(o.substr(0,d)),e[MINUTE]=toInt(o.substr(d,2)),e[SECOND]=toInt(o.substr(g))});function localeIsPM(o){return(o+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(o,e,h){return o>11?h?"pm":"PM":h?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(o,e){var h,d=Math.min(o.length,e.length);for(h=0;h<d;h+=1)if(o[h]!==e[h])return h;return d}function normalizeLocale(o){return o&&o.toLowerCase().replace("_","-")}function chooseLocale(o){for(var e=0,h,d,g,_;e<o.length;){for(_=normalizeLocale(o[e]).split("-"),h=_.length,d=normalizeLocale(o[e+1]),d=d?d.split("-"):null;h>0;){if(g=loadLocale(_.slice(0,h).join("-")),g)return g;if(d&&d.length>=h&&commonPrefix(_,d)>=h-1)break;h--}e++}return globalLocale}function loadLocale(o){var e=null,h;if(locales[o]===void 0&&typeof module!="undefined"&&module&&module.exports)try{e=globalLocale._abbr,h=require,h("./locale/"+o),getSetGlobalLocale(e)}catch{locales[o]=null}return locales[o]}function getSetGlobalLocale(o,e){var h;return o&&(isUndefined(e)?h=getLocale(o):h=defineLocale(o,e),h?globalLocale=h:typeof console!="undefined"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(o,e){if(e!==null){var h,d=baseConfig;if(e.abbr=o,locales[o]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=locales[o]._config;else if(e.parentLocale!=null)if(locales[e.parentLocale]!=null)d=locales[e.parentLocale]._config;else if(h=loadLocale(e.parentLocale),h!=null)d=h._config;else return localeFamilies[e.parentLocale]||(localeFamilies[e.parentLocale]=[]),localeFamilies[e.parentLocale].push({name:o,config:e}),null;return locales[o]=new Locale(mergeConfigs(d,e)),localeFamilies[o]&&localeFamilies[o].forEach(function(g){defineLocale(g.name,g.config)}),getSetGlobalLocale(o),locales[o]}else return delete locales[o],null}function updateLocale(o,e){if(e!=null){var h,d,g=baseConfig;locales[o]!=null&&locales[o].parentLocale!=null?locales[o].set(mergeConfigs(locales[o]._config,e)):(d=loadLocale(o),d!=null&&(g=d._config),e=mergeConfigs(g,e),d==null&&(e.abbr=o),h=new Locale(e),h.parentLocale=locales[o],locales[o]=h),getSetGlobalLocale(o)}else locales[o]!=null&&(locales[o].parentLocale!=null?(locales[o]=locales[o].parentLocale,o===getSetGlobalLocale()&&getSetGlobalLocale(o)):locales[o]!=null&&delete locales[o]);return locales[o]}function getLocale(o){var e;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return globalLocale;if(!isArray$5(o)){if(e=loadLocale(o),e)return e;o=[o]}return chooseLocale(o)}function listLocales(){return keys(locales)}function checkOverflow$2(o){var e,h=o._a;return h&&getParsingFlags(o).overflow===-2&&(e=h[MONTH]<0||h[MONTH]>11?MONTH:h[DATE]<1||h[DATE]>daysInMonth(h[YEAR],h[MONTH])?DATE:h[HOUR]<0||h[HOUR]>24||h[HOUR]===24&&(h[MINUTE]!==0||h[SECOND]!==0||h[MILLISECOND]!==0)?HOUR:h[MINUTE]<0||h[MINUTE]>59?MINUTE:h[SECOND]<0||h[SECOND]>59?SECOND:h[MILLISECOND]<0||h[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(o)._overflowDayOfYear&&(e<YEAR||e>DATE)&&(e=DATE),getParsingFlags(o)._overflowWeeks&&e===-1&&(e=WEEK),getParsingFlags(o)._overflowWeekday&&e===-1&&(e=WEEKDAY),getParsingFlags(o).overflow=e),o}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(o){var e,h,d=o._i,g=extendedIsoRegex.exec(d)||basicIsoRegex.exec(d),_,b,$,j;if(g){for(getParsingFlags(o).iso=!0,e=0,h=isoDates.length;e<h;e++)if(isoDates[e][1].exec(g[1])){b=isoDates[e][0],_=isoDates[e][2]!==!1;break}if(b==null){o._isValid=!1;return}if(g[3]){for(e=0,h=isoTimes.length;e<h;e++)if(isoTimes[e][1].exec(g[3])){$=(g[2]||" ")+isoTimes[e][0];break}if($==null){o._isValid=!1;return}}if(!_&&$!=null){o._isValid=!1;return}if(g[4])if(tzRegex.exec(g[4]))j="Z";else{o._isValid=!1;return}o._f=b+($||"")+(j||""),configFromStringAndFormat(o)}else o._isValid=!1}function extractFromRFC2822Strings(o,e,h,d,g,_){var b=[untruncateYear(o),defaultLocaleMonthsShort.indexOf(e),parseInt(h,10),parseInt(d,10),parseInt(g,10)];return _&&b.push(parseInt(_,10)),b}function untruncateYear(o){var e=parseInt(o,10);return e<=49?2e3+e:e<=999?1900+e:e}function preprocessRFC2822(o){return o.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(o,e,h){if(o){var d=defaultLocaleWeekdaysShort.indexOf(o),g=new Date(e[0],e[1],e[2]).getDay();if(d!==g)return getParsingFlags(h).weekdayMismatch=!0,h._isValid=!1,!1}return!0}function calculateOffset(o,e,h){if(o)return obsOffsets[o];if(e)return 0;var d=parseInt(h,10),g=d%100,_=(d-g)/100;return _*60+g}function configFromRFC2822(o){var e=rfc2822.exec(preprocessRFC2822(o._i)),h;if(e){if(h=extractFromRFC2822Strings(e[4],e[3],e[2],e[5],e[6],e[7]),!checkWeekday(e[1],h,o))return;o._a=h,o._tzm=calculateOffset(e[8],e[9],e[10]),o._d=createUTCDate.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),getParsingFlags(o).rfc2822=!0}else o._isValid=!1}function configFromString(o){var e=aspNetJsonRegex.exec(o._i);if(e!==null){o._d=new Date(+e[1]);return}if(configFromISO(o),o._isValid===!1)delete o._isValid;else return;if(configFromRFC2822(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:hooks.createFromInputFallback(o)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function defaults$3(o,e,h){return o!=null?o:e!=null?e:h}function currentDateArray(o){var e=new Date(hooks.now());return o._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function configFromArray(o){var e,h,d=[],g,_,b;if(!o._d){for(g=currentDateArray(o),o._w&&o._a[DATE]==null&&o._a[MONTH]==null&&dayOfYearFromWeekInfo(o),o._dayOfYear!=null&&(b=defaults$3(o._a[YEAR],g[YEAR]),(o._dayOfYear>daysInYear(b)||o._dayOfYear===0)&&(getParsingFlags(o)._overflowDayOfYear=!0),h=createUTCDate(b,0,o._dayOfYear),o._a[MONTH]=h.getUTCMonth(),o._a[DATE]=h.getUTCDate()),e=0;e<3&&o._a[e]==null;++e)o._a[e]=d[e]=g[e];for(;e<7;e++)o._a[e]=d[e]=o._a[e]==null?e===2?1:0:o._a[e];o._a[HOUR]===24&&o._a[MINUTE]===0&&o._a[SECOND]===0&&o._a[MILLISECOND]===0&&(o._nextDay=!0,o._a[HOUR]=0),o._d=(o._useUTC?createUTCDate:createDate).apply(null,d),_=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[HOUR]=24),o._w&&typeof o._w.d!="undefined"&&o._w.d!==_&&(getParsingFlags(o).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(o){var e,h,d,g,_,b,$,j,_e;e=o._w,e.GG!=null||e.W!=null||e.E!=null?(_=1,b=4,h=defaults$3(e.GG,o._a[YEAR],weekOfYear(createLocal(),1,4).year),d=defaults$3(e.W,1),g=defaults$3(e.E,1),(g<1||g>7)&&(j=!0)):(_=o._locale._week.dow,b=o._locale._week.doy,_e=weekOfYear(createLocal(),_,b),h=defaults$3(e.gg,o._a[YEAR],_e.year),d=defaults$3(e.w,_e.week),e.d!=null?(g=e.d,(g<0||g>6)&&(j=!0)):e.e!=null?(g=e.e+_,(e.e<0||e.e>6)&&(j=!0)):g=_),d<1||d>weeksInYear(h,_,b)?getParsingFlags(o)._overflowWeeks=!0:j!=null?getParsingFlags(o)._overflowWeekday=!0:($=dayOfYearFromWeeks(h,d,g,_,b),o._a[YEAR]=$.year,o._dayOfYear=$.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(o){if(o._f===hooks.ISO_8601){configFromISO(o);return}if(o._f===hooks.RFC_2822){configFromRFC2822(o);return}o._a=[],getParsingFlags(o).empty=!0;var e=""+o._i,h,d,g,_,b,$=e.length,j=0,_e;for(g=expandFormat(o._f,o._locale).match(formattingTokens)||[],h=0;h<g.length;h++)_=g[h],d=(e.match(getParseRegexForToken(_,o))||[])[0],d&&(b=e.substr(0,e.indexOf(d)),b.length>0&&getParsingFlags(o).unusedInput.push(b),e=e.slice(e.indexOf(d)+d.length),j+=d.length),formatTokenFunctions[_]?(d?getParsingFlags(o).empty=!1:getParsingFlags(o).unusedTokens.push(_),addTimeToArrayFromToken(_,d,o)):o._strict&&!d&&getParsingFlags(o).unusedTokens.push(_);getParsingFlags(o).charsLeftOver=$-j,e.length>0&&getParsingFlags(o).unusedInput.push(e),o._a[HOUR]<=12&&getParsingFlags(o).bigHour===!0&&o._a[HOUR]>0&&(getParsingFlags(o).bigHour=void 0),getParsingFlags(o).parsedDateParts=o._a.slice(0),getParsingFlags(o).meridiem=o._meridiem,o._a[HOUR]=meridiemFixWrap(o._locale,o._a[HOUR],o._meridiem),_e=getParsingFlags(o).era,_e!==null&&(o._a[YEAR]=o._locale.erasConvertYear(_e,o._a[YEAR])),configFromArray(o),checkOverflow$2(o)}function meridiemFixWrap(o,e,h){var d;return h==null?e:o.meridiemHour!=null?o.meridiemHour(e,h):(o.isPM!=null&&(d=o.isPM(h),d&&e<12&&(e+=12),!d&&e===12&&(e=0)),e)}function configFromStringAndArray(o){var e,h,d,g,_,b,$=!1;if(o._f.length===0){getParsingFlags(o).invalidFormat=!0,o._d=new Date(NaN);return}for(g=0;g<o._f.length;g++)_=0,b=!1,e=copyConfig({},o),o._useUTC!=null&&(e._useUTC=o._useUTC),e._f=o._f[g],configFromStringAndFormat(e),isValid(e)&&(b=!0),_+=getParsingFlags(e).charsLeftOver,_+=getParsingFlags(e).unusedTokens.length*10,getParsingFlags(e).score=_,$?_<d&&(d=_,h=e):(d==null||_<d||b)&&(d=_,h=e,b&&($=!0));extend$4(o,h||e)}function configFromObject(o){if(!o._d){var e=normalizeObjectUnits(o._i),h=e.day===void 0?e.date:e.day;o._a=map$3([e.year,e.month,h,e.hour,e.minute,e.second,e.millisecond],function(d){return d&&parseInt(d,10)}),configFromArray(o)}}function createFromConfig(o){var e=new Moment(checkOverflow$2(prepareConfig(o)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function prepareConfig(o){var e=o._i,h=o._f;return o._locale=o._locale||getLocale(o._l),e===null||h===void 0&&e===""?createInvalid({nullInput:!0}):(typeof e=="string"&&(o._i=e=o._locale.preparse(e)),isMoment(e)?new Moment(checkOverflow$2(e)):(isDate$1(e)?o._d=e:isArray$5(h)?configFromStringAndArray(o):h?configFromStringAndFormat(o):configFromInput(o),isValid(o)||(o._d=null),o))}function configFromInput(o){var e=o._i;isUndefined(e)?o._d=new Date(hooks.now()):isDate$1(e)?o._d=new Date(e.valueOf()):typeof e=="string"?configFromString(o):isArray$5(e)?(o._a=map$3(e.slice(0),function(h){return parseInt(h,10)}),configFromArray(o)):isObject$4(e)?configFromObject(o):isNumber$1(e)?o._d=new Date(e):hooks.createFromInputFallback(o)}function createLocalOrUTC(o,e,h,d,g){var _={};return(e===!0||e===!1)&&(d=e,e=void 0),(h===!0||h===!1)&&(d=h,h=void 0),(isObject$4(o)&&isObjectEmpty(o)||isArray$5(o)&&o.length===0)&&(o=void 0),_._isAMomentObject=!0,_._useUTC=_._isUTC=g,_._l=h,_._i=o,_._f=e,_._strict=d,createFromConfig(_)}function createLocal(o,e,h,d){return createLocalOrUTC(o,e,h,d,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=createLocal.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=createLocal.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:createInvalid()});function pickBy(o,e){var h,d;if(e.length===1&&isArray$5(e[0])&&(e=e[0]),!e.length)return createLocal();for(h=e[0],d=1;d<e.length;++d)(!e[d].isValid()||e[d][o](h))&&(h=e[d]);return h}function min(){var o=[].slice.call(arguments,0);return pickBy("isBefore",o)}function max$1(){var o=[].slice.call(arguments,0);return pickBy("isAfter",o)}var now$4=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(o){var e,h=!1,d;for(e in o)if(hasOwnProp(o,e)&&!(indexOf$1.call(ordering,e)!==-1&&(o[e]==null||!isNaN(o[e]))))return!1;for(d=0;d<ordering.length;++d)if(o[ordering[d]]){if(h)return!1;parseFloat(o[ordering[d]])!==toInt(o[ordering[d]])&&(h=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(o){var e=normalizeObjectUnits(o),h=e.year||0,d=e.quarter||0,g=e.month||0,_=e.week||e.isoWeek||0,b=e.day||0,$=e.hour||0,j=e.minute||0,_e=e.second||0,et=e.millisecond||0;this._isValid=isDurationValid(e),this._milliseconds=+et+_e*1e3+j*6e4+$*1e3*60*60,this._days=+b+_*7,this._months=+g+d*3+h*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(o){return o instanceof Duration}function absRound(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}function compareArrays(o,e,h){var d=Math.min(o.length,e.length),g=Math.abs(o.length-e.length),_=0,b;for(b=0;b<d;b++)(h&&o[b]!==e[b]||!h&&toInt(o[b])!==toInt(e[b]))&&_++;return _+g}function offset(o,e){addFormatToken(o,0,0,function(){var h=this.utcOffset(),d="+";return h<0&&(h=-h,d="-"),d+zeroFill(~~(h/60),2)+e+zeroFill(~~h%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(o,e,h){h._useUTC=!0,h._tzm=offsetFromString(matchShortOffset,o)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(o,e){var h=(e||"").match(o),d,g,_;return h===null?null:(d=h[h.length-1]||[],g=(d+"").match(chunkOffset)||["-",0,0],_=+(g[1]*60)+toInt(g[2]),_===0?0:g[0]==="+"?_:-_)}function cloneWithOffset(o,e){var h,d;return e._isUTC?(h=e.clone(),d=(isMoment(o)||isDate$1(o)?o.valueOf():createLocal(o).valueOf())-h.valueOf(),h._d.setTime(h._d.valueOf()+d),hooks.updateOffset(h,!1),h):createLocal(o).local()}function getDateOffset(o){return-Math.round(o._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(o,e,h){var d=this._offset||0,g;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=offsetFromString(matchShortOffset,o),o===null)return this}else Math.abs(o)<16&&!h&&(o=o*60);return!this._isUTC&&e&&(g=getDateOffset(this)),this._offset=o,this._isUTC=!0,g!=null&&this.add(g,"m"),d!==o&&(!e||this._changeInProgress?addSubtract(this,createDuration(o-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:getDateOffset(this)}function getSetZone(o,e){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,e),this):-this.utcOffset()}function setOffsetToUTC(o){return this.utcOffset(0,o)}function setOffsetToLocal(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=offsetFromString(matchOffset,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(o){return this.isValid()?(o=o?createLocal(o).utcOffset():0,(this.utcOffset()-o)%60==0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var o={},e;return copyConfig(o,this),o=prepareConfig(o),o._a?(e=o._isUTC?createUTC(o._a):createLocal(o._a),this._isDSTShifted=this.isValid()&&compareArrays(o._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(o,e){var h=o,d=null,g,_,b;return isDuration(o)?h={ms:o._milliseconds,d:o._days,M:o._months}:isNumber$1(o)||!isNaN(+o)?(h={},e?h[e]=+o:h.milliseconds=+o):(d=aspNetRegex.exec(o))?(g=d[1]==="-"?-1:1,h={y:0,d:toInt(d[DATE])*g,h:toInt(d[HOUR])*g,m:toInt(d[MINUTE])*g,s:toInt(d[SECOND])*g,ms:toInt(absRound(d[MILLISECOND]*1e3))*g}):(d=isoRegex.exec(o))?(g=d[1]==="-"?-1:1,h={y:parseIso(d[2],g),M:parseIso(d[3],g),w:parseIso(d[4],g),d:parseIso(d[5],g),h:parseIso(d[6],g),m:parseIso(d[7],g),s:parseIso(d[8],g)}):h==null?h={}:typeof h=="object"&&("from"in h||"to"in h)&&(b=momentsDifference(createLocal(h.from),createLocal(h.to)),h={},h.ms=b.milliseconds,h.M=b.months),_=new Duration(h),isDuration(o)&&hasOwnProp(o,"_locale")&&(_._locale=o._locale),isDuration(o)&&hasOwnProp(o,"_isValid")&&(_._isValid=o._isValid),_}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(o,e){var h=o&&parseFloat(o.replace(",","."));return(isNaN(h)?0:h)*e}function positiveMomentsDifference(o,e){var h={};return h.months=e.month()-o.month()+(e.year()-o.year())*12,o.clone().add(h.months,"M").isAfter(e)&&--h.months,h.milliseconds=+e-+o.clone().add(h.months,"M"),h}function momentsDifference(o,e){var h;return o.isValid()&&e.isValid()?(e=cloneWithOffset(e,o),o.isBefore(e)?h=positiveMomentsDifference(o,e):(h=positiveMomentsDifference(e,o),h.milliseconds=-h.milliseconds,h.months=-h.months),h):{milliseconds:0,months:0}}function createAdder(o,e){return function(h,d){var g,_;return d!==null&&!isNaN(+d)&&(deprecateSimple(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),_=h,h=d,d=_),g=createDuration(h,d),addSubtract(this,g,o),this}}function addSubtract(o,e,h,d){var g=e._milliseconds,_=absRound(e._days),b=absRound(e._months);!o.isValid()||(d=d==null?!0:d,b&&setMonth(o,get$2(o,"Month")+b*h),_&&set$1$1(o,"Date",get$2(o,"Date")+_*h),g&&o._d.setTime(o._d.valueOf()+g*h),d&&hooks.updateOffset(o,_||b))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$1(o){return typeof o=="string"||o instanceof String}function isMomentInput(o){return isMoment(o)||isDate$1(o)||isString$1(o)||isNumber$1(o)||isNumberOrStringArray(o)||isMomentInputObject(o)||o===null||o===void 0}function isMomentInputObject(o){var e=isObject$4(o)&&!isObjectEmpty(o),h=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],g,_;for(g=0;g<d.length;g+=1)_=d[g],h=h||hasOwnProp(o,_);return e&&h}function isNumberOrStringArray(o){var e=isArray$5(o),h=!1;return e&&(h=o.filter(function(d){return!isNumber$1(d)&&isString$1(o)}).length===0),e&&h}function isCalendarSpec(o){var e=isObject$4(o)&&!isObjectEmpty(o),h=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],g,_;for(g=0;g<d.length;g+=1)_=d[g],h=h||hasOwnProp(o,_);return e&&h}function getCalendarFormat(o,e){var h=o.diff(e,"days",!0);return h<-6?"sameElse":h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":"sameElse"}function calendar$1(o,e){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(o=arguments[0],e=void 0):isCalendarSpec(arguments[0])&&(e=arguments[0],o=void 0):(o=void 0,e=void 0));var h=o||createLocal(),d=cloneWithOffset(h,this).startOf("day"),g=hooks.calendarFormat(this,d)||"sameElse",_=e&&(isFunction$1(e[g])?e[g].call(this,h):e[g]);return this.format(_||this.localeData().calendar(g,this,createLocal(h)))}function clone(){return new Moment(this)}function isAfter(o,e){var h=isMoment(o)?o:createLocal(o);return this.isValid()&&h.isValid()?(e=normalizeUnits(e)||"millisecond",e==="millisecond"?this.valueOf()>h.valueOf():h.valueOf()<this.clone().startOf(e).valueOf()):!1}function isBefore(o,e){var h=isMoment(o)?o:createLocal(o);return this.isValid()&&h.isValid()?(e=normalizeUnits(e)||"millisecond",e==="millisecond"?this.valueOf()<h.valueOf():this.clone().endOf(e).valueOf()<h.valueOf()):!1}function isBetween(o,e,h,d){var g=isMoment(o)?o:createLocal(o),_=isMoment(e)?e:createLocal(e);return this.isValid()&&g.isValid()&&_.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(g,h):!this.isBefore(g,h))&&(d[1]===")"?this.isBefore(_,h):!this.isAfter(_,h))):!1}function isSame(o,e){var h=isMoment(o)?o:createLocal(o),d;return this.isValid()&&h.isValid()?(e=normalizeUnits(e)||"millisecond",e==="millisecond"?this.valueOf()===h.valueOf():(d=h.valueOf(),this.clone().startOf(e).valueOf()<=d&&d<=this.clone().endOf(e).valueOf())):!1}function isSameOrAfter(o,e){return this.isSame(o,e)||this.isAfter(o,e)}function isSameOrBefore(o,e){return this.isSame(o,e)||this.isBefore(o,e)}function diff(o,e,h){var d,g,_;if(!this.isValid())return NaN;if(d=cloneWithOffset(o,this),!d.isValid())return NaN;switch(g=(d.utcOffset()-this.utcOffset())*6e4,e=normalizeUnits(e),e){case"year":_=monthDiff(this,d)/12;break;case"month":_=monthDiff(this,d);break;case"quarter":_=monthDiff(this,d)/3;break;case"second":_=(this-d)/1e3;break;case"minute":_=(this-d)/6e4;break;case"hour":_=(this-d)/36e5;break;case"day":_=(this-d-g)/864e5;break;case"week":_=(this-d-g)/6048e5;break;default:_=this-d}return h?_:absFloor(_)}function monthDiff(o,e){if(o.date()<e.date())return-monthDiff(e,o);var h=(e.year()-o.year())*12+(e.month()-o.month()),d=o.clone().add(h,"months"),g,_;return e-d<0?(g=o.clone().add(h-1,"months"),_=(e-d)/(d-g)):(g=o.clone().add(h+1,"months"),_=(e-d)/(g-d)),-(h+_)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$2(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(o){if(!this.isValid())return null;var e=o!==!0,h=e?this.clone().utc():this;return h.year()<0||h.year()>9999?formatMoment(h,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(h,"Z")):formatMoment(h,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect$1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",e="",h,d,g,_;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),h="["+o+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",g="-MM-DD[T]HH:mm:ss.SSS",_=e+'[")]',this.format(h+d+g+_)}function format$1(o){o||(o=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var e=formatMoment(this,o);return this.localeData().postformat(e)}function from(o,e){return this.isValid()&&(isMoment(o)&&o.isValid()||createLocal(o).isValid())?createDuration({to:this,from:o}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fromNow(o){return this.from(createLocal(),o)}function to(o,e){return this.isValid()&&(isMoment(o)&&o.isValid()||createLocal(o).isValid())?createDuration({from:this,to:o}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function toNow(o){return this.to(createLocal(),o)}function locale(o){var e;return o===void 0?this._locale._abbr:(e=getLocale(o),e!=null&&(this._locale=e),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(o,e){return(o%e+e)%e}function localStartOfDate(o,e,h){return o<100&&o>=0?new Date(o+400,e,h)-MS_PER_400_YEARS:new Date(o,e,h).valueOf()}function utcStartOfDate(o,e,h){return o<100&&o>=0?Date.UTC(o+400,e,h)-MS_PER_400_YEARS:Date.UTC(o,e,h)}function startOf(o){var e,h;if(o=normalizeUnits(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(h=this._isUTC?utcStartOfDate:localStartOfDate,o){case"year":e=h(this.year(),0,1);break;case"quarter":e=h(this.year(),this.month()-this.month()%3,1);break;case"month":e=h(this.year(),this.month(),1);break;case"week":e=h(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=h(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=h(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=mod$1(e+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":e=this._d.valueOf(),e-=mod$1(e,MS_PER_MINUTE);break;case"second":e=this._d.valueOf(),e-=mod$1(e,MS_PER_SECOND);break}return this._d.setTime(e),hooks.updateOffset(this,!0),this}function endOf(o){var e,h;if(o=normalizeUnits(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(h=this._isUTC?utcStartOfDate:localStartOfDate,o){case"year":e=h(this.year()+1,0,1)-1;break;case"quarter":e=h(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=h(this.year(),this.month()+1,1)-1;break;case"week":e=h(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=h(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=h(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=MS_PER_HOUR-mod$1(e+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":e=this._d.valueOf(),e+=MS_PER_MINUTE-mod$1(e,MS_PER_MINUTE)-1;break;case"second":e=this._d.valueOf(),e+=MS_PER_SECOND-mod$1(e,MS_PER_SECOND)-1;break}return this._d.setTime(e),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}function toObject$1(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}function toJSON$2(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$4({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(o,e,h,d){var g=h._locale.erasParse(o,d,h._strict);g?getParsingFlags(h).era=g:getParsingFlags(h).invalidEra=o});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(o,e,h,d){var g;h._locale._eraYearOrdinalRegex&&(g=o.match(h._locale._eraYearOrdinalRegex)),h._locale.eraYearOrdinalParse?e[YEAR]=h._locale.eraYearOrdinalParse(o,g):e[YEAR]=parseInt(o,10)});function localeEras(o,e){var h,d,g,_=this._eras||getLocale("en")._eras;for(h=0,d=_.length;h<d;++h){switch(typeof _[h].since){case"string":g=hooks(_[h].since).startOf("day"),_[h].since=g.valueOf();break}switch(typeof _[h].until){case"undefined":_[h].until=1/0;break;case"string":g=hooks(_[h].until).startOf("day").valueOf(),_[h].until=g.valueOf();break}}return _}function localeErasParse(o,e,h){var d,g,_=this.eras(),b,$,j;for(o=o.toUpperCase(),d=0,g=_.length;d<g;++d)if(b=_[d].name.toUpperCase(),$=_[d].abbr.toUpperCase(),j=_[d].narrow.toUpperCase(),h)switch(e){case"N":case"NN":case"NNN":if($===o)return _[d];break;case"NNNN":if(b===o)return _[d];break;case"NNNNN":if(j===o)return _[d];break}else if([b,$,j].indexOf(o)>=0)return _[d]}function localeErasConvertYear(o,e){var h=o.since<=o.until?1:-1;return e===void 0?hooks(o.since).year():hooks(o.since).year()+(e-o.offset)*h}function getEraName(){var o,e,h,d=this.localeData().eras();for(o=0,e=d.length;o<e;++o)if(h=this.clone().startOf("day").valueOf(),d[o].since<=h&&h<=d[o].until||d[o].until<=h&&h<=d[o].since)return d[o].name;return""}function getEraNarrow(){var o,e,h,d=this.localeData().eras();for(o=0,e=d.length;o<e;++o)if(h=this.clone().startOf("day").valueOf(),d[o].since<=h&&h<=d[o].until||d[o].until<=h&&h<=d[o].since)return d[o].narrow;return""}function getEraAbbr(){var o,e,h,d=this.localeData().eras();for(o=0,e=d.length;o<e;++o)if(h=this.clone().startOf("day").valueOf(),d[o].since<=h&&h<=d[o].until||d[o].until<=h&&h<=d[o].since)return d[o].abbr;return""}function getEraYear(){var o,e,h,d,g=this.localeData().eras();for(o=0,e=g.length;o<e;++o)if(h=g[o].since<=g[o].until?1:-1,d=this.clone().startOf("day").valueOf(),g[o].since<=d&&d<=g[o].until||g[o].until<=d&&d<=g[o].since)return(this.year()-hooks(g[o].since).year())*h+g[o].offset;return this.year()}function erasNameRegex(o){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),o?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(o){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),o?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(o){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),o?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(o,e){return e.erasAbbrRegex(o)}function matchEraName(o,e){return e.erasNameRegex(o)}function matchEraNarrow(o,e){return e.erasNarrowRegex(o)}function matchEraYearOrdinal(o,e){return e._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var o=[],e=[],h=[],d=[],g,_,b=this.eras();for(g=0,_=b.length;g<_;++g)e.push(regexEscape(b[g].name)),o.push(regexEscape(b[g].abbr)),h.push(regexEscape(b[g].narrow)),d.push(regexEscape(b[g].name)),d.push(regexEscape(b[g].abbr)),d.push(regexEscape(b[g].narrow));this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+h.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(o,e){addFormatToken(0,[o,o.length],0,e)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(o,e,h,d){e[d.substr(0,2)]=toInt(o)});addWeekParseToken(["gg","GG"],function(o,e,h,d){e[d]=hooks.parseTwoDigitYear(o)});function getSetWeekYear(o){return getSetWeekYearHelper.call(this,o,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(o){return getSetWeekYearHelper.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var o=this.localeData()._week;return weeksInYear(this.year(),o.dow,o.doy)}function getWeeksInWeekYear(){var o=this.localeData()._week;return weeksInYear(this.weekYear(),o.dow,o.doy)}function getSetWeekYearHelper(o,e,h,d,g){var _;return o==null?weekOfYear(this,d,g).year:(_=weeksInYear(o,d,g),e>_&&(e=_),setWeekAll.call(this,o,e,h,d,g))}function setWeekAll(o,e,h,d,g){var _=dayOfYearFromWeeks(o,e,h,d,g),b=createUTCDate(_.year,0,_.dayOfYear);return this.year(b.getUTCFullYear()),this.month(b.getUTCMonth()),this.date(b.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(o,e){e[MONTH]=(toInt(o)-1)*3});function getSetQuarter(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(o,e){return o?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(o,e){e[DATE]=toInt(o.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(o,e,h){h._dayOfYear=toInt(o)});function getSetDayOfYear(o){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?e:this.add(o-e,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token$1,getSetMillisecond;for(token$1="SSSS";token$1.length<=9;token$1+="S")addRegexToken(token$1,matchUnsigned);function parseMs(o,e){e[MILLISECOND]=toInt(("0."+o)*1e3)}for(token$1="S";token$1.length<=9;token$1+="S")addParseToken(token$1,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$2;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format$1;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject$1;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect$1;typeof Symbol!="undefined"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON$2;proto.toString=toString$2;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(o){return createLocal(o*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(o){return o}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal$1;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$2;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1(o,e,h,d){var g=getLocale(),_=createUTC().set(d,e);return g[h](_,o)}function listMonthsImpl(o,e,h){if(isNumber$1(o)&&(e=o,o=void 0),o=o||"",e!=null)return get$1$1(o,e,h,"month");var d,g=[];for(d=0;d<12;d++)g[d]=get$1$1(o,d,h,"month");return g}function listWeekdaysImpl(o,e,h,d){typeof o=="boolean"?(isNumber$1(e)&&(h=e,e=void 0),e=e||""):(e=o,h=e,o=!1,isNumber$1(e)&&(h=e,e=void 0),e=e||"");var g=getLocale(),_=o?g._week.dow:0,b,$=[];if(h!=null)return get$1$1(e,(h+_)%7,d,"day");for(b=0;b<7;b++)$[b]=get$1$1(e,(b+_)%7,d,"day");return $}function listMonths(o,e){return listMonthsImpl(o,e,"months")}function listMonthsShort(o,e){return listMonthsImpl(o,e,"monthsShort")}function listWeekdays(o,e,h){return listWeekdaysImpl(o,e,h,"weekdays")}function listWeekdaysShort(o,e,h){return listWeekdaysImpl(o,e,h,"weekdaysShort")}function listWeekdaysMin(o,e,h){return listWeekdaysImpl(o,e,h,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var e=o%10,h=toInt(o%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return o+h}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var o=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),o.milliseconds=mathAbs(o.milliseconds),o.seconds=mathAbs(o.seconds),o.minutes=mathAbs(o.minutes),o.hours=mathAbs(o.hours),o.months=mathAbs(o.months),o.years=mathAbs(o.years),this}function addSubtract$1(o,e,h,d){var g=createDuration(e,h);return o._milliseconds+=d*g._milliseconds,o._days+=d*g._days,o._months+=d*g._months,o._bubble()}function add$1$1(o,e){return addSubtract$1(this,o,e,1)}function subtract$1(o,e){return addSubtract$1(this,o,e,-1)}function absCeil(o){return o<0?Math.floor(o):Math.ceil(o)}function bubble(){var o=this._milliseconds,e=this._days,h=this._months,d=this._data,g,_,b,$,j;return o>=0&&e>=0&&h>=0||o<=0&&e<=0&&h<=0||(o+=absCeil(monthsToDays(h)+e)*864e5,e=0,h=0),d.milliseconds=o%1e3,g=absFloor(o/1e3),d.seconds=g%60,_=absFloor(g/60),d.minutes=_%60,b=absFloor(_/60),d.hours=b%24,e+=absFloor(b/24),j=absFloor(daysToMonths(e)),h+=j,e-=absCeil(monthsToDays(j)),$=absFloor(h/12),h%=12,d.days=e,d.months=h,d.years=$,this}function daysToMonths(o){return o*4800/146097}function monthsToDays(o){return o*146097/4800}function as(o){if(!this.isValid())return NaN;var e,h,d=this._milliseconds;if(o=normalizeUnits(o),o==="month"||o==="quarter"||o==="year")switch(e=this._days+d/864e5,h=this._months+daysToMonths(e),o){case"month":return h;case"quarter":return h/3;case"year":return h/12}else switch(e=this._days+Math.round(monthsToDays(this._months)),o){case"week":return e/7+d/6048e5;case"day":return e+d/864e5;case"hour":return e*24+d/36e5;case"minute":return e*1440+d/6e4;case"second":return e*86400+d/1e3;case"millisecond":return Math.floor(e*864e5)+d;default:throw new Error("Unknown unit "+o)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(o){return function(){return this.as(o)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2$1(o){return o=normalizeUnits(o),this.isValid()?this[o+"s"]():NaN}function makeGetter(o){return function(){return this.isValid()?this._data[o]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$1=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(o,e,h,d,g){return g.relativeTime(e||1,!!h,o,d)}function relativeTime$1(o,e,h,d){var g=createDuration(o).abs(),_=round$1(g.as("s")),b=round$1(g.as("m")),$=round$1(g.as("h")),j=round$1(g.as("d")),_e=round$1(g.as("M")),et=round$1(g.as("w")),rt=round$1(g.as("y")),tt=_<=h.ss&&["s",_]||_<h.s&&["ss",_]||b<=1&&["m"]||b<h.m&&["mm",b]||$<=1&&["h"]||$<h.h&&["hh",$]||j<=1&&["d"]||j<h.d&&["dd",j];return h.w!=null&&(tt=tt||et<=1&&["w"]||et<h.w&&["ww",et]),tt=tt||_e<=1&&["M"]||_e<h.M&&["MM",_e]||rt<=1&&["y"]||["yy",rt],tt[2]=e,tt[3]=+o>0,tt[4]=d,substituteTimeAgo.apply(null,tt)}function getSetRelativeTimeRounding(o){return o===void 0?round$1:typeof o=="function"?(round$1=o,!0):!1}function getSetRelativeTimeThreshold(o,e){return thresholds[o]===void 0?!1:e===void 0?thresholds[o]:(thresholds[o]=e,o==="s"&&(thresholds.ss=e-1),!0)}function humanize(o,e){if(!this.isValid())return this.localeData().invalidDate();var h=!1,d=thresholds,g,_;return typeof o=="object"&&(e=o,o=!1),typeof o=="boolean"&&(h=o),typeof e=="object"&&(d=Object.assign({},thresholds,e),e.s!=null&&e.ss==null&&(d.ss=e.s-1)),g=this.localeData(),_=relativeTime$1(this,!h,d,g),h&&(_=g.pastFuture(+this,_)),g.postformat(_)}var abs$1=Math.abs;function sign$3(o){return(o>0)-(o<0)||+o}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var o=abs$1(this._milliseconds)/1e3,e=abs$1(this._days),h=abs$1(this._months),d,g,_,b,$=this.asSeconds(),j,_e,et,rt;return $?(d=absFloor(o/60),g=absFloor(d/60),o%=60,d%=60,_=absFloor(h/12),h%=12,b=o?o.toFixed(3).replace(/\.?0+$/,""):"",j=$<0?"-":"",_e=sign$3(this._months)!==sign$3($)?"-":"",et=sign$3(this._days)!==sign$3($)?"-":"",rt=sign$3(this._milliseconds)!==sign$3($)?"-":"",j+"P"+(_?_e+_+"Y":"")+(h?_e+h+"M":"")+(e?et+e+"D":"")+(g||d||o?"T":"")+(g?rt+g+"H":"")+(d?rt+d+"M":"")+(o?rt+b+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(o,e,h){h._d=new Date(parseFloat(o)*1e3)});addParseToken("x",function(o,e,h){h._d=new Date(toInt(o))});//! moment.js
hooks.version="2.29.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max$1;hooks.now=now$4;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$1;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};class InternMap extends Map{constructor(e,h=keyof){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:h}}),e!=null)for(const[d,g]of e)this.set(d,g)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,h){return super.set(intern_set(this,e),h)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:o,_key:e},h){const d=e(h);return o.has(d)?o.get(d):h}function intern_set({_intern:o,_key:e},h){const d=e(h);return o.has(d)?o.get(d):(o.set(d,h),h)}function intern_delete({_intern:o,_key:e},h){const d=e(h);return o.has(d)&&(h=o.get(d),o.delete(d)),h}function keyof(o){return o!==null&&typeof o=="object"?o.valueOf():o}var noop$1={value:()=>{}};function dispatch(){for(var o=0,e=arguments.length,h={},d;o<e;++o){if(!(d=arguments[o]+"")||d in h||/[\s.]/.test(d))throw new Error("illegal type: "+d);h[d]=[]}return new Dispatch(h)}function Dispatch(o){this._=o}function parseTypenames$1(o,e){return o.trim().split(/^|\s+/).map(function(h){var d="",g=h.indexOf(".");if(g>=0&&(d=h.slice(g+1),h=h.slice(0,g)),h&&!e.hasOwnProperty(h))throw new Error("unknown type: "+h);return{type:h,name:d}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(o,e){var h=this._,d=parseTypenames$1(o+"",h),g,_=-1,b=d.length;if(arguments.length<2){for(;++_<b;)if((g=(o=d[_]).type)&&(g=get$1(h[g],o.name)))return g;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++_<b;)if(g=(o=d[_]).type)h[g]=set$1(h[g],o.name,e);else if(e==null)for(g in h)h[g]=set$1(h[g],o.name,null);return this},copy:function(){var o={},e=this._;for(var h in e)o[h]=e[h].slice();return new Dispatch(o)},call:function(o,e){if((g=arguments.length-2)>0)for(var h=new Array(g),d=0,g,_;d<g;++d)h[d]=arguments[d+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(_=this._[o],d=0,g=_.length;d<g;++d)_[d].value.apply(e,h)},apply:function(o,e,h){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var d=this._[o],g=0,_=d.length;g<_;++g)d[g].value.apply(e,h)}};function get$1(o,e){for(var h=0,d=o.length,g;h<d;++h)if((g=o[h]).name===e)return g.value}function set$1(o,e,h){for(var d=0,g=o.length;d<g;++d)if(o[d].name===e){o[d]=noop$1,o=o.slice(0,d).concat(o.slice(d+1));break}return h!=null&&o.push({name:e,value:h}),o}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(o){var e=o+="",h=e.indexOf(":");return h>=0&&(e=o.slice(0,h))!=="xmlns"&&(o=o.slice(h+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:o}:o}function creatorInherit(o){return function(){var e=this.ownerDocument,h=this.namespaceURI;return h===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(o):e.createElementNS(h,o)}}function creatorFixed(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}function creator(o){var e=namespace(o);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(o){return o==null?none:function(){return this.querySelector(o)}}function selection_select(o){typeof o!="function"&&(o=selector(o));for(var e=this._groups,h=e.length,d=new Array(h),g=0;g<h;++g)for(var _=e[g],b=_.length,$=d[g]=new Array(b),j,_e,et=0;et<b;++et)(j=_[et])&&(_e=o.call(j,j.__data__,et,_))&&("__data__"in j&&(_e.__data__=j.__data__),$[et]=_e);return new Selection$1(d,this._parents)}function array(o){return o==null?[]:Array.isArray(o)?o:Array.from(o)}function empty$1(){return[]}function selectorAll(o){return o==null?empty$1:function(){return this.querySelectorAll(o)}}function arrayAll(o){return function(){return array(o.apply(this,arguments))}}function selection_selectAll(o){typeof o=="function"?o=arrayAll(o):o=selectorAll(o);for(var e=this._groups,h=e.length,d=[],g=[],_=0;_<h;++_)for(var b=e[_],$=b.length,j,_e=0;_e<$;++_e)(j=b[_e])&&(d.push(o.call(j,j.__data__,_e,b)),g.push(j));return new Selection$1(d,g)}function matcher(o){return function(){return this.matches(o)}}function childMatcher(o){return function(e){return e.matches(o)}}var find$1=Array.prototype.find;function childFind(o){return function(){return find$1.call(this.children,o)}}function childFirst(){return this.firstElementChild}function selection_selectChild(o){return this.select(o==null?childFirst:childFind(typeof o=="function"?o:childMatcher(o)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(o){return function(){return filter.call(this.children,o)}}function selection_selectChildren(o){return this.selectAll(o==null?children:childrenFilter(typeof o=="function"?o:childMatcher(o)))}function selection_filter(o){typeof o!="function"&&(o=matcher(o));for(var e=this._groups,h=e.length,d=new Array(h),g=0;g<h;++g)for(var _=e[g],b=_.length,$=d[g]=[],j,_e=0;_e<b;++_e)(j=_[_e])&&o.call(j,j.__data__,_e,_)&&$.push(j);return new Selection$1(d,this._parents)}function sparse(o){return new Array(o.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(o,e){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,e){return this._parent.insertBefore(o,e)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};function constant$4(o){return function(){return o}}function bindIndex(o,e,h,d,g,_){for(var b=0,$,j=e.length,_e=_.length;b<_e;++b)($=e[b])?($.__data__=_[b],d[b]=$):h[b]=new EnterNode(o,_[b]);for(;b<j;++b)($=e[b])&&(g[b]=$)}function bindKey(o,e,h,d,g,_,b){var $,j,_e=new Map,et=e.length,rt=_.length,tt=new Array(et),nt;for($=0;$<et;++$)(j=e[$])&&(tt[$]=nt=b.call(j,j.__data__,$,e)+"",_e.has(nt)?g[$]=j:_e.set(nt,j));for($=0;$<rt;++$)nt=b.call(o,_[$],$,_)+"",(j=_e.get(nt))?(d[$]=j,j.__data__=_[$],_e.delete(nt)):h[$]=new EnterNode(o,_[$]);for($=0;$<et;++$)(j=e[$])&&_e.get(tt[$])===j&&(g[$]=j)}function datum(o){return o.__data__}function selection_data(o,e){if(!arguments.length)return Array.from(this,datum);var h=e?bindKey:bindIndex,d=this._parents,g=this._groups;typeof o!="function"&&(o=constant$4(o));for(var _=g.length,b=new Array(_),$=new Array(_),j=new Array(_),_e=0;_e<_;++_e){var et=d[_e],rt=g[_e],tt=rt.length,nt=arraylike(o.call(et,et&&et.__data__,_e,d)),st=nt.length,at=$[_e]=new Array(st),ct=b[_e]=new Array(st),it=j[_e]=new Array(tt);h(et,rt,at,ct,it,nt,e);for(var lt=0,ht=0,ut,dt;lt<st;++lt)if(ut=at[lt]){for(lt>=ht&&(ht=lt+1);!(dt=ct[ht])&&++ht<st;);ut._next=dt||null}}return b=new Selection$1(b,d),b._enter=$,b._exit=j,b}function arraylike(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(o,e,h){var d=this.enter(),g=this,_=this.exit();return typeof o=="function"?(d=o(d),d&&(d=d.selection())):d=d.append(o+""),e!=null&&(g=e(g),g&&(g=g.selection())),h==null?_.remove():h(_),d&&g?d.merge(g).order():g}function selection_merge(o){for(var e=o.selection?o.selection():o,h=this._groups,d=e._groups,g=h.length,_=d.length,b=Math.min(g,_),$=new Array(g),j=0;j<b;++j)for(var _e=h[j],et=d[j],rt=_e.length,tt=$[j]=new Array(rt),nt,st=0;st<rt;++st)(nt=_e[st]||et[st])&&(tt[st]=nt);for(;j<g;++j)$[j]=h[j];return new Selection$1($,this._parents)}function selection_order(){for(var o=this._groups,e=-1,h=o.length;++e<h;)for(var d=o[e],g=d.length-1,_=d[g],b;--g>=0;)(b=d[g])&&(_&&b.compareDocumentPosition(_)^4&&_.parentNode.insertBefore(b,_),_=b);return this}function selection_sort(o){o||(o=ascending);function e(rt,tt){return rt&&tt?o(rt.__data__,tt.__data__):!rt-!tt}for(var h=this._groups,d=h.length,g=new Array(d),_=0;_<d;++_){for(var b=h[_],$=b.length,j=g[_]=new Array($),_e,et=0;et<$;++et)(_e=b[et])&&(j[et]=_e);j.sort(e)}return new Selection$1(g,this._parents).order()}function ascending(o,e){return o<e?-1:o>e?1:o>=e?0:NaN}function selection_call(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var o=this._groups,e=0,h=o.length;e<h;++e)for(var d=o[e],g=0,_=d.length;g<_;++g){var b=d[g];if(b)return b}return null}function selection_size(){let o=0;for(const e of this)++o;return o}function selection_empty(){return!this.node()}function selection_each(o){for(var e=this._groups,h=0,d=e.length;h<d;++h)for(var g=e[h],_=0,b=g.length,$;_<b;++_)($=g[_])&&o.call($,$.__data__,_,g);return this}function attrRemove$1(o){return function(){this.removeAttribute(o)}}function attrRemoveNS$1(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant$1(o,e){return function(){this.setAttribute(o,e)}}function attrConstantNS$1(o,e){return function(){this.setAttributeNS(o.space,o.local,e)}}function attrFunction$1(o,e){return function(){var h=e.apply(this,arguments);h==null?this.removeAttribute(o):this.setAttribute(o,h)}}function attrFunctionNS$1(o,e){return function(){var h=e.apply(this,arguments);h==null?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,h)}}function selection_attr(o,e){var h=namespace(o);if(arguments.length<2){var d=this.node();return h.local?d.getAttributeNS(h.space,h.local):d.getAttribute(h)}return this.each((e==null?h.local?attrRemoveNS$1:attrRemove$1:typeof e=="function"?h.local?attrFunctionNS$1:attrFunction$1:h.local?attrConstantNS$1:attrConstant$1)(h,e))}function defaultView(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function styleRemove$1(o){return function(){this.style.removeProperty(o)}}function styleConstant$1(o,e,h){return function(){this.style.setProperty(o,e,h)}}function styleFunction$1(o,e,h){return function(){var d=e.apply(this,arguments);d==null?this.style.removeProperty(o):this.style.setProperty(o,d,h)}}function selection_style(o,e,h){return arguments.length>1?this.each((e==null?styleRemove$1:typeof e=="function"?styleFunction$1:styleConstant$1)(o,e,h==null?"":h)):styleValue(this.node(),o)}function styleValue(o,e){return o.style.getPropertyValue(e)||defaultView(o).getComputedStyle(o,null).getPropertyValue(e)}function propertyRemove(o){return function(){delete this[o]}}function propertyConstant(o,e){return function(){this[o]=e}}function propertyFunction(o,e){return function(){var h=e.apply(this,arguments);h==null?delete this[o]:this[o]=h}}function selection_property(o,e){return arguments.length>1?this.each((e==null?propertyRemove:typeof e=="function"?propertyFunction:propertyConstant)(o,e)):this.node()[o]}function classArray(o){return o.trim().split(/^|\s+/)}function classList(o){return o.classList||new ClassList(o)}function ClassList(o){this._node=o,this._names=classArray(o.getAttribute("class")||"")}ClassList.prototype={add:function(o){var e=this._names.indexOf(o);e<0&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var e=this._names.indexOf(o);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};function classedAdd(o,e){for(var h=classList(o),d=-1,g=e.length;++d<g;)h.add(e[d])}function classedRemove(o,e){for(var h=classList(o),d=-1,g=e.length;++d<g;)h.remove(e[d])}function classedTrue(o){return function(){classedAdd(this,o)}}function classedFalse(o){return function(){classedRemove(this,o)}}function classedFunction(o,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,o)}}function selection_classed(o,e){var h=classArray(o+"");if(arguments.length<2){for(var d=classList(this.node()),g=-1,_=h.length;++g<_;)if(!d.contains(h[g]))return!1;return!0}return this.each((typeof e=="function"?classedFunction:e?classedTrue:classedFalse)(h,e))}function textRemove(){this.textContent=""}function textConstant$1(o){return function(){this.textContent=o}}function textFunction$1(o){return function(){var e=o.apply(this,arguments);this.textContent=e==null?"":e}}function selection_text(o){return arguments.length?this.each(o==null?textRemove:(typeof o=="function"?textFunction$1:textConstant$1)(o)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(o){return function(){this.innerHTML=o}}function htmlFunction(o){return function(){var e=o.apply(this,arguments);this.innerHTML=e==null?"":e}}function selection_html(o){return arguments.length?this.each(o==null?htmlRemove:(typeof o=="function"?htmlFunction:htmlConstant)(o)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(o){var e=typeof o=="function"?o:creator(o);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(o,e){var h=typeof o=="function"?o:creator(o),d=e==null?constantNull:typeof e=="function"?e:selector(e);return this.select(function(){return this.insertBefore(h.apply(this,arguments),d.apply(this,arguments)||null)})}function remove$1(){var o=this.parentNode;o&&o.removeChild(this)}function selection_remove(){return this.each(remove$1)}function selection_cloneShallow(){var o=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(o,this.nextSibling):o}function selection_cloneDeep(){var o=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(o,this.nextSibling):o}function selection_clone(o){return this.select(o?selection_cloneDeep:selection_cloneShallow)}function selection_datum(o){return arguments.length?this.property("__data__",o):this.node().__data__}function contextListener(o){return function(e){o.call(this,e,this.__data__)}}function parseTypenames(o){return o.trim().split(/^|\s+/).map(function(e){var h="",d=e.indexOf(".");return d>=0&&(h=e.slice(d+1),e=e.slice(0,d)),{type:e,name:h}})}function onRemove(o){return function(){var e=this.__on;if(!!e){for(var h=0,d=-1,g=e.length,_;h<g;++h)_=e[h],(!o.type||_.type===o.type)&&_.name===o.name?this.removeEventListener(_.type,_.listener,_.options):e[++d]=_;++d?e.length=d:delete this.__on}}}function onAdd(o,e,h){return function(){var d=this.__on,g,_=contextListener(e);if(d){for(var b=0,$=d.length;b<$;++b)if((g=d[b]).type===o.type&&g.name===o.name){this.removeEventListener(g.type,g.listener,g.options),this.addEventListener(g.type,g.listener=_,g.options=h),g.value=e;return}}this.addEventListener(o.type,_,h),g={type:o.type,name:o.name,value:e,listener:_,options:h},d?d.push(g):this.__on=[g]}}function selection_on(o,e,h){var d=parseTypenames(o+""),g,_=d.length,b;if(arguments.length<2){var $=this.node().__on;if($){for(var j=0,_e=$.length,et;j<_e;++j)for(g=0,et=$[j];g<_;++g)if((b=d[g]).type===et.type&&b.name===et.name)return et.value}return}for($=e?onAdd:onRemove,g=0;g<_;++g)this.each($(d[g],e,h));return this}function dispatchEvent(o,e,h){var d=defaultView(o),g=d.CustomEvent;typeof g=="function"?g=new g(e,h):(g=d.document.createEvent("Event"),h?(g.initEvent(e,h.bubbles,h.cancelable),g.detail=h.detail):g.initEvent(e,!1,!1)),o.dispatchEvent(g)}function dispatchConstant(o,e){return function(){return dispatchEvent(this,o,e)}}function dispatchFunction(o,e){return function(){return dispatchEvent(this,o,e.apply(this,arguments))}}function selection_dispatch(o,e){return this.each((typeof e=="function"?dispatchFunction:dispatchConstant)(o,e))}function*selection_iterator(){for(var o=this._groups,e=0,h=o.length;e<h;++e)for(var d=o[e],g=0,_=d.length,b;g<_;++g)(b=d[g])&&(yield b)}var root=[null];function Selection$1(o,e){this._groups=o,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(o){return typeof o=="string"?new Selection$1([[document.querySelector(o)]],[document.documentElement]):new Selection$1([[o]],root)}function sourceEvent(o){let e;for(;e=o.sourceEvent;)o=e;return o}function pointer(o,e){if(o=sourceEvent(o),e===void 0&&(e=o.currentTarget),e){var h=e.ownerSVGElement||e;if(h.createSVGPoint){var d=h.createSVGPoint();return d.x=o.clientX,d.y=o.clientY,d=d.matrixTransform(e.getScreenCTM().inverse()),[d.x,d.y]}if(e.getBoundingClientRect){var g=e.getBoundingClientRect();return[o.clientX-g.left-e.clientLeft,o.clientY-g.top-e.clientTop]}}return[o.pageX,o.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(o){o.stopImmediatePropagation()}function noevent$1(o){o.preventDefault(),o.stopImmediatePropagation()}function dragDisable(o){var e=o.document.documentElement,h=select(o).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in e?h.on("selectstart.drag",noevent$1,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(o,e){var h=o.document.documentElement,d=select(o).on("dragstart.drag",null);e&&(d.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in h?d.on("selectstart.drag",null):(h.style.MozUserSelect=h.__noselect,delete h.__noselect)}var constant$3=o=>()=>o;function DragEvent(o,{sourceEvent:e,subject:h,target:d,identifier:g,active:_,x:b,y:$,dx:j,dy:_e,dispatch:et}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:h,enumerable:!0,configurable:!0},target:{value:d,enumerable:!0,configurable:!0},identifier:{value:g,enumerable:!0,configurable:!0},active:{value:_,enumerable:!0,configurable:!0},x:{value:b,enumerable:!0,configurable:!0},y:{value:$,enumerable:!0,configurable:!0},dx:{value:j,enumerable:!0,configurable:!0},dy:{value:_e,enumerable:!0,configurable:!0},_:{value:et}})}DragEvent.prototype.on=function(){var o=this._.on.apply(this._,arguments);return o===this._?this:o};function defaultFilter$1(o){return!o.ctrlKey&&!o.button}function defaultContainer(){return this.parentNode}function defaultSubject(o,e){return e==null?{x:o.x,y:o.y}:e}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var o=defaultFilter$1,e=defaultContainer,h=defaultSubject,d=defaultTouchable$1,g={},_=dispatch("start","drag","end"),b=0,$,j,_e,et,rt=0;function tt(ut){ut.on("mousedown.drag",nt).filter(d).on("touchstart.drag",ct).on("touchmove.drag",it,nonpassive).on("touchend.drag touchcancel.drag",lt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function nt(ut,dt){if(!(et||!o.call(this,ut,dt))){var pt=ht(this,e.call(this,ut,dt),ut,dt,"mouse");!pt||(select(ut.view).on("mousemove.drag",st,nonpassivecapture).on("mouseup.drag",at,nonpassivecapture),dragDisable(ut.view),nopropagation$1(ut),_e=!1,$=ut.clientX,j=ut.clientY,pt("start",ut))}}function st(ut){if(noevent$1(ut),!_e){var dt=ut.clientX-$,pt=ut.clientY-j;_e=dt*dt+pt*pt>rt}g.mouse("drag",ut)}function at(ut){select(ut.view).on("mousemove.drag mouseup.drag",null),yesdrag(ut.view,_e),noevent$1(ut),g.mouse("end",ut)}function ct(ut,dt){if(!!o.call(this,ut,dt)){var pt=ut.changedTouches,mt=e.call(this,ut,dt),yt=pt.length,xt,Tt;for(xt=0;xt<yt;++xt)(Tt=ht(this,mt,ut,dt,pt[xt].identifier,pt[xt]))&&(nopropagation$1(ut),Tt("start",ut,pt[xt]))}}function it(ut){var dt=ut.changedTouches,pt=dt.length,mt,yt;for(mt=0;mt<pt;++mt)(yt=g[dt[mt].identifier])&&(noevent$1(ut),yt("drag",ut,dt[mt]))}function lt(ut){var dt=ut.changedTouches,pt=dt.length,mt,yt;for(et&&clearTimeout(et),et=setTimeout(function(){et=null},500),mt=0;mt<pt;++mt)(yt=g[dt[mt].identifier])&&(nopropagation$1(ut),yt("end",ut,dt[mt]))}function ht(ut,dt,pt,mt,yt,xt){var Tt=_.copy(),_t=pointer(xt||pt,dt),Mt,Lt,Pt;if((Pt=h.call(ut,new DragEvent("beforestart",{sourceEvent:pt,target:tt,identifier:yt,active:b,x:_t[0],y:_t[1],dx:0,dy:0,dispatch:Tt}),mt))!=null)return Mt=Pt.x-_t[0]||0,Lt=Pt.y-_t[1]||0,function It(Et,Ct,St){var At=_t,Rt;switch(Et){case"start":g[yt]=It,Rt=b++;break;case"end":delete g[yt],--b;case"drag":_t=pointer(St||Ct,dt),Rt=b;break}Tt.call(Et,ut,new DragEvent(Et,{sourceEvent:Ct,subject:Pt,target:tt,identifier:yt,active:Rt,x:_t[0]+Mt,y:_t[1]+Lt,dx:_t[0]-At[0],dy:_t[1]-At[1],dispatch:Tt}),mt)}}return tt.filter=function(ut){return arguments.length?(o=typeof ut=="function"?ut:constant$3(!!ut),tt):o},tt.container=function(ut){return arguments.length?(e=typeof ut=="function"?ut:constant$3(ut),tt):e},tt.subject=function(ut){return arguments.length?(h=typeof ut=="function"?ut:constant$3(ut),tt):h},tt.touchable=function(ut){return arguments.length?(d=typeof ut=="function"?ut:constant$3(!!ut),tt):d},tt.on=function(){var ut=_.on.apply(_,arguments);return ut===_?tt:ut},tt.clickDistance=function(ut){return arguments.length?(rt=(ut=+ut)*ut,tt):Math.sqrt(rt)},tt}function define$1(o,e,h){o.prototype=e.prototype=h,h.constructor=o}function extend$3(o,e){var h=Object.create(o.prototype);for(var d in e)h[d]=e[d];return h}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$1,color,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(o){var e,h;return o=(o+"").trim().toLowerCase(),(e=reHex.exec(o))?(h=e[1].length,e=parseInt(e[1],16),h===6?rgbn(e):h===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):h===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):h===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(o))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(o))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(o))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(o))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(o))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(o))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(o)?rgbn(named[o]):o==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(o){return new Rgb(o>>16&255,o>>8&255,o&255,1)}function rgba(o,e,h,d){return d<=0&&(o=e=h=NaN),new Rgb(o,e,h,d)}function rgbConvert(o){return o instanceof Color$1||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb(o,e,h,d){return arguments.length===1?rgbConvert(o):new Rgb(o,e,h,d==null?1:d)}function Rgb(o,e,h,d){this.r=+o,this.g=+e,this.b=+h,this.opacity=+d}define$1(Rgb,rgb,extend$3(Color$1,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const o=clampa(this.opacity);return`${o===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${o===1?")":`, ${o})`}`}function clampa(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function clampi(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function hex(o){return o=clampi(o),(o<16?"0":"")+o.toString(16)}function hsla(o,e,h,d){return d<=0?o=e=h=NaN:h<=0||h>=1?o=e=NaN:e<=0&&(o=NaN),new Hsl(o,e,h,d)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color$1||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var e=o.r/255,h=o.g/255,d=o.b/255,g=Math.min(e,h,d),_=Math.max(e,h,d),b=NaN,$=_-g,j=(_+g)/2;return $?(e===_?b=(h-d)/$+(h<d)*6:h===_?b=(d-e)/$+2:b=(e-h)/$+4,$/=j<.5?_+g:2-_-g,b*=60):$=j>0&&j<1?0:b,new Hsl(b,$,j,o.opacity)}function hsl(o,e,h,d){return arguments.length===1?hslConvert(o):new Hsl(o,e,h,d==null?1:d)}function Hsl(o,e,h,d){this.h=+o,this.s=+e,this.l=+h,this.opacity=+d}define$1(Hsl,hsl,extend$3(Color$1,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,e=isNaN(o)||isNaN(this.s)?0:this.s,h=this.l,d=h+(h<.5?h:1-h)*e,g=2*h-d;return new Rgb(hsl2rgb(o>=240?o-240:o+120,g,d),hsl2rgb(o,g,d),hsl2rgb(o<120?o+240:o-120,g,d),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=clampa(this.opacity);return`${o===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${o===1?")":`, ${o})`}`}}));function clamph(o){return o=(o||0)%360,o<0?o+360:o}function clampt(o){return Math.max(0,Math.min(1,o||0))}function hsl2rgb(o,e,h){return(o<60?e+(h-e)*o/60:o<180?h:o<240?e+(h-e)*(240-o)/60:e)*255}var constant$2=o=>()=>o;function linear(o,e){return function(h){return o+h*e}}function exponential(o,e,h){return o=Math.pow(o,h),e=Math.pow(e,h)-o,h=1/h,function(d){return Math.pow(o+d*e,h)}}function gamma(o){return(o=+o)==1?nogamma:function(e,h){return h-e?exponential(e,h,o):constant$2(isNaN(e)?h:e)}}function nogamma(o,e){var h=e-o;return h?linear(o,h):constant$2(isNaN(o)?e:o)}var interpolateRgb=function o(e){var h=gamma(e);function d(g,_){var b=h((g=rgb(g)).r,(_=rgb(_)).r),$=h(g.g,_.g),j=h(g.b,_.b),_e=nogamma(g.opacity,_.opacity);return function(et){return g.r=b(et),g.g=$(et),g.b=j(et),g.opacity=_e(et),g+""}}return d.gamma=o,d}(1);function interpolateNumber(o,e){return o=+o,e=+e,function(h){return o*(1-h)+e*h}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(o){return function(){return o}}function one(o){return function(e){return o(e)+""}}function interpolateString(o,e){var h=reA.lastIndex=reB.lastIndex=0,d,g,_,b=-1,$=[],j=[];for(o=o+"",e=e+"";(d=reA.exec(o))&&(g=reB.exec(e));)(_=g.index)>h&&(_=e.slice(h,_),$[b]?$[b]+=_:$[++b]=_),(d=d[0])===(g=g[0])?$[b]?$[b]+=g:$[++b]=g:($[++b]=null,j.push({i:b,x:interpolateNumber(d,g)})),h=reB.lastIndex;return h<e.length&&(_=e.slice(h),$[b]?$[b]+=_:$[++b]=_),$.length<2?j[0]?one(j[0].x):zero(e):(e=j.length,function(_e){for(var et=0,rt;et<e;++et)$[(rt=j[et]).i]=rt.x(_e);return $.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(o,e,h,d,g,_){var b,$,j;return(b=Math.sqrt(o*o+e*e))&&(o/=b,e/=b),(j=o*h+e*d)&&(h-=o*j,d-=e*j),($=Math.sqrt(h*h+d*d))&&(h/=$,d/=$,j/=$),o*d<e*h&&(o=-o,e=-e,j=-j,b=-b),{translateX:g,translateY:_,rotate:Math.atan2(e,o)*degrees,skewX:Math.atan(j)*degrees,scaleX:b,scaleY:$}}var svgNode;function parseCss(o){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(o+"");return e.isIdentity?identity$1:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(o){return o==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",o),!(o=svgNode.transform.baseVal.consolidate()))?identity$1:(o=o.matrix,decompose(o.a,o.b,o.c,o.d,o.e,o.f))}function interpolateTransform(o,e,h,d){function g(_e){return _e.length?_e.pop()+" ":""}function _(_e,et,rt,tt,nt,st){if(_e!==rt||et!==tt){var at=nt.push("translate(",null,e,null,h);st.push({i:at-4,x:interpolateNumber(_e,rt)},{i:at-2,x:interpolateNumber(et,tt)})}else(rt||tt)&&nt.push("translate("+rt+e+tt+h)}function b(_e,et,rt,tt){_e!==et?(_e-et>180?et+=360:et-_e>180&&(_e+=360),tt.push({i:rt.push(g(rt)+"rotate(",null,d)-2,x:interpolateNumber(_e,et)})):et&&rt.push(g(rt)+"rotate("+et+d)}function $(_e,et,rt,tt){_e!==et?tt.push({i:rt.push(g(rt)+"skewX(",null,d)-2,x:interpolateNumber(_e,et)}):et&&rt.push(g(rt)+"skewX("+et+d)}function j(_e,et,rt,tt,nt,st){if(_e!==rt||et!==tt){var at=nt.push(g(nt)+"scale(",null,",",null,")");st.push({i:at-4,x:interpolateNumber(_e,rt)},{i:at-2,x:interpolateNumber(et,tt)})}else(rt!==1||tt!==1)&&nt.push(g(nt)+"scale("+rt+","+tt+")")}return function(_e,et){var rt=[],tt=[];return _e=o(_e),et=o(et),_(_e.translateX,_e.translateY,et.translateX,et.translateY,rt,tt),b(_e.rotate,et.rotate,rt,tt),$(_e.skewX,et.skewX,rt,tt),j(_e.scaleX,_e.scaleY,et.scaleX,et.scaleY,rt,tt),_e=et=null,function(nt){for(var st=-1,at=tt.length,ct;++st<at;)rt[(ct=tt[st]).i]=ct.x(nt);return rt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(o){return((o=Math.exp(o))+1/o)/2}function sinh(o){return((o=Math.exp(o))-1/o)/2}function tanh(o){return((o=Math.exp(2*o))-1)/(o+1)}var interpolateZoom=function o(e,h,d){function g(_,b){var $=_[0],j=_[1],_e=_[2],et=b[0],rt=b[1],tt=b[2],nt=et-$,st=rt-j,at=nt*nt+st*st,ct,it;if(at<epsilon2)it=Math.log(tt/_e)/e,ct=function(mt){return[$+mt*nt,j+mt*st,_e*Math.exp(e*mt*it)]};else{var lt=Math.sqrt(at),ht=(tt*tt-_e*_e+d*at)/(2*_e*h*lt),ut=(tt*tt-_e*_e-d*at)/(2*tt*h*lt),dt=Math.log(Math.sqrt(ht*ht+1)-ht),pt=Math.log(Math.sqrt(ut*ut+1)-ut);it=(pt-dt)/e,ct=function(mt){var yt=mt*it,xt=cosh(dt),Tt=_e/(h*lt)*(xt*tanh(e*yt+dt)-sinh(dt));return[$+Tt*nt,j+Tt*st,_e*xt/cosh(e*yt+dt)]}}return ct.duration=it*1e3*e/Math.SQRT2,ct}return g.rho=function(_){var b=Math.max(.001,+_),$=b*b,j=$*$;return o(b,$,j)},g}(Math.SQRT2,2,4),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function now$3(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(o,e,h){if(typeof o!="function")throw new TypeError("callback is not a function");h=(h==null?now$3():+h)+(e==null?0:+e),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=o,this._time=h,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(o,e,h){var d=new Timer;return d.restart(o,e,h),d}function timerFlush(){now$3(),++frame;for(var o=taskHead,e;o;)(e=clockNow-o._time)>=0&&o._call.call(void 0,e),o=o._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var o=clock.now(),e=o-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=o)}function nap(){for(var o,e=taskHead,h,d=1/0;e;)e._call?(d>e._time&&(d=e._time),o=e,e=e._next):(h=e._next,e._next=null,e=o?o._next=h:taskHead=h);taskTail=o,sleep(d)}function sleep(o){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var e=o-clockNow;e>24?(o<1/0&&(timeout$1=setTimeout(wake,o-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(o,e,h){var d=new Timer;return e=e==null?0:+e,d.restart(g=>{d.stop(),o(g+e)},e,h),d}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(o,e,h,d,g,_){var b=o.__transition;if(!b)o.__transition={};else if(h in b)return;create(o,h,{name:e,index:d,group:g,on:emptyOn,tween:emptyTween,time:_.time,delay:_.delay,duration:_.duration,ease:_.ease,timer:null,state:CREATED})}function init$1(o,e){var h=get(o,e);if(h.state>CREATED)throw new Error("too late; already scheduled");return h}function set(o,e){var h=get(o,e);if(h.state>STARTED)throw new Error("too late; already running");return h}function get(o,e){var h=o.__transition;if(!h||!(h=h[e]))throw new Error("transition not found");return h}function create(o,e,h){var d=o.__transition,g;d[e]=h,h.timer=timer(_,0,h.time);function _(_e){h.state=SCHEDULED,h.timer.restart(b,h.delay,h.time),h.delay<=_e&&b(_e-h.delay)}function b(_e){var et,rt,tt,nt;if(h.state!==SCHEDULED)return j();for(et in d)if(nt=d[et],nt.name===h.name){if(nt.state===STARTED)return timeout(b);nt.state===RUNNING?(nt.state=ENDED,nt.timer.stop(),nt.on.call("interrupt",o,o.__data__,nt.index,nt.group),delete d[et]):+et<e&&(nt.state=ENDED,nt.timer.stop(),nt.on.call("cancel",o,o.__data__,nt.index,nt.group),delete d[et])}if(timeout(function(){h.state===STARTED&&(h.state=RUNNING,h.timer.restart($,h.delay,h.time),$(_e))}),h.state=STARTING,h.on.call("start",o,o.__data__,h.index,h.group),h.state===STARTING){for(h.state=STARTED,g=new Array(tt=h.tween.length),et=0,rt=-1;et<tt;++et)(nt=h.tween[et].value.call(o,o.__data__,h.index,h.group))&&(g[++rt]=nt);g.length=rt+1}}function $(_e){for(var et=_e<h.duration?h.ease.call(null,_e/h.duration):(h.timer.restart(j),h.state=ENDING,1),rt=-1,tt=g.length;++rt<tt;)g[rt].call(o,et);h.state===ENDING&&(h.on.call("end",o,o.__data__,h.index,h.group),j())}function j(){h.state=ENDED,h.timer.stop(),delete d[e];for(var _e in d)return;delete o.__transition}}function interrupt(o,e){var h=o.__transition,d,g,_=!0,b;if(!!h){e=e==null?null:e+"";for(b in h){if((d=h[b]).name!==e){_=!1;continue}g=d.state>STARTING&&d.state<ENDING,d.state=ENDED,d.timer.stop(),d.on.call(g?"interrupt":"cancel",o,o.__data__,d.index,d.group),delete h[b]}_&&delete o.__transition}}function selection_interrupt(o){return this.each(function(){interrupt(this,o)})}function tweenRemove(o,e){var h,d;return function(){var g=set(this,o),_=g.tween;if(_!==h){d=h=_;for(var b=0,$=d.length;b<$;++b)if(d[b].name===e){d=d.slice(),d.splice(b,1);break}}g.tween=d}}function tweenFunction(o,e,h){var d,g;if(typeof h!="function")throw new Error;return function(){var _=set(this,o),b=_.tween;if(b!==d){g=(d=b).slice();for(var $={name:e,value:h},j=0,_e=g.length;j<_e;++j)if(g[j].name===e){g[j]=$;break}j===_e&&g.push($)}_.tween=g}}function transition_tween(o,e){var h=this._id;if(o+="",arguments.length<2){for(var d=get(this.node(),h).tween,g=0,_=d.length,b;g<_;++g)if((b=d[g]).name===o)return b.value;return null}return this.each((e==null?tweenRemove:tweenFunction)(h,o,e))}function tweenValue(o,e,h){var d=o._id;return o.each(function(){var g=set(this,d);(g.value||(g.value={}))[e]=h.apply(this,arguments)}),function(g){return get(g,d).value[e]}}function interpolate(o,e){var h;return(typeof e=="number"?interpolateNumber:e instanceof color?interpolateRgb:(h=color(e))?(e=h,interpolateRgb):interpolateString)(o,e)}function attrRemove(o){return function(){this.removeAttribute(o)}}function attrRemoveNS(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant(o,e,h){var d,g=h+"",_;return function(){var b=this.getAttribute(o);return b===g?null:b===d?_:_=e(d=b,h)}}function attrConstantNS(o,e,h){var d,g=h+"",_;return function(){var b=this.getAttributeNS(o.space,o.local);return b===g?null:b===d?_:_=e(d=b,h)}}function attrFunction(o,e,h){var d,g,_;return function(){var b,$=h(this),j;return $==null?void this.removeAttribute(o):(b=this.getAttribute(o),j=$+"",b===j?null:b===d&&j===g?_:(g=j,_=e(d=b,$)))}}function attrFunctionNS(o,e,h){var d,g,_;return function(){var b,$=h(this),j;return $==null?void this.removeAttributeNS(o.space,o.local):(b=this.getAttributeNS(o.space,o.local),j=$+"",b===j?null:b===d&&j===g?_:(g=j,_=e(d=b,$)))}}function transition_attr(o,e){var h=namespace(o),d=h==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(o,typeof e=="function"?(h.local?attrFunctionNS:attrFunction)(h,d,tweenValue(this,"attr."+o,e)):e==null?(h.local?attrRemoveNS:attrRemove)(h):(h.local?attrConstantNS:attrConstant)(h,d,e))}function attrInterpolate(o,e){return function(h){this.setAttribute(o,e.call(this,h))}}function attrInterpolateNS(o,e){return function(h){this.setAttributeNS(o.space,o.local,e.call(this,h))}}function attrTweenNS(o,e){var h,d;function g(){var _=e.apply(this,arguments);return _!==d&&(h=(d=_)&&attrInterpolateNS(o,_)),h}return g._value=e,g}function attrTween(o,e){var h,d;function g(){var _=e.apply(this,arguments);return _!==d&&(h=(d=_)&&attrInterpolate(o,_)),h}return g._value=e,g}function transition_attrTween(o,e){var h="attr."+o;if(arguments.length<2)return(h=this.tween(h))&&h._value;if(e==null)return this.tween(h,null);if(typeof e!="function")throw new Error;var d=namespace(o);return this.tween(h,(d.local?attrTweenNS:attrTween)(d,e))}function delayFunction(o,e){return function(){init$1(this,o).delay=+e.apply(this,arguments)}}function delayConstant(o,e){return e=+e,function(){init$1(this,o).delay=e}}function transition_delay(o){var e=this._id;return arguments.length?this.each((typeof o=="function"?delayFunction:delayConstant)(e,o)):get(this.node(),e).delay}function durationFunction(o,e){return function(){set(this,o).duration=+e.apply(this,arguments)}}function durationConstant(o,e){return e=+e,function(){set(this,o).duration=e}}function transition_duration(o){var e=this._id;return arguments.length?this.each((typeof o=="function"?durationFunction:durationConstant)(e,o)):get(this.node(),e).duration}function easeConstant(o,e){if(typeof e!="function")throw new Error;return function(){set(this,o).ease=e}}function transition_ease(o){var e=this._id;return arguments.length?this.each(easeConstant(e,o)):get(this.node(),e).ease}function easeVarying(o,e){return function(){var h=e.apply(this,arguments);if(typeof h!="function")throw new Error;set(this,o).ease=h}}function transition_easeVarying(o){if(typeof o!="function")throw new Error;return this.each(easeVarying(this._id,o))}function transition_filter(o){typeof o!="function"&&(o=matcher(o));for(var e=this._groups,h=e.length,d=new Array(h),g=0;g<h;++g)for(var _=e[g],b=_.length,$=d[g]=[],j,_e=0;_e<b;++_e)(j=_[_e])&&o.call(j,j.__data__,_e,_)&&$.push(j);return new Transition(d,this._parents,this._name,this._id)}function transition_merge(o){if(o._id!==this._id)throw new Error;for(var e=this._groups,h=o._groups,d=e.length,g=h.length,_=Math.min(d,g),b=new Array(d),$=0;$<_;++$)for(var j=e[$],_e=h[$],et=j.length,rt=b[$]=new Array(et),tt,nt=0;nt<et;++nt)(tt=j[nt]||_e[nt])&&(rt[nt]=tt);for(;$<d;++$)b[$]=e[$];return new Transition(b,this._parents,this._name,this._id)}function start(o){return(o+"").trim().split(/^|\s+/).every(function(e){var h=e.indexOf(".");return h>=0&&(e=e.slice(0,h)),!e||e==="start"})}function onFunction(o,e,h){var d,g,_=start(e)?init$1:set;return function(){var b=_(this,o),$=b.on;$!==d&&(g=(d=$).copy()).on(e,h),b.on=g}}function transition_on(o,e){var h=this._id;return arguments.length<2?get(this.node(),h).on.on(o):this.each(onFunction(h,o,e))}function removeFunction(o){return function(){var e=this.parentNode;for(var h in this.__transition)if(+h!==o)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(o){var e=this._name,h=this._id;typeof o!="function"&&(o=selector(o));for(var d=this._groups,g=d.length,_=new Array(g),b=0;b<g;++b)for(var $=d[b],j=$.length,_e=_[b]=new Array(j),et,rt,tt=0;tt<j;++tt)(et=$[tt])&&(rt=o.call(et,et.__data__,tt,$))&&("__data__"in et&&(rt.__data__=et.__data__),_e[tt]=rt,schedule(_e[tt],e,h,tt,_e,get(et,h)));return new Transition(_,this._parents,e,h)}function transition_selectAll(o){var e=this._name,h=this._id;typeof o!="function"&&(o=selectorAll(o));for(var d=this._groups,g=d.length,_=[],b=[],$=0;$<g;++$)for(var j=d[$],_e=j.length,et,rt=0;rt<_e;++rt)if(et=j[rt]){for(var tt=o.call(et,et.__data__,rt,j),nt,st=get(et,h),at=0,ct=tt.length;at<ct;++at)(nt=tt[at])&&schedule(nt,e,h,at,tt,st);_.push(tt),b.push(et)}return new Transition(_,b,e,h)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(o,e){var h,d,g;return function(){var _=styleValue(this,o),b=(this.style.removeProperty(o),styleValue(this,o));return _===b?null:_===h&&b===d?g:g=e(h=_,d=b)}}function styleRemove(o){return function(){this.style.removeProperty(o)}}function styleConstant(o,e,h){var d,g=h+"",_;return function(){var b=styleValue(this,o);return b===g?null:b===d?_:_=e(d=b,h)}}function styleFunction(o,e,h){var d,g,_;return function(){var b=styleValue(this,o),$=h(this),j=$+"";return $==null&&(j=$=(this.style.removeProperty(o),styleValue(this,o))),b===j?null:b===d&&j===g?_:(g=j,_=e(d=b,$))}}function styleMaybeRemove(o,e){var h,d,g,_="style."+e,b="end."+_,$;return function(){var j=set(this,o),_e=j.on,et=j.value[_]==null?$||($=styleRemove(e)):void 0;(_e!==h||g!==et)&&(d=(h=_e).copy()).on(b,g=et),j.on=d}}function transition_style(o,e,h){var d=(o+="")==="transform"?interpolateTransformCss:interpolate;return e==null?this.styleTween(o,styleNull(o,d)).on("end.style."+o,styleRemove(o)):typeof e=="function"?this.styleTween(o,styleFunction(o,d,tweenValue(this,"style."+o,e))).each(styleMaybeRemove(this._id,o)):this.styleTween(o,styleConstant(o,d,e),h).on("end.style."+o,null)}function styleInterpolate(o,e,h){return function(d){this.style.setProperty(o,e.call(this,d),h)}}function styleTween(o,e,h){var d,g;function _(){var b=e.apply(this,arguments);return b!==g&&(d=(g=b)&&styleInterpolate(o,b,h)),d}return _._value=e,_}function transition_styleTween(o,e,h){var d="style."+(o+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(e==null)return this.tween(d,null);if(typeof e!="function")throw new Error;return this.tween(d,styleTween(o,e,h==null?"":h))}function textConstant(o){return function(){this.textContent=o}}function textFunction(o){return function(){var e=o(this);this.textContent=e==null?"":e}}function transition_text(o){return this.tween("text",typeof o=="function"?textFunction(tweenValue(this,"text",o)):textConstant(o==null?"":o+""))}function textInterpolate(o){return function(e){this.textContent=o.call(this,e)}}function textTween(o){var e,h;function d(){var g=o.apply(this,arguments);return g!==h&&(e=(h=g)&&textInterpolate(g)),e}return d._value=o,d}function transition_textTween(o){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(o==null)return this.tween(e,null);if(typeof o!="function")throw new Error;return this.tween(e,textTween(o))}function transition_transition(){for(var o=this._name,e=this._id,h=newId(),d=this._groups,g=d.length,_=0;_<g;++_)for(var b=d[_],$=b.length,j,_e=0;_e<$;++_e)if(j=b[_e]){var et=get(j,e);schedule(j,o,h,_e,b,{time:et.time+et.delay+et.duration,delay:0,duration:et.duration,ease:et.ease})}return new Transition(d,this._parents,o,h)}function transition_end(){var o,e,h=this,d=h._id,g=h.size();return new Promise(function(_,b){var $={value:b},j={value:function(){--g==0&&_()}};h.each(function(){var _e=set(this,d),et=_e.on;et!==o&&(e=(o=et).copy(),e._.cancel.push($),e._.interrupt.push($),e._.end.push(j)),_e.on=e}),g===0&&_()})}var id=0;function Transition(o,e,h,d){this._groups=o,this._parents=e,this._name=h,this._id=d}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(o,e){for(var h;!(h=o.__transition)||!(h=h[e]);)if(!(o=o.parentNode))throw new Error(`transition ${e} not found`);return h}function selection_transition(o){var e,h;o instanceof Transition?(e=o._id,o=o._name):(e=newId(),(h=defaultTiming).time=now$3(),o=o==null?null:o+"");for(var d=this._groups,g=d.length,_=0;_<g;++_)for(var b=d[_],$=b.length,j,_e=0;_e<$;++_e)(j=b[_e])&&schedule(j,o,e,_e,b,h||inherit(j,e));return new Transition(d,this._parents,o,e)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;function center(o,e){var h,d=1;o==null&&(o=0),e==null&&(e=0);function g(){var _,b=h.length,$,j=0,_e=0;for(_=0;_<b;++_)$=h[_],j+=$.x,_e+=$.y;for(j=(j/b-o)*d,_e=(_e/b-e)*d,_=0;_<b;++_)$=h[_],$.x-=j,$.y-=_e}return g.initialize=function(_){h=_},g.x=function(_){return arguments.length?(o=+_,g):o},g.y=function(_){return arguments.length?(e=+_,g):e},g.strength=function(_){return arguments.length?(d=+_,g):d},g}function tree_add(o){const e=+this._x.call(null,o),h=+this._y.call(null,o);return add$1(this.cover(e,h),e,h,o)}function add$1(o,e,h,d){if(isNaN(e)||isNaN(h))return o;var g,_=o._root,b={data:d},$=o._x0,j=o._y0,_e=o._x1,et=o._y1,rt,tt,nt,st,at,ct,it,lt;if(!_)return o._root=b,o;for(;_.length;)if((at=e>=(rt=($+_e)/2))?$=rt:_e=rt,(ct=h>=(tt=(j+et)/2))?j=tt:et=tt,g=_,!(_=_[it=ct<<1|at]))return g[it]=b,o;if(nt=+o._x.call(null,_.data),st=+o._y.call(null,_.data),e===nt&&h===st)return b.next=_,g?g[it]=b:o._root=b,o;do g=g?g[it]=new Array(4):o._root=new Array(4),(at=e>=(rt=($+_e)/2))?$=rt:_e=rt,(ct=h>=(tt=(j+et)/2))?j=tt:et=tt;while((it=ct<<1|at)==(lt=(st>=tt)<<1|nt>=rt));return g[lt]=_,g[it]=b,o}function addAll(o){var e,h,d=o.length,g,_,b=new Array(d),$=new Array(d),j=1/0,_e=1/0,et=-1/0,rt=-1/0;for(h=0;h<d;++h)isNaN(g=+this._x.call(null,e=o[h]))||isNaN(_=+this._y.call(null,e))||(b[h]=g,$[h]=_,g<j&&(j=g),g>et&&(et=g),_<_e&&(_e=_),_>rt&&(rt=_));if(j>et||_e>rt)return this;for(this.cover(j,_e).cover(et,rt),h=0;h<d;++h)add$1(this,b[h],$[h],o[h]);return this}function tree_cover(o,e){if(isNaN(o=+o)||isNaN(e=+e))return this;var h=this._x0,d=this._y0,g=this._x1,_=this._y1;if(isNaN(h))g=(h=Math.floor(o))+1,_=(d=Math.floor(e))+1;else{for(var b=g-h||1,$=this._root,j,_e;h>o||o>=g||d>e||e>=_;)switch(_e=(e<d)<<1|o<h,j=new Array(4),j[_e]=$,$=j,b*=2,_e){case 0:g=h+b,_=d+b;break;case 1:h=g-b,_=d+b;break;case 2:g=h+b,d=_-b;break;case 3:h=g-b,d=_-b;break}this._root&&this._root.length&&(this._root=$)}return this._x0=h,this._y0=d,this._x1=g,this._y1=_,this}function tree_data(){var o=[];return this.visit(function(e){if(!e.length)do o.push(e.data);while(e=e.next)}),o}function tree_extent(o){return arguments.length?this.cover(+o[0][0],+o[0][1]).cover(+o[1][0],+o[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad$1(o,e,h,d,g){this.node=o,this.x0=e,this.y0=h,this.x1=d,this.y1=g}function tree_find(o,e,h){var d,g=this._x0,_=this._y0,b,$,j,_e,et=this._x1,rt=this._y1,tt=[],nt=this._root,st,at;for(nt&&tt.push(new Quad$1(nt,g,_,et,rt)),h==null?h=1/0:(g=o-h,_=e-h,et=o+h,rt=e+h,h*=h);st=tt.pop();)if(!(!(nt=st.node)||(b=st.x0)>et||($=st.y0)>rt||(j=st.x1)<g||(_e=st.y1)<_))if(nt.length){var ct=(b+j)/2,it=($+_e)/2;tt.push(new Quad$1(nt[3],ct,it,j,_e),new Quad$1(nt[2],b,it,ct,_e),new Quad$1(nt[1],ct,$,j,it),new Quad$1(nt[0],b,$,ct,it)),(at=(e>=it)<<1|o>=ct)&&(st=tt[tt.length-1],tt[tt.length-1]=tt[tt.length-1-at],tt[tt.length-1-at]=st)}else{var lt=o-+this._x.call(null,nt.data),ht=e-+this._y.call(null,nt.data),ut=lt*lt+ht*ht;if(ut<h){var dt=Math.sqrt(h=ut);g=o-dt,_=e-dt,et=o+dt,rt=e+dt,d=nt.data}}return d}function tree_remove(o){if(isNaN(et=+this._x.call(null,o))||isNaN(rt=+this._y.call(null,o)))return this;var e,h=this._root,d,g,_,b=this._x0,$=this._y0,j=this._x1,_e=this._y1,et,rt,tt,nt,st,at,ct,it;if(!h)return this;if(h.length)for(;;){if((st=et>=(tt=(b+j)/2))?b=tt:j=tt,(at=rt>=(nt=($+_e)/2))?$=nt:_e=nt,e=h,!(h=h[ct=at<<1|st]))return this;if(!h.length)break;(e[ct+1&3]||e[ct+2&3]||e[ct+3&3])&&(d=e,it=ct)}for(;h.data!==o;)if(g=h,!(h=h.next))return this;return(_=h.next)&&delete h.next,g?(_?g.next=_:delete g.next,this):e?(_?e[ct]=_:delete e[ct],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(d?d[it]=h:this._root=h),this):(this._root=_,this)}function removeAll$1(o){for(var e=0,h=o.length;e<h;++e)this.remove(o[e]);return this}function tree_root(){return this._root}function tree_size(){var o=0;return this.visit(function(e){if(!e.length)do++o;while(e=e.next)}),o}function tree_visit(o){var e=[],h,d=this._root,g,_,b,$,j;for(d&&e.push(new Quad$1(d,this._x0,this._y0,this._x1,this._y1));h=e.pop();)if(!o(d=h.node,_=h.x0,b=h.y0,$=h.x1,j=h.y1)&&d.length){var _e=(_+$)/2,et=(b+j)/2;(g=d[3])&&e.push(new Quad$1(g,_e,et,$,j)),(g=d[2])&&e.push(new Quad$1(g,_,et,_e,j)),(g=d[1])&&e.push(new Quad$1(g,_e,b,$,et)),(g=d[0])&&e.push(new Quad$1(g,_,b,_e,et))}return this}function tree_visitAfter(o){var e=[],h=[],d;for(this._root&&e.push(new Quad$1(this._root,this._x0,this._y0,this._x1,this._y1));d=e.pop();){var g=d.node;if(g.length){var _,b=d.x0,$=d.y0,j=d.x1,_e=d.y1,et=(b+j)/2,rt=($+_e)/2;(_=g[0])&&e.push(new Quad$1(_,b,$,et,rt)),(_=g[1])&&e.push(new Quad$1(_,et,$,j,rt)),(_=g[2])&&e.push(new Quad$1(_,b,rt,et,_e)),(_=g[3])&&e.push(new Quad$1(_,et,rt,j,_e))}h.push(d)}for(;d=h.pop();)o(d.node,d.x0,d.y0,d.x1,d.y1);return this}function defaultX(o){return o[0]}function tree_x(o){return arguments.length?(this._x=o,this):this._x}function defaultY(o){return o[1]}function tree_y(o){return arguments.length?(this._y=o,this):this._y}function quadtree(o,e,h){var d=new Quadtree(e==null?defaultX:e,h==null?defaultY:h,NaN,NaN,NaN,NaN);return o==null?d:d.addAll(o)}function Quadtree(o,e,h,d,g,_){this._x=o,this._y=e,this._x0=h,this._y0=d,this._x1=g,this._y1=_,this._root=void 0}function leaf_copy(o){for(var e={data:o.data},h=e;o=o.next;)h=h.next={data:o.data};return e}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var o=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,h,d;if(!e)return o;if(!e.length)return o._root=leaf_copy(e),o;for(h=[{source:e,target:o._root=new Array(4)}];e=h.pop();)for(var g=0;g<4;++g)(d=e.source[g])&&(d.length?h.push({source:d,target:e.target[g]=new Array(4)}):e.target[g]=leaf_copy(d));return o};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll$1;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant$1(o){return function(){return o}}function jiggle(o){return(o()-.5)*1e-6}function index(o){return o.index}function find(o,e){var h=o.get(e);if(!h)throw new Error("node not found: "+e);return h}function link(o){var e=index,h=rt,d,g=constant$1(30),_,b,$,j,_e,et=1;o==null&&(o=[]);function rt(ct){return 1/Math.min($[ct.source.index],$[ct.target.index])}function tt(ct){for(var it=0,lt=o.length;it<et;++it)for(var ht=0,ut,dt,pt,mt,yt,xt,Tt;ht<lt;++ht)ut=o[ht],dt=ut.source,pt=ut.target,mt=pt.x+pt.vx-dt.x-dt.vx||jiggle(_e),yt=pt.y+pt.vy-dt.y-dt.vy||jiggle(_e),xt=Math.sqrt(mt*mt+yt*yt),xt=(xt-_[ht])/xt*ct*d[ht],mt*=xt,yt*=xt,pt.vx-=mt*(Tt=j[ht]),pt.vy-=yt*Tt,dt.vx+=mt*(Tt=1-Tt),dt.vy+=yt*Tt}function nt(){if(!!b){var ct,it=b.length,lt=o.length,ht=new Map(b.map((dt,pt)=>[e(dt,pt,b),dt])),ut;for(ct=0,$=new Array(it);ct<lt;++ct)ut=o[ct],ut.index=ct,typeof ut.source!="object"&&(ut.source=find(ht,ut.source)),typeof ut.target!="object"&&(ut.target=find(ht,ut.target)),$[ut.source.index]=($[ut.source.index]||0)+1,$[ut.target.index]=($[ut.target.index]||0)+1;for(ct=0,j=new Array(lt);ct<lt;++ct)ut=o[ct],j[ct]=$[ut.source.index]/($[ut.source.index]+$[ut.target.index]);d=new Array(lt),st(),_=new Array(lt),at()}}function st(){if(!!b)for(var ct=0,it=o.length;ct<it;++ct)d[ct]=+h(o[ct],ct,o)}function at(){if(!!b)for(var ct=0,it=o.length;ct<it;++ct)_[ct]=+g(o[ct],ct,o)}return tt.initialize=function(ct,it){b=ct,_e=it,nt()},tt.links=function(ct){return arguments.length?(o=ct,nt(),tt):o},tt.id=function(ct){return arguments.length?(e=ct,tt):e},tt.iterations=function(ct){return arguments.length?(et=+ct,tt):et},tt.strength=function(ct){return arguments.length?(h=typeof ct=="function"?ct:constant$1(+ct),st(),tt):h},tt.distance=function(ct){return arguments.length?(g=typeof ct=="function"?ct:constant$1(+ct),at(),tt):g},tt}const a=1664525,c=1013904223,m=4294967296;function lcg(){let o=1;return()=>(o=(a*o+c)%m)/m}function x$1(o){return o.x}function y(o){return o.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(o){var e,h=1,d=.001,g=1-Math.pow(d,1/300),_=0,b=.6,$=new Map,j=timer(rt),_e=dispatch("tick","end"),et=lcg();o==null&&(o=[]);function rt(){tt(),_e.call("tick",e),h<d&&(j.stop(),_e.call("end",e))}function tt(at){var ct,it=o.length,lt;at===void 0&&(at=1);for(var ht=0;ht<at;++ht)for(h+=(_-h)*g,$.forEach(function(ut){ut(h)}),ct=0;ct<it;++ct)lt=o[ct],lt.fx==null?lt.x+=lt.vx*=b:(lt.x=lt.fx,lt.vx=0),lt.fy==null?lt.y+=lt.vy*=b:(lt.y=lt.fy,lt.vy=0);return e}function nt(){for(var at=0,ct=o.length,it;at<ct;++at){if(it=o[at],it.index=at,it.fx!=null&&(it.x=it.fx),it.fy!=null&&(it.y=it.fy),isNaN(it.x)||isNaN(it.y)){var lt=initialRadius*Math.sqrt(.5+at),ht=at*initialAngle;it.x=lt*Math.cos(ht),it.y=lt*Math.sin(ht)}(isNaN(it.vx)||isNaN(it.vy))&&(it.vx=it.vy=0)}}function st(at){return at.initialize&&at.initialize(o,et),at}return nt(),e={tick:tt,restart:function(){return j.restart(rt),e},stop:function(){return j.stop(),e},nodes:function(at){return arguments.length?(o=at,nt(),$.forEach(st),e):o},alpha:function(at){return arguments.length?(h=+at,e):h},alphaMin:function(at){return arguments.length?(d=+at,e):d},alphaDecay:function(at){return arguments.length?(g=+at,e):+g},alphaTarget:function(at){return arguments.length?(_=+at,e):_},velocityDecay:function(at){return arguments.length?(b=1-at,e):1-b},randomSource:function(at){return arguments.length?(et=at,$.forEach(st),e):et},force:function(at,ct){return arguments.length>1?(ct==null?$.delete(at):$.set(at,st(ct)),e):$.get(at)},find:function(at,ct,it){var lt=0,ht=o.length,ut,dt,pt,mt,yt;for(it==null?it=1/0:it*=it,lt=0;lt<ht;++lt)mt=o[lt],ut=at-mt.x,dt=ct-mt.y,pt=ut*ut+dt*dt,pt<it&&(yt=mt,it=pt);return yt},on:function(at,ct){return arguments.length>1?(_e.on(at,ct),e):_e.on(at)}}}function manyBody(){var o,e,h,d,g=constant$1(-30),_,b=1,$=1/0,j=.81;function _e(nt){var st,at=o.length,ct=quadtree(o,x$1,y).visitAfter(rt);for(d=nt,st=0;st<at;++st)e=o[st],ct.visit(tt)}function et(){if(!!o){var nt,st=o.length,at;for(_=new Array(st),nt=0;nt<st;++nt)at=o[nt],_[at.index]=+g(at,nt,o)}}function rt(nt){var st=0,at,ct,it=0,lt,ht,ut;if(nt.length){for(lt=ht=ut=0;ut<4;++ut)(at=nt[ut])&&(ct=Math.abs(at.value))&&(st+=at.value,it+=ct,lt+=ct*at.x,ht+=ct*at.y);nt.x=lt/it,nt.y=ht/it}else{at=nt,at.x=at.data.x,at.y=at.data.y;do st+=_[at.data.index];while(at=at.next)}nt.value=st}function tt(nt,st,at,ct){if(!nt.value)return!0;var it=nt.x-e.x,lt=nt.y-e.y,ht=ct-st,ut=it*it+lt*lt;if(ht*ht/j<ut)return ut<$&&(it===0&&(it=jiggle(h),ut+=it*it),lt===0&&(lt=jiggle(h),ut+=lt*lt),ut<b&&(ut=Math.sqrt(b*ut)),e.vx+=it*nt.value*d/ut,e.vy+=lt*nt.value*d/ut),!0;if(nt.length||ut>=$)return;(nt.data!==e||nt.next)&&(it===0&&(it=jiggle(h),ut+=it*it),lt===0&&(lt=jiggle(h),ut+=lt*lt),ut<b&&(ut=Math.sqrt(b*ut)));do nt.data!==e&&(ht=_[nt.data.index]*d/ut,e.vx+=it*ht,e.vy+=lt*ht);while(nt=nt.next)}return _e.initialize=function(nt,st){o=nt,h=st,et()},_e.strength=function(nt){return arguments.length?(g=typeof nt=="function"?nt:constant$1(+nt),et(),_e):g},_e.distanceMin=function(nt){return arguments.length?(b=nt*nt,_e):Math.sqrt(b)},_e.distanceMax=function(nt){return arguments.length?($=nt*nt,_e):Math.sqrt($)},_e.theta=function(nt){return arguments.length?(j=nt*nt,_e):Math.sqrt(j)},_e}function initRange(o,e){switch(arguments.length){case 0:break;case 1:this.range(o);break;default:this.range(e).domain(o);break}return this}const implicit=Symbol("implicit");function ordinal(){var o=new InternMap,e=[],h=[],d=implicit;function g(_){let b=o.get(_);if(b===void 0){if(d!==implicit)return d;o.set(_,b=e.push(_)-1)}return h[b%h.length]}return g.domain=function(_){if(!arguments.length)return e.slice();e=[],o=new InternMap;for(const b of _)o.has(b)||o.set(b,e.push(b)-1);return g},g.range=function(_){return arguments.length?(h=Array.from(_),g):h.slice()},g.unknown=function(_){return arguments.length?(d=_,g):d},g.copy=function(){return ordinal(e,h).unknown(d)},initRange.apply(g,arguments),g}function colors(o){for(var e=o.length/6|0,h=new Array(e),d=0;d<e;)h[d]="#"+o.slice(d*6,++d*6);return h}var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),constant=o=>()=>o;function ZoomEvent(o,{sourceEvent:e,target:h,transform:d,dispatch:g}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:h,enumerable:!0,configurable:!0},transform:{value:d,enumerable:!0,configurable:!0},_:{value:g}})}function Transform$1(o,e,h){this.k=o,this.x=e,this.y=h}Transform$1.prototype={constructor:Transform$1,scale:function(o){return o===1?this:new Transform$1(this.k*o,this.x,this.y)},translate:function(o,e){return o===0&e===0?this:new Transform$1(this.k,this.x+this.k*o,this.y+this.k*e)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity=new Transform$1(1,0,0);Transform$1.prototype;function nopropagation(o){o.stopImmediatePropagation()}function noevent(o){o.preventDefault(),o.stopImmediatePropagation()}function defaultFilter(o){return(!o.ctrlKey||o.type==="wheel")&&!o.button}function defaultExtent(){var o=this;return o instanceof SVGElement?(o=o.ownerSVGElement||o,o.hasAttribute("viewBox")?(o=o.viewBox.baseVal,[[o.x,o.y],[o.x+o.width,o.y+o.height]]):[[0,0],[o.width.baseVal.value,o.height.baseVal.value]]):[[0,0],[o.clientWidth,o.clientHeight]]}function defaultTransform(){return this.__zoom||identity}function defaultWheelDelta(o){return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*(o.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(o,e,h){var d=o.invertX(e[0][0])-h[0][0],g=o.invertX(e[1][0])-h[1][0],_=o.invertY(e[0][1])-h[0][1],b=o.invertY(e[1][1])-h[1][1];return o.translate(g>d?(d+g)/2:Math.min(0,d)||Math.max(0,g),b>_?(_+b)/2:Math.min(0,_)||Math.max(0,b))}function zoom(){var o=defaultFilter,e=defaultExtent,h=defaultConstrain,d=defaultWheelDelta,g=defaultTouchable,_=[0,1/0],b=[[-1/0,-1/0],[1/0,1/0]],$=250,j=interpolateZoom,_e=dispatch("start","zoom","end"),et,rt,tt,nt=500,st=150,at=0,ct=10;function it(Pt){Pt.property("__zoom",defaultTransform).on("wheel.zoom",yt,{passive:!1}).on("mousedown.zoom",xt).on("dblclick.zoom",Tt).filter(g).on("touchstart.zoom",_t).on("touchmove.zoom",Mt).on("touchend.zoom touchcancel.zoom",Lt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}it.transform=function(Pt,It,Et,Ct){var St=Pt.selection?Pt.selection():Pt;St.property("__zoom",defaultTransform),Pt!==St?dt(Pt,It,Et,Ct):St.interrupt().each(function(){pt(this,arguments).event(Ct).start().zoom(null,typeof It=="function"?It.apply(this,arguments):It).end()})},it.scaleBy=function(Pt,It,Et,Ct){it.scaleTo(Pt,function(){var St=this.__zoom.k,At=typeof It=="function"?It.apply(this,arguments):It;return St*At},Et,Ct)},it.scaleTo=function(Pt,It,Et,Ct){it.transform(Pt,function(){var St=e.apply(this,arguments),At=this.__zoom,Rt=Et==null?ut(St):typeof Et=="function"?Et.apply(this,arguments):Et,Ot=At.invert(Rt),Gt=typeof It=="function"?It.apply(this,arguments):It;return h(ht(lt(At,Gt),Rt,Ot),St,b)},Et,Ct)},it.translateBy=function(Pt,It,Et,Ct){it.transform(Pt,function(){return h(this.__zoom.translate(typeof It=="function"?It.apply(this,arguments):It,typeof Et=="function"?Et.apply(this,arguments):Et),e.apply(this,arguments),b)},null,Ct)},it.translateTo=function(Pt,It,Et,Ct,St){it.transform(Pt,function(){var At=e.apply(this,arguments),Rt=this.__zoom,Ot=Ct==null?ut(At):typeof Ct=="function"?Ct.apply(this,arguments):Ct;return h(identity.translate(Ot[0],Ot[1]).scale(Rt.k).translate(typeof It=="function"?-It.apply(this,arguments):-It,typeof Et=="function"?-Et.apply(this,arguments):-Et),At,b)},Ct,St)};function lt(Pt,It){return It=Math.max(_[0],Math.min(_[1],It)),It===Pt.k?Pt:new Transform$1(It,Pt.x,Pt.y)}function ht(Pt,It,Et){var Ct=It[0]-Et[0]*Pt.k,St=It[1]-Et[1]*Pt.k;return Ct===Pt.x&&St===Pt.y?Pt:new Transform$1(Pt.k,Ct,St)}function ut(Pt){return[(+Pt[0][0]+ +Pt[1][0])/2,(+Pt[0][1]+ +Pt[1][1])/2]}function dt(Pt,It,Et,Ct){Pt.on("start.zoom",function(){pt(this,arguments).event(Ct).start()}).on("interrupt.zoom end.zoom",function(){pt(this,arguments).event(Ct).end()}).tween("zoom",function(){var St=this,At=arguments,Rt=pt(St,At).event(Ct),Ot=e.apply(St,At),Gt=Et==null?ut(Ot):typeof Et=="function"?Et.apply(St,At):Et,Qt=Math.max(Ot[1][0]-Ot[0][0],Ot[1][1]-Ot[0][1]),ir=St.__zoom,tr=typeof It=="function"?It.apply(St,At):It,Wt=j(ir.invert(Gt).concat(Qt/ir.k),tr.invert(Gt).concat(Qt/tr.k));return function(wr){if(wr===1)wr=tr;else{var Lr=Wt(wr),Er=Qt/Lr[2];wr=new Transform$1(Er,Gt[0]-Lr[0]*Er,Gt[1]-Lr[1]*Er)}Rt.zoom(null,wr)}})}function pt(Pt,It,Et){return!Et&&Pt.__zooming||new mt(Pt,It)}function mt(Pt,It){this.that=Pt,this.args=It,this.active=0,this.sourceEvent=null,this.extent=e.apply(Pt,It),this.taps=0}mt.prototype={event:function(Pt){return Pt&&(this.sourceEvent=Pt),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Pt,It){return this.mouse&&Pt!=="mouse"&&(this.mouse[1]=It.invert(this.mouse[0])),this.touch0&&Pt!=="touch"&&(this.touch0[1]=It.invert(this.touch0[0])),this.touch1&&Pt!=="touch"&&(this.touch1[1]=It.invert(this.touch1[0])),this.that.__zoom=It,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Pt){var It=select(this.that).datum();_e.call(Pt,this.that,new ZoomEvent(Pt,{sourceEvent:this.sourceEvent,target:it,type:Pt,transform:this.that.__zoom,dispatch:_e}),It)}};function yt(Pt,...It){if(!o.apply(this,arguments))return;var Et=pt(this,It).event(Pt),Ct=this.__zoom,St=Math.max(_[0],Math.min(_[1],Ct.k*Math.pow(2,d.apply(this,arguments)))),At=pointer(Pt);if(Et.wheel)(Et.mouse[0][0]!==At[0]||Et.mouse[0][1]!==At[1])&&(Et.mouse[1]=Ct.invert(Et.mouse[0]=At)),clearTimeout(Et.wheel);else{if(Ct.k===St)return;Et.mouse=[At,Ct.invert(At)],interrupt(this),Et.start()}noevent(Pt),Et.wheel=setTimeout(Rt,st),Et.zoom("mouse",h(ht(lt(Ct,St),Et.mouse[0],Et.mouse[1]),Et.extent,b));function Rt(){Et.wheel=null,Et.end()}}function xt(Pt,...It){if(tt||!o.apply(this,arguments))return;var Et=Pt.currentTarget,Ct=pt(this,It,!0).event(Pt),St=select(Pt.view).on("mousemove.zoom",Gt,!0).on("mouseup.zoom",Qt,!0),At=pointer(Pt,Et),Rt=Pt.clientX,Ot=Pt.clientY;dragDisable(Pt.view),nopropagation(Pt),Ct.mouse=[At,this.__zoom.invert(At)],interrupt(this),Ct.start();function Gt(ir){if(noevent(ir),!Ct.moved){var tr=ir.clientX-Rt,Wt=ir.clientY-Ot;Ct.moved=tr*tr+Wt*Wt>at}Ct.event(ir).zoom("mouse",h(ht(Ct.that.__zoom,Ct.mouse[0]=pointer(ir,Et),Ct.mouse[1]),Ct.extent,b))}function Qt(ir){St.on("mousemove.zoom mouseup.zoom",null),yesdrag(ir.view,Ct.moved),noevent(ir),Ct.event(ir).end()}}function Tt(Pt,...It){if(!!o.apply(this,arguments)){var Et=this.__zoom,Ct=pointer(Pt.changedTouches?Pt.changedTouches[0]:Pt,this),St=Et.invert(Ct),At=Et.k*(Pt.shiftKey?.5:2),Rt=h(ht(lt(Et,At),Ct,St),e.apply(this,It),b);noevent(Pt),$>0?select(this).transition().duration($).call(dt,Rt,Ct,Pt):select(this).call(it.transform,Rt,Ct,Pt)}}function _t(Pt,...It){if(!!o.apply(this,arguments)){var Et=Pt.touches,Ct=Et.length,St=pt(this,It,Pt.changedTouches.length===Ct).event(Pt),At,Rt,Ot,Gt;for(nopropagation(Pt),Rt=0;Rt<Ct;++Rt)Ot=Et[Rt],Gt=pointer(Ot,this),Gt=[Gt,this.__zoom.invert(Gt),Ot.identifier],St.touch0?!St.touch1&&St.touch0[2]!==Gt[2]&&(St.touch1=Gt,St.taps=0):(St.touch0=Gt,At=!0,St.taps=1+!!et);et&&(et=clearTimeout(et)),At&&(St.taps<2&&(rt=Gt[0],et=setTimeout(function(){et=null},nt)),interrupt(this),St.start())}}function Mt(Pt,...It){if(!!this.__zooming){var Et=pt(this,It).event(Pt),Ct=Pt.changedTouches,St=Ct.length,At,Rt,Ot,Gt;for(noevent(Pt),At=0;At<St;++At)Rt=Ct[At],Ot=pointer(Rt,this),Et.touch0&&Et.touch0[2]===Rt.identifier?Et.touch0[0]=Ot:Et.touch1&&Et.touch1[2]===Rt.identifier&&(Et.touch1[0]=Ot);if(Rt=Et.that.__zoom,Et.touch1){var Qt=Et.touch0[0],ir=Et.touch0[1],tr=Et.touch1[0],Wt=Et.touch1[1],wr=(wr=tr[0]-Qt[0])*wr+(wr=tr[1]-Qt[1])*wr,Lr=(Lr=Wt[0]-ir[0])*Lr+(Lr=Wt[1]-ir[1])*Lr;Rt=lt(Rt,Math.sqrt(wr/Lr)),Ot=[(Qt[0]+tr[0])/2,(Qt[1]+tr[1])/2],Gt=[(ir[0]+Wt[0])/2,(ir[1]+Wt[1])/2]}else if(Et.touch0)Ot=Et.touch0[0],Gt=Et.touch0[1];else return;Et.zoom("touch",h(ht(Rt,Ot,Gt),Et.extent,b))}}function Lt(Pt,...It){if(!!this.__zooming){var Et=pt(this,It).event(Pt),Ct=Pt.changedTouches,St=Ct.length,At,Rt;for(nopropagation(Pt),tt&&clearTimeout(tt),tt=setTimeout(function(){tt=null},nt),At=0;At<St;++At)Rt=Ct[At],Et.touch0&&Et.touch0[2]===Rt.identifier?delete Et.touch0:Et.touch1&&Et.touch1[2]===Rt.identifier&&delete Et.touch1;if(Et.touch1&&!Et.touch0&&(Et.touch0=Et.touch1,delete Et.touch1),Et.touch0)Et.touch0[1]=this.__zoom.invert(Et.touch0[0]);else if(Et.end(),Et.taps===2&&(Rt=pointer(Rt,this),Math.hypot(rt[0]-Rt[0],rt[1]-Rt[1])<ct)){var Ot=select(this).on("dblclick.zoom");Ot&&Ot.apply(this,arguments)}}}return it.wheelDelta=function(Pt){return arguments.length?(d=typeof Pt=="function"?Pt:constant(+Pt),it):d},it.filter=function(Pt){return arguments.length?(o=typeof Pt=="function"?Pt:constant(!!Pt),it):o},it.touchable=function(Pt){return arguments.length?(g=typeof Pt=="function"?Pt:constant(!!Pt),it):g},it.extent=function(Pt){return arguments.length?(e=typeof Pt=="function"?Pt:constant([[+Pt[0][0],+Pt[0][1]],[+Pt[1][0],+Pt[1][1]]]),it):e},it.scaleExtent=function(Pt){return arguments.length?(_[0]=+Pt[0],_[1]=+Pt[1],it):[_[0],_[1]]},it.translateExtent=function(Pt){return arguments.length?(b[0][0]=+Pt[0][0],b[1][0]=+Pt[1][0],b[0][1]=+Pt[0][1],b[1][1]=+Pt[1][1],it):[[b[0][0],b[0][1]],[b[1][0],b[1][1]]]},it.constrain=function(Pt){return arguments.length?(h=Pt,it):h},it.duration=function(Pt){return arguments.length?($=+Pt,it):$},it.interpolate=function(Pt){return arguments.length?(j=Pt,it):j},it.on=function(){var Pt=_e.on.apply(_e,arguments);return Pt===_e?it:Pt},it.clickDistance=function(Pt){return arguments.length?(at=(Pt=+Pt)*Pt,it):Math.sqrt(at)},it.tapDistance=function(Pt){return arguments.length?(ct=+Pt,it):ct},it}var reactFullpage={exports:{}};/*!
 * @fullpage/react-fullpage 0.1.39
 * https://github.com/alvarotrigo/react-fullpage
 * @license https://github.com/alvarotrigo/react-fullpage#license
 *
 * Copyright (C) 2018 alvarotrigo.com - A project by Alvaro Trigo & Michael Walker
 */(function(o){(()=>{var e={271:(_,b,$)=>{$.d(b,{Z:()=>j});const j=(_e,et)=>_e?function(){for(var rt=arguments.length,tt=new Array(rt),nt=0;nt<rt;nt++)tt[nt]=arguments[nt];return console.log(`<${et}/> Debug Log: `,...tt)}:()=>{}},88:(_,b,$)=>{$.d(b,{Z:()=>St});var j=$(497),_e=$.n(j),et=$(379),rt=$.n(et),tt=$(795),nt=$.n(tt),st=$(569),at=$.n(st),ct=$(565),it=$.n(ct),lt=$(216),ht=$.n(lt),ut=$(589),dt=$.n(ut),pt=$(563),mt={};mt.styleTagTransform=dt(),mt.setAttributes=it(),mt.insert=at().bind(null,"head"),mt.domAPI=nt(),mt.insertStyleElement=ht(),rt()(pt.Z,mt),pt.Z&&pt.Z.locals&&pt.Z.locals;var yt=$(271),xt=$(542);function Tt(At,Rt){var Ot=Object.keys(At);if(Object.getOwnPropertySymbols){var Gt=Object.getOwnPropertySymbols(At);Rt&&(Gt=Gt.filter(function(Qt){return Object.getOwnPropertyDescriptor(At,Qt).enumerable})),Ot.push.apply(Ot,Gt)}return Ot}function _t(At){for(var Rt=1;Rt<arguments.length;Rt++){var Ot=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?Tt(Object(Ot),!0).forEach(function(Gt){Mt(At,Gt,Ot[Gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(Ot)):Tt(Object(Ot)).forEach(function(Gt){Object.defineProperty(At,Gt,Object.getOwnPropertyDescriptor(Ot,Gt))})}return At}function Mt(At,Rt,Ot){return Rt in At?Object.defineProperty(At,Rt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):At[Rt]=Ot,At}let Lt;const Pt=At=>typeof At=="function",It=(At,Rt)=>At.length!==Rt.length?!1:At.find(Ot=>!Rt.includes(Ot))==null,Et=["afterLoad","afterRender","afterResize","afterResponsive","afterSlideLoad","onLeave","onSlideLeave"];class Ct extends _e().Component{constructor(Rt){super(Rt);const{render:Ot,pluginWrapper:Gt}=this.props;if(!Pt(Ot))throw new Error("must provide render prop to <ReactFullpage />");this.log=(0,yt.Z)(this.props.debug,"ReactFullpage"),this.log("Building component"),this.log("Importing vendor files"),this.importVendors(),Gt&&(this.log("Calling plugin wrapper"),Gt()),this.log("Requiring fullpage.js"),Lt=$(933),this.state={initialized:!1,sectionCount:0,slideCount:0}}componentDidMount(){const Rt=this.buildOptions();this.log("React Lifecycle: componentDidMount()"),Lt&&(this.init(Rt),this.markInitialized())}isReRenderNecessary(Rt){const Ot=this.getSectionCount(),Gt=this.getSlideCount(),{sectionCount:Qt,slideCount:ir}=this.state;let tr=Qt!==Ot||ir!==Gt;return["sectionsColor","navigationTooltips","navigationPosition","navigation","scrollBar"].forEach(wr=>{typeof Rt[wr]!="undefined"&&(Array.isArray(Rt[wr])?tr=tr||!It(Rt[wr],this.props[wr]):tr=tr||Rt[wr]!==this.props[wr])}),tr}componentDidUpdate(Rt){if(this.log("React Lifecycle: componentDidUpdate()"),this.isReRenderNecessary(Rt)){this.log("rebuilding due to a change in fullpage.js props or num sections/slides"),this.reRender();return}}componentWillUnmount(){this.destroy()}getSectionCount(){const{sectionSelector:Rt=xt.uS}=this.props,{length:Ot}=document.querySelectorAll(Rt);return Ot}getSlideCount(){const{slideSelector:Rt=xt.xH}=this.props,{length:Ot}=document.querySelectorAll(Rt);return Ot}importVendors(){const{easing:Rt,css3:Ot}=this.props;Rt&&!Ot&&$(239)}init(Rt){this.log("Reinitializing fullpage with options",Rt);const Ot=Rt.animateAnchor;Rt.animateAnchor=!1,new Lt(xt.Km,Rt),this.fullpageApi=window.fullpage_api,this.fpUtils=window.fp_utils,this.fpEasings=window.fp_easings,window.fullpage_api.getFullpageData().options.animateAnchor=Ot}destroy(){this.log("Destroying fullpage instance"),this.fullpageApi.destroy("all")}reRender(){const Rt=this.props.slideSelector||".slide",Ot=this.props.sectionSelector||".section",Gt=document.querySelector(Ot+".active"),Qt=Gt?this.fpUtils.index(Gt):this.state.destination?this.state.destination.index-1:0,ir=document.querySelector(Ot+".active "+Rt+".active"),tr=ir?this.fpUtils.index(ir):-1;this.destroy(),Qt>-1&&this.fpUtils.addClass(document.querySelectorAll(Ot)[Qt],"active"),tr>-1&&this.fpUtils.addClass(ir,"active"),this.init(this.buildOptions())}markInitialized(){this.log("Marking initialized"),this.setState({initialized:!0,sectionCount:this.getSectionCount(),slideCount:this.getSlideCount()})}buildOptions(){var Rt=this;let Ot=null;if(!this.state.initialized){const Qt=tr=>!!Object.keys(this.props).find(Wt=>Wt===tr);Ot=Et.filter(Qt).reduce((tr,Wt)=>_t(_t({},tr),{},{[Wt]:function(){for(var wr=arguments.length,Lr=new Array(wr),Er=0;Er<wr;Er++)Lr[Er]=arguments[Er];return Rt.update(Wt,...Lr)}}),{})}const Gt=_t(_t({},this.props),Ot);return this.log("Building fullpage.js options: ",Gt),Gt}update(Rt){for(var Ot=arguments.length,Gt=new Array(Ot>1?Ot-1:0),Qt=1;Qt<Ot;Qt++)Gt[Qt-1]=arguments[Qt];this.log("Event trigger: ",Rt);let ir=_t(_t({},this.state),{},{sectionCount:this.getSectionCount(),slideCount:this.getSlideCount()});const tr=Lr=>_t(_t(_t({},ir),Lr),{},{lastEvent:Rt}),Wt=Lr=>Lr.reduce((Er,Ar,yr)=>{const Yt=Gt[yr];return Er[Ar]=Yt,Er},{});switch(Rt){case"afterLoad":ir=tr(Wt(["origin","destination","direction"]));break;case"afterResize":ir=tr(Wt([""]));break;case"afterResponsive":ir=tr(Wt(["isResponsive"]));break;case"afterSlideLoad":ir=tr(Wt(["section","origin","destination","direction"]));break;case"onLeave":ir=tr(Wt(["origin","destination","direction"]));break;case"onSlideLeave":ir=tr(Wt(["section","origin","slideIndex","destination","direction"]));break}const wr=this.props[Rt](...Gt);return this.log("Called callback: Returning => ",wr),this.log("Updating State => ",ir),this.setState(ir),wr}render(){return this.log("<== Rendering ==>"),_e().createElement("div",{id:xt.W1},this.props.render(this))}}Ct.defaultProps={sectionsColor:[]};const St=Ct},882:(_,b,$)=>{$.d(b,{Z:()=>nt});var j=$(497),_e=$.n(j),et=$(271),rt=$(542);class tt extends _e().Component{constructor(at){super(at);this.state={},this.log=(0,et.Z)(this.props.debug,"ReactFullpageShell"),this.log("Building component")}render(){return _e().createElement("div",{id:rt.W1},this.props.render(this))}}const nt=tt},542:(_,b,$)=>{$.d(b,{W1:()=>j,Km:()=>_e,uS:()=>et,xH:()=>rt});const j="fullpage",_e=`#${j}`,et=".section",rt=".SLIDE"},563:(_,b,$)=>{$.d(b,{Z:()=>rt});var j=$(645),_e=$.n(j),et=_e()(function(tt){return tt[1]});et.push([_.id,`/*!\r
 * fullPage 4.0.19\r
 * https://github.com/alvarotrigo/fullPage.js\r
 *\r
 * @license GPLv3 for open source use only\r
 * or Fullpage Commercial License for commercial use\r
 * http://alvarotrigo.com/fullPage/pricing/\r
 *\r
 * Copyright (C) 2021 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo\r
 */.fp-enabled body,html.fp-enabled{margin:0;padding:0;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fp-section{position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:100%;display:block}.fp-slide{float:left}.fp-slide,.fp-slidesContainer{height:100%;display:block}.fp-slides{z-index:1;height:100%;overflow:hidden;position:relative;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.fp-table{display:flex;flex-direction:column;justify-content:center;width:100%}.fp-slidesContainer{float:left;position:relative}.fp-controlArrow{-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none;position:absolute;z-index:4;top:50%;cursor:pointer;margin-top:-38px;-webkit-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.fp-prev{left:15px}.fp-next{right:15px}.fp-arrow{width:0;height:0;border-style:solid}.fp-arrow.fp-prev{border-width:38.5px 34px 38.5px 0;border-color:transparent #fff transparent transparent}.fp-arrow.fp-next{border-width:38.5px 0 38.5px 34px;border-color:transparent transparent transparent #fff}.fp-notransition{-webkit-transition:none!important;transition:none!important}#fp-nav{position:fixed;z-index:100;top:50%;opacity:1;transform:translateY(-50%);-ms-transform:translateY(-50%);-webkit-transform:translate3d(0,-50%,0)}#fp-nav.fp-right{right:17px}#fp-nav.fp-left{left:17px}.fp-slidesNav{position:absolute;z-index:4;opacity:1;-webkit-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0);left:0!important;right:0;margin:0 auto!important}.fp-slidesNav.fp-bottom{bottom:17px}.fp-slidesNav.fp-top{top:17px}#fp-nav ul,.fp-slidesNav ul{margin:0;padding:0}#fp-nav ul li,.fp-slidesNav ul li{display:block;width:14px;height:13px;margin:7px;position:relative}.fp-slidesNav ul li{display:inline-block}#fp-nav ul li a,.fp-slidesNav ul li a{display:block;position:relative;z-index:1;width:100%;height:100%;cursor:pointer;text-decoration:none}#fp-nav ul li a.active span,#fp-nav ul li:hover a.active span,.fp-slidesNav ul li a.active span,.fp-slidesNav ul li:hover a.active span{height:12px;width:12px;margin:-6px 0 0 -6px;border-radius:100%}#fp-nav ul li a span,.fp-slidesNav ul li a span{border-radius:50%;position:absolute;z-index:1;height:4px;width:4px;border:0;background:#333;left:50%;top:50%;margin:-2px 0 0 -2px;-webkit-transition:all .1s ease-in-out;-moz-transition:all .1s ease-in-out;-o-transition:all .1s ease-in-out;transition:all .1s ease-in-out}#fp-nav ul li:hover a span,.fp-slidesNav ul li:hover a span{width:10px;height:10px;margin:-5px 0 0 -5px}#fp-nav ul li .fp-tooltip{position:absolute;top:-2px;color:#fff;font-size:14px;font-family:arial,helvetica,sans-serif;white-space:nowrap;max-width:220px;overflow:hidden;display:block;opacity:0;width:0;cursor:pointer}#fp-nav ul li:hover .fp-tooltip,#fp-nav.fp-show-active a.active+.fp-tooltip{-webkit-transition:opacity .2s ease-in;transition:opacity .2s ease-in;width:auto;opacity:1}#fp-nav ul li .fp-tooltip.fp-right{right:20px}#fp-nav ul li .fp-tooltip.fp-left{left:20px}.fp-auto-height .fp-slide,.fp-auto-height.fp-section{height:auto!important}.fp-responsive .fp-is-overflow.fp-section{height:auto!important}.fp-scrollable .fp-section,.fp-scrollable .fp-slide,.fp-scrollable.fp-responsive .fp-is-overflow.fp-section{height:100vh;height:calc(var(--vh,1vh) * 100)}.fp-scrollable .fp-section:not(.fp-auto-height):not([data-percentage]),.fp-scrollable .fp-slide:not(.fp-auto-height):not([data-percentage]),.fp-scrollable.fp-responsive .fp-is-overflow.fp-section:not(.fp-auto-height):not([data-percentage]){min-height:100vh;min-height:calc(var(--vh,1vh) * 100)}.fp-overflow{justify-content:flex-start;max-height:100vh}.fp-scrollable .fp-auto-height .fp-overflow{max-height:none}.fp-is-overflow .fp-overflow.fp-auto-height,.fp-is-overflow .fp-overflow.fp-auto-height-responsive,.fp-is-overflow>.fp-overflow{overflow-y:auto}.fp-overflow{outline:0}.fp-overflow.fp-table{display:block}.fp-responsive .fp-auto-height-responsive .fp-slide,.fp-responsive .fp-auto-height-responsive.fp-section{height:auto!important;min-height:auto!important}.fp-sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.fp-scroll-mac .fp-overflow::-webkit-scrollbar{background-color:transparent;width:9px}.fp-scroll-mac .fp-overflow::-webkit-scrollbar-track{background-color:transparent}.fp-scroll-mac .fp-overflow::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.4);border-radius:16px;border:4px solid transparent}.fp-warning,.fp-watermark{z-index:9999999;position:absolute;bottom:0}.fp-warning,.fp-watermark a{text-decoration:none;color:#000;background:rgba(255,255,255,.6);padding:5px 8px;font-size:14px;font-family:arial;color:#000;display:inline-block;border-radius:3px;margin:12px}.fp-noscroll .fp-overflow{overflow:hidden}\r
`,""]);const rt=et},645:_=>{_.exports=function(b){var $=[];return $.toString=function(){return this.map(function(_e){var et=b(_e);return _e[2]?"@media ".concat(_e[2]," {").concat(et,"}"):et}).join("")},$.i=function(j,_e,et){typeof j=="string"&&(j=[[null,j,""]]);var rt={};if(et)for(var tt=0;tt<this.length;tt++){var nt=this[tt][0];nt!=null&&(rt[nt]=!0)}for(var st=0;st<j.length;st++){var at=[].concat(j[st]);et&&rt[at[0]]||(_e&&(at[2]?at[2]="".concat(_e," and ").concat(at[2]):at[2]=_e),$.push(at))}},$}},933:function(_){/*!
* fullPage 4.0.19
* https://github.com/alvarotrigo/fullPage.js
*
* @license GPLv3 for open source use only
* or Fullpage Commercial License for commercial use
* http://alvarotrigo.com/fullPage/pricing/
*
* Copyright (C) 2018 http://alvarotrigo.com/fullPage/ - A project by Alvaro Trigo
*/(function(b,$){_.exports=$()})(this,function(){var b,$,j,_e;Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(vt){if(this==null)throw new TypeError('"this" is null or not defined');var bt=Object(this),Ft=bt.length>>>0;if(typeof vt!="function")throw new TypeError("predicate must be a function");for(var Vt=arguments[1],jt=0;jt<Ft;){var Tr=bt[jt];if(vt.call(Vt,Tr,jt,bt))return Tr;jt++}}}),Array.from||(Array.from=(b=Object.prototype.toString,$=function(vt){return typeof vt=="function"||b.call(vt)==="[object Function]"},j=Math.pow(2,53)-1,_e=function(vt){var bt=function(Ft){var Vt=Number(Ft);return isNaN(Vt)?0:Vt!==0&&isFinite(Vt)?(Vt>0?1:-1)*Math.floor(Math.abs(Vt)):Vt}(vt);return Math.min(Math.max(bt,0),j)},function(vt){var bt=this,Ft=Object(vt);if(vt==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var Vt,jt=arguments.length>1?arguments[1]:void 0;if(jt!==void 0){if(!$(jt))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(Vt=arguments[2])}for(var Tr,dr=_e(Ft.length),$r=$(bt)?Object(new bt(dr)):new Array(dr),kr=0;kr<dr;)Tr=Ft[kr],$r[kr]=jt?Vt===void 0?jt(Tr,kr):jt.call(Vt,Tr,kr):Tr,kr+=1;return $r.length=dr,$r}));var et=window,rt=document,tt=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),nt=/(Mac|iPhone|iPod|iPad)/i.test(et.navigator.userAgent),st="ontouchstart"in et||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,at=!!window.MSInputMethodContext&&!!document.documentMode,ct={test:{},shared:{}};function it(vt,bt){et.console&&et.console[vt]&&et.console[vt]("fullPage: "+bt)}function lt(vt){return et.getComputedStyle(vt).display!=="none"}function ht(vt){return Array.from(vt).filter(function(bt){return lt(bt)})}function ut(vt,bt){return(bt=arguments.length>1?bt:document)?bt.querySelectorAll(vt):null}function dt(vt){vt=vt||{};for(var bt=1,Ft=arguments.length;bt<Ft;++bt){var Vt=arguments[bt];if(Vt)for(var jt in Vt)Vt.hasOwnProperty(jt)&&jt!="__proto__"&&jt!="constructor"&&(Object.prototype.toString.call(Vt[jt])!=="[object Object]"?vt[jt]=Vt[jt]:vt[jt]=dt(vt[jt],Vt[jt]))}return vt}function pt(vt,bt){return vt!=null&&vt.classList.contains(bt)}function mt(){return"innerHeight"in et?et.innerHeight:rt.documentElement.offsetHeight}function yt(){return et.innerWidth}function xt(vt,bt){var Ft;for(Ft in vt=Pt(vt),bt)if(bt.hasOwnProperty(Ft)&&Ft!==null)for(var Vt=0;Vt<vt.length;Vt++)vt[Vt].style[Ft]=bt[Ft];return vt}function Tt(vt,bt){if(!vt)return null;if(bt==null)return vt.previousElementSibling;var Ft=Tt(vt);return Ft&&Nr(Ft,bt)?Ft:null}function _t(vt,bt){if(!vt)return null;if(bt==null)return vt.nextElementSibling;var Ft=_t(vt);return Ft&&Nr(Ft,bt)?Ft:null}function Mt(vt){return vt[vt.length-1]}function Lt(vt,bt){vt=Ct(vt)?vt[0]:vt;for(var Ft=bt!=null?ut(bt,vt.parentNode):vt.parentNode.childNodes,Vt=0,jt=0;jt<Ft.length;jt++){if(Ft[jt]==vt)return Vt;Ft[jt].nodeType==1&&Vt++}return-1}function Pt(vt){return Ct(vt)?vt:[vt]}function It(vt){vt=Pt(vt);for(var bt=0;bt<vt.length;bt++)vt[bt].style.display="none";return vt}function Et(vt){vt=Pt(vt);for(var bt=0;bt<vt.length;bt++)vt[bt].style.display="block";return vt}function Ct(vt){return Object.prototype.toString.call(vt)==="[object Array]"||Object.prototype.toString.call(vt)==="[object NodeList]"}function St(vt,bt){vt=Pt(vt);for(var Ft=0;Ft<vt.length;Ft++)vt[Ft].classList.add(bt);return vt}function At(vt,bt){vt=Pt(vt);for(var Ft=bt.split(" "),Vt=0;Vt<Ft.length;Vt++){bt=Ft[Vt];for(var jt=0;jt<vt.length;jt++)vt[jt].classList.remove(bt)}return vt}function Rt(vt,bt){bt.appendChild(vt)}function Ot(vt,bt,Ft){var Vt;bt=bt||rt.createElement("div");for(var jt=0;jt<vt.length;jt++){var Tr=vt[jt];(Ft&&!jt||!Ft)&&(Vt=bt.cloneNode(!0),Tr.parentNode.insertBefore(Vt,Tr)),Vt.appendChild(Tr)}return vt}function Gt(vt,bt){Ot(vt,bt,!0)}function Qt(vt,bt){for(typeof bt=="string"&&(bt=$t(bt)),vt.appendChild(bt);vt.firstChild!==bt;)bt.appendChild(vt.firstChild)}function ir(vt){for(var bt=rt.createDocumentFragment();vt.firstChild;)bt.appendChild(vt.firstChild);vt.parentNode.replaceChild(bt,vt)}function tr(vt,bt){return vt&&vt.nodeType===1?Nr(vt,bt)?vt:tr(vt.parentNode,bt):null}function Wt(vt,bt){Lr(vt,vt.nextSibling,bt)}function wr(vt,bt){Lr(vt,vt,bt)}function Lr(vt,bt,Ft){Ct(Ft)||(typeof Ft=="string"&&(Ft=$t(Ft)),Ft=[Ft]);for(var Vt=0;Vt<Ft.length;Vt++)vt.parentNode.insertBefore(Ft[Vt],bt)}function Er(){var vt=rt.documentElement;return(et.pageYOffset||vt.scrollTop)-(vt.clientTop||0)}function Ar(vt){return Array.prototype.filter.call(vt.parentNode.children,function(bt){return bt!==vt})}function yr(vt){vt.preventDefault()}function Yt(vt,bt){return vt.getAttribute(bt)}function Xt(vt,bt,Ft){rt.addEventListener(vt,bt,Ft==="undefined"?null:Ft)}function ur(vt,bt,Ft){et.addEventListener(vt,bt,Ft==="undefined"?null:Ft)}function br(vt,bt,Ft){rt.removeEventListener(vt,bt,Ft==="undefined"?null:Ft)}function _r(vt,bt,Ft){et.removeEventListener(vt,bt,Ft==="undefined"?null:Ft)}function Pr(vt){if(typeof vt=="function")return!0;var bt=Object.prototype.toString.call(vt);return bt==="[object Function]"||bt==="[object GeneratorFunction]"}function Or(vt,bt,Ft){var Vt;Ft=Ft===void 0?{}:Ft,typeof et.CustomEvent=="function"?Vt=new CustomEvent(bt,{detail:Ft}):(Vt=rt.createEvent("CustomEvent")).initCustomEvent(bt,!0,!0,Ft),vt.dispatchEvent(Vt)}function Nr(vt,bt){return(vt.matches||vt.t||vt.msMatchesSelector||vt.mozMatchesSelector||vt.webkitMatchesSelector||vt.oMatchesSelector).call(vt,bt)}function an(vt,bt){if(typeof bt=="boolean")for(var Ft=0;Ft<vt.length;Ft++)vt[Ft].style.display=bt?"block":"none";return vt}function $t(vt){var bt=rt.createElement("div");return bt.innerHTML=vt.trim(),bt.firstChild}function kt(vt){vt=Pt(vt);for(var bt=0;bt<vt.length;bt++){var Ft=vt[bt];Ft&&Ft.parentElement&&Ft.parentNode.removeChild(Ft)}}function hr(vt,bt){Array.prototype.filter.call(vt,bt)}function vr(vt,bt,Ft){for(var Vt=vt[Ft],jt=[];Vt;)(Nr(Vt,bt)||bt==null)&&jt.push(Vt),Vt=Vt[Ft];return jt}function Ir(vt,bt){return vr(vt,bt,"nextElementSibling")}function Dr(vt,bt){return vr(vt,bt,"previousElementSibling")}function Gr(vt){return Object.keys(vt).map(function(bt){return vt[bt]})}function mr(vt){return vt[vt.length-1]}function Wr(vt,bt){for(var Ft=0,Vt=vt.slice(Math.max(vt.length-bt,1)),jt=0;jt<Vt.length;jt++)Ft+=Vt[jt];return Math.ceil(Ft/bt)}function Qr(vt,bt){vt.setAttribute(bt,Yt(vt,"data-"+bt)),vt.removeAttribute("data-"+bt)}function qr(vt,bt){var Ft=[vt];do vt=vt.parentNode,Ft.push(vt);while(!Nr(vt,bt));return Ft}function zr(){var vt=rt.activeElement;return Nr(vt,"textarea")||Nr(vt,"input")||Nr(vt,"select")||Yt(vt,"contentEditable")=="true"||Yt(vt,"contentEditable")==""}et.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(vt,bt){bt=bt||window;for(var Ft=0;Ft<this.length;Ft++)vt.call(bt,this[Ft],Ft,this)}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(vt,bt){if(vt==null)throw new TypeError("Cannot convert undefined or null to object");for(var Ft=Object(vt),Vt=1;Vt<arguments.length;Vt++){var jt=arguments[Vt];if(jt!=null)for(var Tr in jt)Object.prototype.hasOwnProperty.call(jt,Tr)&&(Ft[Tr]=jt[Tr])}return Ft},writable:!0,i:!0}),window.fp_utils={$:ut,deepExtend:dt,hasClass:pt,getWindowHeight:mt,css:xt,prev:Tt,next:_t,last:Mt,index:Lt,getList:Pt,hide:It,show:Et,isArrayOrList:Ct,addClass:St,removeClass:At,appendTo:Rt,wrap:Ot,wrapAll:Gt,wrapInner:Qt,unwrap:ir,closest:tr,after:Wt,before:wr,insertBefore:Lr,getScrollTop:Er,siblings:Ar,preventDefault:yr,isFunction:Pr,trigger:Or,matches:Nr,toggle:an,createElementFromHTML:$t,remove:kt,filter:hr,untilAll:vr,nextAll:Ir,prevAll:Dr,showError:it};var Kt=Object.freeze({__proto__:null,showError:it,isVisible:lt,getVisible:ht,$:ut,deepExtend:dt,hasClass:pt,getWindowHeight:mt,o:yt,css:xt,prev:Tt,next:_t,last:Mt,index:Lt,getList:Pt,hide:It,show:Et,isArrayOrList:Ct,addClass:St,removeClass:At,appendTo:Rt,wrap:Ot,wrapAll:Gt,wrapInner:Qt,unwrap:ir,closest:tr,after:Wt,before:wr,insertBefore:Lr,getScrollTop:Er,siblings:Ar,preventDefault:yr,l:Yt,u:Xt,v:ur,p:br,h:_r,isFunction:Pr,trigger:Or,matches:Nr,toggle:an,createElementFromHTML:$t,remove:kt,filter:hr,untilAll:vr,nextAll:Ir,prevAll:Dr,toArray:Gr,g:mr,S:Wr,M:Qr,T:qr,A:zr});function Br(vt){return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},Br(vt)}var cr={O:{},R:function(vt,bt){var Ft=this;return Br(this.O[vt])!=="object"&&(this.O[vt]=[]),this.O[vt].push(bt),function(){return Ft.removeListener(vt,bt)}},removeListener:function(vt,bt){if(Br(this.O[vt])==="object"){var Ft=this.O[vt].indexOf(bt);Ft>-1&&this.O[vt].splice(Ft,1)}},L:function(vt){for(var bt=this,Ft=arguments.length,Vt=new Array(Ft>1?Ft-1:0),jt=1;jt<Ft;jt++)Vt[jt-1]=arguments[jt];Br(this.O[vt])==="object"&&this.O[vt].forEach(function(Tr){return Tr.apply(bt,Vt)})},once:function(vt,bt){var Ft=this,Vt=this.R(vt,function(){Vt();for(var jt=arguments.length,Tr=new Array(jt),dr=0;dr<jt;dr++)Tr[dr]=arguments[dr];bt.apply(Ft,Tr)})}},ar={j:0,D:0,slides:[],N:[],P:null,H:null,C:!1,I:!1,W:!1,F:!1,V:!1,Z:void 0,B:void 0,G:!1,canScroll:!0,Y:"none",U:"none",X:!1,_:!1,J:!0,K:0,q:mt(),nn:!1,tn:{}};function pr(vt){Object.assign(ar,vt)}function rr(){return ar}et.state=ar;var ln="onAfterRenderNoAnchor",wn="onClickOrTouch",Kn="moveSlideLeft",Fn="moveSlideRight",er="onInitialise",sr="bindEvents",gr="onDestroy",Fr="contentChanged",jr="onScrollOverflowScrolled",gn="onScrollPageAndSlide",en="onKeyDown",Jr="onMenuClick",Xr="scrollPage",bn="landscapeScroll",Ut="scrollBeyondFullpage",Zt="onPerformMovement",lr="onSlideLeave",or="onLeave",xr="afterSectionLoads",Vr="afterSlideLoads";function rn(vt){cr.L(wn,{e:vt,target:vt.target})}function _n(){["click","touchstart"].forEach(function(vt){br(vt,rn,{passive:!1})})}function fn(){pr({J:!0})}cr.R(sr,function(){["click","touchstart"].forEach(function(vt){Xt(vt,rn,{passive:!1})}),ur("focus",fn),cr.R(gr,_n)});var xn="fullpage-wrapper",un="."+xn,Sn="fp-responsive",$n="fp-notransition",vs="fp-destroyed",os="fp-enabled",On="active",vn=".active",Yr="fp-completely",jn="fp-section",Mn="."+jn,Ts=".fp-tableCell",ds="#fp-nav",Ys="fp-slide",ho="."+Ys,Qn=".fp-slide.active",Xs="fp-slides",Ps=".fp-slides",ys="fp-slidesContainer",Rl="."+ys,ku="fp-table",_o="fp-overflow",Ho="."+_o,zo="fp-is-overflow",Bu=".fp-slidesNav",$u=".fp-slidesNav a",Il="fp-controlArrow",iu="."+Il,Pp="fp-prev",su=".fp-controlArrow.fp-prev",Uu=".fp-controlArrow.fp-next",Wo={menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,licenseKey:"",credits:{enabled:!0,label:"Made with fullPage.js",position:"right"},css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,en:600,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!0,scrollOverflowReset:!1,touchSensitivity:5,touchWrapper:null,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,allowCorrectDirection:!1,scrollOverflowMacStyle:!0,controlArrows:!0,controlArrowsHTML:['<div class="fp-arrow"></div>','<div class="fp-arrow"></div>'],controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},cards:!1,cardsOptions:{perspective:100,fadeContent:!0,fadeBackground:!0},sectionSelector:".section",slideSelector:".slide",afterLoad:null,beforeLeave:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,onScrollOverflow:null,lazyLoading:!0,observer:!0},Ll=null,Gu=!1,Ol=dt({},Wo),jo=null;function Zr(vt){return Ll}function zt(){return jo||Wo}function xo(){return Ol}function au(vt,bt,Ft){jo[vt]=bt,Ft!=="internal"&&(Ol[vt]=bt)}function Vu(){if(!zt().anchors.length){var vt=ut(zt().sectionSelector.split(",").join("[data-anchor],")+"[data-anchor]",Ll);vt.length&&vt.length===ut(zt().sectionSelector,Ll).length&&(Gu=!0,vt.forEach(function(Ft){zt().anchors.push(Yt(Ft,"data-anchor").toString())}))}if(!zt().navigationTooltips.length){var bt=ut(zt().sectionSelector.split(",").join("[data-tooltip],")+"[data-tooltip]",Ll);bt.length&&bt.forEach(function(Ft){zt().navigationTooltips.push(Yt(Ft,"data-tooltip").toString())})}}function Hu(vt){return window["fp_"+vt+"Extension"]!==void 0}function qn(vt){var bt=zt();return bt[vt]!==null&&Object.prototype.toString.call(bt[vt])==="[object Array]"?bt[vt].length&&ct[vt]:bt[vt]&&ct[vt]}function cn(vt,bt,Ft){if(qn(vt))return Pr(ct[vt][bt])?ct[vt][bt](Ft):ct[vt][bt]}function ou(){return cn("dragAndMove","isAnimating")}function Rp(){return cn("dragAndMove","isGrabbing")}function zu(vt){if(zt().offsetSections&&ct.offsetSections){var bt=cn("offsetSections","getWindowHeight",vt);return bt!==""?Math.round(bt)+"px":bt}return mt()+"px"}function Wu(vt,bt){vt.insertBefore(bt,vt.firstChild)}function ps(vt){var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ft(jt){var Tr,dr,$r,kr,mn,An,nn="",Pn=0;for(jt=jt.replace(/[^A-Za-z0-9+/=]/g,"");Pn<jt.length;)Tr=bt.indexOf(jt.charAt(Pn++))<<2|(kr=bt.indexOf(jt.charAt(Pn++)))>>4,dr=(15&kr)<<4|(mn=bt.indexOf(jt.charAt(Pn++)))>>2,$r=(3&mn)<<6|(An=bt.indexOf(jt.charAt(Pn++))),nn+=String.fromCharCode(Tr),mn!=64&&(nn+=String.fromCharCode(dr)),An!=64&&(nn+=String.fromCharCode($r));return nn=function(Gn){for(var cs,Jn="",Zn=0,Xn=0,sn=0;Zn<Gn.length;)(Xn=Gn.charCodeAt(Zn))<128?(Jn+=String.fromCharCode(Xn),Zn++):Xn>191&&Xn<224?(sn=Gn.charCodeAt(Zn+1),Jn+=String.fromCharCode((31&Xn)<<6|63&sn),Zn+=2):(sn=Gn.charCodeAt(Zn+1),cs=Gn.charCodeAt(Zn+2),Jn+=String.fromCharCode((15&Xn)<<12|(63&sn)<<6|63&cs),Zn+=3);return Jn}(nn),nn}function Vt(jt){return jt.slice(3).slice(0,-3)}return function(jt){var Tr=jt.split("_");if(Tr.length>1){var dr=Tr[1];return Ft(jt.replace(Vt(Tr[1]),"").split("_")[0].slice(2).slice(0,-2))+"_"+Ft(dr.slice(3).slice(0,-3))}return Vt(jt)}(Ft(vt))}et.fp_utils=et.fp_utils||{},Object.assign(et.fp_utils,{prependTo:Wu,toggleClass:function(vt,bt,Ft){if(vt.classList&&Ft==null)vt.classList.toggle(bt);else{var Vt=pt(vt,bt);Vt&&Ft==null||!Ft?At(vt,bt):(!Vt&&Ft==null||Ft)&&St(vt,bt)}}});var Ip=function(vt){this.anchor=vt.anchor,this.item=vt.item,this.index=vt.index(),this.isLast=this.index===vt.item.parentElement.querySelectorAll(vt.selector).length-1,this.isFirst=!this.index,this.isActive=vt.isActive},Us=function(vt,bt){this.parent=this.parent||null,this.selector=bt,this.anchor=Yt(vt,"data-anchor")||zt().anchors[Lt(vt,zt().sectionSelector)],this.item=vt,this.isVisible=lt(vt),this.isActive=pt(vt,On),this.on=pt(vt,_o)||ut(Ho,vt)[0]!=null,this.rn=bt===zt().sectionSelector,this.container=tr(vt,Rl)||tr(vt,un),this.index=function(){return this.siblings().indexOf(this)}};function ju(vt){return vt.map(function(bt){return bt.item})}function Dl(vt,bt){return vt.find(function(Ft){return Ft.item===bt})}Us.prototype.siblings=function(){return this.rn?this.isVisible?ar.N:ar.an:this.parent?this.parent.slides:0},Us.prototype.prev=function(){var vt=this.siblings(),bt=(this.rn?vt.indexOf(this):this.parent.slides.indexOf(this))-1;return bt>=0?vt[bt]:null},Us.prototype.next=function(){var vt=this.siblings(),bt=(this.rn?vt.indexOf(this):this.parent.slides.indexOf(this))+1;return bt<vt.length?vt[bt]:null},Us.prototype.prevPanel=function(){return this===this.prev()?this.parent?this.parent.prev():null:this.prev()||(this.parent?this.parent.prev():null)},Us.prototype.nextPanel=function(){return this===this.next()?this.parent?this.parent.next():null:this.next()||(this.parent?this.parent.next():null)},Us.prototype.ln=function(){return this.rn?ar.N:ar.un};var Lp,Op=function(vt){Ip.call(this,vt)},Im=function(vt){Ip.call(this,vt)};function So(vt){var bt=ut(Qn,vt);return bt.length&&(vt=bt[0]),vt}function Dp(vt){return vt?vt.activeSlide?vt.activeSlide:vt:null}function Un(vt){var bt,Ft,Vt=zt();return Vt.autoScrolling&&!Vt.scrollBar?(bt=-vt,Ft=ut(un)[0]):(bt=vt,Ft=window),{options:bt,element:Ft}}function zn(vt,bt){!zt().autoScrolling||zt().scrollBar||vt.self!=window&&pt(vt,Xs)?vt.self!=window&&pt(vt,Xs)?vt.scrollLeft=bt:vt.scrollTo(0,bt):vt.style.top=bt+"px"}function Yu(vt){var bt="transform "+zt().scrollingSpeed+"ms "+zt().easingcss3;return At(vt,$n),xt(vt,{"-webkit-transition":bt,transition:bt})}function Xu(vt,bt){var Ft=vt.index(),Vt=Lt(bt,Mn);return Ft==Vt?"none":Ft>Vt?"up":"down"}function lu(vt){return St(vt,$n)}function qu(vt){return{"-webkit-transform":vt,"-moz-transform":vt,"-ms-transform":vt,transform:vt}}function Fp(vt,bt){bt?Yu(Zr()):lu(Zr()),clearTimeout(Lp),xt(Zr(),qu(vt)),ct.test.cn=vt,Lp=setTimeout(function(){At(Zr(),$n)},10)}function To(vt){var bt=Math.round(vt);if(zt().css3&&zt().autoScrolling&&!zt().scrollBar)Fp("translate3d(0px, -"+bt+"px, 0px)",!1);else if(zt().autoScrolling&&!zt().scrollBar)xt(Zr(),{top:-bt+"px"}),ct.test.top=-bt+"px";else{var Ft=Un(bt);zn(Ft.element,Ft.options)}}function Yo(vt,bt){bt!=="internal"&&cn("fadingEffect","update",vt),cn("cards","update_",vt),au("scrollingSpeed",vt,bt)}ct.setScrollingSpeed=Yo;var Fl,Tn=null,Eo=null,qs=null;function Nl(vt,bt,Ft,Vt){var jt,Tr=function(mn){return mn.self!=et&&pt(mn,Xs)?mn.scrollLeft:!zt().autoScrolling||zt().scrollBar?Er():mn.offsetTop}(vt),dr=bt-Tr,$r=!1,kr=ar.G;pr({G:!0}),Fl&&window.cancelAnimationFrame(Fl),Fl=function(mn){jt||(jt=mn);var An=Math.floor(mn-jt);if(ar.G){var nn=bt;Ft&&(nn=et.fp_easings[zt().easing](An,Tr,dr,Ft)),An<=Ft&&zn(vt,nn),An<Ft?window.requestAnimationFrame(Fl):Vt===void 0||$r||(Vt(),pr({G:!1}),$r=!0)}else $r||kr||(Vt(),pr({G:!1}),$r=!0)},window.requestAnimationFrame(Fl)}function Zs(vt){return vt&&!vt.item?new Op(new Io(vt)):vt?new Op(vt):null}function Es(vt){return vt?new Im(vt):null}function Gs(vt,bt){var Ft=function(Vt,jt){var Tr={afterRender:function(){return{section:Zs(rr().P),sn:Es(rr().P.activeSlide)}},onLeave:function(){return{origin:Zs(jt.items.origin),destination:Zs(jt.items.destination),direction:jt.direction,trigger:rr().H}},afterLoad:function(){return Tr.onLeave()},afterSlideLoad:function(){return{section:Zs(jt.items.section),origin:Zs(jt.items.origin),destination:Zs(jt.items.destination),direction:jt.direction,trigger:rr().H}},onSlideLeave:function(){return Tr.afterSlideLoad()},beforeLeave:function(){return Tr.onLeave()},onScrollOverflow:function(){return{section:Zs(rr().P),sn:Es(rr().P.activeSlide),position:jt.position,direction:jt.direction}}};return Tr[Vt]()}(vt,bt);return Or(Zr(),vt,Ft),zt()[vt].apply(Ft[Object.keys(Ft)[0]],Gr(Ft))!==!1}function Bl(vt){var bt=So(vt);ut("video, audio",bt).forEach(function(Ft){Ft.hasAttribute("data-autoplay")&&typeof Ft.play=="function"&&Ft.play()}),ut('iframe[src*="youtube.com/embed/"]',bt).forEach(function(Ft){Ft.hasAttribute("data-autoplay")&&Zu(Ft),Ft.onload=function(){Ft.hasAttribute("data-autoplay")&&Zu(Ft)}})}function Zu(vt){vt.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function uu(vt){var bt=So(vt);ut("video, audio",bt).forEach(function(Ft){Ft.hasAttribute("data-keepplaying")||typeof Ft.pause!="function"||Ft.pause()}),ut('iframe[src*="youtube.com/embed/"]',bt).forEach(function(Ft){/youtube\.com\/embed\//.test(Yt(Ft,"src"))&&!Ft.hasAttribute("data-keepplaying")&&Ft.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function wo(vt){zt().lazyLoading&&ut("img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]",So(vt)).forEach(function(bt){if(["src","srcset"].forEach(function(Vt){var jt=Yt(bt,"data-"+Vt);jt!=null&&jt&&(Qr(bt,Vt),bt.addEventListener("load",function(){}))}),Nr(bt,"source")){var Ft=tr(bt,"video, audio");Ft&&(Ft.load(),Ft.onloadeddata=function(){})}})}function Ku(){var vt=rr().P.item,bt=rr().P.activeSlide,Ft=ws(vt),Vt=String(Ft);bt&&(Vt=Vt+"-"+ws(bt.item)),Vt=Vt.replace("/","-").replace("#","");var jt=new RegExp("\\b\\s?fp-viewing-[^\\s]+\\b","g");Tn.className=Tn.className.replace(jt,""),St(Tn,"fp-viewing-"+Vt)}function ws(vt){if(!vt)return null;var bt=Yt(vt,"data-anchor"),Ft=Lt(vt);return bt==null&&(bt=Ft),bt}function Qu(vt,bt,Ft){var Vt="";zt().anchors.length&&!zt().lockAnchors&&(vt?(Ft!=null&&(Vt=Ft),bt==null&&(bt=vt),pr({B:bt}),bs(Vt+"/"+bt)):(vt!=null&&pr({B:bt}),bs(Ft))),Ku()}function bs(vt){if(zt().recordHistory)location.hash=vt;else if(tt||st)et.history.replaceState(void 0,void 0,"#"+vt);else{var bt=et.location.href.split("#")[0];et.location.replace(bt+"#"+vt)}}function Np(vt,bt,Ft){var Vt=bt==="Section"?zt().anchors[vt]:Yt(Ft,"data-anchor");return encodeURI(zt().navigationTooltips[vt]||Vt||bt+" "+(vt+1))}function kp(vt){yr(vt),pr({H:"horizontalNav"});var bt=tr(this,Mn),Ft=ut(Ps,tr(this,Mn))[0],Vt=Dl(rr().N,bt).slides[Lt(tr(this,"li"))];cr.L(bn,{slides:Ft,destination:Vt.item})}function $a(vt,bt){zt().slidesNavigation&&vt!=null&&(At(ut(vn,vt),On),St(ut("a",ut("li",vt)[bt]),On))}var bo,eo={};function Wn(vt,bt,Ft){bt!=="all"?eo[Ft][bt]=vt:Object.keys(eo[Ft]).forEach(function(Vt){eo[Ft][Vt]=vt})}function Yn(){return eo}function Ju(){var vt=tr(this,Mn);pt(this,Pp)?Yn().m.left&&(pr({H:"slideArrow"}),cr.L(Kn,{section:vt})):Yn().m.right&&(pr({H:"slideArrow"}),cr.L(Fn,{section:vt}))}function Bp(vt){!zt().loopHorizontal&&zt().controlArrows&&(an(ut(su,vt.section),vt.slideIndex!==0),an(ut(Uu,vt.section),_t(vt.destiny)!=null))}function _h(){clearTimeout(bo),pr({W:!1})}function Mo(vt,bt,Ft){var Vt=tr(vt,Mn),jt=rr().N.filter(function($r){return $r.item==Vt})[0],Tr=jt.slides.filter(function($r){return $r.item==bt})[0],dr={slides:vt,destiny:bt,direction:Ft,destinyPos:{left:bt.offsetLeft},slideIndex:Tr.index(),section:Vt,sectionIndex:jt.index(),anchorLink:jt.anchor,slidesNav:ut(Bu,Vt)[0],slideAnchor:Tr.anchor,prevSlide:jt.activeSlide.item,prevSlideIndex:jt.activeSlide.index(),items:{section:jt,origin:jt.activeSlide,destination:Tr},localIsResizing:ar.F};dr.xMovement=Up(dr.prevSlideIndex,dr.slideIndex),dr.direction=dr.direction?dr.direction:dr.xMovement,dr.localIsResizing||pr({canScroll:!1}),cn("parallax","applyHorizontal",dr),cn("cards","apply",dr),cn("dropEffect","apply",dr),cn("waterEffect","apply",dr),zt().onSlideLeave&&!dr.localIsResizing&&dr.xMovement!=="none"&&Pr(zt().onSlideLeave)&&Gs("onSlideLeave",dr)===!1?pr({W:!1}):(qn("dropEffect")&&zt().dropEffect||(St(bt,On),At(Ar(bt),On)),Qs(),dr.localIsResizing||(uu(dr.prevSlide),wo(bt)),Bp(dr),jt.isActive&&!dr.localIsResizing&&Qu(dr.slideIndex,dr.slideAnchor,dr.anchorLink),cn("continuousHorizontal","apply",dr),cr.L(lr,dr),Rp()?Xo(dr):$p(vt,dr,!0),zt().interlockedSlides&&ct.interlockedSlides&&(qn("continuousHorizontal")&&Ft!==void 0&&Ft!==dr.xMovement||cn("interlockedSlides","apply",dr)))}function $p(vt,bt,Ft){var Vt=bt.destinyPos;if($a(bt.slidesNav,bt.slideIndex),pr({scrollX:Math.round(Vt.left)}),zt().css3){var jt="translate3d(-"+Math.round(Vt.left)+"px, 0px, 0px)";ct.test.dn[bt.sectionIndex]=jt,qn("dragAndMove")&&bt.vn!==void 0||Yu(ut(Rl,vt)),xt(ut(Rl,vt),qu(jt)),qn("interlockedSlides")||clearTimeout(bo),bo=setTimeout(function(){Ft&&Xo(bt)},zt().scrollingSpeed)}else ct.test.left[bt.sectionIndex]=Math.round(Vt.left),Nl(vt,Math.round(Vt.left),zt().scrollingSpeed,function(){Ft&&Xo(bt)})}function Up(vt,bt){return vt==bt?"none":vt>bt?"left":"right"}function Gp(){clearTimeout(bo)}function Xo(vt){cn("continuousHorizontal","afterSlideLoads",vt),cn("dragAndMove","afterSlideLoads",vt),vt.localIsResizing||(cn("parallax","afterSlideLoads"),cn("scrollOverflowReset","setPrevious",vt.prevSlide),cn("scrollOverflowReset","reset"),Pr(zt().afterSlideLoad)&&Gs("afterSlideLoad",vt),pr({canScroll:!0}),Bl(vt.destiny),cr.L(Vr,vt)),pr({W:!1}),cn("interlockedSlides","interlockedSlides",vt)}function Ks(vt,bt){Yo(0,"internal"),bt!==void 0&&pr({F:!0}),Mo(tr(vt,Ps),vt),bt!==void 0&&pr({F:!1}),Yo(xo().scrollingSpeed,"internal")}function _f(vt,bt){au("recordHistory",vt,bt)}function Co(vt,bt){vt||To(0),au("autoScrolling",vt,bt);var Ft=rr().P.item;if(zt().autoScrolling&&!zt().scrollBar)xt(qs,{overflow:"hidden",height:"100%"}),At(Tn,"fp-scrollable"),_f(xo().recordHistory,"internal"),xt(Zr(),{"-ms-touch-action":"none","touch-action":"none"}),Ft!=null&&To(Ft.offsetTop);else if(xt(qs,{overflow:"visible",height:"initial"}),St(Tn,"fp-scrollable"),_f(!!zt().autoScrolling&&xo().recordHistory,"internal"),xt(Zr(),{"-ms-touch-action":"","touch-action":""}),lu(Zr()),Ft!=null){var Vt=Un(Ft.offsetTop);Vt.element.scrollTo(0,Vt.options)}Or(Zr(),"setAutoScrolling",vt)}function cu(){for(var vt=ut(Qn),bt=0;bt<vt.length;bt++)Ks(vt[bt],"internal")}function hu(){var vt=ut(".fp-auto-height")[0]||ip()&&ut(".fp-auto-height-responsive")[0];zt().lazyLoading&&vt&&ut(".fp-section:not(.active)").forEach(function(bt){var Ft,Vt,jt,Tr,dr;Vt=(Ft=bt.getBoundingClientRect()).top,jt=Ft.bottom,Tr=Vt+2<ar.q&&Vt>0,dr=jt>2&&jt<ar.q,(Tr||dr)&&wo(bt)})}function _d(){Or(Tt(this),"click")}function ep(){kt(ut(ds));var vt=rt.createElement("div");vt.setAttribute("id","fp-nav");var bt=rt.createElement("ul");vt.appendChild(bt),Rt(vt,Tn);var Ft=ut(ds)[0];St(Ft,"fp-"+zt().navigationPosition),zt().showActiveTooltip&&St(Ft,"fp-show-active");for(var Vt="",jt=0;jt<rr().N.length;jt++){var Tr=rr().N[jt],dr="";zt().anchors.length&&(dr=Tr.anchor),Vt+='<li><a href="#'+encodeURI(dr)+'"><span class="fp-sr-only">'+Np(Tr.index(),"Section")+"</span><span></span></a>";var $r=zt().navigationTooltips[Tr.index()];$r!==void 0&&$r!==""&&(Vt+='<div class="fp-tooltip fp-'+zt().navigationPosition+'">'+$r+"</div>"),Vt+="</li>"}ut("ul",Ft)[0].innerHTML=Vt;var kr=ut("li",ut(ds)[0])[rr().P.index()];St(ut("a",kr),On)}function Lm(vt){vt.preventDefault&&yr(vt),pr({H:"verticalNav"});var bt=Lt(tr(this,"#fp-nav li"));cr.L(Xr,{destination:rr().N[bt]})}function $l(vt,bt){var Ft;Ft=vt,zt().menu&&zt().menu.length&&ut(zt().menu).forEach(function(Vt){Vt!=null&&(At(ut(vn,Vt),On),St(ut('[data-menuanchor="'+Ft+'"]',Vt),On))}),function(Vt,jt){var Tr=ut(ds)[0];zt().navigation&&Tr!=null&&Tr.style.display!=="none"&&(At(ut(vn,Tr),On),St(Vt?ut('a[href="#'+Vt+'"]',Tr):ut("a",ut("li",Tr)[jt]),On))}(vt,bt)}eo.m={up:!0,down:!0,left:!0,right:!0},eo.k=dt({},eo.m),cr.R(wn,function(vt){var bt=vt.target;(Nr(bt,iu)||tr(bt,iu))&&Ju.call(bt,vt)}),ct.landscapeScroll=Mo,cr.R(sr,function(){cr.R(Zt,_h)}),ct.setRecordHistory=_f,ct.setAutoScrolling=Co,ct.test.setAutoScrolling=Co,new Date().getTime();var Ul,tp,fu,_s,Ao,Po,Vp=(tp=!0,fu=new Date().getTime(),_s=!et.fullpage_api,function(vt,bt){var Ft=new Date().getTime(),Vt=vt==="wheel"?zt().scrollingSpeed:100;return tp=_s||Ft-fu>=Vt,_s=!et.fullpage_api,tp&&(Ul=bt(),fu=Ft),Ul===void 0||Ul});function rp(vt,bt){if(Pr(zt().beforeLeave))return Vp(rr().H,function(){return Gs(vt,bt)})}function qo(vt,bt,Ft){var Vt=vt.item;if(Vt!=null){var jt,Tr,dr={element:Vt,callback:bt,isMovementUp:Ft,dtop:Hp(Vt),yMovement:Xu(rr().P,Vt),anchorLink:vt.anchor,sectionIndex:vt.index(),activeSlide:vt.activeSlide?vt.activeSlide.item:null,leavingSection:rr().P.index()+1,localIsResizing:ar.F,items:{origin:rr().P,destination:vt},direction:null};if(!(rr().P.item==Vt&&!ar.F||zt().scrollBar&&Er()===dr.dtop&&!pt(Vt,"fp-auto-height"))){if(dr.activeSlide!=null&&(jt=Yt(dr.activeSlide,"data-anchor"),Tr=Lt(dr.activeSlide,null)),!dr.localIsResizing){var $r=dr.yMovement;if(Ft!==void 0&&($r=Ft?"up":"down"),dr.direction=$r,Hu("dropEffect")&&ct.dropEffect.onLeave_(dr),Hu("waterEffect")&&ct.waterEffect.onLeave_(dr),Pr(zt().beforeLeave)&&rp("beforeLeave",dr)===!1||Pr(zt().onLeave)&&!Gs("onLeave",dr))return}cn("parallax","apply",dr),cn("cards","apply",dr),cn("dropEffect","apply",dr),cn("waterEffect","apply",dr),zt().autoScrolling&&zt().continuousVertical&&dr.isMovementUp!==void 0&&(!dr.isMovementUp&&dr.yMovement=="up"||dr.isMovementUp&&dr.yMovement=="down")&&(dr=function(kr){pr({nn:!0});var mn=rr().P.item;return kr.isMovementUp?wr(mn,Ir(mn,Mn)):Wt(mn,Dr(mn,Mn).reverse()),To(rr().P.item.offsetTop),cu(),kr.pn=mn,kr.dtop=kr.element.offsetTop,kr.yMovement=Xu(rr().P,kr.element),kr.leavingSection=kr.items.origin.index()+1,kr.sectionIndex=kr.items.destination.index(),Or(Zr(),"onContinuousVertical",kr),kr}(dr)),cn("scrollOverflowReset","setPrevious",rr().P.item),dr.localIsResizing||uu(rr().P.item),qn("dropEffect")&&zt().dropEffect||(St(Vt,On),At(Ar(Vt),On)),Qs(),wo(Vt),pr({canScroll:ct.test.hn}),Qu(Tr,jt,dr.anchorLink),cr.L(or,dr),function(kr){var mn=zt().scrollingSpeed<700,An=mn?700:zt().scrollingSpeed;if(pr({Y:"none",scrollY:Math.round(kr.dtop)}),cr.L(Zt),zt().css3&&zt().autoScrolling&&!zt().scrollBar)Fp("translate3d(0px, -"+Math.round(kr.dtop)+"px, 0px)",!0),qn("waterEffect")&&cu(),zt().scrollingSpeed?(clearTimeout(Ao),Ao=setTimeout(function(){du(kr),pr({canScroll:!mn||ct.test.hn})},zt().scrollingSpeed)):du(kr);else{var nn=Un(kr.dtop);ct.test.top=-kr.dtop+"px",clearTimeout(Ao),Nl(nn.element,nn.options,zt().scrollingSpeed,function(){zt().scrollBar?Ao=setTimeout(function(){du(kr)},30):(du(kr),pr({canScroll:!mn||ct.test.hn}))})}mn&&(clearTimeout(Po),Po=setTimeout(function(){pr({canScroll:!0})},An))}(dr),pr({Z:dr.anchorLink}),$l(dr.anchorLink,function(kr){return kr.pn!=null?kr.isMovementUp?ar.j-1:0:kr.sectionIndex}(dr))}}}function Hp(vt){var bt=vt.offsetHeight,Ft=vt.offsetTop,Vt=Ft,jt=qn("dragAndMove")&&cn("dragAndMove","isGrabbing")?cn("dragAndMove","isScrollingDown"):Ft>ar.K,Tr=Vt-mt()+bt,dr=zt().bigSectionsDestination;return bt>mt()?(jt||dr)&&dr!=="bottom"||(Vt=Tr):(jt||ar.F&&_t(vt)==null)&&(Vt=Tr),qn("offsetSections")&&(Vt=ct.offsetSections.getSectionPosition_(jt,Vt,vt)),pr({K:Vt}),Vt}function du(vt){pr({C:!1}),function(bt){bt.pn!=null&&(bt.isMovementUp?wr(ut(Mn)[0],bt.pn):Wt(ut(Mn)[rr().N.length-1],bt.pn),To(rr().P.item.offsetTop),function(){for(var Ft=ut(Qn),Vt=0;Vt<Ft.length;Vt++)Ks(Ft[Vt],"internal")}(),bt.sectionIndex=bt.items.destination.index(),bt.leavingSection=bt.items.origin.index()+1,pr({nn:!1}))}(vt),Pr(zt().afterLoad)&&!vt.localIsResizing&&Gs("afterLoad",vt),cn("parallax","afterLoad"),cn("waterEffect","afterLoad"),cn("dropEffect","afterLoad"),cn("scrollOverflowReset","reset"),cn("resetSliders","apply",vt),Qs(),vt.localIsResizing||Bl(vt.element),St(vt.element,Yr),At(Ar(vt.element),Yr),hu(),pr({canScroll:!0}),cr.L(xr,vt),Pr(vt.callback)&&vt.callback()}function np(vt,bt){au("fitToSection",vt,bt)}function zp(){ar.canScroll&&(pr({F:!0}),qo(ar.P),pr({F:!1}))}function Ro(){var vt=zt().responsive||zt().responsiveWidth,bt=zt().responsiveHeight,Ft=vt&&et.innerWidth<vt,Vt=bt&&et.innerHeight<bt;vt&&bt?pu(Ft||Vt):vt?pu(Ft):bt&&pu(Vt)}function pu(vt){var bt=ip();vt?bt||(Co(!1,"internal"),np(!1,"internal"),It(ut(ds)),St(Tn,Sn),Pr(zt().afterResponsive)&&zt().afterResponsive.call(Zr(),vt),cn("responsiveSlides","toSections"),Or(Zr(),"afterResponsive",vt)):bt&&(Co(xo().autoScrolling,"internal"),np(xo().autoScrolling,"internal"),Et(ut(ds)),At(Tn,Sn),Pr(zt().afterResponsive)&&zt().afterResponsive.call(Zr(),vt),cn("responsiveSlides","toSlides"),Or(Zr(),"afterResponsive",vt))}function ip(){return pt(Tn,Sn)}function mu(vt){zt().verticalCentered&&(!zt().scrollOverflow&&tn.gn(vt.item)||tn.mn(vt)||pt(vt.item,ku)||St(vt.item,ku))}ct.moveTo=moveTo,ct.getScrollY=function(){return ar.scrollY},cr.R(gr,function(){clearTimeout(Ao),clearTimeout(Po)}),ct.setFitToSection=np,ct.fitToSection=zp,ct.setResponsive=pu;var gu,ro=null;function Zo(vt){var bt=vt.item,Ft=vt.wn.length,Vt=vt.index();!rr().P&&vt.isVisible&&(St(bt,On),Qs(),ro=rr().P.item),qn("offsetSections")&&xt(bt,{height:zu(bt)}),zt().paddingTop&&xt(bt,{"padding-top":zt().paddingTop}),zt().paddingBottom&&xt(bt,{"padding-bottom":zt().paddingBottom}),zt().sectionsColor[Vt]!==void 0&&xt(bt,{"background-color":zt().sectionsColor[Vt]}),zt().anchors[Vt]!==void 0&&bt.setAttribute("data-anchor",vt.anchor),Ft||mu(vt)}function Om(){zt().scrollOverflow&&!zt().scrollBar&&(tn.bn(),tn.Sn())}function Dm(){br("keyup",tn.yn)}ct.getActiveSection=function(){return rr().P},cr.R(sr,function(){cr.R(ln,Om),cr.R(or,tn.onLeave),cr.R(lr,tn.onLeave),cr.R(Vr,tn.afterLoad),cr.R(xr,tn.afterLoad),cr.R(gr,Dm),Xt("keyup",tn.yn)});var sp,tn={Mn:null,Tn:!0,An:!0,xn:null,On:null,kn:function(vt){if(!ar.canScroll)return yr(vt),!1},En:function(vt){if(!zr()&&zt().keyboardScrolling&&[38,33,32,40,34,36,35].indexOf(vt.keyCode)>-1&&!tn.An)return yr(vt),!1},yn:function(){tn.Tn=ar.canScroll},onLeave:function(){clearTimeout(gu),tn.An=!1},afterLoad:function(){tn.An=!1,clearTimeout(gu),gu=setTimeout(function(){tn.Tn=ar.canScroll},200)},Rn:function(){rt.activeElement===this.Mn&&(this.Mn.blur(),tn.An=!1)},Sn:function(){if(zt().scrollOverflow&&tn.Tn){tn.Rn();var vt=tn.Ln(rr().P.item);!vt||tt||st||(this.Mn=vt,requestAnimationFrame(function(){vt.focus(),tn.An=!0})),tn.Tn=!1}},bn:function(){zt().scrollOverflowMacStyle&&!nt&&St(Tn,"fp-scroll-mac"),rr().un.forEach(function(vt){if(!(vt.slides&&vt.slides.length||pt(vt.item,"fp-auto-height-responsive")&&ip())){var bt,Ft=So(vt.item),Vt=tn.gn(vt.item),jt=(bt=vt).rn?bt:bt.parent;if(at){var Tr=Vt?"addClass":"removeClass";Kt[Tr](jt.item,zo),Kt[Tr](vt.item,zo)}else St(jt.item,zo),St(vt.item,zo);vt.on||(tn.jn(Ft),tn.zn(Ft)),vt.on=!0}})},zn:function(vt){tn.Ln(vt).addEventListener("scroll",tn.Dn),vt.addEventListener("wheel",tn.kn,{passive:!1}),vt.addEventListener("keydown",tn.En,{passive:!1})},jn:function(vt){var bt=document.createElement("div");bt.className=_o,Qt(vt,bt),bt.setAttribute("tabindex","-1")},Nn:function(vt){var bt=ut(Ho,vt)[0];bt&&(ir(bt),vt.removeAttribute("tabindex"))},Ln:function(vt){var bt=So(vt);return ut(Ho,bt)[0]||bt},on:function(vt){return pt(vt,_o)||ut(Ho,vt)[0]!=null},mn:function(vt){return vt.rn&&vt.activeSlide?vt.activeSlide.on:vt.on},gn:function(vt){return tn.Ln(vt).scrollHeight>et.innerHeight},Pn:function(vt,bt){if(!ar.canScroll)return!1;if(zt().scrollBar)return!0;var Ft=tn.Ln(bt);if(!zt().scrollOverflow||!pt(Ft,_o)||pt(bt,"fp-noscroll")||pt(So(bt),"fp-noscroll"))return!0;var Vt=at?1:0,jt=Ft.scrollTop,Tr=vt==="up"&&jt<=0,dr=vt==="down"&&Ft.scrollHeight<=Math.ceil(Ft.offsetHeight+jt)+Vt,$r=Tr||dr;return $r||(this.xn=new Date().getTime()),$r},Hn:function(){this.On=new Date().getTime();var vt=this.On-tn.xn,bt=(tt||st)&&ar.X,Ft=ar._&&vt>600;return bt&&vt>400||Ft},Dn:(sp=0,function(vt){var bt=vt.target.scrollTop,Ft=ar.Y!=="none"?ar.Y:sp<bt?"down":"up";sp=bt,Pr(zt().onScrollOverflow)&&Gs("onScrollOverflow",{position:bt,direction:Ft}),pt(vt.target,_o)&&ar.canScroll&&tn.Pn(Ft,vt.target)&&tn.Hn()&&tn.gn(rr().P.item)&&cr.L(jr,{direction:Ft})})},Rs=null,vu=null;function Qs(){ar.P=null,ar.N.map(function(vt){var bt=pt(vt.item,On);vt.isActive=bt,vt.on=tn.on(vt.item),bt&&(ar.P=vt),vt.slides.length&&(vt.activeSlide=null,vt.slides.map(function(Ft){var Vt=pt(Ft.item,On);Ft.on=tn.on(vt.item),Ft.isActive=Vt,Vt&&(vt.activeSlide=Ft)}))}),function(){var vt=ar.P,bt=!!ar.P&&ar.P.slides.length,Ft=ar.P?ar.P.activeSlide:null;if(!vt&&ar.N.length&&!rr().C){if(Rs){var Vt=jp(Rs,ar.N);Vt&&(ar.P=Vt,ar.P.isActive=!0,St(ar.P.item,On)),ar.P&&To(ar.P.item.offsetTop)}if(bt&&!Ft&&vu){var jt=jp(vu,ar.P.slides);jt&&(ar.P.activeSlide=jt,ar.P.activeSlide.isActive=!0,St(ar.P.activeSlide.item,On)),ar.P.activeSlide&&Ks(ar.P.activeSlide.item,"internal")}}}(),Or(Zr(),"onUpdateStateDone")}function yu(){var vt=ut(zt().sectionSelector+", "+Mn,Zr()),bt=ht(vt),Ft=Array.from(vt).map(function(Tr){return new Io(Tr)}),Vt=Ft.filter(function(Tr){return Tr.isVisible}),jt=Vt.reduce(function(Tr,dr){return Tr.concat(dr.slides)},[]);Rs=Wp(ar.P),vu=Wp(ar.P?ar.P.activeSlide:null),ar.j=bt.length,ar.D=Vt.reduce(function(Tr,dr){return Tr+dr.slides.length},0),ar.N=Vt,ar.an=Ft,ar.slides=jt,ar.un=ar.N.concat(ar.slides)}function Wp(vt){if(!vt)return null;var bt=vt?vt.item:null,Ft=vt.rn?ar.an:ar.P.Cn;if(bt){var Vt=Dl(Ft,bt);return Vt?Vt.index():null}return null}function jp(vt,bt){var Ft,Vt=vt-1,jt=vt;do{if(Ft=bt[Vt]||bt[jt])break;Vt-=1,jt+=1}while(Vt>=0||jt<bt.length);return Ft}var Io=function(vt){var bt=this;[].push.call(arguments,zt().sectionSelector),Us.apply(this,arguments),this.wn=ut(zt().slideSelector,vt),this.Cn=Array.from(this.wn).map(function(Ft){return new Jt(Ft,bt)}),this.slides=this.Cn.filter(function(Ft){return Ft.isVisible}),this.activeSlide=this.slides.length?this.slides.filter(function(Ft){return Ft.isActive})[0]||this.slides[0]:null};Io.prototype=Us.prototype,Io.prototype.constructor=Io;var Js,Jt=function(vt,bt){this.parent=bt,Us.call(this,vt,zt().slideSelector)};function Sr(){St(ut(zt().sectionSelector,Zr()),jn),St(ut(zt().slideSelector,Zr()),Ys)}function fr(vt){var bt=vt.slides.length,Ft=vt.wn,Vt=vt.slides,jt=100*bt,Tr=100/bt;if(!ut(Ps,vt.item)[0]){var dr=rt.createElement("div");dr.className=Xs,Gt(Ft,dr);var $r=rt.createElement("div");$r.className=ys,Gt(Ft,$r)}xt(ut(Rl,vt.item),{width:jt+"%"}),bt>1&&(zt().controlArrows&&function(mn){var An=mn.item,nn=[$t(zt().controlArrowsHTML[0]),$t(zt().controlArrowsHTML[1])];Wt(ut(Ps,An)[0],nn),St(nn,Il),St(nn[0],Pp),St(nn[1],"fp-next"),zt().controlArrowColor!=="#fff"&&(xt(ut(Uu,An),{"border-color":"transparent transparent transparent "+zt().controlArrowColor}),xt(ut(su,An),{"border-color":"transparent "+zt().controlArrowColor+" transparent transparent"})),zt().loopHorizontal||It(ut(su,An))}(vt),zt().slidesNavigation&&function(mn){var An=mn.item,nn=mn.slides.length;Rt($t('<div class="fp-slidesNav"><ul></ul></div>'),An);var Pn=ut(Bu,An)[0];St(Pn,"fp-"+zt().slidesNavPosition);for(var Gn=0;Gn<nn;Gn++)Rt($t('<li><a href="#"><span class="fp-sr-only">'+Np(Gn,"Slide",ut(ho,An)[Gn])+"</span><span></span></a></li>"),ut("ul",Pn)[0]);xt(Pn,{"margin-left":"-"+Pn.innerWidth/2+"px"});var cs=mn.activeSlide?mn.activeSlide.index():0;St(ut("a",ut("li",Pn)[cs]),On)}(vt)),Vt.forEach(function(mn){xt(mn.item,{width:Tr+"%"}),zt().verticalCentered&&mu(mn)});var kr=qn("responsiveSlides")?null:vt.activeSlide||null;kr!=null&&ar.P&&(ar.P.index()!==0||ar.P.index()===0&&kr.index()!==0)?(Ks(kr.item,"internal"),St(kr.item,"fp-initial")):St(Ft[0],On)}Jt.prototype=Us.prototype,Jt.prototype.constructor=Io;var Hr={attributes:!1,subtree:!0,childList:!0,characterData:!0};function yn(){return cn("responsiveSlides","isResponsiveSlidesChanging")||ht(ut(zt().slideSelector,Zr())).length!==rr().D}function Nn(vt){var bt=yn();(yn()||cn("responsiveSlides","isResponsiveSlidesChanging")||ht(ut(zt().sectionSelector,Zr())).length!==rr().j)&&!ar.nn&&(zt().observer&&Js&&Js.disconnect(),yu(),Qs(),zt().anchors=[],kt(ut(ds)),cn("responsiveSlides","isResponsiveSlidesChanging")||Sr(),Vu(),zt().navigation&&ep(),bt&&(kt(ut(Bu)),kt(ut(iu))),rr().N.forEach(function(Ft){Ft.slides.length?bt&&fr(Ft):Zo(Ft)})),zt().observer&&Js&&ut(un)[0]&&Js.observe(ut(un)[0],Hr)}cr.R(sr,function(){var vt,bt,Ft;zt().observer&&"MutationObserver"in window&&ut(un)[0]&&(vt=ut(un)[0],bt=Hr,(Ft=new MutationObserver(Nn)).observe(vt,bt),Js=Ft),cr.R(Fr,Nn)}),ct.render=Nn;var ns=function(){var vt=!1;try{var bt=Object.defineProperty({},"passive",{get:function(){vt=!0}});ur("testPassive",null,bt),_r("testPassive",null,bt)}catch{}return function(){return vt}}();function Vn(){return!!ns()&&{passive:!1}}var _u,Yp,Ms,Vs,xu=(Ms=new Date().getTime(),Vs=[],{In:function(vt){var bt=(vt=vt||et.event).wheelDelta||-vt.deltaY||-vt.detail,Ft=Math.max(-1,Math.min(1,bt)),Vt=vt.wheelDeltaX!==void 0||vt.deltaX!==void 0;_u=Math.abs(vt.wheelDeltaX)<Math.abs(vt.wheelDelta)||Math.abs(vt.deltaX)<Math.abs(vt.deltaY)||!Vt;var jt=new Date().getTime();Yp=Ft<0?"down":"up",Vs.length>149&&Vs.shift(),Vs.push(Math.abs(bt));var Tr=jt-Ms;Ms=jt,Tr>200&&(Vs=[])},Wn:function(){var vt=Wr(Vs,10)>=Wr(Vs,70);return!!Vs.length&&vt&&_u},Fn:function(){return Yp}});function Ko(){var vt=zt().css3?Er()+mt():mr(rr().N).item.offsetTop+mr(rr().N).item.offsetHeight,bt=Un(vt);ct.test.top=-vt+"px",pr({canScroll:!1}),Nl(bt.element,bt.options,zt().scrollingSpeed,function(){setTimeout(function(){pr({C:!0}),pr({canScroll:!0})},30)})}function Su(){Zr().getBoundingClientRect().bottom>=0&&Gl()}function Gl(){var vt=Un(mr(rr().N).item.offsetTop);pr({canScroll:!1}),Nl(vt.element,vt.options,zt().scrollingSpeed,function(){pr({canScroll:!0}),pr({C:!1}),pr({Vn:!1})})}var Bn,ap,Tu,Vl=(Bn=!1,ap={},Tu={},function(vt,bt,Ft){switch(vt){case"set":ap[bt]=new Date().getTime(),Tu[bt]=Ft;break;case"isNewKeyframe":var Vt=new Date().getTime();Bn=Vt-ap[bt]>Tu[bt]}return Bn});function Hl(){var vt=rr().P.next();vt||!zt().loopBottom&&!zt().continuousVertical||(vt=rr().N[0]),vt!=null?qo(vt,null,!1):Zr().scrollHeight<Tn.scrollHeight&&cr.L(Ut)}function Qo(){var vt=rr().P.prev();vt||!zt().loopTop&&!zt().continuousVertical||(vt=mr(rr().N)),vt!=null&&qo(vt,null,!0)}ct.moveSectionDown=Hl,ct.moveSectionUp=Qo;var Eu=0;function zl(vt){zt().autoScrolling&&(ar.canScroll&&(vt.pageY<Eu&&Yn().m.up?Qo():vt.pageY>Eu&&Yn().m.down&&Hl()),Eu=vt.pageY)}function no(vt){if(Yn().m[vt]){var bt=vt==="down"?Hl:Qo;qn("scrollHorizontally")&&(bt=cn("scrollHorizontally","getScrollSection",{type:vt,scrollSection:bt})),zt().scrollOverflow&&tn.mn(rr().P)?tn.Pn(vt,rr().P.item)&&tn.Hn()&&bt():bt()}}var Lo,wu,io,Wl=0,Jo=0,Oo=0,yl=0,fo=Xl(),ls={Zn:"ontouchmove"in window?"touchmove":fo?fo.move:null,Bn:"ontouchstart"in window?"touchstart":fo?fo.down:null};function po(vt){var bt=tr(vt.target,Mn)||rr().P.item,Ft=tn.mn(rr().P);if(Yl(vt)){pr({X:!0,_:!1}),zt().autoScrolling&&(Ft&&!ar.canScroll||zt().scrollBar)&&yr(vt);var Vt=_l(vt);Oo=Vt.y,yl=Vt.x;var jt=Math.abs(Wl-Oo)>et.innerHeight/100*zt().touchSensitivity,Tr=Math.abs(Jo-yl)>yt()/100*zt().touchSensitivity,dr=ut(Ps,bt).length&&Math.abs(Jo-yl)>Math.abs(Wl-Oo),$r=Wl>Oo?"down":"up";pr({Y:dr?Jo>yl?"right":"left":$r}),dr?!ar.W&&Tr&&(Jo>yl?Yn().m.right&&cr.L(Fn,{section:bt}):Yn().m.left&&cr.L(Kn,{section:bt})):zt().autoScrolling&&ar.canScroll&&jt&&no($r)}}function Yl(vt){return vt.pointerType===void 0||vt.pointerType!="mouse"}function bu(vt){if(zt().fitToSection&&pr({G:!1}),Yl(vt)){var bt=_l(vt);Wl=bt.y,Jo=bt.x}ur("touchend",Xp)}function Xp(){_r("touchend",Xp),pr({X:!1})}function _l(vt){var bt={};return bt.y=vt.pageY!==void 0&&(vt.pageY||vt.pageX)?vt.pageY:vt.touches[0].pageY,bt.x=vt.pageX!==void 0&&(vt.pageY||vt.pageX)?vt.pageX:vt.touches[0].pageX,st&&Yl(vt)&&zt().scrollBar&&vt.touches!==void 0&&(bt.y=vt.touches[0].pageY,bt.x=vt.touches[0].pageX),bt}function Xl(){var vt;return et.PointerEvent&&(vt={down:"pointerdown",move:"pointermove"}),vt}function Zl(vt){zt().autoScrolling&&Yl(vt)&&Yn().m.up&&(ar.canScroll||yr(vt))}function qp(vt,bt){var Ft=bt==null?rr().P.item:bt,Vt=Dl(ar.N,Ft),jt=ut(Ps,Ft)[0];if(!(jt==null||ou()||ar.W||Vt.slides.length<2)){var Tr=Vt.activeSlide,dr=vt==="left"?Tr.prev():Tr.next();if(!dr){if(!zt().loopHorizontal)return;dr=vt==="left"?mr(Vt.slides):Vt.slides[0]}pr({W:!ct.test.hn}),Mo(jt,dr.item,vt)}}function Mu(vt){qp("left",vt)}function op(vt){qp("right",vt)}function lp(vt){var bt=rr().N.filter(function(Vt){return Vt.anchor===vt})[0];if(!bt){var Ft=vt!==void 0?vt-1:0;bt=rr().N[Ft]}return bt}function es(vt){vt!=null&&Mo(tr(vt,Ps),vt)}function us(vt,bt){var Ft=lp(vt);if(Ft!=null){var Vt=function(jt,Tr){var dr=Tr.slides.filter(function($r){return $r.anchor===jt})[0];return dr==null&&(jt=jt!==void 0?jt:0,dr=Tr.slides[jt]),dr?dr.item:null}(bt,Ft);Ft.anchor===ar.Z||pt(Ft.item,On)?es(Vt):qo(Ft,function(){es(Vt)})}}function Kl(vt,bt){var Ft=lp(vt);bt!==void 0?us(vt,bt):Ft!=null&&qo(Ft)}function Fm(){clearTimeout(wu),br("keydown",up),br("keyup",Zp)}function up(vt){clearTimeout(wu);var bt=vt.keyCode,Ft=[37,39].indexOf(bt)>-1,Vt=zt().autoScrolling||zt().fitToSection||Ft;bt===9?function(jt){var Tr=jt.shiftKey,dr=rt.activeElement,$r=Fo(So(rr().P.item));function kr(Jn){return yr(Jn),$r[0]?$r[0].focus():null}if(!function(Jn){var Zn=Fo(rt),Xn=Zn.indexOf(rt.activeElement),sn=Zn[Jn.shiftKey?Xn-1:Xn+1],ts=tr(sn,ho),hs=tr(sn,Mn);return!ts&&!hs}(jt)){dr?tr(dr,".fp-section.active,.fp-section.active .fp-slide.active")==null&&(dr=kr(jt)):kr(jt);var mn=dr==$r[0],An=dr==$r[$r.length-1],nn=Tr&&mn;if(nn||!Tr&&An){yr(jt);var Pn=function(Jn){var Zn,Xn=Jn?"prevPanel":"nextPanel",sn=[],ts=Dp((ar.P&&ar.P.activeSlide?ar.P.activeSlide:ar.P)[Xn]());do(sn=Fo(ts.item)).length&&(Zn={Gn:ts,Yn:sn[Jn?sn.length-1:0]}),ts=Dp(ts[Xn]());while(ts&&sn.length===0);return Zn}(nn),Gn=Pn?Pn.Gn:null;if(Gn){var cs=Gn.rn?Gn:Gn.parent;cr.L(gn,{Un:cs.index()+1,slideAnchor:Gn.rn?0:Gn.index()}),io=Pn.Yn,yr(jt)}}}}(vt):!zr()&&zt().keyboardScrolling&&Vt&&(Lo=vt.ctrlKey,wu=setTimeout(function(){(function(jt){var Tr=jt.shiftKey,dr=rt.activeElement,$r=Nr(dr,"video")||Nr(dr,"audio"),kr=tn.Pn("up",rr().P.item),mn=tn.Pn("down",rr().P.item),An=[37,39].indexOf(jt.keyCode)>-1;if(function(nn){(function(Pn){return[40,38,32,33,34].indexOf(Pn.keyCode)>-1&&!ar.C})(nn)&&!tr(nn.target,Ho)&&nn.preventDefault()}(jt),ar.canScroll||An)switch(pr({H:"keydown"}),jt.keyCode){case 38:case 33:Yn().k.up&&kr?ar.C?cr.L(en,{e:jt}):Qo():tn.Sn();break;case 32:if(Tr&&Yn().k.up&&!$r&&kr){Qo();break}case 40:case 34:if(Yn().k.down&&mn){if(ar.C)return;jt.keyCode===32&&$r||Hl()}else tn.Sn();break;case 36:Yn().k.up&&Kl(1);break;case 35:Yn().k.down&&Kl(rr().N.length);break;case 37:Yn().k.left&&Mu();break;case 39:Yn().k.right&&op()}})(vt)},0))}function Zp(vt){ar.J&&(Lo=vt.ctrlKey)}function cp(){pr({J:!1}),Lo=!1}function Ql(vt){Do()}function hp(vt){tr(io,ho)&&!tr(io,Qn)||Do()}function Do(){io&&(io.focus(),io=null)}function Fo(vt){return[].slice.call(ut('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',vt)).filter(function(bt){return Yt(bt,"tabindex")!=="-1"&&bt.offsetParent!==null})}ct.moveSlideLeft=Mu,ct.moveSlideRight=op,ct.moveTo=Kl,cr.R(sr,function(){ur("blur",cp),Xt("keydown",up),Xt("keyup",Zp),cr.R(gr,Fm),cr.R(Vr,Ql),cr.R(xr,hp)});var xl=new Date().getTime(),so=[];function mo(vt){vt?(function(){var bt,Ft="";et.addEventListener?bt="addEventListener":(bt="attachEvent",Ft="on");var Vt="onwheel"in rt.createElement("div")?"wheel":rt.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",jt=Vn();Vt=="DOMMouseScroll"?rt[bt](Ft+"MozMousePixelScroll",Sl,jt):rt[bt](Ft+Vt,Sl,jt)}(),Zr().addEventListener("mousedown",Kp),Zr().addEventListener("mouseup",Qp)):(rt.addEventListener?(br("mousewheel",Sl,!1),br("wheel",Sl,!1),br("MozMousePixelScroll",Sl,!1)):rt.detachEvent("onmousewheel",Sl),Zr().removeEventListener("mousedown",Kp),Zr().removeEventListener("mouseup",Qp))}function Sl(vt){var bt=new Date().getTime(),Ft=pt(ut(".fp-completely")[0],"fp-normal-scroll"),Vt=function(An,nn){new Date().getTime();var Pn=rr().C&&An.getBoundingClientRect().bottom>=0&&xu.Fn()==="up",Gn=rr().Vn;if(Gn)return yr(nn),!1;if(rr().C){if(Pn){var cs;if(!(Gn||Vl("isNewKeyframe","beyondFullpage")&&xu.Wn()))return(cs=Un(mr(rr().N).item.offsetTop+mr(rr().N).item.offsetHeight)).element.scrollTo(0,cs.options),pr({Vn:!1}),yr(nn),!1;if(xu.Wn())return Pn=!1,pr({Vn:!0}),pr({H:"wheel"}),Gl(),yr(nn),!1}else Vl("set","beyondFullpage",1e3);if(!Gn&&!Pn)return!0}}(Zr(),vt);if(ar._||pr({X:!1,_:!0,Y:"none"}),!Yn().m.down&&!Yn().m.up)return yr(vt),!1;if(Vt)return!0;if(Vt===!1)return yr(vt),!1;if(zt().autoScrolling&&!Lo&&!Ft){var jt=(vt=vt||et.event).wheelDelta||-vt.deltaY||-vt.detail,Tr=Math.max(-1,Math.min(1,jt)),dr=vt.wheelDeltaX!==void 0||vt.deltaX!==void 0,$r=Math.abs(vt.wheelDeltaX)<Math.abs(vt.wheelDelta)||Math.abs(vt.deltaX)<Math.abs(vt.deltaY)||!dr,kr=Tr<0?"down":Tr>0?"up":"none";so.length>149&&so.shift(),so.push(Math.abs(jt)),zt().scrollBar&&yr(vt);var mn=bt-xl;return xl=bt,mn>200&&(so=[]),pr({U:kr}),ar.canScroll&&!ou()&&Wr(so,10)>=Wr(so,70)&&$r&&(pr({H:"wheel"}),no(Tr<0?"down":"up")),!1}zt().fitToSection&&pr({G:!1})}function Kp(vt){var bt;vt.which==2&&(bt=vt.pageY,Eu=bt,Zr().addEventListener("mousemove",zl))}function Qp(vt){vt.which==2&&Zr().removeEventListener("mousemove",zl)}function Jl(vt){vt?(mo(!0),function(){if(ls.Zn&&(tt||st)&&(!qn("dragAndMove")||zt().dragAndMove==="mouseonly")){zt().autoScrolling&&(Tn.removeEventListener(ls.Zn,Zl,{passive:!1}),Tn.addEventListener(ls.Zn,Zl,{passive:!1}));var bt=zt().touchWrapper;bt.removeEventListener(ls.Bn,bu),bt.removeEventListener(ls.Zn,po,{passive:!1}),bt.addEventListener(ls.Bn,bu),bt.addEventListener(ls.Zn,po,{passive:!1})}}()):(mo(!1),function(){if(ls.Zn&&(tt||st)){zt().autoScrolling&&(Tn.removeEventListener(ls.Zn,po,{passive:!1}),Tn.removeEventListener(ls.Zn,Zl,{passive:!1}));var bt=zt().touchWrapper;bt.removeEventListener(ls.Bn,bu),bt.removeEventListener(ls.Zn,po,{passive:!1})}}())}ct.setMouseWheelScrolling=mo;var fp=!0;function Cu(){["mouseenter","touchstart","mouseleave","touchend"].forEach(function(vt){br(vt,dp,!0)})}function Tl(vt,bt){document["fp_"+vt]=bt,Xt(vt,dp,!0)}function dp(vt){var bt=vt.type,Ft=!1,Vt=bt==="mouseleave"?vt.toElement||vt.relatedTarget:vt.target;Vt!=document&&Vt?(bt==="touchend"&&(fp=!1,setTimeout(function(){fp=!0},800)),(bt!=="mouseenter"||fp)&&(zt().normalScrollElements.split(",").forEach(function(jt){if(!Ft){var Tr=Nr(Vt,jt),dr=tr(Vt,jt);(Tr||dr)&&(ct.shared.Xn||Jl(!1),ct.shared.Xn=!0,Ft=!0)}}),!Ft&&ct.shared.Xn&&(Jl(!0),ct.shared.Xn=!1))):Jl(!0)}function Nt(vt,bt){Yo(0,"internal"),Kl(vt,bt),Yo(xo().scrollingSpeed,"internal")}cr.R(sr,function(){zt().normalScrollElements&&(["mouseenter","touchstart"].forEach(function(vt){Tl(vt,!1)}),["mouseleave","touchend"].forEach(function(vt){Tl(vt,!0)})),cr.R(gr,Cu)}),ct.silentMoveTo=Nt;var go,eu,Cs=mt(),In=yt(),pp=!1;function Nm(){clearTimeout(go),clearTimeout(eu),_r("resize",mp)}function mp(){pp||(zt().autoScrolling&&!zt().scrollBar||!zt().fitToSection)&&Jp(mt()),function(){if(tt)for(var vt=0;vt<4;vt++)eu=setTimeout(function(){window.requestAnimationFrame(function(){zt().autoScrolling&&!zt().scrollBar&&(pr({F:!0}),Nt(ar.P.index()+1),pr({F:!1}))})},200*vt)}(),pp=!0,clearTimeout(go),go=setTimeout(function(){(function(){if(pr({F:!0}),Jp(""),Or(Zr(),"onResize"),zt().autoScrolling||ar.C||function(){if(!zt().autoScrolling||zt().scrollBar){var jt=.01*et.innerHeight;rt.documentElement.style.setProperty("--vh","".concat(jt,"px"))}}(),cr.L(Fr),Qs(),Ro(),tt){var vt=rt.activeElement;if(!Nr(vt,"textarea")&&!Nr(vt,"input")&&!Nr(vt,"select")){var bt=mt();Math.abs(bt-Cs)>20*Math.max(Cs,bt)/100&&(ao(!0),Cs=bt)}}else Ft=mt(),Vt=yt(),ar.q===Ft&&In===Vt||(pr({q:Ft}),In=Vt,ao(!0));var Ft,Vt;Or(Zr(),"onResizeEnds"),pr({F:!1})})(),pp=!1},400)}function ao(vt){if(!pt(Zr(),vs)){pr({F:!0,q:mt(),_n:yt()});for(var bt=rr().N,Ft=0;Ft<bt.length;++Ft){var Vt=bt[Ft],jt=ut(Ps,Vt.item)[0],Tr=Vt.slides;qn("offsetSections")&&xt(Vt.item,{height:zu(Vt.item)}),Tr.length>1&&Mo(jt,Vt.activeSlide.item)}zt().scrollOverflow&&tn.bn();var dr=rr().P.index();ar.C||!dr||qn("fadingEffect")||qn("dropEffect")||qn("waterEffect")||Nt(dr+1),pr({F:!1}),Pr(zt().afterResize)&&vt&&zt().afterResize.call(Zr(),et.innerWidth,et.innerHeight),Pr(zt().afterReBuild)&&!vt&&zt().afterReBuild.call(Zr()),Or(Zr(),"afterRebuild")}}function Jp(vt){rr().N.forEach(function(bt){var Ft=vt!==""||qn("offsetSections")?zu(bt.item):"";xt(bt.item,{height:Ft})})}function gp(){var vt,bt,Ft=et.location.hash;if(Ft.length){var Vt=Ft.replace("#","").split("/"),jt=Ft.indexOf("#/")>-1;vt=jt?"/"+Vt[1]:decodeURIComponent(Vt[0]);var Tr=jt?Vt[2]:Vt[1];Tr&&Tr.length&&(bt=decodeURIComponent(Tr))}return{section:vt,sn:bt}}function km(){_r("hashchange",em)}function em(){if(!ar.V&&!zt().lockAnchors){var vt=gp(),bt=vt.section,Ft=vt.sn,Vt=ar.Z===void 0,jt=ar.Z===void 0&&Ft===void 0&&!ar.W;bt&&bt.length&&(bt&&bt!==ar.Z&&!Vt||jt&&!ou()||!ar.W&&ar.B!=Ft&&!ou())&&cr.L(gn,{Un:bt,slideAnchor:Ft})}}function Bm(vt){var bt=vt.target;tr(bt,zt().menu+" [data-menuanchor]")&&oo.call(bt,vt)}function oo(vt){pr({H:"menu"}),!ut(zt().menu)[0]||!zt().lockAnchors&&zt().anchors.length||(yr(vt),cr.L(Jr,{anchor:Yt(this,"data-menuanchor")}))}function $m(vt){var bt=vt.target;bt&&tr(bt,"#fp-nav a")?Lm.call(bt,vt.e):Nr(bt,".fp-tooltip")?_d.call(bt):(Nr(bt,$u)||tr(bt,$u)!=null)&&kp.call(bt,vt.e)}ct.reBuild=ao,cr.R(sr,function(){mp(),ur("resize",mp),cr.R(gr,Nm)}),ct.setLockAnchors=function(vt){zt().lockAnchors=vt},cr.R(sr,function(){ur("hashchange",em),cr.R(gr,km)}),cr.R(sr,function(){Xt("wheel",xu.In,Vn()),cr.R(Ut,Ko),cr.R(en,Su)}),cr.R(sr,function(){cr.R(wn,Bm)}),cr.R(sr,function(){cr.R(wn,$m)});var vp,yp,tm=0;function Au(vt){var bt,Ft,Vt,jt,Tr;if(Or(Zr(),"onScroll"),!ar.F&&rr().P&&(mr(rr().N),!rr().C&&!rr().Vn&&(!zt().autoScrolling||zt().scrollBar||qn("dragAndMove"))&&!Rp())){var dr=qn("dragAndMove")?Math.abs(cn("dragAndMove","getCurrentScroll")):Er(),$r=function(ms){var Ss=ms>tm?"down":"up";return tm=ms,pr({K:ms}),Ss}(dr),kr=0,mn=dr+mt()/2,An=(qn("dragAndMove")?cn("dragAndMove","getDocumentHeight"):Tn.scrollHeight-mt())===dr,nn=rr().N;if(pr({scrollY:dr}),An)kr=nn.length-1;else if(dr)for(var Pn=0;Pn<nn.length;++Pn)(tr(nn[Pn].item,Mn)||nn[Pn].item).offsetTop<=mn&&(kr=Pn);else kr=0;if(Vt=$r,jt=rr().P.item.offsetTop,Tr=jt+mt(),(Vt=="up"?Tr>=Er()+mt():jt<=Er())&&(pt(rr().P.item,Yr)||(St(rr().P.item,Yr),At(Ar(rr().P.item),Yr))),Ft=(bt=nn[kr]).item,!bt.isActive){pr({V:!0});var Gn,cs,Jn=rr().P.item,Zn=rr().P.index()+1,Xn=Xu(rr().P,Ft),sn=bt.anchor,ts=bt.index()+1,hs=bt.activeSlide,fs={P:Jn,sectionIndex:ts-1,anchorLink:sn,element:Ft,leavingSection:Zn,direction:Xn,items:{origin:rr().P,destination:bt}};hs&&(cs=hs.anchor,Gn=hs.index()),ar.canScroll&&(At(nn.filter(function(ms){return ms.index()!==bt.index()}).map(function(ms){return ms.item}),On),St(Ft,On),cn("parallax","afterLoad"),Pr(zt().beforeLeave)&&rp("beforeLeave",fs),Pr(zt().onLeave)&&Gs("onLeave",fs),Pr(zt().afterLoad)&&Gs("afterLoad",fs),cn("resetSliders","apply",{localIsResizing:ar.F,leavingSection:Zn}),uu(Jn),wo(Ft),Bl(Ft),$l(sn,ts-1),zt().anchors.length&&pr({Z:sn}),Qs(),Qu(Gn,cs,sn)),clearTimeout(vp),vp=setTimeout(function(){pr({V:!1})},100)}zt().fitToSection&&ar.canScroll&&(clearTimeout(yp),yp=setTimeout(function(){ar.N.filter(function(ms){var Ss=ms.item.getBoundingClientRect();return Math.round(Ss.bottom)===Math.round(mt())||Math.round(Ss.top)===0}).length||zp()},zt().en))}}function na(vt,bt){bt!==void 0?(bt=bt.replace(/ /g,"").split(",")).forEach(function(Ft){Wn(vt,Ft,"k")}):(Wn(vt,"all","k"),zt().keyboardScrolling=vt)}function Um(vt){var bt=vt.index();zt().anchors[bt]!==void 0&&vt.isActive&&$l(zt().anchors[bt],bt),zt().menu&&zt().css3&&tr(ut(zt().menu)[0],un)!=null&&ut(zt().menu).forEach(function(Ft){Tn.appendChild(Ft)})}function rm(){var vt,bt,Ft=rr().P,Vt=rr().P.item;St(Vt,Yr),wo(Vt),hu(),Bl(Vt),bt=lp((vt=gp()).section),vt.section&&bt&&(bt===void 0||bt.index()!==Lt(ro))||!Pr(zt().afterLoad)||Gs("afterLoad",{P:Vt,element:Vt,direction:null,anchorLink:Ft.anchor,sectionIndex:Ft.index(),items:{origin:rr().P,destination:rr().P}}),Pr(zt().afterRender)&&Gs("afterRender"),Or(Zr(),"afterRender")}function _p(vt,bt){bt!==void 0?(bt=bt.replace(/ /g,"").split(",")).forEach(function(Ft){Wn(vt,Ft,"m")}):Wn(vt,"all","m"),Or(Zr(),"setAllowScrolling",{value:vt,Qn:bt})}function nm(){var vt=gp(),bt=vt.section,Ft=vt.sn;bt?zt().animateAnchor?us(bt,Ft):Nt(bt,Ft):cr.L(ln,null)}cr.R(gr,function(){clearTimeout(vp),clearTimeout(yp)}),cr.R(sr,function(){ur("scroll",Au),rt.body.addEventListener("scroll",Au),cr.R(gn,function(vt){us(vt.Un,vt.slideAnchor)}),cr.R(Jr,function(vt){Kl(vt.anchor,void 0)}),cr.R(jr,function(vt){(vt.direction==="down"?Hl:Qo)()}),cr.R(Xr,function(vt){qo(vt.destination)})}),cr.R(gr,function(){_r("scroll",Au)}),ct.getActiveSlide=function(){return Es(rr().P.activeSlide)},ct.getScrollX=function(){return ar.scrollX},cr.R(sr,function(){cr.R(gr,Gp),cr.R(bn,function(vt){Mo(vt.slides,vt.destination)}),cr.R(Fn,function(vt){op(vt.section)}),cr.R(Kn,function(vt){Mu(vt.section)})}),cr.R(sr,function(){var vt=zt().credits.position,bt=["left","right"].indexOf(vt)>-1?"".concat(vt,": 0;"):"",Ft=`
        <div class="fp-watermark" style="`.concat(bt,`">
            <a href="https://alvarotrigo.com/fullPage/" 
                rel="nofollow noopener" 
                target="_blank" 
                style="text-decoration:none; color: #000;">
                    `).concat(zt().credits.label,`
            </a>
        </div>
    `),Vt=mr(ar.N),jt=!ar.Jn||zt().credits.enabled;Vt&&Vt.item&&jt&&Vt.item.insertAdjacentHTML("beforeend",Ft)}),function(){cr.R(er,function(){var $r,kr,mn;pr({Jn:(zt().licenseKey,$r=zt().licenseKey,kr=function(An){var nn=parseInt("514").toString(16);if(!An||An.length<29||An.split(vt[0]).length===4)return null;var Pn=["Each","for"][jt()]().join(""),Gn=An[["split"]]("-"),cs=[];Gn[Pn](function(Xn,sn){if(sn<4){var ts=function(ms){var Ss=ms[ms.length-1],No=["NaN","is"][jt()]().join("");return window[No](Ss)?Tr(Ss):function(um){return um-On.length}(Ss)}(Xn);cs.push(ts);var hs=Tr(Xn[ts]);if(sn===1){var fs=["pa","dS","t","art"].join("");hs=hs.toString()[fs](2,"0")}nn+=hs,sn!==0&&sn!==1||(nn+="-")}});var Jn=0,Zn="";return An.split("-").forEach(function(Xn,sn){if(sn<4){for(var ts=0,hs=0;hs<4;hs++)hs!==cs[sn]&&(ts+=Math.abs(Tr(Xn[hs])),isNaN(Xn[hs])||Jn++);var fs=dr(ts);Zn+=fs}}),Zn+=dr(Jn),{Kn:new Date(nn+"T00:00"),qn:nn.split("-")[2]===8*(On.length-2)+"",$n:Zn}}($r),mn=function(An){var nn=Vt[jt()]().join("");return An&&nn.indexOf(An)===0&&An.length===nn.length}($r),(kr||mn)&&(kr&&Ft<=kr.Kn&&kr.$n===$r.split(vt[0])[4]||mn||kr.qn)||!1)})});var vt=["-"],bt="2023-2-1".split("-"),Ft=new Date(bt[0],bt[1],bt[2]),Vt=["se","licen","-","v3","l","gp"];function jt(){return[["re","verse"].join("")]["".length]}function Tr($r){return $r?isNaN($r)?$r.charCodeAt(0)-72:$r:""}function dr($r){var kr=72+$r;return kr>90&&kr<97&&(kr+=15),String.fromCharCode(kr).toUpperCase()}}(),ct.setKeyboardScrolling=na,ct.shared.nt=rm,ct.setAllowScrolling=_p;var Gm={};function Ds(){return Gm}var Pu,lo,Fs,xp,Ru=!pt(Tn,ps("OHNsd3AtZnVsbHBhZ2UtanM5T20="));function im(vt){if(lo=rt.createElement("div"),Pu=ps("MTIzPGRpdj48YSBocmVmPSJodHRwOi8vYWx2YXJvdHJpZ28uY29tL2Z1bGxQYWdlL2V4dGVuc2lvbnMvIiBzdHlsZT0iY29sb3I6ICNmZmYgIWltcG9ydGFudDsgdGV4dC1kZWNvcmF0aW9uOm5vbmUgIWltcG9ydGFudDsiPlVubGljZW5zZWQgZnVsbFBhZ2UuanMgRXh0ZW5zaW9uPC9hPjwvZGl2PjEyMw=="),Ru||(Pu=Pu.replace("extensions/","").replace("Extension","")),lo.innerHTML=Pu,lo=lo.firstChild,"MutationObserver"in window&&new MutationObserver(Vm).observe(rt.body,{childList:!0,subtree:!1}),(!Ru||qn(vt)&&ct[vt])&&(!function(Ft){var Vt=Ds()[Ft]!==void 0&&Ds()[Ft].length,jt=[],Tr=!1;return Ct(Ds()[Ft])?jt=Ds()[Ft]:jt.push(Ds()[Ft]),jt.forEach(function(dr){var $r=function(){if(rt.domain.length){for(var Ss=rt.domain.replace(/^(www\.)/,"").split(".");Ss.length>2;)Ss.shift();return Ss.join(".").replace(/(^\.*)|(\.*$)/g,"")}return""}(),kr=["MTM0bG9jYWxob3N0MjM0","MTM0MC4xMjM0","MTM0anNoZWxsLm5ldDIzNA==","UDdDQU5ZNlNN","NTY3YnVuZGxlNzg5","NTU1S2V5Nzc3","NDU2dGVzdDQ1Ng=="],mn=ps(kr[0]),An=ps(kr[1]),nn=ps(kr[2]),Pn=ps(kr[6]),Gn=ps(kr[3]),cs=ps(kr[4]),Jn=ps(kr[5]),Zn=zt()[cs+Jn]!==void 0;Vt=Vt||Zn;var Xn=[mn,An,nn,Pn].indexOf($r)<0&&$r.length!==0;if(!Vt&&!Zn&&Xn)return!1;var sn=Vt?ps(dr):"",ts=(sn=sn.split("_")).length>1&&sn[1].indexOf(Ft,sn[1].length-Ft.length)>-1,hs=sn.length>1&&sn[1].toLowerCase().indexOf(cs)>-1,fs=sn[0].indexOf($r,sn[0].length-$r.length)<0,ms=ts||hs;Tr=Tr||!(fs&&Xn&&Gn!=sn[0])&&ms||!Xn}),Tr}(vt)||!Ru)){sm();var bt=ps("MzQ1c2V0SW50ZXJ2YWwxMjM=");window[bt](sm,2e3)}}function sm(){lo&&(xp||(Math.random()<.5?Wu(Tn,lo):Rt(lo,Tn),xp=!0),lo.setAttribute("style",ps("MTIzei1pbmRleDo5OTk5OTk5O3Bvc2l0aW9uOmZpeGVkO3RvcDoyMHB4O2JvdHRvbTphdXRvO2xlZnQ6MjBweDtyaWdodDphdXRvO2JhY2tncm91bmQ6cmVkO3BhZGRpbmc6N3B4IDE1cHg7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6YXJpYWw7Y29sb3I6I2ZmZjtkaXNwbGF5OmlubGluZS1ibG9jazt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO29wYWNpdHk6MTtoZWlnaHQ6YXV0bzt3aWR0aDphdXRvO3pvb206MTttYXJnaW46YXV0bztib3JkZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7Y2xpcC1wYXRoOm5vbmU7MTIz").replace(/;/g,ps("MTIzICFpbXBvcnRhbnQ7MzQ1"))))}function Vm(vt){vt.forEach(function(bt){if(bt.removedNodes[0]&&bt.removedNodes[0].isEqualNode(lo)){clearTimeout(Fs);var Ft=ps("bDIwc2V0VGltZW91dDAzbA==");Fs=window[Ft](am,900)}})}function am(){xp=!1}function om(){yu(),Qs(),zt().scrollBar=zt().scrollBar||zt().hybrid,Vu(),function(){xt(qr(Zr(),"body"),{height:"100%",position:"relative"}),St(Zr(),xn),St(Eo,os),pr({q:mt()}),At(Zr(),vs),Sr(),cn("parallax","init");for(var vt=rr().an,bt=0;bt<vt.length;bt++){var Ft=vt[bt],Vt=Ft.wn;Ft.item.setAttribute("data-fp-styles",Yt(Ft.item,"style")),Zo(Ft),Um(Ft),Vt.length>0&&fr(Ft)}zt().fixedElements&&zt().css3&&ut(zt().fixedElements).forEach(function(jt){Tn.appendChild(jt)}),zt().navigation&&ep(),ut('iframe[src*="youtube.com/embed/"]',Zr()).forEach(function(jt){var Tr,dr;dr=Yt(Tr=jt,"src"),Tr.setAttribute("src",dr+(/\?/.test(dr)?"&":"?")+"enablejsapi=1")}),cn("fadingEffect","apply"),cn("waterEffect","init"),cn("dropEffect","init"),cn("cards","init"),zt().scrollOverflow&&tn.bn()}(),_p(!0),Jl(!0),Co(zt().autoScrolling,"internal"),Ro(),Ku(),rt.readyState==="complete"&&nm(),ur("load",nm),rm(),Ru||im("l"),yu(),Qs()}function lm(){var vt=zt().licenseKey;zt().licenseKey.trim()===""?(it("error","Fullpage.js requires a `licenseKey` option. Read about it on the following URL:"),it("error","https://github.com/alvarotrigo/fullPage.js#options")):zt()&&ar.Jn||rt.domain.indexOf("alvarotrigo.com")>-1?vt&&vt.length:(it("error","Incorrect `licenseKey`. Get one for fullPage.js version 4 here:"),it("error","https://alvarotrigo.com/fullPage/pricing")),pt(Eo,os)?it("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(zt().continuousVertical&&(zt().loopTop||zt().loopBottom)&&(zt().continuousVertical=!1,it("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),!zt().scrollOverflow||!zt().scrollBar&&zt().autoScrolling||it("warn","Options scrollBar:true and autoScrolling:false are mutually exclusive with scrollOverflow:true. Sections with scrollOverflow might not work well in Firefox"),!zt().continuousVertical||!zt().scrollBar&&zt().autoScrolling||(zt().continuousVertical=!1,it("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),zt().anchors.forEach(function(bt){var Ft=[].slice.call(ut("[name]")).filter(function(Tr){return Yt(Tr,"name")&&Yt(Tr,"name").toLowerCase()==bt.toLowerCase()}),Vt=[].slice.call(ut("[id]")).filter(function(Tr){return Yt(Tr,"id")&&Yt(Tr,"id").toLowerCase()==bt.toLowerCase()});if(Vt.length||Ft.length){it("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).");var jt=Vt.length?"id":"name";(Vt.length||Ft.length)&&it("error",'"'+bt+'" is is being used by another element `'+jt+"` property")}}))}function Hm(){return{options:zt(),internals:{container:Zr(),canScroll:ar.canScroll,isScrollAllowed:Yn(),getDestinationPosition:Hp,isTouch:st,c:im,getXmovement:Up,removeAnimation:lu,getTransforms:qu,lazyLoad:wo,addAnimation:Yu,performHorizontalMove:$p,landscapeScroll:Mo,silentLandscapeScroll:Ks,keepSlidesPosition:cu,silentScroll:To,styleSlides:fr,styleSection:Zo,scrollHandler:Au,getEventsPage:_l,getMSPointer:Xl,isReallyTouch:Yl,usingExtension:qn,toggleControlArrows:Bp,touchStartHandler:bu,touchMoveHandler:po,nullOrSection:Zs,items:{SectionPanel:Io,SlidePanel:Jt,Item:Us},getVisible:ht,getState:rr,updateState:Qs,updateStructuralState:yu,activeSlidesNavigation:$a,getPanels:function(){return ar.un},getSections:function(){return ar.N},setActiveSection:function(vt){ar.P=vt}}}}function xs(vt){var bt=["NTY3YnVuZGxlNzg5","NTU1S2V5Nzc3"],Ft=ps(bt[0]),Vt=ps(bt[1]),jt=zt()[Ft+Vt]!==void 0,Tr="fp_"+vt+"Extension";Ds()[vt]=jt?zt()[Ft+Vt]:zt()[vt+Vt],ct[vt]=window[Tr]!==void 0?new window[Tr]:null,ct[vt]&&ct[vt].c(vt)}function El(vt,bt){var Ft;if(Tn=ut("body")[0],Eo=ut("html")[0],qs=ut("html, body"),!pt(Eo,os))return Ft=typeof vt=="string"?ut(vt)[0]:vt,Wo.touchWrapper=Ft,function(Vt){jo=dt({},Wo,Vt),Ol=Object.assign({},jo)}(bt),function(Vt){Ll=Vt}(typeof vt=="string"?ut(vt)[0]:vt),cr.L(er),lm(),ct.getFullpageData=Hm,ct.version="4.0.19",ct.test=Object.assign(ct.test,{top:"0px",cn:"translate3d(0px, 0px, 0px)",dn:function(){for(var Vt=[],jt=0;jt<ut(zt().sectionSelector,Zr()).length;jt++)Vt.push("translate3d(0px, 0px, 0px)");return Vt}(),left:function(){for(var Vt=[],jt=0;jt<ut(zt().sectionSelector,Zr()).length;jt++)Vt.push(0);return Vt}(),options:zt(),setAutoScrolling:null}),ct.shared=Object.assign(ct.shared,{nt:null,Xn:!1}),et.fullpage_api=ct,et.fullpage_extensions=!0,Zr()&&(cr.L("beforeInit"),xs("continuousHorizontal"),xs("scrollHorizontally"),xs("resetSliders"),xs("interlockedSlides"),xs("responsiveSlides"),xs("fadingEffect"),xs("dragAndMove"),xs("offsetSections"),xs("scrollOverflowReset"),xs("parallax"),xs("cards"),xs("dropEffect"),xs("waterEffect"),cn("dragAndMove","init"),cn("responsiveSlides","init"),om(),cr.L(sr),cn("dragAndMove","turnOffTouch")),et.fullpage_api;lm()}return ct.destroy=function(vt){Or(Zr(),"destroy",vt),Co(!1,"internal"),_p(!0),Jl(!1),na(!1),St(Zr(),vs),cr.L(gr),cn("dragAndMove","destroy"),vt&&(To(0),ut("img[data-src], source[data-src], audio[data-src], iframe[data-src]",Zr()).forEach(function(bt){Qr(bt,"src")}),ut("img[data-srcset]").forEach(function(bt){Qr(bt,"srcset")}),kt(ut("#fp-nav, .fp-slidesNav, .fp-controlArrow")),xt(ju(rr().N),{height:"","background-color":"",padding:""}),xt(ju(rr().slides),{width:""}),xt(Zr(),{height:"",position:"","-ms-touch-action":"","touch-action":""}),xt(qs,{overflow:"",height:""}),At(Eo,os),At(Tn,Sn),Tn.className.split(/\s+/).forEach(function(bt){bt.indexOf("fp-viewing")===0&&At(Tn,bt)}),ju(rr().un).forEach(function(bt){zt().scrollOverflow&&tn.Nn(bt),At(bt,"fp-table active "+Yr),Yt(bt,"data-fp-styles")&&bt.setAttribute("style",Yt(bt,"data-fp-styles")),pt(bt,jn)&&!Gu&&bt.removeAttribute("data-anchor")}),lu(Zr()),[Ts,Rl,Ps].forEach(function(bt){ut(bt,Zr()).forEach(function(Ft){ir(Ft)})}),xt(Zr(),{"-webkit-transition":"none",transition:"none"}),et.scrollTo(0,0),[jn,Ys,ys].forEach(function(bt){At(ut("."+bt),bt)}))},et.fp_easings=dt(et.fp_easings,{easeInOutCubic:function(vt,bt,Ft,Vt){return(vt/=Vt/2)<1?Ft/2*vt*vt*vt+bt:Ft/2*((vt-=2)*vt*vt+2)+bt}}),et.jQuery&&function(vt,bt){vt&&bt?vt.fn.fullpage=function(Ft){Ft=vt.extend({},Ft,{$:vt}),new bt(this[0],Ft),Object.keys(ct).forEach(function(Vt){zt().$.fn.fullpage[Vt]=ct[Vt]})}:it("error","jQuery is required to use the jQuery fullpage adapter!")}(et.jQuery,El),El})},239:()=>{window.fp_easings={def:"easeOutQuad",linear:function(_,b,$,j){return $*_/j+b},swing:function(_,b,$,j){return window.fp_easings[window.fp_easings.def](_,b,$,j)},easeInQuad:function(_,b,$,j){return $*(_/=j)*_+b},easeOutQuad:function(_,b,$,j){return-$*(_/=j)*(_-2)+b},easeInOutQuad:function(_,b,$,j){return(_/=j/2)<1?$/2*_*_+b:-$/2*(--_*(_-2)-1)+b},easeInCubic:function(_,b,$,j){return $*(_/=j)*_*_+b},easeOutCubic:function(_,b,$,j){return $*((_=_/j-1)*_*_+1)+b},easeInOutCubic:function(_,b,$,j){return(_/=j/2)<1?$/2*_*_*_+b:$/2*((_-=2)*_*_+2)+b},easeInQuart:function(_,b,$,j){return $*(_/=j)*_*_*_+b},easeOutQuart:function(_,b,$,j){return-$*((_=_/j-1)*_*_*_-1)+b},easeInOutQuart:function(_,b,$,j){return(_/=j/2)<1?$/2*_*_*_*_+b:-$/2*((_-=2)*_*_*_-2)+b},easeInQuint:function(_,b,$,j){return $*(_/=j)*_*_*_*_+b},easeOutQuint:function(_,b,$,j){return $*((_=_/j-1)*_*_*_*_+1)+b},easeInOutQuint:function(_,b,$,j){return(_/=j/2)<1?$/2*_*_*_*_*_+b:$/2*((_-=2)*_*_*_*_+2)+b},easeInSine:function(_,b,$,j){return-$*Math.cos(_/j*(Math.PI/2))+$+b},easeOutSine:function(_,b,$,j){return $*Math.sin(_/j*(Math.PI/2))+b},easeInOutSine:function(_,b,$,j){return-$/2*(Math.cos(Math.PI*_/j)-1)+b},easeInExpo:function(_,b,$,j){return _==0?b:$*Math.pow(2,10*(_/j-1))+b},easeOutExpo:function(_,b,$,j){return _==j?b+$:$*(1-Math.pow(2,-10*_/j))+b},easeInOutExpo:function(_,b,$,j){return _==0?b:_==j?b+$:(_/=j/2)<1?$/2*Math.pow(2,10*(_-1))+b:$/2*(2-Math.pow(2,-10*--_))+b},easeInCirc:function(_,b,$,j){return-$*(Math.sqrt(1-(_/=j)*_)-1)+b},easeOutCirc:function(_,b,$,j){return $*Math.sqrt(1-(_=_/j-1)*_)+b},easeInOutCirc:function(_,b,$,j){return(_/=j/2)<1?-$/2*(Math.sqrt(1-_*_)-1)+b:$/2*(Math.sqrt(1-(_-=2)*_)+1)+b},easeInElastic:function(_,b,$,j){var _e=1.70158,et=0,rt=$;return _==0?b:(_/=j)==1?b+$:(et||(et=.3*j),rt<Math.abs($)?(rt=$,_e=et/4):_e=et/(2*Math.PI)*Math.asin($/rt),-rt*Math.pow(2,10*(_-=1))*Math.sin((_*j-_e)*(2*Math.PI)/et)+b)},easeOutElastic:function(_,b,$,j){var _e=1.70158,et=0,rt=$;return _==0?b:(_/=j)==1?b+$:(et||(et=.3*j),rt<Math.abs($)?(rt=$,_e=et/4):_e=et/(2*Math.PI)*Math.asin($/rt),rt*Math.pow(2,-10*_)*Math.sin((_*j-_e)*(2*Math.PI)/et)+$+b)},easeInOutElastic:function(_,b,$,j){var _e=1.70158,et=0,rt=$;return _==0?b:(_/=j/2)==2?b+$:(et||(et=j*(.3*1.5)),rt<Math.abs($)?(rt=$,_e=et/4):_e=et/(2*Math.PI)*Math.asin($/rt),_<1?rt*Math.pow(2,10*(_-=1))*Math.sin((_*j-_e)*(2*Math.PI)/et)*-.5+b:rt*Math.pow(2,-10*(_-=1))*Math.sin((_*j-_e)*(2*Math.PI)/et)*.5+$+b)},easeInBack:function(_,b,$,j,_e){return _e==null&&(_e=1.70158),$*(_/=j)*_*((_e+1)*_-_e)+b},easeOutBack:function(_,b,$,j,_e){return _e==null&&(_e=1.70158),$*((_=_/j-1)*_*((_e+1)*_+_e)+1)+b},easeInOutBack:function(_,b,$,j,_e){return _e==null&&(_e=1.70158),(_/=j/2)<1?$/2*(_*_*((1+(_e*=1.525))*_-_e))+b:$/2*((_-=2)*_*((1+(_e*=1.525))*_+_e)+2)+b},easeInBounce:function(_,b,$,j){return $-window.fp_easings.easeOutBounce(j-_,0,$,j)+b},easeOutBounce:function(_,b,$,j){return(_/=j)<1/2.75?$*(7.5625*_*_)+b:_<2/2.75?$*(7.5625*(_-=1.5/2.75)*_+.75)+b:_<2.5/2.75?$*(7.5625*(_-=2.25/2.75)*_+.9375)+b:$*(7.5625*(_-=2.625/2.75)*_+.984375)+b},easeInOutBounce:function(_,b,$,j){return _<j/2?.5*window.fp_easings.easeInBounce(2*_,0,$,j)+b:.5*window.fp_easings.easeOutBounce(2*_-j,0,$,j)+.5*$+b}}},379:_=>{var b=[];function $(et){for(var rt=-1,tt=0;tt<b.length;tt++)if(b[tt].identifier===et){rt=tt;break}return rt}function j(et,rt){for(var tt={},nt=[],st=0;st<et.length;st++){var at=et[st],ct=rt.base?at[0]+rt.base:at[0],it=tt[ct]||0,lt="".concat(ct," ").concat(it);tt[ct]=it+1;var ht=$(lt),ut={css:at[1],media:at[2],sourceMap:at[3]};ht!==-1?(b[ht].references++,b[ht].updater(ut)):b.push({identifier:lt,updater:_e(ut,rt),references:1}),nt.push(lt)}return nt}function _e(et,rt){var tt=rt.domAPI(rt);return tt.update(et),function(st){if(st){if(st.css===et.css&&st.media===et.media&&st.sourceMap===et.sourceMap)return;tt.update(et=st)}else tt.remove()}}_.exports=function(et,rt){rt=rt||{},et=et||[];var tt=j(et,rt);return function(st){st=st||[];for(var at=0;at<tt.length;at++){var ct=tt[at],it=$(ct);b[it].references--}for(var lt=j(st,rt),ht=0;ht<tt.length;ht++){var ut=tt[ht],dt=$(ut);b[dt].references===0&&(b[dt].updater(),b.splice(dt,1))}tt=lt}}},569:_=>{var b={};function $(_e){if(typeof b[_e]=="undefined"){var et=document.querySelector(_e);if(window.HTMLIFrameElement&&et instanceof window.HTMLIFrameElement)try{et=et.contentDocument.head}catch{et=null}b[_e]=et}return b[_e]}function j(_e,et){var rt=$(_e);if(!rt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");rt.appendChild(et)}_.exports=j},216:_=>{function b($){var j=document.createElement("style");return $.setAttributes(j,$.attributes),$.insert(j),j}_.exports=b},565:(_,b,$)=>{function j(_e){var et=$.nc;et&&_e.setAttribute("nonce",et)}_.exports=j},795:_=>{function b(_e,et,rt){var tt=rt.css,nt=rt.media,st=rt.sourceMap;nt?_e.setAttribute("media",nt):_e.removeAttribute("media"),st&&typeof btoa!="undefined"&&(tt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(st))))," */")),et.styleTagTransform(tt,_e)}function $(_e){if(_e.parentNode===null)return!1;_e.parentNode.removeChild(_e)}function j(_e){var et=_e.insertStyleElement(_e);return{update:function(tt){b(et,_e,tt)},remove:function(){$(et)}}}_.exports=j},589:_=>{function b($,j){if(j.styleSheet)j.styleSheet.cssText=$;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode($))}}_.exports=b},497:_=>{_.exports=react.exports}},h={};function d(_){var b=h[_];if(b!==void 0)return b.exports;var $=h[_]={id:_,exports:{}};return e[_].call($.exports,$,$.exports,d),$.exports}(()=>{d.n=_=>{var b=_&&_.__esModule?()=>_.default:()=>_;return d.d(b,{a:b}),b}})(),(()=>{d.d=(_,b)=>{for(var $ in b)d.o(b,$)&&!d.o(_,$)&&Object.defineProperty(_,$,{enumerable:!0,get:b[$]})}})(),(()=>{d.o=(_,b)=>Object.prototype.hasOwnProperty.call(_,b)})(),(()=>{d.r=_=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})}})();var g={};(()=>{d.r(g),d.d(g,{default:()=>et});var _=d(497),b=d.n(_);const j=rt=>{let{children:tt}=rt;return b().createElement(_.Fragment,null,tt)},_e=()=>{if(typeof window=="undefined")return!1;try{return!"production".toLowerCase().match(/test/)}catch{return!0}},et=(()=>{let rt;return _e()?rt=d(88).Z:rt=d(882).Z,rt.Wrapper=j,rt})()})(),o.exports=g})()})(reactFullpage);var ReactFullpage=getDefaultExportFromCjs(reactFullpage.exports),lottie$1={exports:{}};(function(module,exports){typeof navigator!="undefined"&&function(o,e){module.exports=e()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(o){return document.createElement(o)}function extendPrototype(o,e){var h,d=o.length,g;for(h=0;h<d;h+=1){g=o[h].prototype;for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(e.prototype[_]=g[_])}}function getDescriptor(o,e){return Object.getOwnPropertyDescriptor(o,e)}function createProxyFunction(o){function e(){}return e.prototype=o,e}var audioControllerFactory=function(){function o(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return o.prototype={addAudio:function(h){this.audios.push(h)},pause:function(){var h,d=this.audios.length;for(h=0;h<d;h+=1)this.audios[h].pause()},resume:function(){var h,d=this.audios.length;for(h=0;h<d;h+=1)this.audios[h].resume()},setRate:function(h){var d,g=this.audios.length;for(d=0;d<g;d+=1)this.audios[d].setRate(h)},createAudio:function(h){return this.audioFactory?this.audioFactory(h):window.Howl?new window.Howl({src:[h]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(h){this.audioFactory=h},setVolume:function(h){this._volume=h,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var h,d=this.audios.length;for(h=0;h<d;h+=1)this.audios[h].volume(this._volume*(this._isMuted?0:1))}},function(){return new o}}(),createTypedArray=function(){function o(h,d){var g=0,_=[],b;switch(h){case"int16":case"uint8c":b=1;break;default:b=1.1;break}for(g=0;g<d;g+=1)_.push(b);return _}function e(h,d){return h==="float32"?new Float32Array(d):h==="int16"?new Int16Array(d):h==="uint8c"?new Uint8ClampedArray(d):o(h,d)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:o}();function createSizedArray(o){return Array.apply(null,{length:o})}function _typeof$6(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(h){return typeof h}:_typeof$6=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof$6(o)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var o=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,h=o.length;for(e=0;e<h;e+=1)BMMath[o[e]]=Math[o[e]]})(),BMMath.random=Math.random,BMMath.abs=function(o){var e=_typeof$6(o);if(e==="object"&&o.length){var h=createSizedArray(o.length),d,g=o.length;for(d=0;d<g;d+=1)h[d]=Math.abs(o[d]);return h}return Math.abs(o)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(o){o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.display="block",o.style.transformOrigin="0 0",o.style.webkitTransformOrigin="0 0",o.style.backfaceVisibility="visible",o.style.webkitBackfaceVisibility="visible",o.style.transformStyle="preserve-3d",o.style.webkitTransformStyle="preserve-3d",o.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(o,e,h,d){this.type=o,this.currentTime=e,this.totalTime=h,this.direction=d<0?-1:1}function BMCompleteEvent(o,e){this.type=o,this.direction=e<0?-1:1}function BMCompleteLoopEvent(o,e,h,d){this.type=o,this.currentLoop=h,this.totalLoops=e,this.direction=d<0?-1:1}function BMSegmentStartEvent(o,e,h){this.type=o,this.firstFrame=e,this.totalFrames=h}function BMDestroyEvent(o,e){this.type=o,this.target=e}function BMRenderFrameErrorEvent(o,e){this.type="renderFrameError",this.nativeError=o,this.currentTime=e}function BMConfigErrorEvent(o){this.type="configError",this.nativeError=o}var createElementID=function(){var o=0;return function(){return o+=1,idPrefix$1+"__lottie_element_"+o}}();function HSVtoRGB(o,e,h){var d,g,_,b,$,j,_e,et;switch(b=Math.floor(o*6),$=o*6-b,j=h*(1-e),_e=h*(1-$*e),et=h*(1-(1-$)*e),b%6){case 0:d=h,g=et,_=j;break;case 1:d=_e,g=h,_=j;break;case 2:d=j,g=h,_=et;break;case 3:d=j,g=_e,_=h;break;case 4:d=et,g=j,_=h;break;case 5:d=h,g=j,_=_e;break}return[d,g,_]}function RGBtoHSV(o,e,h){var d=Math.max(o,e,h),g=Math.min(o,e,h),_=d-g,b,$=d===0?0:_/d,j=d/255;switch(d){case g:b=0;break;case o:b=e-h+_*(e<h?6:0),b/=6*_;break;case e:b=h-o+_*2,b/=6*_;break;case h:b=o-e+_*4,b/=6*_;break}return[b,$,j]}function addSaturationToRGB(o,e){var h=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return h[1]+=e,h[1]>1?h[1]=1:h[1]<=0&&(h[1]=0),HSVtoRGB(h[0],h[1],h[2])}function addBrightnessToRGB(o,e){var h=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return h[2]+=e,h[2]>1?h[2]=1:h[2]<0&&(h[2]=0),HSVtoRGB(h[0],h[1],h[2])}function addHueToRGB(o,e){var h=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return h[0]+=e/360,h[0]>1?h[0]-=1:h[0]<0&&(h[0]+=1),HSVtoRGB(h[0],h[1],h[2])}var rgbToHex=function(){var o=[],e,h;for(e=0;e<256;e+=1)h=e.toString(16),o[e]=h.length===1?"0"+h:h;return function(d,g,_){return d<0&&(d=0),g<0&&(g=0),_<0&&(_=0),"#"+o[d]+o[g]+o[_]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(o){return document.createElementNS(svgNS,o)}function _typeof$5(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(h){return typeof h}:_typeof$5=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof$5(o)}var dataManager=function(){var o=1,e=[],h,d,g={onmessage:function(){},postMessage:function(nt){h({data:nt})}},_={postMessage:function(nt){g.onmessage({data:nt})}};function b(tt){if(window.Worker&&window.Blob&&getWebWorker()){var nt=new Blob(["var _workerSelf = self; self.onmessage = ",tt.toString()],{type:"text/javascript"}),st=URL.createObjectURL(nt);return new Worker(st)}return h=tt,g}function $(){d||(d=b(function(nt){function st(){function ct(It,Et){var Ct,St,At=It.length,Rt,Ot,Gt,Qt;for(St=0;St<At;St+=1)if(Ct=It[St],"ks"in Ct&&!Ct.completed){if(Ct.completed=!0,Ct.hasMask){var ir=Ct.masksProperties;for(Ot=ir.length,Rt=0;Rt<Ot;Rt+=1)if(ir[Rt].pt.k.i)dt(ir[Rt].pt.k);else for(Qt=ir[Rt].pt.k.length,Gt=0;Gt<Qt;Gt+=1)ir[Rt].pt.k[Gt].s&&dt(ir[Rt].pt.k[Gt].s[0]),ir[Rt].pt.k[Gt].e&&dt(ir[Rt].pt.k[Gt].e[0])}Ct.ty===0?(Ct.layers=ht(Ct.refId,Et),ct(Ct.layers,Et)):Ct.ty===4?ut(Ct.shapes):Ct.ty===5&&Lt(Ct)}}function it(It,Et){if(It){var Ct=0,St=It.length;for(Ct=0;Ct<St;Ct+=1)It[Ct].t===1&&(It[Ct].data.layers=ht(It[Ct].data.refId,Et),ct(It[Ct].data.layers,Et))}}function lt(It,Et){for(var Ct=0,St=Et.length;Ct<St;){if(Et[Ct].id===It)return Et[Ct];Ct+=1}return null}function ht(It,Et){var Ct=lt(It,Et);return Ct?Ct.layers.__used?JSON.parse(JSON.stringify(Ct.layers)):(Ct.layers.__used=!0,Ct.layers):null}function ut(It){var Et,Ct=It.length,St,At;for(Et=Ct-1;Et>=0;Et-=1)if(It[Et].ty==="sh")if(It[Et].ks.k.i)dt(It[Et].ks.k);else for(At=It[Et].ks.k.length,St=0;St<At;St+=1)It[Et].ks.k[St].s&&dt(It[Et].ks.k[St].s[0]),It[Et].ks.k[St].e&&dt(It[Et].ks.k[St].e[0]);else It[Et].ty==="gr"&&ut(It[Et].it)}function dt(It){var Et,Ct=It.i.length;for(Et=0;Et<Ct;Et+=1)It.i[Et][0]+=It.v[Et][0],It.i[Et][1]+=It.v[Et][1],It.o[Et][0]+=It.v[Et][0],It.o[Et][1]+=It.v[Et][1]}function pt(It,Et){var Ct=Et?Et.split("."):[100,100,100];return It[0]>Ct[0]?!0:Ct[0]>It[0]?!1:It[1]>Ct[1]?!0:Ct[1]>It[1]?!1:It[2]>Ct[2]?!0:Ct[2]>It[2]?!1:null}var mt=function(){var It=[4,4,14];function Et(St){var At=St.t.d;St.t.d={k:[{s:At,t:0}]}}function Ct(St){var At,Rt=St.length;for(At=0;At<Rt;At+=1)St[At].ty===5&&Et(St[At])}return function(St){if(pt(It,St.v)&&(Ct(St.layers),St.assets)){var At,Rt=St.assets.length;for(At=0;At<Rt;At+=1)St.assets[At].layers&&Ct(St.assets[At].layers)}}}(),yt=function(){var It=[4,7,99];return function(Et){if(Et.chars&&!pt(It,Et.v)){var Ct,St=Et.chars.length;for(Ct=0;Ct<St;Ct+=1){var At=Et.chars[Ct];At.data&&At.data.shapes&&(ut(At.data.shapes),At.data.ip=0,At.data.op=99999,At.data.st=0,At.data.sr=1,At.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Et.chars[Ct].t||(At.data.shapes.push({ty:"no"}),At.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),xt=function(){var It=[5,7,15];function Et(St){var At=St.t.p;typeof At.a=="number"&&(At.a={a:0,k:At.a}),typeof At.p=="number"&&(At.p={a:0,k:At.p}),typeof At.r=="number"&&(At.r={a:0,k:At.r})}function Ct(St){var At,Rt=St.length;for(At=0;At<Rt;At+=1)St[At].ty===5&&Et(St[At])}return function(St){if(pt(It,St.v)&&(Ct(St.layers),St.assets)){var At,Rt=St.assets.length;for(At=0;At<Rt;At+=1)St.assets[At].layers&&Ct(St.assets[At].layers)}}}(),Tt=function(){var It=[4,1,9];function Et(St){var At,Rt=St.length,Ot,Gt;for(At=0;At<Rt;At+=1)if(St[At].ty==="gr")Et(St[At].it);else if(St[At].ty==="fl"||St[At].ty==="st")if(St[At].c.k&&St[At].c.k[0].i)for(Gt=St[At].c.k.length,Ot=0;Ot<Gt;Ot+=1)St[At].c.k[Ot].s&&(St[At].c.k[Ot].s[0]/=255,St[At].c.k[Ot].s[1]/=255,St[At].c.k[Ot].s[2]/=255,St[At].c.k[Ot].s[3]/=255),St[At].c.k[Ot].e&&(St[At].c.k[Ot].e[0]/=255,St[At].c.k[Ot].e[1]/=255,St[At].c.k[Ot].e[2]/=255,St[At].c.k[Ot].e[3]/=255);else St[At].c.k[0]/=255,St[At].c.k[1]/=255,St[At].c.k[2]/=255,St[At].c.k[3]/=255}function Ct(St){var At,Rt=St.length;for(At=0;At<Rt;At+=1)St[At].ty===4&&Et(St[At].shapes)}return function(St){if(pt(It,St.v)&&(Ct(St.layers),St.assets)){var At,Rt=St.assets.length;for(At=0;At<Rt;At+=1)St.assets[At].layers&&Ct(St.assets[At].layers)}}}(),_t=function(){var It=[4,4,18];function Et(St){var At,Rt=St.length,Ot,Gt;for(At=Rt-1;At>=0;At-=1)if(St[At].ty==="sh")if(St[At].ks.k.i)St[At].ks.k.c=St[At].closed;else for(Gt=St[At].ks.k.length,Ot=0;Ot<Gt;Ot+=1)St[At].ks.k[Ot].s&&(St[At].ks.k[Ot].s[0].c=St[At].closed),St[At].ks.k[Ot].e&&(St[At].ks.k[Ot].e[0].c=St[At].closed);else St[At].ty==="gr"&&Et(St[At].it)}function Ct(St){var At,Rt,Ot=St.length,Gt,Qt,ir,tr;for(Rt=0;Rt<Ot;Rt+=1){if(At=St[Rt],At.hasMask){var Wt=At.masksProperties;for(Qt=Wt.length,Gt=0;Gt<Qt;Gt+=1)if(Wt[Gt].pt.k.i)Wt[Gt].pt.k.c=Wt[Gt].cl;else for(tr=Wt[Gt].pt.k.length,ir=0;ir<tr;ir+=1)Wt[Gt].pt.k[ir].s&&(Wt[Gt].pt.k[ir].s[0].c=Wt[Gt].cl),Wt[Gt].pt.k[ir].e&&(Wt[Gt].pt.k[ir].e[0].c=Wt[Gt].cl)}At.ty===4&&Et(At.shapes)}}return function(St){if(pt(It,St.v)&&(Ct(St.layers),St.assets)){var At,Rt=St.assets.length;for(At=0;At<Rt;At+=1)St.assets[At].layers&&Ct(St.assets[At].layers)}}}();function Mt(It){It.__complete||(Tt(It),mt(It),yt(It),xt(It),_t(It),ct(It.layers,It.assets),it(It.chars,It.assets),It.__complete=!0)}function Lt(It){It.t.a.length===0&&!("m"in It.t.p)}var Pt={};return Pt.completeData=Mt,Pt.checkColors=Tt,Pt.checkChars=yt,Pt.checkPathProperties=xt,Pt.checkShapes=_t,Pt.completeLayers=ct,Pt}if(_.dataManager||(_.dataManager=st()),_.assetLoader||(_.assetLoader=function(){function ct(lt){var ht=lt.getResponseHeader("content-type");return ht&&lt.responseType==="json"&&ht.indexOf("json")!==-1||lt.response&&_typeof$5(lt.response)==="object"?lt.response:lt.response&&typeof lt.response=="string"?JSON.parse(lt.response):lt.responseText?JSON.parse(lt.responseText):null}function it(lt,ht,ut,dt){var pt,mt=new XMLHttpRequest;try{mt.responseType="json"}catch{}mt.onreadystatechange=function(){if(mt.readyState===4)if(mt.status===200)pt=ct(mt),ut(pt);else try{pt=ct(mt),ut(pt)}catch(yt){dt&&dt(yt)}};try{mt.open(["G","E","T"].join(""),lt,!0)}catch{mt.open(["G","E","T"].join(""),ht+"/"+lt,!0)}mt.send()}return{load:it}}()),nt.data.type==="loadAnimation")_.assetLoader.load(nt.data.path,nt.data.fullPath,function(ct){_.dataManager.completeData(ct),_.postMessage({id:nt.data.id,payload:ct,status:"success"})},function(){_.postMessage({id:nt.data.id,status:"error"})});else if(nt.data.type==="complete"){var at=nt.data.animation;_.dataManager.completeData(at),_.postMessage({id:nt.data.id,payload:at,status:"success"})}else nt.data.type==="loadData"&&_.assetLoader.load(nt.data.path,nt.data.fullPath,function(ct){_.postMessage({id:nt.data.id,payload:ct,status:"success"})},function(){_.postMessage({id:nt.data.id,status:"error"})})}),d.onmessage=function(tt){var nt=tt.data,st=nt.id,at=e[st];e[st]=null,nt.status==="success"?at.onComplete(nt.payload):at.onError&&at.onError()})}function j(tt,nt){o+=1;var st="processId_"+o;return e[st]={onComplete:tt,onError:nt},st}function _e(tt,nt,st){$();var at=j(nt,st);d.postMessage({type:"loadAnimation",path:tt,fullPath:window.location.origin+window.location.pathname,id:at})}function et(tt,nt,st){$();var at=j(nt,st);d.postMessage({type:"loadData",path:tt,fullPath:window.location.origin+window.location.pathname,id:at})}function rt(tt,nt,st){$();var at=j(nt,st);d.postMessage({type:"complete",animation:tt,id:at})}return{loadAnimation:_e,loadData:et,completeAnimation:rt}}(),ImagePreloader=function(){var o=function(){var it=createTag("canvas");it.width=1,it.height=1;var lt=it.getContext("2d");return lt.fillStyle="rgba(0,0,0,0)",lt.fillRect(0,0,1,1),it}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function h(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function d(it,lt,ht){var ut="";if(it.e)ut=it.p;else if(lt){var dt=it.p;dt.indexOf("images/")!==-1&&(dt=dt.split("/")[1]),ut=lt+dt}else ut=ht,ut+=it.u?it.u:"",ut+=it.p;return ut}function g(it){var lt=0,ht=setInterval(function(){var ut=it.getBBox();(ut.width||lt>500)&&(this._imageLoaded(),clearInterval(ht)),lt+=1}.bind(this),50)}function _(it){var lt=d(it,this.assetsPath,this.path),ht=createNS("image");isSafari?this.testImageLoaded(ht):ht.addEventListener("load",this._imageLoaded,!1),ht.addEventListener("error",function(){ut.img=o,this._imageLoaded()}.bind(this),!1),ht.setAttributeNS("http://www.w3.org/1999/xlink","href",lt),this._elementHelper.append?this._elementHelper.append(ht):this._elementHelper.appendChild(ht);var ut={img:ht,assetData:it};return ut}function b(it){var lt=d(it,this.assetsPath,this.path),ht=createTag("img");ht.crossOrigin="anonymous",ht.addEventListener("load",this._imageLoaded,!1),ht.addEventListener("error",function(){ut.img=o,this._imageLoaded()}.bind(this),!1),ht.src=lt;var ut={img:ht,assetData:it};return ut}function $(it){var lt={assetData:it},ht=d(it,this.assetsPath,this.path);return dataManager.loadData(ht,function(ut){lt.img=ut,this._footageLoaded()}.bind(this),function(){lt.img={},this._footageLoaded()}.bind(this)),lt}function j(it,lt){this.imagesLoadedCb=lt;var ht,ut=it.length;for(ht=0;ht<ut;ht+=1)it[ht].layers||(!it[ht].t||it[ht].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(it[ht]))):it[ht].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(it[ht]))))}function _e(it){this.path=it||""}function et(it){this.assetsPath=it||""}function rt(it){for(var lt=0,ht=this.images.length;lt<ht;){if(this.images[lt].assetData===it)return this.images[lt].img;lt+=1}return null}function tt(){this.imagesLoadedCb=null,this.images.length=0}function nt(){return this.totalImages===this.loadedAssets}function st(){return this.totalFootages===this.loadedFootagesCount}function at(it,lt){it==="svg"?(this._elementHelper=lt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ct(){this._imageLoaded=e.bind(this),this._footageLoaded=h.bind(this),this.testImageLoaded=g.bind(this),this.createFootageData=$.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ct.prototype={loadAssets:j,setAssetsPath:et,setPath:_e,loadedImages:nt,loadedFootages:st,destroy:tt,getAsset:rt,createImgData:b,createImageData:_,imageLoaded:e,footageLoaded:h,setCacheType:at},ct}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,h){if(this._cbs[e])for(var d=this._cbs[e],g=0;g<d.length;g+=1)d[g](h)},addEventListener:function(e,h){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(h),function(){this.removeEventListener(e,h)}.bind(this)},removeEventListener:function(e,h){if(!h)this._cbs[e]=null;else if(this._cbs[e]){for(var d=0,g=this._cbs[e].length;d<g;)this._cbs[e][d]===h&&(this._cbs[e].splice(d,1),d-=1,g-=1),d+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function o(e){for(var h=e.split(`\r
`),d={},g,_=0,b=0;b<h.length;b+=1)g=h[b].split(":"),g.length===2&&(d[g[0]]=g[1].trim(),_+=1);if(_===0)throw new Error;return d}return function(e){for(var h=[],d=0;d<e.length;d+=1){var g=e[d],_={time:g.tm,duration:g.dr};try{_.payload=JSON.parse(e[d].cm)}catch{try{_.payload=o(e[d].cm)}catch{_.payload={name:e[d].cm}}}h.push(_)}return h}}(),ProjectInterface=function(){function o(e){this.compositions.push(e)}return function(){function e(h){for(var d=0,g=this.compositions.length;d<g;){if(this.compositions[d].data&&this.compositions[d].data.nm===h)return this.compositions[d].prepareFrame&&this.compositions[d].data.xt&&this.compositions[d].prepareFrame(this.currentFrame),this.compositions[d].compInterface;d+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=o,e}}(),renderers={},registerRenderer=function(e,h){renderers[e]=h};function getRenderer(o){return renderers[o]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var o in renderers)if(renderers[o])return o;return""}function _typeof$4(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(h){return typeof h}:_typeof$4=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof$4(o)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(o){(o.wrapper||o.container)&&(this.wrapper=o.wrapper||o.container);var e="svg";o.animType?e=o.animType:o.renderer&&(e=o.renderer);var h=getRenderer(e);this.renderer=new h(this,o.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,o.loop===""||o.loop===null||o.loop===void 0||o.loop===!0?this.loop=!0:o.loop===!1?this.loop=!1:this.loop=parseInt(o.loop,10),this.autoplay="autoplay"in o?o.autoplay:!0,this.name=o.name?o.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(o,"autoloadSegments")?o.autoloadSegments:!0,this.assetsPath=o.assetsPath,this.initialSegment=o.initialSegment,o.audioFactory&&this.audioController.setAudioFactory(o.audioFactory),o.animationData?this.setupAnimation(o.animationData):o.path&&(o.path.lastIndexOf("\\")!==-1?this.path=o.path.substr(0,o.path.lastIndexOf("\\")+1):this.path=o.path.substr(0,o.path.lastIndexOf("/")+1),this.fileName=o.path.substr(o.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(o.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(o){dataManager.completeAnimation(o,this.configAnimation)},AnimationItem.prototype.setData=function(o,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var h={wrapper:o,animationData:e},d=o.attributes;h.path=d.getNamedItem("data-animation-path")?d.getNamedItem("data-animation-path").value:d.getNamedItem("data-bm-path")?d.getNamedItem("data-bm-path").value:d.getNamedItem("bm-path")?d.getNamedItem("bm-path").value:"",h.animType=d.getNamedItem("data-anim-type")?d.getNamedItem("data-anim-type").value:d.getNamedItem("data-bm-type")?d.getNamedItem("data-bm-type").value:d.getNamedItem("bm-type")?d.getNamedItem("bm-type").value:d.getNamedItem("data-bm-renderer")?d.getNamedItem("data-bm-renderer").value:d.getNamedItem("bm-renderer")?d.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var g=d.getNamedItem("data-anim-loop")?d.getNamedItem("data-anim-loop").value:d.getNamedItem("data-bm-loop")?d.getNamedItem("data-bm-loop").value:d.getNamedItem("bm-loop")?d.getNamedItem("bm-loop").value:"";g==="false"?h.loop=!1:g==="true"?h.loop=!0:g!==""&&(h.loop=parseInt(g,10));var _=d.getNamedItem("data-anim-autoplay")?d.getNamedItem("data-anim-autoplay").value:d.getNamedItem("data-bm-autoplay")?d.getNamedItem("data-bm-autoplay").value:d.getNamedItem("bm-autoplay")?d.getNamedItem("bm-autoplay").value:!0;h.autoplay=_!=="false",h.name=d.getNamedItem("data-name")?d.getNamedItem("data-name").value:d.getNamedItem("data-bm-name")?d.getNamedItem("data-bm-name").value:d.getNamedItem("bm-name")?d.getNamedItem("bm-name").value:"";var b=d.getNamedItem("data-anim-prerender")?d.getNamedItem("data-anim-prerender").value:d.getNamedItem("data-bm-prerender")?d.getNamedItem("data-bm-prerender").value:d.getNamedItem("bm-prerender")?d.getNamedItem("bm-prerender").value:"";b==="false"&&(h.prerender=!1),h.path?this.setParams(h):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(o){o.op>this.animationData.op&&(this.animationData.op=o.op,this.totalFrames=Math.floor(o.op-this.animationData.ip));var e=this.animationData.layers,h,d=e.length,g=o.layers,_,b=g.length;for(_=0;_<b;_+=1)for(h=0;h<d;){if(e[h].id===g[_].id){e[h]=g[_];break}h+=1}if((o.chars||o.fonts)&&(this.renderer.globalData.fontManager.addChars(o.chars),this.renderer.globalData.fontManager.addFonts(o.fonts,this.renderer.globalData.defs)),o.assets)for(d=o.assets.length,h=0;h<d;h+=1)this.animationData.assets.push(o.assets[h]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(o){this.animationData=o;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var o=this.animationData.segments;if(!o||o.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=o.shift();this.timeCompleted=e.time*this.frameRate;var h=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(h,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var o=this.animationData.segments;o||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(o){if(!!this.renderer)try{this.animationData=o,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(o),o.assets||(o.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(o.assets),this.markers=markerParser(o.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var o=getExpressionsPlugin();o&&o.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(o,e){var h=typeof o=="number"?o:void 0,d=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(h,d)},AnimationItem.prototype.setSubframe=function(o){this.isSubframeEnabled=!!o},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(o){this.triggerRenderFrameError(o)}},AnimationItem.prototype.play=function(o){o&&this.name!==o||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(o){o&&this.name!==o||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(o){o&&this.name!==o||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(o){o&&this.name!==o||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(o){for(var e,h=0;h<this.markers.length;h+=1)if(e=this.markers[h],e.payload&&e.payload.name===o)return e;return null},AnimationItem.prototype.goToAndStop=function(o,e,h){if(!(h&&this.name!==h)){var d=Number(o);if(isNaN(d)){var g=this.getMarkerData(o);g&&this.goToAndStop(g.time,!0)}else e?this.setCurrentRawFrameValue(o):this.setCurrentRawFrameValue(o*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(o,e,h){if(!(h&&this.name!==h)){var d=Number(o);if(isNaN(d)){var g=this.getMarkerData(o);g&&(g.duration?this.playSegments([g.time,g.time+g.duration],!0):this.goToAndStop(g.time,!0))}else this.goToAndStop(d,e,h);this.play()}},AnimationItem.prototype.advanceTime=function(o){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+o*this.frameModifier,h=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(h=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(h=!0,e=0)):this.setCurrentRawFrameValue(e),h&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(o,e){this.playCount=0,o[1]<o[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=o[0]-o[1],this.timeCompleted=this.totalFrames,this.firstFrame=o[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):o[1]>o[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=o[1]-o[0],this.timeCompleted=this.totalFrames,this.firstFrame=o[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(o,e){var h=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<o?h=o:this.currentRawFrame+this.firstFrame>e&&(h=e-o)),this.firstFrame=o,this.totalFrames=e-o,this.timeCompleted=this.totalFrames,h!==-1&&this.goToAndStop(h,!0)},AnimationItem.prototype.playSegments=function(o,e){if(e&&(this.segments.length=0),_typeof$4(o[0])==="object"){var h,d=o.length;for(h=0;h<d;h+=1)this.segments.push(o[h])}else this.segments.push(o);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(o){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),o&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(o){return this.segments.length?(this.adjustSegment(this.segments.shift(),o),!0):!1},AnimationItem.prototype.destroy=function(o){o&&this.name!==o||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(o){this.currentRawFrame=o,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(o){this.playSpeed=o,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(o){this.playDirection=o<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(o){this.loop=o},AnimationItem.prototype.setVolume=function(o,e){e&&this.name!==e||this.audioController.setVolume(o)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(o){o&&this.name!==o||this.audioController.mute()},AnimationItem.prototype.unmute=function(o){o&&this.name!==o||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(o){var e="";if(o.e)e=o.p;else if(this.assetsPath){var h=o.p;h.indexOf("images/")!==-1&&(h=h.split("/")[1]),e=this.assetsPath+h}else e=this.path,e+=o.u?o.u:"",e+=o.p;return e},AnimationItem.prototype.getAssetData=function(o){for(var e=0,h=this.assets.length;e<h;){if(o===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(o){return o?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(o,e,h){try{var d=this.renderer.getElementByPath(o);d.updateDocumentData(e,h)}catch{}},AnimationItem.prototype.trigger=function(o){if(this._cbs&&this._cbs[o])switch(o){case"enterFrame":this.triggerEvent(o,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(o,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(o,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(o,new BMCompleteEvent(o,this.frameMult));break;case"segmentStart":this.triggerEvent(o,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(o,new BMDestroyEvent(o,this));break;default:this.triggerEvent(o)}o==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameMult)),o==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult)),o==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(o,this.frameMult)),o==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames)),o==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(o,this))},AnimationItem.prototype.triggerRenderFrameError=function(o){var e=new BMRenderFrameErrorEvent(o,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(o){var e=new BMConfigErrorEvent(o,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var o={},e=[],h=0,d=0,g=0,_=!0,b=!1;function $(Et){for(var Ct=0,St=Et.target;Ct<d;)e[Ct].animation===St&&(e.splice(Ct,1),Ct-=1,d-=1,St.isPaused||rt()),Ct+=1}function j(Et,Ct){if(!Et)return null;for(var St=0;St<d;){if(e[St].elem===Et&&e[St].elem!==null)return e[St].animation;St+=1}var At=new AnimationItem;return tt(At,Et),At.setData(Et,Ct),At}function _e(){var Et,Ct=e.length,St=[];for(Et=0;Et<Ct;Et+=1)St.push(e[Et].animation);return St}function et(){g+=1,Tt()}function rt(){g-=1}function tt(Et,Ct){Et.addEventListener("destroy",$),Et.addEventListener("_active",et),Et.addEventListener("_idle",rt),e.push({elem:Ct,animation:Et}),d+=1}function nt(Et){var Ct=new AnimationItem;return tt(Ct,null),Ct.setParams(Et),Ct}function st(Et,Ct){var St;for(St=0;St<d;St+=1)e[St].animation.setSpeed(Et,Ct)}function at(Et,Ct){var St;for(St=0;St<d;St+=1)e[St].animation.setDirection(Et,Ct)}function ct(Et){var Ct;for(Ct=0;Ct<d;Ct+=1)e[Ct].animation.play(Et)}function it(Et){var Ct=Et-h,St;for(St=0;St<d;St+=1)e[St].animation.advanceTime(Ct);h=Et,g&&!b?window.requestAnimationFrame(it):_=!0}function lt(Et){h=Et,window.requestAnimationFrame(it)}function ht(Et){var Ct;for(Ct=0;Ct<d;Ct+=1)e[Ct].animation.pause(Et)}function ut(Et,Ct,St){var At;for(At=0;At<d;At+=1)e[At].animation.goToAndStop(Et,Ct,St)}function dt(Et){var Ct;for(Ct=0;Ct<d;Ct+=1)e[Ct].animation.stop(Et)}function pt(Et){var Ct;for(Ct=0;Ct<d;Ct+=1)e[Ct].animation.togglePause(Et)}function mt(Et){var Ct;for(Ct=d-1;Ct>=0;Ct-=1)e[Ct].animation.destroy(Et)}function yt(Et,Ct,St){var At=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Rt,Ot=At.length;for(Rt=0;Rt<Ot;Rt+=1)St&&At[Rt].setAttribute("data-bm-type",St),j(At[Rt],Et);if(Ct&&Ot===0){St||(St="svg");var Gt=document.getElementsByTagName("body")[0];Gt.innerText="";var Qt=createTag("div");Qt.style.width="100%",Qt.style.height="100%",Qt.setAttribute("data-bm-type",St),Gt.appendChild(Qt),j(Qt,Et)}}function xt(){var Et;for(Et=0;Et<d;Et+=1)e[Et].animation.resize()}function Tt(){!b&&g&&_&&(window.requestAnimationFrame(lt),_=!1)}function _t(){b=!0}function Mt(){b=!1,Tt()}function Lt(Et,Ct){var St;for(St=0;St<d;St+=1)e[St].animation.setVolume(Et,Ct)}function Pt(Et){var Ct;for(Ct=0;Ct<d;Ct+=1)e[Ct].animation.mute(Et)}function It(Et){var Ct;for(Ct=0;Ct<d;Ct+=1)e[Ct].animation.unmute(Et)}return o.registerAnimation=j,o.loadAnimation=nt,o.setSpeed=st,o.setDirection=at,o.play=ct,o.pause=ht,o.stop=dt,o.togglePause=pt,o.searchAnimations=yt,o.resize=xt,o.goToAndStop=ut,o.destroy=mt,o.freeze=_t,o.unfreeze=Mt,o.setVolume=Lt,o.mute=Pt,o.unmute=It,o.getRegisteredAnimations=_e,o}(),BezierFactory=function(){var o={};o.getBezierEasing=h;var e={};function h(lt,ht,ut,dt,pt){var mt=pt||("bez_"+lt+"_"+ht+"_"+ut+"_"+dt).replace(/\./g,"p");if(e[mt])return e[mt];var yt=new it([lt,ht,ut,dt]);return e[mt]=yt,yt}var d=4,g=.001,_=1e-7,b=10,$=11,j=1/($-1),_e=typeof Float32Array=="function";function et(lt,ht){return 1-3*ht+3*lt}function rt(lt,ht){return 3*ht-6*lt}function tt(lt){return 3*lt}function nt(lt,ht,ut){return((et(ht,ut)*lt+rt(ht,ut))*lt+tt(ht))*lt}function st(lt,ht,ut){return 3*et(ht,ut)*lt*lt+2*rt(ht,ut)*lt+tt(ht)}function at(lt,ht,ut,dt,pt){var mt,yt,xt=0;do yt=ht+(ut-ht)/2,mt=nt(yt,dt,pt)-lt,mt>0?ut=yt:ht=yt;while(Math.abs(mt)>_&&++xt<b);return yt}function ct(lt,ht,ut,dt){for(var pt=0;pt<d;++pt){var mt=st(ht,ut,dt);if(mt===0)return ht;var yt=nt(ht,ut,dt)-lt;ht-=yt/mt}return ht}function it(lt){this._p=lt,this._mSampleValues=_e?new Float32Array($):new Array($),this._precomputed=!1,this.get=this.get.bind(this)}return it.prototype={get:function(ht){var ut=this._p[0],dt=this._p[1],pt=this._p[2],mt=this._p[3];return this._precomputed||this._precompute(),ut===dt&&pt===mt?ht:ht===0?0:ht===1?1:nt(this._getTForX(ht),dt,mt)},_precompute:function(){var ht=this._p[0],ut=this._p[1],dt=this._p[2],pt=this._p[3];this._precomputed=!0,(ht!==ut||dt!==pt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var ht=this._p[0],ut=this._p[2],dt=0;dt<$;++dt)this._mSampleValues[dt]=nt(dt*j,ht,ut)},_getTForX:function(ht){for(var ut=this._p[0],dt=this._p[2],pt=this._mSampleValues,mt=0,yt=1,xt=$-1;yt!==xt&&pt[yt]<=ht;++yt)mt+=j;--yt;var Tt=(ht-pt[yt])/(pt[yt+1]-pt[yt]),_t=mt+Tt*j,Mt=st(_t,ut,dt);return Mt>=g?ct(ht,_t,ut,dt):Mt===0?_t:at(ht,mt,mt+j,ut,dt)}},o}(),pooling=function(){function o(e){return e.concat(createSizedArray(e.length))}return{double:o}}(),poolFactory=function(){return function(o,e,h){var d=0,g=o,_=createSizedArray(g),b={newElement:$,release:j};function $(){var _e;return d?(d-=1,_e=_[d]):_e=e(),_e}function j(_e){d===g&&(_=pooling.double(_),g*=2),h&&h(_e),_[d]=_e,d+=1}return b}}(),bezierLengthPool=function(){function o(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,o)}(),segmentsLengthPool=function(){function o(){return{lengths:[],totalLength:0}}function e(h){var d,g=h.lengths.length;for(d=0;d<g;d+=1)bezierLengthPool.release(h.lengths[d]);h.lengths.length=0}return poolFactory(8,o,e)}();function bezFunction(){var o=Math;function e(tt,nt,st,at,ct,it){var lt=tt*at+nt*ct+st*it-ct*at-it*tt-st*nt;return lt>-.001&&lt<.001}function h(tt,nt,st,at,ct,it,lt,ht,ut){if(st===0&&it===0&&ut===0)return e(tt,nt,at,ct,lt,ht);var dt=o.sqrt(o.pow(at-tt,2)+o.pow(ct-nt,2)+o.pow(it-st,2)),pt=o.sqrt(o.pow(lt-tt,2)+o.pow(ht-nt,2)+o.pow(ut-st,2)),mt=o.sqrt(o.pow(lt-at,2)+o.pow(ht-ct,2)+o.pow(ut-it,2)),yt;return dt>pt?dt>mt?yt=dt-pt-mt:yt=mt-pt-dt:mt>pt?yt=mt-pt-dt:yt=pt-dt-mt,yt>-1e-4&&yt<1e-4}var d=function(){return function(tt,nt,st,at){var ct=getDefaultCurveSegments(),it,lt,ht,ut,dt,pt=0,mt,yt=[],xt=[],Tt=bezierLengthPool.newElement();for(ht=st.length,it=0;it<ct;it+=1){for(dt=it/(ct-1),mt=0,lt=0;lt<ht;lt+=1)ut=bmPow(1-dt,3)*tt[lt]+3*bmPow(1-dt,2)*dt*st[lt]+3*(1-dt)*bmPow(dt,2)*at[lt]+bmPow(dt,3)*nt[lt],yt[lt]=ut,xt[lt]!==null&&(mt+=bmPow(yt[lt]-xt[lt],2)),xt[lt]=yt[lt];mt&&(mt=bmSqrt(mt),pt+=mt),Tt.percents[it]=dt,Tt.lengths[it]=pt}return Tt.addedLength=pt,Tt}}();function g(tt){var nt=segmentsLengthPool.newElement(),st=tt.c,at=tt.v,ct=tt.o,it=tt.i,lt,ht=tt._length,ut=nt.lengths,dt=0;for(lt=0;lt<ht-1;lt+=1)ut[lt]=d(at[lt],at[lt+1],ct[lt],it[lt+1]),dt+=ut[lt].addedLength;return st&&ht&&(ut[lt]=d(at[lt],at[0],ct[lt],it[0]),dt+=ut[lt].addedLength),nt.totalLength=dt,nt}function _(tt){this.segmentLength=0,this.points=new Array(tt)}function b(tt,nt){this.partialLength=tt,this.point=nt}var $=function(){var tt={};return function(nt,st,at,ct){var it=(nt[0]+"_"+nt[1]+"_"+st[0]+"_"+st[1]+"_"+at[0]+"_"+at[1]+"_"+ct[0]+"_"+ct[1]).replace(/\./g,"p");if(!tt[it]){var lt=getDefaultCurveSegments(),ht,ut,dt,pt,mt,yt=0,xt,Tt,_t=null;nt.length===2&&(nt[0]!==st[0]||nt[1]!==st[1])&&e(nt[0],nt[1],st[0],st[1],nt[0]+at[0],nt[1]+at[1])&&e(nt[0],nt[1],st[0],st[1],st[0]+ct[0],st[1]+ct[1])&&(lt=2);var Mt=new _(lt);for(dt=at.length,ht=0;ht<lt;ht+=1){for(Tt=createSizedArray(dt),mt=ht/(lt-1),xt=0,ut=0;ut<dt;ut+=1)pt=bmPow(1-mt,3)*nt[ut]+3*bmPow(1-mt,2)*mt*(nt[ut]+at[ut])+3*(1-mt)*bmPow(mt,2)*(st[ut]+ct[ut])+bmPow(mt,3)*st[ut],Tt[ut]=pt,_t!==null&&(xt+=bmPow(Tt[ut]-_t[ut],2));xt=bmSqrt(xt),yt+=xt,Mt.points[ht]=new b(xt,Tt),_t=Tt}Mt.segmentLength=yt,tt[it]=Mt}return tt[it]}}();function j(tt,nt){var st=nt.percents,at=nt.lengths,ct=st.length,it=bmFloor((ct-1)*tt),lt=tt*nt.addedLength,ht=0;if(it===ct-1||it===0||lt===at[it])return st[it];for(var ut=at[it]>lt?-1:1,dt=!0;dt;)if(at[it]<=lt&&at[it+1]>lt?(ht=(lt-at[it])/(at[it+1]-at[it]),dt=!1):it+=ut,it<0||it>=ct-1){if(it===ct-1)return st[it];dt=!1}return st[it]+(st[it+1]-st[it])*ht}function _e(tt,nt,st,at,ct,it){var lt=j(ct,it),ht=1-lt,ut=o.round((ht*ht*ht*tt[0]+(lt*ht*ht+ht*lt*ht+ht*ht*lt)*st[0]+(lt*lt*ht+ht*lt*lt+lt*ht*lt)*at[0]+lt*lt*lt*nt[0])*1e3)/1e3,dt=o.round((ht*ht*ht*tt[1]+(lt*ht*ht+ht*lt*ht+ht*ht*lt)*st[1]+(lt*lt*ht+ht*lt*lt+lt*ht*lt)*at[1]+lt*lt*lt*nt[1])*1e3)/1e3;return[ut,dt]}var et=createTypedArray("float32",8);function rt(tt,nt,st,at,ct,it,lt){ct<0?ct=0:ct>1&&(ct=1);var ht=j(ct,lt);it=it>1?1:it;var ut=j(it,lt),dt,pt=tt.length,mt=1-ht,yt=1-ut,xt=mt*mt*mt,Tt=ht*mt*mt*3,_t=ht*ht*mt*3,Mt=ht*ht*ht,Lt=mt*mt*yt,Pt=ht*mt*yt+mt*ht*yt+mt*mt*ut,It=ht*ht*yt+mt*ht*ut+ht*mt*ut,Et=ht*ht*ut,Ct=mt*yt*yt,St=ht*yt*yt+mt*ut*yt+mt*yt*ut,At=ht*ut*yt+mt*ut*ut+ht*yt*ut,Rt=ht*ut*ut,Ot=yt*yt*yt,Gt=ut*yt*yt+yt*ut*yt+yt*yt*ut,Qt=ut*ut*yt+yt*ut*ut+ut*yt*ut,ir=ut*ut*ut;for(dt=0;dt<pt;dt+=1)et[dt*4]=o.round((xt*tt[dt]+Tt*st[dt]+_t*at[dt]+Mt*nt[dt])*1e3)/1e3,et[dt*4+1]=o.round((Lt*tt[dt]+Pt*st[dt]+It*at[dt]+Et*nt[dt])*1e3)/1e3,et[dt*4+2]=o.round((Ct*tt[dt]+St*st[dt]+At*at[dt]+Rt*nt[dt])*1e3)/1e3,et[dt*4+3]=o.round((Ot*tt[dt]+Gt*st[dt]+Qt*at[dt]+ir*nt[dt])*1e3)/1e3;return et}return{getSegmentsLength:g,getNewSegment:rt,getPointInSegment:_e,buildBezierData:$,pointOnLine2D:e,pointOnLine3D:h}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(o,e){var h=this.offsetTime,d;this.propType==="multidimensional"&&(d=createTypedArray("float32",this.pv.length));for(var g=e.lastIndex,_=g,b=this.keyframes.length-1,$=!0,j,_e,et;$;){if(j=this.keyframes[_],_e=this.keyframes[_+1],_===b-1&&o>=_e.t-h){j.h&&(j=_e),g=0;break}if(_e.t-h>o){g=_;break}_<b-1?_+=1:(g=0,$=!1)}et=this.keyframesMetadata[_]||{};var rt,tt,nt,st,at,ct,it=_e.t-h,lt=j.t-h,ht;if(j.to){et.bezierData||(et.bezierData=bez.buildBezierData(j.s,_e.s||j.e,j.to,j.ti));var ut=et.bezierData;if(o>=it||o<lt){var dt=o>=it?ut.points.length-1:0;for(tt=ut.points[dt].point.length,rt=0;rt<tt;rt+=1)d[rt]=ut.points[dt].point[rt]}else{et.__fnct?ct=et.__fnct:(ct=BezierFactory.getBezierEasing(j.o.x,j.o.y,j.i.x,j.i.y,j.n).get,et.__fnct=ct),nt=ct((o-lt)/(it-lt));var pt=ut.segmentLength*nt,mt,yt=e.lastFrame<o&&e._lastKeyframeIndex===_?e._lastAddedLength:0;for(at=e.lastFrame<o&&e._lastKeyframeIndex===_?e._lastPoint:0,$=!0,st=ut.points.length;$;){if(yt+=ut.points[at].partialLength,pt===0||nt===0||at===ut.points.length-1){for(tt=ut.points[at].point.length,rt=0;rt<tt;rt+=1)d[rt]=ut.points[at].point[rt];break}else if(pt>=yt&&pt<yt+ut.points[at+1].partialLength){for(mt=(pt-yt)/ut.points[at+1].partialLength,tt=ut.points[at].point.length,rt=0;rt<tt;rt+=1)d[rt]=ut.points[at].point[rt]+(ut.points[at+1].point[rt]-ut.points[at].point[rt])*mt;break}at<st-1?at+=1:$=!1}e._lastPoint=at,e._lastAddedLength=yt-ut.points[at].partialLength,e._lastKeyframeIndex=_}}else{var xt,Tt,_t,Mt,Lt;if(b=j.s.length,ht=_e.s||j.e,this.sh&&j.h!==1)if(o>=it)d[0]=ht[0],d[1]=ht[1],d[2]=ht[2];else if(o<=lt)d[0]=j.s[0],d[1]=j.s[1],d[2]=j.s[2];else{var Pt=createQuaternion(j.s),It=createQuaternion(ht),Et=(o-lt)/(it-lt);quaternionToEuler(d,slerp(Pt,It,Et))}else for(_=0;_<b;_+=1)j.h!==1&&(o>=it?nt=1:o<lt?nt=0:(j.o.x.constructor===Array?(et.__fnct||(et.__fnct=[]),et.__fnct[_]?ct=et.__fnct[_]:(xt=j.o.x[_]===void 0?j.o.x[0]:j.o.x[_],Tt=j.o.y[_]===void 0?j.o.y[0]:j.o.y[_],_t=j.i.x[_]===void 0?j.i.x[0]:j.i.x[_],Mt=j.i.y[_]===void 0?j.i.y[0]:j.i.y[_],ct=BezierFactory.getBezierEasing(xt,Tt,_t,Mt).get,et.__fnct[_]=ct)):et.__fnct?ct=et.__fnct:(xt=j.o.x,Tt=j.o.y,_t=j.i.x,Mt=j.i.y,ct=BezierFactory.getBezierEasing(xt,Tt,_t,Mt).get,j.keyframeMetadata=ct),nt=ct((o-lt)/(it-lt)))),ht=_e.s||j.e,Lt=j.h===1?j.s[_]:j.s[_]+(ht[_]-j.s[_])*nt,this.propType==="multidimensional"?d[_]=Lt:d=Lt}return e.lastIndex=g,d}function slerp(o,e,h){var d=[],g=o[0],_=o[1],b=o[2],$=o[3],j=e[0],_e=e[1],et=e[2],rt=e[3],tt,nt,st,at,ct;return nt=g*j+_*_e+b*et+$*rt,nt<0&&(nt=-nt,j=-j,_e=-_e,et=-et,rt=-rt),1-nt>1e-6?(tt=Math.acos(nt),st=Math.sin(tt),at=Math.sin((1-h)*tt)/st,ct=Math.sin(h*tt)/st):(at=1-h,ct=h),d[0]=at*g+ct*j,d[1]=at*_+ct*_e,d[2]=at*b+ct*et,d[3]=at*$+ct*rt,d}function quaternionToEuler(o,e){var h=e[0],d=e[1],g=e[2],_=e[3],b=Math.atan2(2*d*_-2*h*g,1-2*d*d-2*g*g),$=Math.asin(2*h*d+2*g*_),j=Math.atan2(2*h*_-2*d*g,1-2*h*h-2*g*g);o[0]=b/degToRads,o[1]=$/degToRads,o[2]=j/degToRads}function createQuaternion(o){var e=o[0]*degToRads,h=o[1]*degToRads,d=o[2]*degToRads,g=Math.cos(e/2),_=Math.cos(h/2),b=Math.cos(d/2),$=Math.sin(e/2),j=Math.sin(h/2),_e=Math.sin(d/2),et=g*_*b-$*j*_e,rt=$*j*b+g*_*_e,tt=$*_*b+g*j*_e,nt=g*j*b-$*_*_e;return[rt,tt,nt,et]}function getValueAtCurrentTime(){var o=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,h=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(o===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=h&&o>=h||this._caching.lastFrame<e&&o<e))){this._caching.lastFrame>=o&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var d=this.interpolateValue(o,this._caching);this.pv=d}return this._caching.lastFrame=o,this.pv}function setVValue(o){var e;if(this.propType==="unidimensional")e=o*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var h=0,d=this.v.length;h<d;)e=o[h]*this.mult,mathAbs(this.v[h]-e)>1e-5&&(this.v[h]=e,this._mdf=!0),h+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var o,e=this.effectsSequence.length,h=this.kf?this.pv:this.data.k;for(o=0;o<e;o+=1)h=this.effectsSequence[o](h);this.setVValue(h),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(o){this.effectsSequence.push(o),this.container.addDynamicProperty(this)}function ValueProperty(o,e,h,d){this.propType="unidimensional",this.mult=h||1,this.data=e,this.v=h?e.k*h:e.k,this.pv=e.k,this._mdf=!1,this.elem=o,this.container=d,this.comp=o.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(o,e,h,d){this.propType="multidimensional",this.mult=h||1,this.data=e,this._mdf=!1,this.elem=o,this.container=d,this.comp=o.comp,this.k=!1,this.kf=!1,this.frameId=-1;var g,_=e.k.length;for(this.v=createTypedArray("float32",_),this.pv=createTypedArray("float32",_),this.vel=createTypedArray("float32",_),g=0;g<_;g+=1)this.v[g]=e.k[g]*this.mult,this.pv[g]=e.k[g];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(o,e,h,d){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=o.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=h||1,this.elem=o,this.container=d,this.comp=o.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(o,e,h,d){this.propType="multidimensional";var g,_=e.k.length,b,$,j,_e;for(g=0;g<_-1;g+=1)e.k[g].to&&e.k[g].s&&e.k[g+1]&&e.k[g+1].s&&(b=e.k[g].s,$=e.k[g+1].s,j=e.k[g].to,_e=e.k[g].ti,(b.length===2&&!(b[0]===$[0]&&b[1]===$[1])&&bez.pointOnLine2D(b[0],b[1],$[0],$[1],b[0]+j[0],b[1]+j[1])&&bez.pointOnLine2D(b[0],b[1],$[0],$[1],$[0]+_e[0],$[1]+_e[1])||b.length===3&&!(b[0]===$[0]&&b[1]===$[1]&&b[2]===$[2])&&bez.pointOnLine3D(b[0],b[1],b[2],$[0],$[1],$[2],b[0]+j[0],b[1]+j[1],b[2]+j[2])&&bez.pointOnLine3D(b[0],b[1],b[2],$[0],$[1],$[2],$[0]+_e[0],$[1]+_e[1],$[2]+_e[2]))&&(e.k[g].to=null,e.k[g].ti=null),b[0]===$[0]&&b[1]===$[1]&&j[0]===0&&j[1]===0&&_e[0]===0&&_e[1]===0&&(b.length===2||b[2]===$[2]&&j[2]===0&&_e[2]===0)&&(e.k[g].to=null,e.k[g].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=o.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=h||1,this.elem=o,this.container=d,this.comp=o.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var et=e.k[0].s.length;for(this.v=createTypedArray("float32",et),this.pv=createTypedArray("float32",et),g=0;g<et;g+=1)this.v[g]=initFrame,this.pv[g]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",et)},this.addEffect=addEffect}var PropertyFactory=function(){function o(h,d,g,_,b){d.sid&&(d=h.globalData.slotManager.getProp(d));var $;if(!d.k.length)$=new ValueProperty(h,d,_,b);else if(typeof d.k[0]=="number")$=new MultiDimensionalProperty(h,d,_,b);else switch(g){case 0:$=new KeyframedValueProperty(h,d,_,b);break;case 1:$=new KeyframedMultidimensionalProperty(h,d,_,b);break}return $.effectsSequence.length&&b.addDynamicProperty($),$}var e={getProp:o};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,h=this.dynamicProperties.length;for(e=0;e<h;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function o(){return createTypedArray("float32",2)}return poolFactory(8,o)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(o,e){this.c=o,this.setLength(e);for(var h=0;h<e;)this.v[h]=pointPool.newElement(),this.o[h]=pointPool.newElement(),this.i[h]=pointPool.newElement(),h+=1},ShapePath.prototype.setLength=function(o){for(;this._maxLength<o;)this.doubleArrayLength();this._length=o},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(o,e,h,d,g){var _;switch(this._length=Math.max(this._length,d+1),this._length>=this._maxLength&&this.doubleArrayLength(),h){case"v":_=this.v;break;case"i":_=this.i;break;case"o":_=this.o;break;default:_=[];break}(!_[d]||_[d]&&!g)&&(_[d]=pointPool.newElement()),_[d][0]=o,_[d][1]=e},ShapePath.prototype.setTripleAt=function(o,e,h,d,g,_,b,$){this.setXYAt(o,e,"v",b,$),this.setXYAt(h,d,"o",b,$),this.setXYAt(g,_,"i",b,$)},ShapePath.prototype.reverse=function(){var o=new ShapePath;o.setPathData(this.c,this._length);var e=this.v,h=this.o,d=this.i,g=0;this.c&&(o.setTripleAt(e[0][0],e[0][1],d[0][0],d[0][1],h[0][0],h[0][1],0,!1),g=1);var _=this._length-1,b=this._length,$;for($=g;$<b;$+=1)o.setTripleAt(e[_][0],e[_][1],d[_][0],d[_][1],h[_][0],h[_][1],$,!1),_-=1;return o},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function o(){return new ShapePath}function e(g){var _=g._length,b;for(b=0;b<_;b+=1)pointPool.release(g.v[b]),pointPool.release(g.i[b]),pointPool.release(g.o[b]),g.v[b]=null,g.i[b]=null,g.o[b]=null;g._length=0,g.c=!1}function h(g){var _=d.newElement(),b,$=g._length===void 0?g.v.length:g._length;for(_.setLength($),_.c=g.c,b=0;b<$;b+=1)_.setTripleAt(g.v[b][0],g.v[b][1],g.o[b][0],g.o[b][1],g.i[b][0],g.i[b][1],b);return _}var d=poolFactory(4,o,e);return d.clone=h,d}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(o){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=o,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var o;for(o=0;o<this._length;o+=1)shapePool.release(this.shapes[o]);this._length=0};var shapeCollectionPool=function(){var o={newShapeCollection:g,release:_},e=0,h=4,d=createSizedArray(h);function g(){var b;return e?(e-=1,b=d[e]):b=new ShapeCollection,b}function _(b){var $,j=b._length;for($=0;$<j;$+=1)shapePool.release(b.shapes[$]);b._length=0,e===h&&(d=pooling.double(d),h*=2),d[e]=b,e+=1}return o}(),ShapePropertyFactory=function(){var o=-999999;function e(it,lt,ht){var ut=ht.lastIndex,dt,pt,mt,yt,xt,Tt,_t,Mt,Lt,Pt=this.keyframes;if(it<Pt[0].t-this.offsetTime)dt=Pt[0].s[0],mt=!0,ut=0;else if(it>=Pt[Pt.length-1].t-this.offsetTime)dt=Pt[Pt.length-1].s?Pt[Pt.length-1].s[0]:Pt[Pt.length-2].e[0],mt=!0;else{for(var It=ut,Et=Pt.length-1,Ct=!0,St,At,Rt;Ct&&(St=Pt[It],At=Pt[It+1],!(At.t-this.offsetTime>it));)It<Et-1?It+=1:Ct=!1;if(Rt=this.keyframesMetadata[It]||{},mt=St.h===1,ut=It,!mt){if(it>=At.t-this.offsetTime)Mt=1;else if(it<St.t-this.offsetTime)Mt=0;else{var Ot;Rt.__fnct?Ot=Rt.__fnct:(Ot=BezierFactory.getBezierEasing(St.o.x,St.o.y,St.i.x,St.i.y).get,Rt.__fnct=Ot),Mt=Ot((it-(St.t-this.offsetTime))/(At.t-this.offsetTime-(St.t-this.offsetTime)))}pt=At.s?At.s[0]:St.e[0]}dt=St.s[0]}for(Tt=lt._length,_t=dt.i[0].length,ht.lastIndex=ut,yt=0;yt<Tt;yt+=1)for(xt=0;xt<_t;xt+=1)Lt=mt?dt.i[yt][xt]:dt.i[yt][xt]+(pt.i[yt][xt]-dt.i[yt][xt])*Mt,lt.i[yt][xt]=Lt,Lt=mt?dt.o[yt][xt]:dt.o[yt][xt]+(pt.o[yt][xt]-dt.o[yt][xt])*Mt,lt.o[yt][xt]=Lt,Lt=mt?dt.v[yt][xt]:dt.v[yt][xt]+(pt.v[yt][xt]-dt.v[yt][xt])*Mt,lt.v[yt][xt]=Lt}function h(){var it=this.comp.renderedFrame-this.offsetTime,lt=this.keyframes[0].t-this.offsetTime,ht=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ut=this._caching.lastFrame;return ut!==o&&(ut<lt&&it<lt||ut>ht&&it>ht)||(this._caching.lastIndex=ut<it?this._caching.lastIndex:0,this.interpolateShape(it,this.pv,this._caching)),this._caching.lastFrame=it,this.pv}function d(){this.paths=this.localShapeCollection}function g(it,lt){if(it._length!==lt._length||it.c!==lt.c)return!1;var ht,ut=it._length;for(ht=0;ht<ut;ht+=1)if(it.v[ht][0]!==lt.v[ht][0]||it.v[ht][1]!==lt.v[ht][1]||it.o[ht][0]!==lt.o[ht][0]||it.o[ht][1]!==lt.o[ht][1]||it.i[ht][0]!==lt.i[ht][0]||it.i[ht][1]!==lt.i[ht][1])return!1;return!0}function _(it){g(this.v,it)||(this.v=shapePool.clone(it),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function b(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var it;this.kf?it=this.pv:this.data.ks?it=this.data.ks.k:it=this.data.pt.k;var lt,ht=this.effectsSequence.length;for(lt=0;lt<ht;lt+=1)it=this.effectsSequence[lt](it);this.setVValue(it),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function $(it,lt,ht){this.propType="shape",this.comp=it.comp,this.container=it,this.elem=it,this.data=lt,this.k=!1,this.kf=!1,this._mdf=!1;var ut=ht===3?lt.pt.k:lt.ks.k;this.v=shapePool.clone(ut),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=d,this.effectsSequence=[]}function j(it){this.effectsSequence.push(it),this.container.addDynamicProperty(this)}$.prototype.interpolateShape=e,$.prototype.getValue=b,$.prototype.setVValue=_,$.prototype.addEffect=j;function _e(it,lt,ht){this.propType="shape",this.comp=it.comp,this.elem=it,this.container=it,this.offsetTime=it.data.st,this.keyframes=ht===3?lt.pt.k:lt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ut=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ut),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=o,this.reset=d,this._caching={lastFrame:o,lastIndex:0},this.effectsSequence=[h.bind(this)]}_e.prototype.getValue=b,_e.prototype.interpolateShape=e,_e.prototype.setVValue=_,_e.prototype.addEffect=j;var et=function(){var it=roundCorner;function lt(ht,ut){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=ut.d,this.elem=ht,this.comp=ht.comp,this.frameId=-1,this.initDynamicPropertyContainer(ht),this.p=PropertyFactory.getProp(ht,ut.p,1,0,this),this.s=PropertyFactory.getProp(ht,ut.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return lt.prototype={reset:d,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var ut=this.p.v[0],dt=this.p.v[1],pt=this.s.v[0]/2,mt=this.s.v[1]/2,yt=this.d!==3,xt=this.v;xt.v[0][0]=ut,xt.v[0][1]=dt-mt,xt.v[1][0]=yt?ut+pt:ut-pt,xt.v[1][1]=dt,xt.v[2][0]=ut,xt.v[2][1]=dt+mt,xt.v[3][0]=yt?ut-pt:ut+pt,xt.v[3][1]=dt,xt.i[0][0]=yt?ut-pt*it:ut+pt*it,xt.i[0][1]=dt-mt,xt.i[1][0]=yt?ut+pt:ut-pt,xt.i[1][1]=dt-mt*it,xt.i[2][0]=yt?ut+pt*it:ut-pt*it,xt.i[2][1]=dt+mt,xt.i[3][0]=yt?ut-pt:ut+pt,xt.i[3][1]=dt+mt*it,xt.o[0][0]=yt?ut+pt*it:ut-pt*it,xt.o[0][1]=dt-mt,xt.o[1][0]=yt?ut+pt:ut-pt,xt.o[1][1]=dt+mt*it,xt.o[2][0]=yt?ut-pt*it:ut+pt*it,xt.o[2][1]=dt+mt,xt.o[3][0]=yt?ut-pt:ut+pt,xt.o[3][1]=dt-mt*it}},extendPrototype([DynamicPropertyContainer],lt),lt}(),rt=function(){function it(lt,ht){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=lt,this.comp=lt.comp,this.data=ht,this.frameId=-1,this.d=ht.d,this.initDynamicPropertyContainer(lt),ht.sy===1?(this.ir=PropertyFactory.getProp(lt,ht.ir,0,0,this),this.is=PropertyFactory.getProp(lt,ht.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(lt,ht.pt,0,0,this),this.p=PropertyFactory.getProp(lt,ht.p,1,0,this),this.r=PropertyFactory.getProp(lt,ht.r,0,degToRads,this),this.or=PropertyFactory.getProp(lt,ht.or,0,0,this),this.os=PropertyFactory.getProp(lt,ht.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return it.prototype={reset:d,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ht=Math.floor(this.pt.v)*2,ut=Math.PI*2/ht,dt=!0,pt=this.or.v,mt=this.ir.v,yt=this.os.v,xt=this.is.v,Tt=2*Math.PI*pt/(ht*2),_t=2*Math.PI*mt/(ht*2),Mt,Lt,Pt,It,Et=-Math.PI/2;Et+=this.r.v;var Ct=this.data.d===3?-1:1;for(this.v._length=0,Mt=0;Mt<ht;Mt+=1){Lt=dt?pt:mt,Pt=dt?yt:xt,It=dt?Tt:_t;var St=Lt*Math.cos(Et),At=Lt*Math.sin(Et),Rt=St===0&&At===0?0:At/Math.sqrt(St*St+At*At),Ot=St===0&&At===0?0:-St/Math.sqrt(St*St+At*At);St+=+this.p.v[0],At+=+this.p.v[1],this.v.setTripleAt(St,At,St-Rt*It*Pt*Ct,At-Ot*It*Pt*Ct,St+Rt*It*Pt*Ct,At+Ot*It*Pt*Ct,Mt,!0),dt=!dt,Et+=ut*Ct}},convertPolygonToPath:function(){var ht=Math.floor(this.pt.v),ut=Math.PI*2/ht,dt=this.or.v,pt=this.os.v,mt=2*Math.PI*dt/(ht*4),yt,xt=-Math.PI*.5,Tt=this.data.d===3?-1:1;for(xt+=this.r.v,this.v._length=0,yt=0;yt<ht;yt+=1){var _t=dt*Math.cos(xt),Mt=dt*Math.sin(xt),Lt=_t===0&&Mt===0?0:Mt/Math.sqrt(_t*_t+Mt*Mt),Pt=_t===0&&Mt===0?0:-_t/Math.sqrt(_t*_t+Mt*Mt);_t+=+this.p.v[0],Mt+=+this.p.v[1],this.v.setTripleAt(_t,Mt,_t-Lt*mt*pt*Tt,Mt-Pt*mt*pt*Tt,_t+Lt*mt*pt*Tt,Mt+Pt*mt*pt*Tt,yt,!0),xt+=ut*Tt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],it),it}(),tt=function(){function it(lt,ht){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=lt,this.comp=lt.comp,this.frameId=-1,this.d=ht.d,this.initDynamicPropertyContainer(lt),this.p=PropertyFactory.getProp(lt,ht.p,1,0,this),this.s=PropertyFactory.getProp(lt,ht.s,1,0,this),this.r=PropertyFactory.getProp(lt,ht.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return it.prototype={convertRectToPath:function(){var ht=this.p.v[0],ut=this.p.v[1],dt=this.s.v[0]/2,pt=this.s.v[1]/2,mt=bmMin(dt,pt,this.r.v),yt=mt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ht+dt,ut-pt+mt,ht+dt,ut-pt+mt,ht+dt,ut-pt+yt,0,!0),this.v.setTripleAt(ht+dt,ut+pt-mt,ht+dt,ut+pt-yt,ht+dt,ut+pt-mt,1,!0),mt!==0?(this.v.setTripleAt(ht+dt-mt,ut+pt,ht+dt-mt,ut+pt,ht+dt-yt,ut+pt,2,!0),this.v.setTripleAt(ht-dt+mt,ut+pt,ht-dt+yt,ut+pt,ht-dt+mt,ut+pt,3,!0),this.v.setTripleAt(ht-dt,ut+pt-mt,ht-dt,ut+pt-mt,ht-dt,ut+pt-yt,4,!0),this.v.setTripleAt(ht-dt,ut-pt+mt,ht-dt,ut-pt+yt,ht-dt,ut-pt+mt,5,!0),this.v.setTripleAt(ht-dt+mt,ut-pt,ht-dt+mt,ut-pt,ht-dt+yt,ut-pt,6,!0),this.v.setTripleAt(ht+dt-mt,ut-pt,ht+dt-yt,ut-pt,ht+dt-mt,ut-pt,7,!0)):(this.v.setTripleAt(ht-dt,ut+pt,ht-dt+yt,ut+pt,ht-dt,ut+pt,2),this.v.setTripleAt(ht-dt,ut-pt,ht-dt,ut-pt+yt,ht-dt,ut-pt,3))):(this.v.setTripleAt(ht+dt,ut-pt+mt,ht+dt,ut-pt+yt,ht+dt,ut-pt+mt,0,!0),mt!==0?(this.v.setTripleAt(ht+dt-mt,ut-pt,ht+dt-mt,ut-pt,ht+dt-yt,ut-pt,1,!0),this.v.setTripleAt(ht-dt+mt,ut-pt,ht-dt+yt,ut-pt,ht-dt+mt,ut-pt,2,!0),this.v.setTripleAt(ht-dt,ut-pt+mt,ht-dt,ut-pt+mt,ht-dt,ut-pt+yt,3,!0),this.v.setTripleAt(ht-dt,ut+pt-mt,ht-dt,ut+pt-yt,ht-dt,ut+pt-mt,4,!0),this.v.setTripleAt(ht-dt+mt,ut+pt,ht-dt+mt,ut+pt,ht-dt+yt,ut+pt,5,!0),this.v.setTripleAt(ht+dt-mt,ut+pt,ht+dt-yt,ut+pt,ht+dt-mt,ut+pt,6,!0),this.v.setTripleAt(ht+dt,ut+pt-mt,ht+dt,ut+pt-mt,ht+dt,ut+pt-yt,7,!0)):(this.v.setTripleAt(ht-dt,ut-pt,ht-dt+yt,ut-pt,ht-dt,ut-pt,1,!0),this.v.setTripleAt(ht-dt,ut+pt,ht-dt,ut+pt-yt,ht-dt,ut+pt,2,!0),this.v.setTripleAt(ht+dt,ut+pt,ht+dt-yt,ut+pt,ht+dt,ut+pt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:d},extendPrototype([DynamicPropertyContainer],it),it}();function nt(it,lt,ht){var ut;if(ht===3||ht===4){var dt=ht===3?lt.pt:lt.ks,pt=dt.k;pt.length?ut=new _e(it,lt,ht):ut=new $(it,lt,ht)}else ht===5?ut=new tt(it,lt):ht===6?ut=new et(it,lt):ht===7&&(ut=new rt(it,lt));return ut.k&&it.addDynamicProperty(ut),ut}function st(){return $}function at(){return _e}var ct={};return ct.getShapeProp=nt,ct.getConstructorFunction=st,ct.getKeyframedConstructorFunction=at,ct}();/*!
Transformation Matrix v2.0
(c) Epistemex 2014-2015
www.epistemex.com
By Ken Fyrstenberg
Contributions by leeoniya.
License: MIT, header required.
*/var Matrix=function(){var o=Math.cos,e=Math.sin,h=Math.tan,d=Math.round;function g(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function _(Ct){if(Ct===0)return this;var St=o(Ct),At=e(Ct);return this._t(St,-At,0,0,At,St,0,0,0,0,1,0,0,0,0,1)}function b(Ct){if(Ct===0)return this;var St=o(Ct),At=e(Ct);return this._t(1,0,0,0,0,St,-At,0,0,At,St,0,0,0,0,1)}function $(Ct){if(Ct===0)return this;var St=o(Ct),At=e(Ct);return this._t(St,0,At,0,0,1,0,0,-At,0,St,0,0,0,0,1)}function j(Ct){if(Ct===0)return this;var St=o(Ct),At=e(Ct);return this._t(St,-At,0,0,At,St,0,0,0,0,1,0,0,0,0,1)}function _e(Ct,St){return this._t(1,St,Ct,1,0,0)}function et(Ct,St){return this.shear(h(Ct),h(St))}function rt(Ct,St){var At=o(St),Rt=e(St);return this._t(At,Rt,0,0,-Rt,At,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,h(Ct),1,0,0,0,0,1,0,0,0,0,1)._t(At,-Rt,0,0,Rt,At,0,0,0,0,1,0,0,0,0,1)}function tt(Ct,St,At){return!At&&At!==0&&(At=1),Ct===1&&St===1&&At===1?this:this._t(Ct,0,0,0,0,St,0,0,0,0,At,0,0,0,0,1)}function nt(Ct,St,At,Rt,Ot,Gt,Qt,ir,tr,Wt,wr,Lr,Er,Ar,yr,Yt){return this.props[0]=Ct,this.props[1]=St,this.props[2]=At,this.props[3]=Rt,this.props[4]=Ot,this.props[5]=Gt,this.props[6]=Qt,this.props[7]=ir,this.props[8]=tr,this.props[9]=Wt,this.props[10]=wr,this.props[11]=Lr,this.props[12]=Er,this.props[13]=Ar,this.props[14]=yr,this.props[15]=Yt,this}function st(Ct,St,At){return At=At||0,Ct!==0||St!==0||At!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ct,St,At,1):this}function at(Ct,St,At,Rt,Ot,Gt,Qt,ir,tr,Wt,wr,Lr,Er,Ar,yr,Yt){var Xt=this.props;if(Ct===1&&St===0&&At===0&&Rt===0&&Ot===0&&Gt===1&&Qt===0&&ir===0&&tr===0&&Wt===0&&wr===1&&Lr===0)return Xt[12]=Xt[12]*Ct+Xt[15]*Er,Xt[13]=Xt[13]*Gt+Xt[15]*Ar,Xt[14]=Xt[14]*wr+Xt[15]*yr,Xt[15]*=Yt,this._identityCalculated=!1,this;var ur=Xt[0],br=Xt[1],_r=Xt[2],Pr=Xt[3],Or=Xt[4],Nr=Xt[5],an=Xt[6],$t=Xt[7],kt=Xt[8],hr=Xt[9],vr=Xt[10],Ir=Xt[11],Dr=Xt[12],Gr=Xt[13],mr=Xt[14],Wr=Xt[15];return Xt[0]=ur*Ct+br*Ot+_r*tr+Pr*Er,Xt[1]=ur*St+br*Gt+_r*Wt+Pr*Ar,Xt[2]=ur*At+br*Qt+_r*wr+Pr*yr,Xt[3]=ur*Rt+br*ir+_r*Lr+Pr*Yt,Xt[4]=Or*Ct+Nr*Ot+an*tr+$t*Er,Xt[5]=Or*St+Nr*Gt+an*Wt+$t*Ar,Xt[6]=Or*At+Nr*Qt+an*wr+$t*yr,Xt[7]=Or*Rt+Nr*ir+an*Lr+$t*Yt,Xt[8]=kt*Ct+hr*Ot+vr*tr+Ir*Er,Xt[9]=kt*St+hr*Gt+vr*Wt+Ir*Ar,Xt[10]=kt*At+hr*Qt+vr*wr+Ir*yr,Xt[11]=kt*Rt+hr*ir+vr*Lr+Ir*Yt,Xt[12]=Dr*Ct+Gr*Ot+mr*tr+Wr*Er,Xt[13]=Dr*St+Gr*Gt+mr*Wt+Wr*Ar,Xt[14]=Dr*At+Gr*Qt+mr*wr+Wr*yr,Xt[15]=Dr*Rt+Gr*ir+mr*Lr+Wr*Yt,this._identityCalculated=!1,this}function ct(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function it(Ct){for(var St=0;St<16;){if(Ct.props[St]!==this.props[St])return!1;St+=1}return!0}function lt(Ct){var St;for(St=0;St<16;St+=1)Ct.props[St]=this.props[St];return Ct}function ht(Ct){var St;for(St=0;St<16;St+=1)this.props[St]=Ct[St]}function ut(Ct,St,At){return{x:Ct*this.props[0]+St*this.props[4]+At*this.props[8]+this.props[12],y:Ct*this.props[1]+St*this.props[5]+At*this.props[9]+this.props[13],z:Ct*this.props[2]+St*this.props[6]+At*this.props[10]+this.props[14]}}function dt(Ct,St,At){return Ct*this.props[0]+St*this.props[4]+At*this.props[8]+this.props[12]}function pt(Ct,St,At){return Ct*this.props[1]+St*this.props[5]+At*this.props[9]+this.props[13]}function mt(Ct,St,At){return Ct*this.props[2]+St*this.props[6]+At*this.props[10]+this.props[14]}function yt(){var Ct=this.props[0]*this.props[5]-this.props[1]*this.props[4],St=this.props[5]/Ct,At=-this.props[1]/Ct,Rt=-this.props[4]/Ct,Ot=this.props[0]/Ct,Gt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ct,Qt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ct,ir=new Matrix;return ir.props[0]=St,ir.props[1]=At,ir.props[4]=Rt,ir.props[5]=Ot,ir.props[12]=Gt,ir.props[13]=Qt,ir}function xt(Ct){var St=this.getInverseMatrix();return St.applyToPointArray(Ct[0],Ct[1],Ct[2]||0)}function Tt(Ct){var St,At=Ct.length,Rt=[];for(St=0;St<At;St+=1)Rt[St]=xt(Ct[St]);return Rt}function _t(Ct,St,At){var Rt=createTypedArray("float32",6);if(this.isIdentity())Rt[0]=Ct[0],Rt[1]=Ct[1],Rt[2]=St[0],Rt[3]=St[1],Rt[4]=At[0],Rt[5]=At[1];else{var Ot=this.props[0],Gt=this.props[1],Qt=this.props[4],ir=this.props[5],tr=this.props[12],Wt=this.props[13];Rt[0]=Ct[0]*Ot+Ct[1]*Qt+tr,Rt[1]=Ct[0]*Gt+Ct[1]*ir+Wt,Rt[2]=St[0]*Ot+St[1]*Qt+tr,Rt[3]=St[0]*Gt+St[1]*ir+Wt,Rt[4]=At[0]*Ot+At[1]*Qt+tr,Rt[5]=At[0]*Gt+At[1]*ir+Wt}return Rt}function Mt(Ct,St,At){var Rt;return this.isIdentity()?Rt=[Ct,St,At]:Rt=[Ct*this.props[0]+St*this.props[4]+At*this.props[8]+this.props[12],Ct*this.props[1]+St*this.props[5]+At*this.props[9]+this.props[13],Ct*this.props[2]+St*this.props[6]+At*this.props[10]+this.props[14]],Rt}function Lt(Ct,St){if(this.isIdentity())return Ct+","+St;var At=this.props;return Math.round((Ct*At[0]+St*At[4]+At[12])*100)/100+","+Math.round((Ct*At[1]+St*At[5]+At[13])*100)/100}function Pt(){for(var Ct=0,St=this.props,At="matrix3d(",Rt=1e4;Ct<16;)At+=d(St[Ct]*Rt)/Rt,At+=Ct===15?")":",",Ct+=1;return At}function It(Ct){var St=1e4;return Ct<1e-6&&Ct>0||Ct>-1e-6&&Ct<0?d(Ct*St)/St:Ct}function Et(){var Ct=this.props,St=It(Ct[0]),At=It(Ct[1]),Rt=It(Ct[4]),Ot=It(Ct[5]),Gt=It(Ct[12]),Qt=It(Ct[13]);return"matrix("+St+","+At+","+Rt+","+Ot+","+Gt+","+Qt+")"}return function(){this.reset=g,this.rotate=_,this.rotateX=b,this.rotateY=$,this.rotateZ=j,this.skew=et,this.skewFromAxis=rt,this.shear=_e,this.scale=tt,this.setTransform=nt,this.translate=st,this.transform=at,this.applyToPoint=ut,this.applyToX=dt,this.applyToY=pt,this.applyToZ=mt,this.applyToPointArray=Mt,this.applyToTriplePoints=_t,this.applyToPointStringified=Lt,this.toCSS=Pt,this.to2dCSS=Et,this.clone=lt,this.cloneFromProps=ht,this.equals=it,this.inversePoints=Tt,this.inversePoint=xt,this.getInverseMatrix=yt,this._t=this.transform,this.isIdentity=ct,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(h){return typeof h}:_typeof$3=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof$3(o)}var lottie={};function setLocation(o){setLocationHref(o)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(o){setSubframeEnabled(o)}function setPrefix(o){setIdPrefix(o)}function loadAnimation(o){return animationManager.loadAnimation(o)}function setQuality(o){if(typeof o=="string")switch(o){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(o)&&o>1&&setDefaultCurveSegments(o)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(o,e){o==="expressions"&&setExpressionsPlugin(e)}function getFactory(o){switch(o){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.11.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(o){for(var e=queryString.split("&"),h=0;h<e.length;h+=1){var d=e[h].split("=");if(decodeURIComponent(d[0])==o)return decodeURIComponent(d[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(o){}var ShapeModifiers=function(){var o={},e={};o.registerModifier=h,o.getModifier=d;function h(g,_){e[g]||(e[g]=_)}function d(g,_,b){return new e[g](_,b)}return o}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(o){if(!this.closed){o.sh.container.addDynamicProperty(o.sh);var e={shape:o.sh,data:o,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&o.setAsAnimated()}},ShapeModifier.prototype.init=function(o,e){this.shapes=[],this.elem=o,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(o,e){this.s=PropertyFactory.getProp(o,e.s,0,.01,this),this.e=PropertyFactory.getProp(o,e.e,0,.01,this),this.o=PropertyFactory.getProp(o,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(o){o.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(o,e,h,d,g){var _=[];e<=1?_.push({s:o,e}):o>=1?_.push({s:o-1,e:e-1}):(_.push({s:o,e:1}),_.push({s:0,e:e-1}));var b=[],$,j=_.length,_e;for($=0;$<j;$+=1)if(_e=_[$],!(_e.e*g<d||_e.s*g>d+h)){var et,rt;_e.s*g<=d?et=0:et=(_e.s*g-d)/h,_e.e*g>=d+h?rt=1:rt=(_e.e*g-d)/h,b.push([et,rt])}return b.length||b.push([0,0]),b},TrimModifier.prototype.releasePathsData=function(o){var e,h=o.length;for(e=0;e<h;e+=1)segmentsLengthPool.release(o[e]);return o.length=0,o},TrimModifier.prototype.processShapes=function(o){var e,h;if(this._mdf||o){var d=this.o.v%360/360;if(d<0&&(d+=1),this.s.v>1?e=1+d:this.s.v<0?e=0+d:e=this.s.v+d,this.e.v>1?h=1+d:this.e.v<0?h=0+d:h=this.e.v+d,e>h){var g=e;e=h,h=g}e=Math.round(e*1e4)*1e-4,h=Math.round(h*1e4)*1e-4,this.sValue=e,this.eValue=h}else e=this.sValue,h=this.eValue;var _,b,$=this.shapes.length,j,_e,et,rt,tt,nt=0;if(h===e)for(b=0;b<$;b+=1)this.shapes[b].localShapeCollection.releaseShapes(),this.shapes[b].shape._mdf=!0,this.shapes[b].shape.paths=this.shapes[b].localShapeCollection,this._mdf&&(this.shapes[b].pathsData.length=0);else if(h===1&&e===0||h===0&&e===1){if(this._mdf)for(b=0;b<$;b+=1)this.shapes[b].pathsData.length=0,this.shapes[b].shape._mdf=!0}else{var st=[],at,ct;for(b=0;b<$;b+=1)if(at=this.shapes[b],!at.shape._mdf&&!this._mdf&&!o&&this.m!==2)at.shape.paths=at.localShapeCollection;else{if(_=at.shape.paths,_e=_._length,tt=0,!at.shape._mdf&&at.pathsData.length)tt=at.totalShapeLength;else{for(et=this.releasePathsData(at.pathsData),j=0;j<_e;j+=1)rt=bez.getSegmentsLength(_.shapes[j]),et.push(rt),tt+=rt.totalLength;at.totalShapeLength=tt,at.pathsData=et}nt+=tt,at.shape._mdf=!0}var it=e,lt=h,ht=0,ut;for(b=$-1;b>=0;b-=1)if(at=this.shapes[b],at.shape._mdf){for(ct=at.localShapeCollection,ct.releaseShapes(),this.m===2&&$>1?(ut=this.calculateShapeEdges(e,h,at.totalShapeLength,ht,nt),ht+=at.totalShapeLength):ut=[[it,lt]],_e=ut.length,j=0;j<_e;j+=1){it=ut[j][0],lt=ut[j][1],st.length=0,lt<=1?st.push({s:at.totalShapeLength*it,e:at.totalShapeLength*lt}):it>=1?st.push({s:at.totalShapeLength*(it-1),e:at.totalShapeLength*(lt-1)}):(st.push({s:at.totalShapeLength*it,e:at.totalShapeLength}),st.push({s:0,e:at.totalShapeLength*(lt-1)}));var dt=this.addShapes(at,st[0]);if(st[0].s!==st[0].e){if(st.length>1){var pt=at.shape.paths.shapes[at.shape.paths._length-1];if(pt.c){var mt=dt.pop();this.addPaths(dt,ct),dt=this.addShapes(at,st[1],mt)}else this.addPaths(dt,ct),dt=this.addShapes(at,st[1])}this.addPaths(dt,ct)}}at.shape.paths=ct}}},TrimModifier.prototype.addPaths=function(o,e){var h,d=o.length;for(h=0;h<d;h+=1)e.addShape(o[h])},TrimModifier.prototype.addSegment=function(o,e,h,d,g,_,b){g.setXYAt(e[0],e[1],"o",_),g.setXYAt(h[0],h[1],"i",_+1),b&&g.setXYAt(o[0],o[1],"v",_),g.setXYAt(d[0],d[1],"v",_+1)},TrimModifier.prototype.addSegmentFromArray=function(o,e,h,d){e.setXYAt(o[1],o[5],"o",h),e.setXYAt(o[2],o[6],"i",h+1),d&&e.setXYAt(o[0],o[4],"v",h),e.setXYAt(o[3],o[7],"v",h+1)},TrimModifier.prototype.addShapes=function(o,e,h){var d=o.pathsData,g=o.shape.paths.shapes,_,b=o.shape.paths._length,$,j,_e=0,et,rt,tt,nt,st=[],at,ct=!0;for(h?(rt=h._length,at=h._length):(h=shapePool.newElement(),rt=0,at=0),st.push(h),_=0;_<b;_+=1){for(tt=d[_].lengths,h.c=g[_].c,j=g[_].c?tt.length:tt.length+1,$=1;$<j;$+=1)if(et=tt[$-1],_e+et.addedLength<e.s)_e+=et.addedLength,h.c=!1;else if(_e>e.e){h.c=!1;break}else e.s<=_e&&e.e>=_e+et.addedLength?(this.addSegment(g[_].v[$-1],g[_].o[$-1],g[_].i[$],g[_].v[$],h,rt,ct),ct=!1):(nt=bez.getNewSegment(g[_].v[$-1],g[_].v[$],g[_].o[$-1],g[_].i[$],(e.s-_e)/et.addedLength,(e.e-_e)/et.addedLength,tt[$-1]),this.addSegmentFromArray(nt,h,rt,ct),ct=!1,h.c=!1),_e+=et.addedLength,rt+=1;if(g[_].c&&tt.length){if(et=tt[$-1],_e<=e.e){var it=tt[$-1].addedLength;e.s<=_e&&e.e>=_e+it?(this.addSegment(g[_].v[$-1],g[_].o[$-1],g[_].i[0],g[_].v[0],h,rt,ct),ct=!1):(nt=bez.getNewSegment(g[_].v[$-1],g[_].v[0],g[_].o[$-1],g[_].i[0],(e.s-_e)/it,(e.e-_e)/it,tt[$-1]),this.addSegmentFromArray(nt,h,rt,ct),ct=!1,h.c=!1)}else h.c=!1;_e+=et.addedLength,rt+=1}if(h._length&&(h.setXYAt(h.v[at][0],h.v[at][1],"i",at),h.setXYAt(h.v[h._length-1][0],h.v[h._length-1][1],"o",h._length-1)),_e>e.e)break;_<b-1&&(h=shapePool.newElement(),ct=!0,st.push(h),rt=0)}return st};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(o,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(o,e){var h=e/100,d=[0,0],g=o._length,_=0;for(_=0;_<g;_+=1)d[0]+=o.v[_][0],d[1]+=o.v[_][1];d[0]/=g,d[1]/=g;var b=shapePool.newElement();b.c=o.c;var $,j,_e,et,rt,tt;for(_=0;_<g;_+=1)$=o.v[_][0]+(d[0]-o.v[_][0])*h,j=o.v[_][1]+(d[1]-o.v[_][1])*h,_e=o.o[_][0]+(d[0]-o.o[_][0])*-h,et=o.o[_][1]+(d[1]-o.o[_][1])*-h,rt=o.i[_][0]+(d[0]-o.i[_][0])*-h,tt=o.i[_][1]+(d[1]-o.i[_][1])*-h,b.setTripleAt($,j,_e,et,rt,tt,_);return b},PuckerAndBloatModifier.prototype.processShapes=function(o){var e,h,d=this.shapes.length,g,_,b=this.amount.v;if(b!==0){var $,j;for(h=0;h<d;h+=1){if($=this.shapes[h],j=$.localShapeCollection,!(!$.shape._mdf&&!this._mdf&&!o))for(j.releaseShapes(),$.shape._mdf=!0,e=$.shape.paths.shapes,_=$.shape.paths._length,g=0;g<_;g+=1)j.addShape(this.processPath(e[g],b));$.shape.paths=$.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var o=[0,0];function e(j){var _e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||_e,this.a&&j.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&j.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&j.skewFromAxis(-this.sk.v,this.sa.v),this.r?j.rotate(-this.r.v):j.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?j.translate(this.px.v,this.py.v,-this.pz.v):j.translate(this.px.v,this.py.v,0):j.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function h(j){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||j){var _e;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var et,rt;if(_e=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(et=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/_e,0),rt=this.p.getValueAtTime(this.p.keyframes[0].t/_e,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(et=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/_e,0),rt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/_e,0)):(et=this.p.pv,rt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/_e,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){et=[],rt=[];var tt=this.px,nt=this.py;tt._caching.lastFrame+tt.offsetTime<=tt.keyframes[0].t?(et[0]=tt.getValueAtTime((tt.keyframes[0].t+.01)/_e,0),et[1]=nt.getValueAtTime((nt.keyframes[0].t+.01)/_e,0),rt[0]=tt.getValueAtTime(tt.keyframes[0].t/_e,0),rt[1]=nt.getValueAtTime(nt.keyframes[0].t/_e,0)):tt._caching.lastFrame+tt.offsetTime>=tt.keyframes[tt.keyframes.length-1].t?(et[0]=tt.getValueAtTime(tt.keyframes[tt.keyframes.length-1].t/_e,0),et[1]=nt.getValueAtTime(nt.keyframes[nt.keyframes.length-1].t/_e,0),rt[0]=tt.getValueAtTime((tt.keyframes[tt.keyframes.length-1].t-.01)/_e,0),rt[1]=nt.getValueAtTime((nt.keyframes[nt.keyframes.length-1].t-.01)/_e,0)):(et=[tt.pv,nt.pv],rt[0]=tt.getValueAtTime((tt._caching.lastFrame+tt.offsetTime-.01)/_e,tt.offsetTime),rt[1]=nt.getValueAtTime((nt._caching.lastFrame+nt.offsetTime-.01)/_e,nt.offsetTime))}else rt=o,et=rt;this.v.rotate(-Math.atan2(et[1]-rt[1],et[0]-rt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function d(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function g(){}function _(j){this._addDynamicProperty(j),this.elem.addDynamicProperty(j),this._isDirty=!0}function b(j,_e,et){if(this.elem=j,this.frameId=-1,this.propType="transform",this.data=_e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(et||j),_e.p&&_e.p.s?(this.px=PropertyFactory.getProp(j,_e.p.x,0,0,this),this.py=PropertyFactory.getProp(j,_e.p.y,0,0,this),_e.p.z&&(this.pz=PropertyFactory.getProp(j,_e.p.z,0,0,this))):this.p=PropertyFactory.getProp(j,_e.p||{k:[0,0,0]},1,0,this),_e.rx){if(this.rx=PropertyFactory.getProp(j,_e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(j,_e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(j,_e.rz,0,degToRads,this),_e.or.k[0].ti){var rt,tt=_e.or.k.length;for(rt=0;rt<tt;rt+=1)_e.or.k[rt].to=null,_e.or.k[rt].ti=null}this.or=PropertyFactory.getProp(j,_e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(j,_e.r||{k:0},0,degToRads,this);_e.sk&&(this.sk=PropertyFactory.getProp(j,_e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(j,_e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(j,_e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(j,_e.s||{k:[100,100,100]},1,.01,this),_e.o?this.o=PropertyFactory.getProp(j,_e.o,0,.01,j):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}b.prototype={applyToMatrix:e,getValue:h,precalculateMatrix:d,autoOrient:g},extendPrototype([DynamicPropertyContainer],b),b.prototype.addDynamicProperty=_,b.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function $(j,_e,et){return new b(j,_e,et)}return{getTransformProperty:$}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(o,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(o,e.c,0,null,this),this.o=PropertyFactory.getProp(o,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(o,e.tr,this),this.so=PropertyFactory.getProp(o,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(o,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(o,e,h,d,g,_){var b=_?-1:1,$=d.s.v[0]+(1-d.s.v[0])*(1-g),j=d.s.v[1]+(1-d.s.v[1])*(1-g);o.translate(d.p.v[0]*b*g,d.p.v[1]*b*g,d.p.v[2]),e.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]),e.rotate(-d.r.v*b*g),e.translate(d.a.v[0],d.a.v[1],d.a.v[2]),h.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]),h.scale(_?1/$:$,_?1/j:j),h.translate(d.a.v[0],d.a.v[1],d.a.v[2])},RepeaterModifier.prototype.init=function(o,e,h,d){for(this.elem=o,this.arr=e,this.pos=h,this.elemsData=d,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,e[h]);h>0;)h-=1,this._elements.unshift(e[h]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(o){var e,h=o.length;for(e=0;e<h;e+=1)o[e]._processed=!1,o[e].ty==="gr"&&this.resetElements(o[e].it)},RepeaterModifier.prototype.cloneElements=function(o){var e=JSON.parse(JSON.stringify(o));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(o,e){var h,d=o.length;for(h=0;h<d;h+=1)o[h]._render=e,o[h].ty==="gr"&&this.changeGroupRender(o[h].it,e)},RepeaterModifier.prototype.processShapes=function(o){var e,h,d,g,_,b=!1;if(this._mdf||o){var $=Math.ceil(this.c.v);if(this._groups.length<$){for(;this._groups.length<$;){var j={it:this.cloneElements(this._elements),ty:"gr"};j.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,j),this._groups.splice(0,0,j),this._currentCopies+=1}this.elem.reloadShapes(),b=!0}_=0;var _e;for(d=0;d<=this._groups.length-1;d+=1){if(_e=_<$,this._groups[d]._render=_e,this.changeGroupRender(this._groups[d].it,_e),!_e){var et=this.elemsData[d].it,rt=et[et.length-1];rt.transform.op.v!==0?(rt.transform.op._mdf=!0,rt.transform.op.v=0):rt.transform.op._mdf=!1}_+=1}this._currentCopies=$;var tt=this.o.v,nt=tt%1,st=tt>0?Math.floor(tt):Math.ceil(tt),at=this.pMatrix.props,ct=this.rMatrix.props,it=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var lt=0;if(tt>0){for(;lt<st;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),lt+=1;nt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,nt,!1),lt+=nt)}else if(tt<0){for(;lt>st;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),lt-=1;nt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-nt,!0),lt-=nt)}d=this.data.m===1?0:this._currentCopies-1,g=this.data.m===1?1:-1,_=this._currentCopies;for(var ht,ut;_;){if(e=this.elemsData[d].it,h=e[e.length-1].transform.mProps.v.props,ut=h.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(d/(this._currentCopies-1)),lt!==0){for((d!==0&&g===1||d!==this._currentCopies-1&&g===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],ct[7],ct[8],ct[9],ct[10],ct[11],ct[12],ct[13],ct[14],ct[15]),this.matrix.transform(it[0],it[1],it[2],it[3],it[4],it[5],it[6],it[7],it[8],it[9],it[10],it[11],it[12],it[13],it[14],it[15]),this.matrix.transform(at[0],at[1],at[2],at[3],at[4],at[5],at[6],at[7],at[8],at[9],at[10],at[11],at[12],at[13],at[14],at[15]),ht=0;ht<ut;ht+=1)h[ht]=this.matrix.props[ht];this.matrix.reset()}else for(this.matrix.reset(),ht=0;ht<ut;ht+=1)h[ht]=this.matrix.props[ht];lt+=1,_-=1,d+=g}}else for(_=this._currentCopies,d=0,g=1;_;)e=this.elemsData[d].it,h=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,_-=1,d+=g;return b},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(o,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(o,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(o,e){var h=shapePool.newElement();h.c=o.c;var d,g=o._length,_,b,$,j,_e,et,rt=0,tt,nt,st,at,ct,it;for(d=0;d<g;d+=1)_=o.v[d],$=o.o[d],b=o.i[d],_[0]===$[0]&&_[1]===$[1]&&_[0]===b[0]&&_[1]===b[1]?(d===0||d===g-1)&&!o.c?(h.setTripleAt(_[0],_[1],$[0],$[1],b[0],b[1],rt),rt+=1):(d===0?j=o.v[g-1]:j=o.v[d-1],_e=Math.sqrt(Math.pow(_[0]-j[0],2)+Math.pow(_[1]-j[1],2)),et=_e?Math.min(_e/2,e)/_e:0,ct=_[0]+(j[0]-_[0])*et,tt=ct,it=_[1]-(_[1]-j[1])*et,nt=it,st=tt-(tt-_[0])*roundCorner,at=nt-(nt-_[1])*roundCorner,h.setTripleAt(tt,nt,st,at,ct,it,rt),rt+=1,d===g-1?j=o.v[0]:j=o.v[d+1],_e=Math.sqrt(Math.pow(_[0]-j[0],2)+Math.pow(_[1]-j[1],2)),et=_e?Math.min(_e/2,e)/_e:0,st=_[0]+(j[0]-_[0])*et,tt=st,at=_[1]+(j[1]-_[1])*et,nt=at,ct=tt-(tt-_[0])*roundCorner,it=nt-(nt-_[1])*roundCorner,h.setTripleAt(tt,nt,st,at,ct,it,rt),rt+=1):(h.setTripleAt(o.v[d][0],o.v[d][1],o.o[d][0],o.o[d][1],o.i[d][0],o.i[d][1],rt),rt+=1);return h},RoundCornersModifier.prototype.processShapes=function(o){var e,h,d=this.shapes.length,g,_,b=this.rd.v;if(b!==0){var $,j;for(h=0;h<d;h+=1){if($=this.shapes[h],j=$.localShapeCollection,!(!$.shape._mdf&&!this._mdf&&!o))for(j.releaseShapes(),$.shape._mdf=!0,e=$.shape.paths.shapes,_=$.shape.paths._length,g=0;g<_;g+=1)j.addShape(this.processPath(e[g],b));$.shape.paths=$.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(o,e){return Math.abs(o-e)*1e5<=Math.min(Math.abs(o),Math.abs(e))}function floatZero(o){return Math.abs(o)<=1e-5}function lerp(o,e,h){return o*(1-h)+e*h}function lerpPoint(o,e,h){return[lerp(o[0],e[0],h),lerp(o[1],e[1],h)]}function quadRoots(o,e,h){if(o===0)return[];var d=e*e-4*o*h;if(d<0)return[];var g=-e/(2*o);if(d===0)return[g];var _=Math.sqrt(d)/(2*o);return[g-_,g+_]}function polynomialCoefficients(o,e,h,d){return[-o+3*e-3*h+d,3*o-6*e+3*h,-3*o+3*e,o]}function singlePoint(o){return new PolynomialBezier(o,o,o,o,!1)}function PolynomialBezier(o,e,h,d,g){g&&pointEqual(o,e)&&(e=lerpPoint(o,d,1/3)),g&&pointEqual(h,d)&&(h=lerpPoint(o,d,2/3));var _=polynomialCoefficients(o[0],e[0],h[0],d[0]),b=polynomialCoefficients(o[1],e[1],h[1],d[1]);this.a=[_[0],b[0]],this.b=[_[1],b[1]],this.c=[_[2],b[2]],this.d=[_[3],b[3]],this.points=[o,e,h,d]}PolynomialBezier.prototype.point=function(o){return[((this.a[0]*o+this.b[0])*o+this.c[0])*o+this.d[0],((this.a[1]*o+this.b[1])*o+this.c[1])*o+this.d[1]]},PolynomialBezier.prototype.derivative=function(o){return[(3*o*this.a[0]+2*this.b[0])*o+this.c[0],(3*o*this.a[1]+2*this.b[1])*o+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(o){var e=this.derivative(o);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(o){var e=this.derivative(o);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var o=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(o))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/o,h=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/o;if(h<0)return[];var d=Math.sqrt(h);return floatZero(d)?d>0&&d<1?[e]:[]:[e-d,e+d].filter(function(g){return g>0&&g<1})},PolynomialBezier.prototype.split=function(o){if(o<=0)return[singlePoint(this.points[0]),this];if(o>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],o),h=lerpPoint(this.points[1],this.points[2],o),d=lerpPoint(this.points[2],this.points[3],o),g=lerpPoint(e,h,o),_=lerpPoint(h,d,o),b=lerpPoint(g,_,o);return[new PolynomialBezier(this.points[0],e,g,b,!0),new PolynomialBezier(b,_,d,this.points[3],!0)]};function extrema(o,e){var h=o.points[0][e],d=o.points[o.points.length-1][e];if(h>d){var g=d;d=h,h=g}for(var _=quadRoots(3*o.a[e],2*o.b[e],o.c[e]),b=0;b<_.length;b+=1)if(_[b]>0&&_[b]<1){var $=o.point(_[b])[e];$<h?h=$:$>d&&(d=$)}return{min:h,max:d}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var o=this.bounds();return{left:o.x.min,right:o.x.max,top:o.y.min,bottom:o.y.max,width:o.x.max-o.x.min,height:o.y.max-o.y.min,cx:(o.x.max+o.x.min)/2,cy:(o.y.max+o.y.min)/2}};function intersectData(o,e,h){var d=o.boundingBox();return{cx:d.cx,cy:d.cy,width:d.width,height:d.height,bez:o,t:(e+h)/2,t1:e,t2:h}}function splitData(o){var e=o.bez.split(.5);return[intersectData(e[0],o.t1,o.t),intersectData(e[1],o.t,o.t2)]}function boxIntersect(o,e){return Math.abs(o.cx-e.cx)*2<o.width+e.width&&Math.abs(o.cy-e.cy)*2<o.height+e.height}function intersectsImpl(o,e,h,d,g,_){if(!!boxIntersect(o,e)){if(h>=_||o.width<=d&&o.height<=d&&e.width<=d&&e.height<=d){g.push([o.t,e.t]);return}var b=splitData(o),$=splitData(e);intersectsImpl(b[0],$[0],h+1,d,g,_),intersectsImpl(b[0],$[1],h+1,d,g,_),intersectsImpl(b[1],$[0],h+1,d,g,_),intersectsImpl(b[1],$[1],h+1,d,g,_)}}PolynomialBezier.prototype.intersections=function(o,e,h){e===void 0&&(e=2),h===void 0&&(h=7);var d=[];return intersectsImpl(intersectData(this,0,1),intersectData(o,0,1),0,e,d,h),d},PolynomialBezier.shapeSegment=function(o,e){var h=(e+1)%o.length();return new PolynomialBezier(o.v[e],o.o[e],o.i[h],o.v[h],!0)},PolynomialBezier.shapeSegmentInverted=function(o,e){var h=(e+1)%o.length();return new PolynomialBezier(o.v[h],o.i[h],o.o[e],o.v[e],!0)};function crossProduct(o,e){return[o[1]*e[2]-o[2]*e[1],o[2]*e[0]-o[0]*e[2],o[0]*e[1]-o[1]*e[0]]}function lineIntersection(o,e,h,d){var g=[o[0],o[1],1],_=[e[0],e[1],1],b=[h[0],h[1],1],$=[d[0],d[1],1],j=crossProduct(crossProduct(g,_),crossProduct(b,$));return floatZero(j[2])?null:[j[0]/j[2],j[1]/j[2]]}function polarOffset(o,e,h){return[o[0]+Math.cos(e)*h,o[1]-Math.sin(e)*h]}function pointDistance(o,e){return Math.hypot(o[0]-e[0],o[1]-e[1])}function pointEqual(o,e){return floatEqual(o[0],e[0])&&floatEqual(o[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(o,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(o,e.s,0,null,this),this.frequency=PropertyFactory.getProp(o,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(o,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(o,e,h,d,g,_,b){var $=h-Math.PI/2,j=h+Math.PI/2,_e=e[0]+Math.cos(h)*d*g,et=e[1]-Math.sin(h)*d*g;o.setTripleAt(_e,et,_e+Math.cos($)*_,et-Math.sin($)*_,_e+Math.cos(j)*b,et-Math.sin(j)*b,o.length())}function getPerpendicularVector(o,e){var h=[e[0]-o[0],e[1]-o[1]],d=-Math.PI*.5,g=[Math.cos(d)*h[0]-Math.sin(d)*h[1],Math.sin(d)*h[0]+Math.cos(d)*h[1]];return g}function getProjectingAngle(o,e){var h=e===0?o.length()-1:e-1,d=(e+1)%o.length(),g=o.v[h],_=o.v[d],b=getPerpendicularVector(g,_);return Math.atan2(0,1)-Math.atan2(b[1],b[0])}function zigZagCorner(o,e,h,d,g,_,b){var $=getProjectingAngle(e,h),j=e.v[h%e._length],_e=e.v[h===0?e._length-1:h-1],et=e.v[(h+1)%e._length],rt=_===2?Math.sqrt(Math.pow(j[0]-_e[0],2)+Math.pow(j[1]-_e[1],2)):0,tt=_===2?Math.sqrt(Math.pow(j[0]-et[0],2)+Math.pow(j[1]-et[1],2)):0;setPoint(o,e.v[h%e._length],$,b,d,tt/((g+1)*2),rt/((g+1)*2))}function zigZagSegment(o,e,h,d,g,_){for(var b=0;b<d;b+=1){var $=(b+1)/(d+1),j=g===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,_e=e.normalAngle($),et=e.point($);setPoint(o,et,_e,_,h,j/((d+1)*2),j/((d+1)*2)),_=-_}return _}ZigZagModifier.prototype.processPath=function(o,e,h,d){var g=o._length,_=shapePool.newElement();if(_.c=o.c,o.c||(g-=1),g===0)return _;var b=-1,$=PolynomialBezier.shapeSegment(o,0);zigZagCorner(_,o,0,e,h,d,b);for(var j=0;j<g;j+=1)b=zigZagSegment(_,$,e,h,d,-b),j===g-1&&!o.c?$=null:$=PolynomialBezier.shapeSegment(o,(j+1)%g),zigZagCorner(_,o,j+1,e,h,d,b);return _},ZigZagModifier.prototype.processShapes=function(o){var e,h,d=this.shapes.length,g,_,b=this.amplitude.v,$=Math.max(0,Math.round(this.frequency.v)),j=this.pointsType.v;if(b!==0){var _e,et;for(h=0;h<d;h+=1){if(_e=this.shapes[h],et=_e.localShapeCollection,!(!_e.shape._mdf&&!this._mdf&&!o))for(et.releaseShapes(),_e.shape._mdf=!0,e=_e.shape.paths.shapes,_=_e.shape.paths._length,g=0;g<_;g+=1)et.addShape(this.processPath(e[g],b,$,j));_e.shape.paths=_e.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(o,e,h){var d=Math.atan2(e[0]-o[0],e[1]-o[1]);return[polarOffset(o,d,h),polarOffset(e,d,h)]}function offsetSegment(o,e){var h,d,g,_,b,$,j;j=linearOffset(o.points[0],o.points[1],e),h=j[0],d=j[1],j=linearOffset(o.points[1],o.points[2],e),g=j[0],_=j[1],j=linearOffset(o.points[2],o.points[3],e),b=j[0],$=j[1];var _e=lineIntersection(h,d,g,_);_e===null&&(_e=d);var et=lineIntersection(b,$,g,_);return et===null&&(et=b),new PolynomialBezier(h,_e,et,$)}function joinLines(o,e,h,d,g){var _=e.points[3],b=h.points[0];if(d===3||pointEqual(_,b))return _;if(d===2){var $=-e.tangentAngle(1),j=-h.tangentAngle(0)+Math.PI,_e=lineIntersection(_,polarOffset(_,$+Math.PI/2,100),b,polarOffset(b,$+Math.PI/2,100)),et=_e?pointDistance(_e,_):pointDistance(_,b)/2,rt=polarOffset(_,$,2*et*roundCorner);return o.setXYAt(rt[0],rt[1],"o",o.length()-1),rt=polarOffset(b,j,2*et*roundCorner),o.setTripleAt(b[0],b[1],b[0],b[1],rt[0],rt[1],o.length()),b}var tt=pointEqual(_,e.points[2])?e.points[0]:e.points[2],nt=pointEqual(b,h.points[1])?h.points[3]:h.points[1],st=lineIntersection(tt,_,b,nt);return st&&pointDistance(st,_)<g?(o.setTripleAt(st[0],st[1],st[0],st[1],st[0],st[1],o.length()),st):_}function getIntersection(o,e){var h=o.intersections(e);return h.length&&floatEqual(h[0][0],1)&&h.shift(),h.length?h[0]:null}function pruneSegmentIntersection(o,e){var h=o.slice(),d=e.slice(),g=getIntersection(o[o.length-1],e[0]);return g&&(h[o.length-1]=o[o.length-1].split(g[0])[0],d[0]=e[0].split(g[1])[1]),o.length>1&&e.length>1&&(g=getIntersection(o[0],e[e.length-1]),g)?[[o[0].split(g[0])[0]],[e[e.length-1].split(g[1])[1]]]:[h,d]}function pruneIntersections(o){for(var e,h=1;h<o.length;h+=1)e=pruneSegmentIntersection(o[h-1],o[h]),o[h-1]=e[0],o[h]=e[1];return o.length>1&&(e=pruneSegmentIntersection(o[o.length-1],o[0]),o[o.length-1]=e[0],o[0]=e[1]),o}function offsetSegmentSplit(o,e){var h=o.inflectionPoints(),d,g,_,b;if(h.length===0)return[offsetSegment(o,e)];if(h.length===1||floatEqual(h[1],1))return _=o.split(h[0]),d=_[0],g=_[1],[offsetSegment(d,e),offsetSegment(g,e)];_=o.split(h[0]),d=_[0];var $=(h[1]-h[0])/(1-h[0]);return _=_[1].split($),b=_[0],g=_[1],[offsetSegment(d,e),offsetSegment(b,e),offsetSegment(g,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(o,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(o,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(o,e,h,d){var g=shapePool.newElement();g.c=o.c;var _=o.length();o.c||(_-=1);var b,$,j,_e=[];for(b=0;b<_;b+=1)j=PolynomialBezier.shapeSegment(o,b),_e.push(offsetSegmentSplit(j,e));if(!o.c)for(b=_-1;b>=0;b-=1)j=PolynomialBezier.shapeSegmentInverted(o,b),_e.push(offsetSegmentSplit(j,e));_e=pruneIntersections(_e);var et=null,rt=null;for(b=0;b<_e.length;b+=1){var tt=_e[b];for(rt&&(et=joinLines(g,rt,tt[0],h,d)),rt=tt[tt.length-1],$=0;$<tt.length;$+=1)j=tt[$],et&&pointEqual(j.points[0],et)?g.setXYAt(j.points[1][0],j.points[1][1],"o",g.length()-1):g.setTripleAt(j.points[0][0],j.points[0][1],j.points[1][0],j.points[1][1],j.points[0][0],j.points[0][1],g.length()),g.setTripleAt(j.points[3][0],j.points[3][1],j.points[3][0],j.points[3][1],j.points[2][0],j.points[2][1],g.length()),et=j.points[3]}return _e.length&&joinLines(g,rt,_e[0][0],h,d),g},OffsetPathModifier.prototype.processShapes=function(o){var e,h,d=this.shapes.length,g,_,b=this.amount.v,$=this.miterLimit.v,j=this.lineJoin;if(b!==0){var _e,et;for(h=0;h<d;h+=1){if(_e=this.shapes[h],et=_e.localShapeCollection,!(!_e.shape._mdf&&!this._mdf&&!o))for(et.releaseShapes(),_e.shape._mdf=!0,e=_e.shape.paths.shapes,_=_e.shape.paths._length,g=0;g<_;g+=1)et.addShape(this.processPath(e[g],b,j,$));_e.shape.paths=_e.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(o){for(var e=o.fStyle?o.fStyle.split(" "):[],h="normal",d="normal",g=e.length,_,b=0;b<g;b+=1)switch(_=e[b].toLowerCase(),_){case"italic":d="italic";break;case"bold":h="700";break;case"black":h="900";break;case"medium":h="500";break;case"regular":case"normal":h="400";break;case"light":case"thin":h="200";break}return{style:d,weight:o.fWeight||h}}var FontManager=function(){var o=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},h=[];h=h.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var d=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],g=[65039,8205];function _(ut){var dt=ut.split(","),pt,mt=dt.length,yt=[];for(pt=0;pt<mt;pt+=1)dt[pt]!=="sans-serif"&&dt[pt]!=="monospace"&&yt.push(dt[pt]);return yt.join(",")}function b(ut,dt){var pt=createTag("span");pt.setAttribute("aria-hidden",!0),pt.style.fontFamily=dt;var mt=createTag("span");mt.innerText="giItT1WQy@!-/#",pt.style.position="absolute",pt.style.left="-10000px",pt.style.top="-10000px",pt.style.fontSize="300px",pt.style.fontVariant="normal",pt.style.fontStyle="normal",pt.style.fontWeight="normal",pt.style.letterSpacing="0",pt.appendChild(mt),document.body.appendChild(pt);var yt=mt.offsetWidth;return mt.style.fontFamily=_(ut)+", "+dt,{node:mt,w:yt,parent:pt}}function $(){var ut,dt=this.fonts.length,pt,mt,yt=dt;for(ut=0;ut<dt;ut+=1)this.fonts[ut].loaded?yt-=1:this.fonts[ut].fOrigin==="n"||this.fonts[ut].origin===0?this.fonts[ut].loaded=!0:(pt=this.fonts[ut].monoCase.node,mt=this.fonts[ut].monoCase.w,pt.offsetWidth!==mt?(yt-=1,this.fonts[ut].loaded=!0):(pt=this.fonts[ut].sansCase.node,mt=this.fonts[ut].sansCase.w,pt.offsetWidth!==mt&&(yt-=1,this.fonts[ut].loaded=!0)),this.fonts[ut].loaded&&(this.fonts[ut].sansCase.parent.parentNode.removeChild(this.fonts[ut].sansCase.parent),this.fonts[ut].monoCase.parent.parentNode.removeChild(this.fonts[ut].monoCase.parent)));yt!==0&&Date.now()-this.initTime<o?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function j(ut,dt){var pt=document.body&&dt?"svg":"canvas",mt,yt=getFontProperties(ut);if(pt==="svg"){var xt=createNS("text");xt.style.fontSize="100px",xt.setAttribute("font-family",ut.fFamily),xt.setAttribute("font-style",yt.style),xt.setAttribute("font-weight",yt.weight),xt.textContent="1",ut.fClass?(xt.style.fontFamily="inherit",xt.setAttribute("class",ut.fClass)):xt.style.fontFamily=ut.fFamily,dt.appendChild(xt),mt=xt}else{var Tt=new OffscreenCanvas(500,500).getContext("2d");Tt.font=yt.style+" "+yt.weight+" 100px "+ut.fFamily,mt=Tt}function _t(Mt){return pt==="svg"?(mt.textContent=Mt,mt.getComputedTextLength()):mt.measureText(Mt).width}return{measureText:_t}}function _e(ut,dt){if(!ut){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ut.list;return}if(!document.body){this.isLoaded=!0,ut.list.forEach(function(Et){Et.helper=j(Et),Et.cache={}}),this.fonts=ut.list;return}var pt=ut.list,mt,yt=pt.length,xt=yt;for(mt=0;mt<yt;mt+=1){var Tt=!0,_t,Mt;if(pt[mt].loaded=!1,pt[mt].monoCase=b(pt[mt].fFamily,"monospace"),pt[mt].sansCase=b(pt[mt].fFamily,"sans-serif"),!pt[mt].fPath)pt[mt].loaded=!0,xt-=1;else if(pt[mt].fOrigin==="p"||pt[mt].origin===3){if(_t=document.querySelectorAll('style[f-forigin="p"][f-family="'+pt[mt].fFamily+'"], style[f-origin="3"][f-family="'+pt[mt].fFamily+'"]'),_t.length>0&&(Tt=!1),Tt){var Lt=createTag("style");Lt.setAttribute("f-forigin",pt[mt].fOrigin),Lt.setAttribute("f-origin",pt[mt].origin),Lt.setAttribute("f-family",pt[mt].fFamily),Lt.type="text/css",Lt.innerText="@font-face {font-family: "+pt[mt].fFamily+"; font-style: normal; src: url('"+pt[mt].fPath+"');}",dt.appendChild(Lt)}}else if(pt[mt].fOrigin==="g"||pt[mt].origin===1){for(_t=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Mt=0;Mt<_t.length;Mt+=1)_t[Mt].href.indexOf(pt[mt].fPath)!==-1&&(Tt=!1);if(Tt){var Pt=createTag("link");Pt.setAttribute("f-forigin",pt[mt].fOrigin),Pt.setAttribute("f-origin",pt[mt].origin),Pt.type="text/css",Pt.rel="stylesheet",Pt.href=pt[mt].fPath,document.body.appendChild(Pt)}}else if(pt[mt].fOrigin==="t"||pt[mt].origin===2){for(_t=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Mt=0;Mt<_t.length;Mt+=1)pt[mt].fPath===_t[Mt].src&&(Tt=!1);if(Tt){var It=createTag("link");It.setAttribute("f-forigin",pt[mt].fOrigin),It.setAttribute("f-origin",pt[mt].origin),It.setAttribute("rel","stylesheet"),It.setAttribute("href",pt[mt].fPath),dt.appendChild(It)}}pt[mt].helper=j(pt[mt],dt),pt[mt].cache={},this.fonts.push(pt[mt])}xt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function et(ut){if(!!ut){this.chars||(this.chars=[]);var dt,pt=ut.length,mt,yt=this.chars.length,xt;for(dt=0;dt<pt;dt+=1){for(mt=0,xt=!1;mt<yt;)this.chars[mt].style===ut[dt].style&&this.chars[mt].fFamily===ut[dt].fFamily&&this.chars[mt].ch===ut[dt].ch&&(xt=!0),mt+=1;xt||(this.chars.push(ut[dt]),yt+=1)}}}function rt(ut,dt,pt){for(var mt=0,yt=this.chars.length;mt<yt;){if(this.chars[mt].ch===ut&&this.chars[mt].style===dt&&this.chars[mt].fFamily===pt)return this.chars[mt];mt+=1}return(typeof ut=="string"&&ut.charCodeAt(0)!==13||!ut)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ut,dt,pt)),e}function tt(ut,dt,pt){var mt=this.getFontByName(dt),yt=ut.charCodeAt(0);if(!mt.cache[yt+1]){var xt=mt.helper;if(ut===" "){var Tt=xt.measureText("|"+ut+"|"),_t=xt.measureText("||");mt.cache[yt+1]=(Tt-_t)/100}else mt.cache[yt+1]=xt.measureText(ut)/100}return mt.cache[yt+1]*pt}function nt(ut){for(var dt=0,pt=this.fonts.length;dt<pt;){if(this.fonts[dt].fName===ut)return this.fonts[dt];dt+=1}return this.fonts[0]}function st(ut,dt){var pt=ut.toString(16)+dt.toString(16);return d.indexOf(pt)!==-1}function at(ut,dt){return dt?ut===g[0]&&dt===g[1]:ut===g[1]}function ct(ut){return h.indexOf(ut)!==-1}function it(){this.isLoaded=!0}var lt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};lt.isModifier=st,lt.isZeroWidthJoiner=at,lt.isCombinedCharacter=ct;var ht={addChars:et,addFonts:_e,getCharData:rt,getFontByName:nt,measureText:tt,checkLoadedFonts:$,setIsLoaded:it};return lt.prototype=ht,lt}();function SlotManager(o){this.animationData=o}SlotManager.prototype.getProp=function(o){return this.animationData.slots&&this.animationData.slots[o.sid]?Object.assign(o,this.animationData.slots[o.sid].p):o};function slotFactory(o){return new SlotManager(o)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,h=this.renderableComponents.length;for(e=0;e<h;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var o={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return o[e]||""}}();function SliderEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,0,0,h)}function AngleEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,0,0,h)}function ColorEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,1,0,h)}function PointEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,1,0,h)}function LayerIndexEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,0,0,h)}function MaskIndexEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,0,0,h)}function CheckboxEffect(o,e,h){this.p=PropertyFactory.getProp(e,o.v,0,0,h)}function NoValueEffect(){this.p={}}function EffectsManager(o,e){var h=o.ef||[];this.effectElements=[];var d,g=h.length,_;for(d=0;d<g;d+=1)_=new GroupEffect(h[d],e),this.effectElements.push(_)}function GroupEffect(o,e){this.init(o,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(o,e){this.data=o,this.effectElements=[],this.initDynamicPropertyContainer(e);var h,d=this.data.ef.length,g,_=this.data.ef;for(h=0;h<d;h+=1){switch(g=null,_[h].ty){case 0:g=new SliderEffect(_[h],e,this);break;case 1:g=new AngleEffect(_[h],e,this);break;case 2:g=new ColorEffect(_[h],e,this);break;case 3:g=new PointEffect(_[h],e,this);break;case 4:case 7:g=new CheckboxEffect(_[h],e,this);break;case 10:g=new LayerIndexEffect(_[h],e,this);break;case 11:g=new MaskIndexEffect(_[h],e,this);break;case 5:g=new EffectsManager(_[h],e);break;default:g=new NoValueEffect(_[h]);break}g&&this.effectElements.push(g)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,h=this.data.masksProperties.length;e<h;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(!!e){var h=e("layer"),d=e("effects"),g=e("shape"),_=e("text"),b=e("comp");this.layerInterface=h(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var $=d.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface($),this.data.ty===0||this.data.xt?this.compInterface=b(this):this.data.ty===4?(this.layerInterface.shapeInterface=g(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=_(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),h=this.baseElement||this.layerElement;h.style["mix-blend-mode"]=e},initBaseData:function(e,h,d){this.globalData=h,this.comp=d,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,h){var d,g=this.dynamicProperties.length;for(d=0;d<g;d+=1)(h||this._isParent&&this.dynamicProperties[d].propType==="transform")&&(this.dynamicProperties[d].getValue(),this.dynamicProperties[d]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(o,e,h){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(o.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(o,e,h)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var o=getExpressionInterfaces();if(!!o){var e=o("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(o,e,h){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(o.refId),this.initBaseData(o,e,h),this._isPlaying=!1,this._canPlay=!1;var d=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(d),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,o.au&&o.au.lv?o.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(o){if(this.prepareRenderableFrame(o,!0),this.prepareProperties(o,!0),this.tm._placeholder)this._currentTime=o/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var h=this._volume*this._volumeMultiplier;this._previousVolume!==h&&(this._previousVolume=h,this.audio.volume(h))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(o){this.audio.rate(o)},AudioElement.prototype.volume=function(o){this._volumeMultiplier=o,this._previousVolume=o*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(o){var e,h=this.layers.length,d;for(this.completeLayers=!0,e=h-1;e>=0;e-=1)this.elements[e]||(d=this.layers[e],d.ip-d.st<=o-this.layers[e].st&&d.op-d.st>o-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(o){switch(o.ty){case 2:return this.createImage(o);case 0:return this.createComp(o);case 1:return this.createSolid(o);case 3:return this.createNull(o);case 4:return this.createShape(o);case 5:return this.createText(o);case 6:return this.createAudio(o);case 13:return this.createCamera(o);case 15:return this.createFootage(o);default:return this.createNull(o)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(o){return new AudioElement(o,this.globalData,this)},BaseRenderer.prototype.createFootage=function(o){return new FootageElement(o,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var o,e=this.layers.length;for(o=0;o<e;o+=1)this.buildItem(o);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(o){this.completeLayers=!1;var e,h=o.length,d,g=this.layers.length;for(e=0;e<h;e+=1)for(d=0;d<g;){if(this.layers[d].id===o[e].id){this.layers[d]=o[e];break}d+=1}},BaseRenderer.prototype.setProjectInterface=function(o){this.globalData.projectInterface=o},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(o,e,h){for(var d=this.elements,g=this.layers,_=0,b=g.length;_<b;)g[_].ind==e&&(!d[_]||d[_]===!0?(this.buildItem(_),this.addPendingElement(o)):(h.push(d[_]),d[_].setAsParent(),g[_].parent!==void 0?this.buildElementParenting(o,g[_].parent,h):o.setHierarchy(h))),_+=1},BaseRenderer.prototype.addPendingElement=function(o){this.pendingElements.push(o)},BaseRenderer.prototype.searchExtraCompositions=function(o){var e,h=o.length;for(e=0;e<h;e+=1)if(o[e].xt){var d=this.createComp(o[e]);d.initExpressions(),this.globalData.projectInterface.registerComposition(d)}},BaseRenderer.prototype.getElementById=function(o){var e,h=this.elements.length;for(e=0;e<h;e+=1)if(this.elements[e].data.ind===o)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(o){var e=o.shift(),h;if(typeof e=="number")h=this.elements[e];else{var d,g=this.elements.length;for(d=0;d<g;d+=1)if(this.elements[d].data.nm===e){h=this.elements[d];break}}return o.length===0?h:h.getElementByPath(o)},BaseRenderer.prototype.setupGlobalData=function(o,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(o),this.globalData.fontManager.addChars(o.chars),this.globalData.fontManager.addFonts(o.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=o.fr,this.globalData.nm=o.nm,this.globalData.compSize={w:o.w,h:o.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty!==11},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,h=this.finalTransform.mat,d=0,g=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;d<g;){if(this.hierarchy[d].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}d+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,h.cloneFromProps(e),d=0;d<g;d+=1)e=this.hierarchy[d].finalTransform.mProp.v.props,h.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var h=[];h.push(this.finalTransform);for(var d=!0,g=this.comp;d;)g.finalTransform?(g.data.hasMask&&h.splice(0,0,g.finalTransform),g=g.comp):d=!1;var _,b=h.length,$;for(_=0;_<b;_+=1)$=h[_].mat.applyToPointArray(0,0,0),e=[e[0]-$[0],e[1]-$[1],0];return e},mHelper:new Matrix};function MaskElement(o,e,h){this.data=o,this.element=e,this.globalData=h,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var d=this.globalData.defs,g,_=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(_),this.solidPath="";var b,$=this.masksProperties,j=0,_e=[],et,rt,tt=createElementID(),nt,st,at,ct,it="clipPath",lt="clip-path";for(g=0;g<_;g+=1)if(($[g].mode!=="a"&&$[g].mode!=="n"||$[g].inv||$[g].o.k!==100||$[g].o.x)&&(it="mask",lt="mask"),($[g].mode==="s"||$[g].mode==="i")&&j===0?(nt=createNS("rect"),nt.setAttribute("fill","#ffffff"),nt.setAttribute("width",this.element.comp.data.w||0),nt.setAttribute("height",this.element.comp.data.h||0),_e.push(nt)):nt=null,b=createNS("path"),$[g].mode==="n")this.viewData[g]={op:PropertyFactory.getProp(this.element,$[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,$[g],3),elem:b,lastPath:""},d.appendChild(b);else{j+=1,b.setAttribute("fill",$[g].mode==="s"?"#000000":"#ffffff"),b.setAttribute("clip-rule","nonzero");var ht;if($[g].x.k!==0?(it="mask",lt="mask",ct=PropertyFactory.getProp(this.element,$[g].x,0,null,this.element),ht=createElementID(),st=createNS("filter"),st.setAttribute("id",ht),at=createNS("feMorphology"),at.setAttribute("operator","erode"),at.setAttribute("in","SourceGraphic"),at.setAttribute("radius","0"),st.appendChild(at),d.appendChild(st),b.setAttribute("stroke",$[g].mode==="s"?"#000000":"#ffffff")):(at=null,ct=null),this.storedData[g]={elem:b,x:ct,expan:at,lastPath:"",lastOperator:"",filterId:ht,lastRadius:0},$[g].mode==="i"){rt=_e.length;var ut=createNS("g");for(et=0;et<rt;et+=1)ut.appendChild(_e[et]);var dt=createNS("mask");dt.setAttribute("mask-type","alpha"),dt.setAttribute("id",tt+"_"+j),dt.appendChild(b),d.appendChild(dt),ut.setAttribute("mask","url("+getLocationHref()+"#"+tt+"_"+j+")"),_e.length=0,_e.push(ut)}else _e.push(b);$[g].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[g]={elem:b,lastPath:"",op:PropertyFactory.getProp(this.element,$[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,$[g],3),invRect:nt},this.viewData[g].prop.k||this.drawPath($[g],this.viewData[g].prop.v,this.viewData[g])}for(this.maskElement=createNS(it),_=_e.length,g=0;g<_;g+=1)this.maskElement.appendChild(_e[g]);j>0&&(this.maskElement.setAttribute("id",tt),this.element.maskedElement.setAttribute(lt,"url("+getLocationHref()+"#"+tt+")"),d.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(o){return this.viewData[o].prop},MaskElement.prototype.renderFrame=function(o){var e=this.element.finalTransform.mat,h,d=this.masksProperties.length;for(h=0;h<d;h+=1)if((this.viewData[h].prop._mdf||o)&&this.drawPath(this.masksProperties[h],this.viewData[h].prop.v,this.viewData[h]),(this.viewData[h].op._mdf||o)&&this.viewData[h].elem.setAttribute("fill-opacity",this.viewData[h].op.v),this.masksProperties[h].mode!=="n"&&(this.viewData[h].invRect&&(this.element.finalTransform.mProp._mdf||o)&&this.viewData[h].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[h].x&&(this.storedData[h].x._mdf||o))){var g=this.storedData[h].expan;this.storedData[h].x.v<0?(this.storedData[h].lastOperator!=="erode"&&(this.storedData[h].lastOperator="erode",this.storedData[h].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[h].filterId+")")),g.setAttribute("radius",-this.storedData[h].x.v)):(this.storedData[h].lastOperator!=="dilate"&&(this.storedData[h].lastOperator="dilate",this.storedData[h].elem.setAttribute("filter",null)),this.storedData[h].elem.setAttribute("stroke-width",this.storedData[h].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var o="M0,0 ";return o+=" h"+this.globalData.compSize.w,o+=" v"+this.globalData.compSize.h,o+=" h-"+this.globalData.compSize.w,o+=" v-"+this.globalData.compSize.h+" ",o},MaskElement.prototype.drawPath=function(o,e,h){var d=" M"+e.v[0][0]+","+e.v[0][1],g,_;for(_=e._length,g=1;g<_;g+=1)d+=" C"+e.o[g-1][0]+","+e.o[g-1][1]+" "+e.i[g][0]+","+e.i[g][1]+" "+e.v[g][0]+","+e.v[g][1];if(e.c&&_>1&&(d+=" C"+e.o[g-1][0]+","+e.o[g-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),h.lastPath!==d){var b="";h.elem&&(e.c&&(b=o.inv?this.solidPath+d:d),h.elem.setAttribute("d",b)),h.lastPath=d}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var o={};o.createFilter=e,o.createAlphaToLuminanceFilter=h;function e(d,g){var _=createNS("filter");return _.setAttribute("id",d),g!==!0&&(_.setAttribute("filterUnits","objectBoundingBox"),_.setAttribute("x","0%"),_.setAttribute("y","0%"),_.setAttribute("width","100%"),_.setAttribute("height","100%")),_}function h(){var d=createNS("feColorMatrix");return d.setAttribute("type","matrix"),d.setAttribute("color-interpolation-filters","sRGB"),d.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),d}return o}(),featureSupport=function(){var o={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas!="undefined"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(o.maskType=!1),/firefox/i.test(navigator.userAgent)&&(o.svgLumaHidden=!1),o}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(o){var e,h="SourceGraphic",d=o.data.ef?o.data.ef.length:0,g=createElementID(),_=filtersFactory.createFilter(g,!0),b=0;this.filters=[];var $;for(e=0;e<d;e+=1){$=null;var j=o.data.ef[e].ty;if(registeredEffects[j]){var _e=registeredEffects[j].effect;$=new _e(_,o.effectsManager.effectElements[e],o,idPrefix+b,h),h=idPrefix+b,registeredEffects[j].countsAsEffect&&(b+=1)}$&&this.filters.push($)}b&&(o.globalData.defs.appendChild(_),o.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+g+")")),this.filters.length&&o.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(o){var e,h=this.filters.length;for(e=0;e<h;e+=1)this.filters[e].renderFrame(o)};function registerEffect(o,e,h){registeredEffects[o]={effect:e,countsAsEffect:h}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var h=createNS("g");h.setAttribute("id",this.layerId),h.appendChild(this.layerElement),e=h,this.globalData.defs.appendChild(h)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var d=createNS("clipPath"),g=createNS("path");g.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var _=createElementID();if(d.setAttribute("id",_),d.appendChild(g),this.globalData.defs.appendChild(d),this.checkMasks()){var b=createNS("g");b.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")"),b.appendChild(this.layerElement),this.transformedElement=b,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var h=this.layerId+"_"+e,d,g,_,b;if(e===1||e===3){var $=createNS("mask");$.setAttribute("id",h),$.setAttribute("mask-type",e===3?"luminance":"alpha"),_=createNS("use"),_.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),$.appendChild(_),this.globalData.defs.appendChild($),!featureSupport.maskType&&e===1&&($.setAttribute("mask-type","luminance"),d=createElementID(),g=filtersFactory.createFilter(d),this.globalData.defs.appendChild(g),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),b=createNS("g"),b.appendChild(_),$.appendChild(b),b.setAttribute("filter","url("+getLocationHref()+"#"+d+")"))}else if(e===2){var j=createNS("mask");j.setAttribute("id",h),j.setAttribute("mask-type","alpha");var _e=createNS("g");j.appendChild(_e),d=createElementID(),g=filtersFactory.createFilter(d);var et=createNS("feComponentTransfer");et.setAttribute("in","SourceGraphic"),g.appendChild(et);var rt=createNS("feFuncA");rt.setAttribute("type","table"),rt.setAttribute("tableValues","1.0 0.0"),et.appendChild(rt),this.globalData.defs.appendChild(g);var tt=createNS("rect");tt.setAttribute("width",this.comp.data.w),tt.setAttribute("height",this.comp.data.h),tt.setAttribute("x","0"),tt.setAttribute("y","0"),tt.setAttribute("fill","#ffffff"),tt.setAttribute("opacity","0"),_e.setAttribute("filter","url("+getLocationHref()+"#"+d+")"),_e.appendChild(tt),_=createNS("use"),_.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),_e.appendChild(_),featureSupport.maskType||(j.setAttribute("mask-type","luminance"),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),b=createNS("g"),_e.appendChild(tt),b.appendChild(this.layerElement),_e.appendChild(b)),this.globalData.defs.appendChild(j)}this.matteMasks[e]=h}return this.matteMasks[e]},setMatte:function(e){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var o={initElement:function(h,d,g){this.initFrame(),this.initBaseData(h,d,g),this.initTransform(h,d,g),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var h=this.baseElement||this.layerElement;h.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var h=this.baseElement||this.layerElement;h.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(h){this._mdf=!1,this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(o)],RenderableDOMElement)})();function IImageElement(o,e,h){this.assetData=e.getAssetData(o.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(o,e,h),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(o,e){this.elem=o,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var h,d=this.shapeModifiers.length;for(h=0;h<d;h+=1)this.shapeModifiers[h].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var h=0,d=this.shapeModifiers.length;h<d;)if(this.shapeModifiers[h].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var e,h=this.shapes.length;for(e=0;e<h;e+=1)this.shapes[e].sh.reset();h=this.shapeModifiers.length;var d;for(e=h-1;e>=0&&(d=this.shapeModifiers[e].processShapes(this._isFirstFrame),!d);e-=1);}},searchProcessedElement:function(e){for(var h=this.processedElements,d=0,g=h.length;d<g;){if(h[d].elem===e)return h[d].pos;d+=1}return 0},addProcessedElement:function(e,h){for(var d=this.processedElements,g=d.length;g;)if(g-=1,d[g].elem===e){d[g].pos=h;return}d.push(new ProcessedElement(e,h))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(o,e,h){this.caches=[],this.styles=[],this.transformers=o,this.lStr="",this.sh=h,this.lvl=e,this._isAnimated=!!h.k;for(var d=0,g=o.length;d<g;){if(o[d].mProps.dynamicProperties.length){this._isAnimated=!0;break}d+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(o,e){this.data=o,this.type=o.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=o.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(o,e,h,d){this.elem=o,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=h,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(d);var g,_=e.length||0,b;for(g=0;g<_;g+=1)b=PropertyFactory.getProp(o,e[g].v,0,0,this),this.k=b.k||this.k,this.dataProps[g]={n:e[g].n,p:b};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(o){if(!(this.elem.globalData.frameId===this.frameId&&!o)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||o,this._mdf)){var e=0,h=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<h;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(o,e,h){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,e.o,0,.01,this),this.w=PropertyFactory.getProp(o,e.w,0,null,this),this.d=new DashProperty(o,e.d||{},"svg",this),this.c=PropertyFactory.getProp(o,e.c,1,255,this),this.style=h,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(o,e,h){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,e.o,0,.01,this),this.c=PropertyFactory.getProp(o,e.c,1,255,this),this.style=h}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(o,e,h){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.style=h}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(o,e,h){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var d=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",d),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=d,this.initDynamicPropertyContainer(h),this.prop=PropertyFactory.getProp(o,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(o,e){for(var h=0,d=this.o.length/2,g;h<d;){if(g=Math.abs(o[h*4]-o[e*4+h*2]),g>.01)return!1;h+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var o=0,e=this.data.k.k.length;o<e;){if(!this.comparePoints(this.data.k.k[o].s,this.data.p))return!1;o+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(o){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||o){var e,h=this.data.p*4,d,g;for(e=0;e<h;e+=1)d=e%4==0?100:255,g=Math.round(this.prop.v[e]*d),this.c[e]!==g&&(this.c[e]=g,this._cmdf=!o);if(this.o.length)for(h=this.prop.v.length,e=this.data.p*4;e<h;e+=1)d=e%2==0?100:1,g=e%2==0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==g&&(this.o[e-this.data.p*4]=g,this._omdf=!o);this._mdf=!o}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(o,e,h){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.initGradientData(o,e,h)}SVGGradientFillStyleData.prototype.initGradientData=function(o,e,h){this.o=PropertyFactory.getProp(o,e.o,0,.01,this),this.s=PropertyFactory.getProp(o,e.s,1,null,this),this.e=PropertyFactory.getProp(o,e.e,1,null,this),this.h=PropertyFactory.getProp(o,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(o,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(o,e.g,this),this.style=h,this.stops=[],this.setGradientData(h.pElem,e),this.setGradientOpacity(e,h),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(o,e){var h=createElementID(),d=createNS(e.t===1?"linearGradient":"radialGradient");d.setAttribute("id",h),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse");var g=[],_,b,$;for($=e.g.p*4,b=0;b<$;b+=4)_=createNS("stop"),d.appendChild(_),g.push(_);o.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+h+")"),this.gf=d,this.cst=g},SVGGradientFillStyleData.prototype.setGradientOpacity=function(o,e){if(this.g._hasOpacity&&!this.g._collapsable){var h,d,g,_=createNS("mask"),b=createNS("path");_.appendChild(b);var $=createElementID(),j=createElementID();_.setAttribute("id",j);var _e=createNS(o.t===1?"linearGradient":"radialGradient");_e.setAttribute("id",$),_e.setAttribute("spreadMethod","pad"),_e.setAttribute("gradientUnits","userSpaceOnUse"),g=o.g.k.k[0].s?o.g.k.k[0].s.length:o.g.k.k.length;var et=this.stops;for(d=o.g.p*4;d<g;d+=2)h=createNS("stop"),h.setAttribute("stop-color","rgb(255,255,255)"),_e.appendChild(h),et.push(h);b.setAttribute(o.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+$+")"),o.ty==="gs"&&(b.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),b.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),o.lj===1&&b.setAttribute("stroke-miterlimit",o.ml)),this.of=_e,this.ms=_,this.ost=et,this.maskId=j,e.msElem=b}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(o,e,h){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(o,e.w,0,null,this),this.d=new DashProperty(o,e.d||{},"svg",this),this.initGradientData(o,e,h),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(o,e,h){this.transform={mProps:o,op:e,container:h},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,h,d,g){if(h===0)return"";var _=e.o,b=e.i,$=e.v,j,_e=" M"+g.applyToPointStringified($[0][0],$[0][1]);for(j=1;j<h;j+=1)_e+=" C"+g.applyToPointStringified(_[j-1][0],_[j-1][1])+" "+g.applyToPointStringified(b[j][0],b[j][1])+" "+g.applyToPointStringified($[j][0],$[j][1]);return d&&h&&(_e+=" C"+g.applyToPointStringified(_[j-1][0],_[j-1][1])+" "+g.applyToPointStringified(b[0][0],b[0][1])+" "+g.applyToPointStringified($[0][0],$[0][1]),_e+="z"),_e},SVGElementsRenderer=function(){var o=new Matrix,e=new Matrix,h={createRenderFunction:d};function d(rt){switch(rt.ty){case"fl":return $;case"gf":return _e;case"gs":return j;case"st":return et;case"sh":case"el":case"rc":case"sr":return b;case"tr":return g;case"no":return _;default:return null}}function g(rt,tt,nt){(nt||tt.transform.op._mdf)&&tt.transform.container.setAttribute("opacity",tt.transform.op.v),(nt||tt.transform.mProps._mdf)&&tt.transform.container.setAttribute("transform",tt.transform.mProps.v.to2dCSS())}function _(){}function b(rt,tt,nt){var st,at,ct,it,lt,ht,ut=tt.styles.length,dt=tt.lvl,pt,mt,yt,xt,Tt;for(ht=0;ht<ut;ht+=1){if(it=tt.sh._mdf||nt,tt.styles[ht].lvl<dt){for(mt=e.reset(),xt=dt-tt.styles[ht].lvl,Tt=tt.transformers.length-1;!it&&xt>0;)it=tt.transformers[Tt].mProps._mdf||it,xt-=1,Tt-=1;if(it)for(xt=dt-tt.styles[ht].lvl,Tt=tt.transformers.length-1;xt>0;)yt=tt.transformers[Tt].mProps.v.props,mt.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),xt-=1,Tt-=1}else mt=o;if(pt=tt.sh.paths,at=pt._length,it){for(ct="",st=0;st<at;st+=1)lt=pt.shapes[st],lt&&lt._length&&(ct+=buildShapeString(lt,lt._length,lt.c,mt));tt.caches[ht]=ct}else ct=tt.caches[ht];tt.styles[ht].d+=rt.hd===!0?"":ct,tt.styles[ht]._mdf=it||tt.styles[ht]._mdf}}function $(rt,tt,nt){var st=tt.style;(tt.c._mdf||nt)&&st.pElem.setAttribute("fill","rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")"),(tt.o._mdf||nt)&&st.pElem.setAttribute("fill-opacity",tt.o.v)}function j(rt,tt,nt){_e(rt,tt,nt),et(rt,tt,nt)}function _e(rt,tt,nt){var st=tt.gf,at=tt.g._hasOpacity,ct=tt.s.v,it=tt.e.v;if(tt.o._mdf||nt){var lt=rt.ty==="gf"?"fill-opacity":"stroke-opacity";tt.style.pElem.setAttribute(lt,tt.o.v)}if(tt.s._mdf||nt){var ht=rt.t===1?"x1":"cx",ut=ht==="x1"?"y1":"cy";st.setAttribute(ht,ct[0]),st.setAttribute(ut,ct[1]),at&&!tt.g._collapsable&&(tt.of.setAttribute(ht,ct[0]),tt.of.setAttribute(ut,ct[1]))}var dt,pt,mt,yt;if(tt.g._cmdf||nt){dt=tt.cst;var xt=tt.g.c;for(mt=dt.length,pt=0;pt<mt;pt+=1)yt=dt[pt],yt.setAttribute("offset",xt[pt*4]+"%"),yt.setAttribute("stop-color","rgb("+xt[pt*4+1]+","+xt[pt*4+2]+","+xt[pt*4+3]+")")}if(at&&(tt.g._omdf||nt)){var Tt=tt.g.o;for(tt.g._collapsable?dt=tt.cst:dt=tt.ost,mt=dt.length,pt=0;pt<mt;pt+=1)yt=dt[pt],tt.g._collapsable||yt.setAttribute("offset",Tt[pt*2]+"%"),yt.setAttribute("stop-opacity",Tt[pt*2+1])}if(rt.t===1)(tt.e._mdf||nt)&&(st.setAttribute("x2",it[0]),st.setAttribute("y2",it[1]),at&&!tt.g._collapsable&&(tt.of.setAttribute("x2",it[0]),tt.of.setAttribute("y2",it[1])));else{var _t;if((tt.s._mdf||tt.e._mdf||nt)&&(_t=Math.sqrt(Math.pow(ct[0]-it[0],2)+Math.pow(ct[1]-it[1],2)),st.setAttribute("r",_t),at&&!tt.g._collapsable&&tt.of.setAttribute("r",_t)),tt.e._mdf||tt.h._mdf||tt.a._mdf||nt){_t||(_t=Math.sqrt(Math.pow(ct[0]-it[0],2)+Math.pow(ct[1]-it[1],2)));var Mt=Math.atan2(it[1]-ct[1],it[0]-ct[0]),Lt=tt.h.v;Lt>=1?Lt=.99:Lt<=-1&&(Lt=-.99);var Pt=_t*Lt,It=Math.cos(Mt+tt.a.v)*Pt+ct[0],Et=Math.sin(Mt+tt.a.v)*Pt+ct[1];st.setAttribute("fx",It),st.setAttribute("fy",Et),at&&!tt.g._collapsable&&(tt.of.setAttribute("fx",It),tt.of.setAttribute("fy",Et))}}}function et(rt,tt,nt){var st=tt.style,at=tt.d;at&&(at._mdf||nt)&&at.dashStr&&(st.pElem.setAttribute("stroke-dasharray",at.dashStr),st.pElem.setAttribute("stroke-dashoffset",at.dashoffset[0])),tt.c&&(tt.c._mdf||nt)&&st.pElem.setAttribute("stroke","rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")"),(tt.o._mdf||nt)&&st.pElem.setAttribute("stroke-opacity",tt.o.v),(tt.w._mdf||nt)&&(st.pElem.setAttribute("stroke-width",tt.w.v),st.msElem&&st.msElem.setAttribute("stroke-width",tt.w.v))}return h}();function SVGShapeElement(o,e,h){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(o,e,h),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var o,e=this.shapes.length,h,d,g=this.stylesList.length,_,b=[],$=!1;for(d=0;d<g;d+=1){for(_=this.stylesList[d],$=!1,b.length=0,o=0;o<e;o+=1)h=this.shapes[o],h.styles.indexOf(_)!==-1&&(b.push(h),$=h._isAnimated||$);b.length>1&&$&&this.setShapesAsAnimated(b)}},SVGShapeElement.prototype.setShapesAsAnimated=function(o){var e,h=o.length;for(e=0;e<h;e+=1)o[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(o,e){var h,d=new SVGStyleData(o,e),g=d.pElem;if(o.ty==="st")h=new SVGStrokeStyleData(this,o,d);else if(o.ty==="fl")h=new SVGFillStyleData(this,o,d);else if(o.ty==="gf"||o.ty==="gs"){var _=o.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;h=new _(this,o,d),this.globalData.defs.appendChild(h.gf),h.maskId&&(this.globalData.defs.appendChild(h.ms),this.globalData.defs.appendChild(h.of),g.setAttribute("mask","url("+getLocationHref()+"#"+h.maskId+")"))}else o.ty==="no"&&(h=new SVGNoStyleData(this,o,d));return(o.ty==="st"||o.ty==="gs")&&(g.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),g.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),g.setAttribute("fill-opacity","0"),o.lj===1&&g.setAttribute("stroke-miterlimit",o.ml)),o.r===2&&g.setAttribute("fill-rule","evenodd"),o.ln&&g.setAttribute("id",o.ln),o.cl&&g.setAttribute("class",o.cl),o.bm&&(g.style["mix-blend-mode"]=getBlendMode(o.bm)),this.stylesList.push(d),this.addToAnimatedContents(o,h),h},SVGShapeElement.prototype.createGroupElement=function(o){var e=new ShapeGroupData;return o.ln&&e.gr.setAttribute("id",o.ln),o.cl&&e.gr.setAttribute("class",o.cl),o.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(o.bm)),e},SVGShapeElement.prototype.createTransformElement=function(o,e){var h=TransformPropertyFactory.getTransformProperty(this,o,this),d=new SVGTransformData(h,h.o,e);return this.addToAnimatedContents(o,d),d},SVGShapeElement.prototype.createShapeElement=function(o,e,h){var d=4;o.ty==="rc"?d=5:o.ty==="el"?d=6:o.ty==="sr"&&(d=7);var g=ShapePropertyFactory.getShapeProp(this,o,d,this),_=new SVGShapeData(e,h,g);return this.shapes.push(_),this.addShapeToModifiers(_),this.addToAnimatedContents(o,_),_},SVGShapeElement.prototype.addToAnimatedContents=function(o,e){for(var h=0,d=this.animatedContents.length;h<d;){if(this.animatedContents[h].element===e)return;h+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(o),element:e,data:o})},SVGShapeElement.prototype.setElementStyles=function(o){var e=o.styles,h,d=this.stylesList.length;for(h=0;h<d;h+=1)this.stylesList[h].closed||e.push(this.stylesList[h])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,e=this.itemsData.length;for(o=0;o<e;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,o=0;o<e;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(o,e,h,d,g,_,b){var $=[].concat(_),j,_e=o.length-1,et,rt,tt=[],nt=[],st,at,ct;for(j=_e;j>=0;j-=1){if(ct=this.searchProcessedElement(o[j]),ct?e[j]=h[ct-1]:o[j]._render=b,o[j].ty==="fl"||o[j].ty==="st"||o[j].ty==="gf"||o[j].ty==="gs"||o[j].ty==="no")ct?e[j].style.closed=!1:e[j]=this.createStyleElement(o[j],g),o[j]._render&&e[j].style.pElem.parentNode!==d&&d.appendChild(e[j].style.pElem),tt.push(e[j].style);else if(o[j].ty==="gr"){if(!ct)e[j]=this.createGroupElement(o[j]);else for(rt=e[j].it.length,et=0;et<rt;et+=1)e[j].prevViewData[et]=e[j].it[et];this.searchShapes(o[j].it,e[j].it,e[j].prevViewData,e[j].gr,g+1,$,b),o[j]._render&&e[j].gr.parentNode!==d&&d.appendChild(e[j].gr)}else o[j].ty==="tr"?(ct||(e[j]=this.createTransformElement(o[j],d)),st=e[j].transform,$.push(st)):o[j].ty==="sh"||o[j].ty==="rc"||o[j].ty==="el"||o[j].ty==="sr"?(ct||(e[j]=this.createShapeElement(o[j],$,g)),this.setElementStyles(e[j])):o[j].ty==="tm"||o[j].ty==="rd"||o[j].ty==="ms"||o[j].ty==="pb"||o[j].ty==="zz"||o[j].ty==="op"?(ct?(at=e[j],at.closed=!1):(at=ShapeModifiers.getModifier(o[j].ty),at.init(this,o[j]),e[j]=at,this.shapeModifiers.push(at)),nt.push(at)):o[j].ty==="rp"&&(ct?(at=e[j],at.closed=!0):(at=ShapeModifiers.getModifier(o[j].ty),e[j]=at,at.init(this,o,j,e),this.shapeModifiers.push(at),b=!1),nt.push(at));this.addProcessedElement(o[j],j+1)}for(_e=tt.length,j=0;j<_e;j+=1)tt[j].closed=!0;for(_e=nt.length,j=0;j<_e;j+=1)nt[j].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var o,e=this.stylesList.length;for(o=0;o<e;o+=1)this.stylesList[o].reset();for(this.renderShape(),o=0;o<e;o+=1)(this.stylesList[o]._mdf||this._isFirstFrame)&&(this.stylesList[o].msElem&&(this.stylesList[o].msElem.setAttribute("d",this.stylesList[o].d),this.stylesList[o].d="M0 0"+this.stylesList[o].d),this.stylesList[o].pElem.setAttribute("d",this.stylesList[o].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var o,e=this.animatedContents.length,h;for(o=0;o<e;o+=1)h=this.animatedContents[o],(this._isFirstFrame||h.element._isAnimated)&&h.data!==!0&&h.fn(h.data,h.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(o,e,h,d,g,_){this.o=o,this.sw=e,this.sc=h,this.fc=d,this.m=g,this.p=_,this._mdf={o:!0,sw:!!e,sc:!!h,fc:!!d,m:!0,p:!0}}LetterProps.prototype.update=function(o,e,h,d,g,_){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var b=!1;return this.o!==o&&(this.o=o,this._mdf.o=!0,b=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,b=!0),this.sc!==h&&(this.sc=h,this._mdf.sc=!0,b=!0),this.fc!==d&&(this.fc=d,this._mdf.fc=!0,b=!0),this.m!==g&&(this.m=g,this._mdf.m=!0,b=!0),_.length&&(this.p[0]!==_[0]||this.p[1]!==_[1]||this.p[4]!==_[4]||this.p[5]!==_[5]||this.p[12]!==_[12]||this.p[13]!==_[13])&&(this.p=_,this._mdf.p=!0,b=!0),b};function TextProperty(o,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=o.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=o,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(o,e){for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(o[h]=e[h]);return o},TextProperty.prototype.setCurrentData=function(o){o.__complete||this.completeTextData(o),this.currentData=o,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(o){this.effectsSequence.push(o),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(o){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!o)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,h=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var d,g=this.effectsSequence.length,_=o||this.data.d.k[this.keysIndex].s;for(d=0;d<g;d+=1)h!==this.keysIndex?_=this.effectsSequence[d](_,_.t):_=this.effectsSequence[d](this.currentData,_.t);e!==_&&this.setCurrentData(_),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var o=this.data.d.k,e=this.elem.comp.renderedFrame,h=0,d=o.length;h<=d-1&&!(h===d-1||o[h+1].t>e);)h+=1;return this.keysIndex!==h&&(this.keysIndex=h),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(o){for(var e=[],h=0,d=o.length,g,_,b=!1;h<d;)g=o.charCodeAt(h),FontManager.isCombinedCharacter(g)?e[e.length-1]+=o.charAt(h):g>=55296&&g<=56319?(_=o.charCodeAt(h+1),_>=56320&&_<=57343?(b||FontManager.isModifier(g,_)?(e[e.length-1]+=o.substr(h,2),b=!1):e.push(o.substr(h,2)),h+=1):e.push(o.charAt(h))):g>56319?(_=o.charCodeAt(h+1),FontManager.isZeroWidthJoiner(g,_)?(b=!0,e[e.length-1]+=o.substr(h,2),h+=1):e.push(o.charAt(h))):FontManager.isZeroWidthJoiner(g)?(e[e.length-1]+=o.charAt(h),b=!0):e.push(o.charAt(h)),h+=1;return e},TextProperty.prototype.completeTextData=function(o){o.__complete=!0;var e=this.elem.globalData.fontManager,h=this.data,d=[],g,_,b,$=0,j,_e=h.m.g,et=0,rt=0,tt=0,nt=[],st=0,at=0,ct,it,lt=e.getFontByName(o.f),ht,ut=0,dt=getFontProperties(lt);o.fWeight=dt.weight,o.fStyle=dt.style,o.finalSize=o.s,o.finalText=this.buildFinalText(o.t),_=o.finalText.length,o.finalLineHeight=o.lh;var pt=o.tr/1e3*o.finalSize,mt;if(o.sz)for(var yt=!0,xt=o.sz[0],Tt=o.sz[1],_t,Mt;yt;){Mt=this.buildFinalText(o.t),_t=0,st=0,_=Mt.length,pt=o.tr/1e3*o.finalSize;var Lt=-1;for(g=0;g<_;g+=1)mt=Mt[g].charCodeAt(0),b=!1,Mt[g]===" "?Lt=g:(mt===13||mt===3)&&(st=0,b=!0,_t+=o.finalLineHeight||o.finalSize*1.2),e.chars?(ht=e.getCharData(Mt[g],lt.fStyle,lt.fFamily),ut=b?0:ht.w*o.finalSize/100):ut=e.measureText(Mt[g],o.f,o.finalSize),st+ut>xt&&Mt[g]!==" "?(Lt===-1?_+=1:g=Lt,_t+=o.finalLineHeight||o.finalSize*1.2,Mt.splice(g,Lt===g?1:0,"\r"),Lt=-1,st=0):(st+=ut,st+=pt);_t+=lt.ascent*o.finalSize/100,this.canResize&&o.finalSize>this.minimumFontSize&&Tt<_t?(o.finalSize-=1,o.finalLineHeight=o.finalSize*o.lh/o.s):(o.finalText=Mt,_=o.finalText.length,yt=!1)}st=-pt,ut=0;var Pt=0,It;for(g=0;g<_;g+=1)if(b=!1,It=o.finalText[g],mt=It.charCodeAt(0),mt===13||mt===3?(Pt=0,nt.push(st),at=st>at?st:at,st=-2*pt,j="",b=!0,tt+=1):j=It,e.chars?(ht=e.getCharData(It,lt.fStyle,e.getFontByName(o.f).fFamily),ut=b?0:ht.w*o.finalSize/100):ut=e.measureText(j,o.f,o.finalSize),It===" "?Pt+=ut+pt:(st+=ut+pt+Pt,Pt=0),d.push({l:ut,an:ut,add:et,n:b,anIndexes:[],val:j,line:tt,animatorJustifyOffset:0}),_e==2){if(et+=ut,j===""||j===" "||g===_-1){for((j===""||j===" ")&&(et-=ut);rt<=g;)d[rt].an=et,d[rt].ind=$,d[rt].extra=ut,rt+=1;$+=1,et=0}}else if(_e==3){if(et+=ut,j===""||g===_-1){for(j===""&&(et-=ut);rt<=g;)d[rt].an=et,d[rt].ind=$,d[rt].extra=ut,rt+=1;et=0,$+=1}}else d[$].ind=$,d[$].extra=0,$+=1;if(o.l=d,at=st>at?st:at,nt.push(st),o.sz)o.boxWidth=o.sz[0],o.justifyOffset=0;else switch(o.boxWidth=at,o.j){case 1:o.justifyOffset=-o.boxWidth;break;case 2:o.justifyOffset=-o.boxWidth/2;break;default:o.justifyOffset=0}o.lineWidths=nt;var Et=h.a,Ct,St;it=Et.length;var At,Rt,Ot=[];for(ct=0;ct<it;ct+=1){for(Ct=Et[ct],Ct.a.sc&&(o.strokeColorAnim=!0),Ct.a.sw&&(o.strokeWidthAnim=!0),(Ct.a.fc||Ct.a.fh||Ct.a.fs||Ct.a.fb)&&(o.fillColorAnim=!0),Rt=0,At=Ct.s.b,g=0;g<_;g+=1)St=d[g],St.anIndexes[ct]=Rt,(At==1&&St.val!==""||At==2&&St.val!==""&&St.val!==" "||At==3&&(St.n||St.val==" "||g==_-1)||At==4&&(St.n||g==_-1))&&(Ct.s.rn===1&&Ot.push(Rt),Rt+=1);h.a[ct].s.totalChars=Rt;var Gt=-1,Qt;if(Ct.s.rn===1)for(g=0;g<_;g+=1)St=d[g],Gt!=St.anIndexes[ct]&&(Gt=St.anIndexes[ct],Qt=Ot.splice(Math.floor(Math.random()*Ot.length),1)[0]),St.anIndexes[ct]=Qt}o.yOffset=o.finalLineHeight||o.finalSize*1.2,o.ls=o.ls||0,o.ascent=lt.ascent*o.finalSize/100},TextProperty.prototype.updateDocumentData=function(o,e){e=e===void 0?this.keysIndex:e;var h=this.copyData({},this.data.d.k[e].s);h=this.copyData(h,o),this.data.d.k[e].s=h,this.recalculate(e),this.setCurrentData(h),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(o){var e=this.data.d.k[o].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(o){this.canResize=o,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(o){this.minimumFontSize=Math.floor(o)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var o=Math.max,e=Math.min,h=Math.floor;function d(_,b){this._currentTextLength=-1,this.k=!1,this.data=b,this.elem=_,this.comp=_.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(_),this.s=PropertyFactory.getProp(_,b.s||{k:0},0,0,this),"e"in b?this.e=PropertyFactory.getProp(_,b.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(_,b.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(_,b.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(_,b.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(_,b.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(_,b.a,0,.01,this),this.dynamicProperties.length||this.getValue()}d.prototype={getMult:function(b){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var $=0,j=0,_e=1,et=1;this.ne.v>0?$=this.ne.v/100:j=-this.ne.v/100,this.xe.v>0?_e=1-this.xe.v/100:et=1+this.xe.v/100;var rt=BezierFactory.getBezierEasing($,j,_e,et).get,tt=0,nt=this.finalS,st=this.finalE,at=this.data.sh;if(at===2)st===nt?tt=b>=st?1:0:tt=o(0,e(.5/(st-nt)+(b-nt)/(st-nt),1)),tt=rt(tt);else if(at===3)st===nt?tt=b>=st?0:1:tt=1-o(0,e(.5/(st-nt)+(b-nt)/(st-nt),1)),tt=rt(tt);else if(at===4)st===nt?tt=0:(tt=o(0,e(.5/(st-nt)+(b-nt)/(st-nt),1)),tt<.5?tt*=2:tt=1-2*(tt-.5)),tt=rt(tt);else if(at===5){if(st===nt)tt=0;else{var ct=st-nt;b=e(o(0,b+.5-nt),st-nt);var it=-ct/2+b,lt=ct/2;tt=Math.sqrt(1-it*it/(lt*lt))}tt=rt(tt)}else at===6?(st===nt?tt=0:(b=e(o(0,b+.5-nt),st-nt),tt=(1+Math.cos(Math.PI+Math.PI*2*b/(st-nt)))/2),tt=rt(tt)):(b>=h(nt)&&(b-nt<0?tt=o(0,e(e(st,1)-(nt-b),1)):tt=o(0,e(st-b,1))),tt=rt(tt));if(this.sm.v!==100){var ht=this.sm.v*.01;ht===0&&(ht=1e-8);var ut=.5-ht*.5;tt<ut?tt=0:(tt=(tt-ut)/ht,tt>1&&(tt=1))}return tt*this.a.v},getValue:function(b){this.iterateDynamicProperties(),this._mdf=b||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,b&&this.data.r===2&&(this.e.v=this._currentTextLength);var $=this.data.r===2?1:100/this.data.totalChars,j=this.o.v/$,_e=this.s.v/$+j,et=this.e.v/$+j;if(_e>et){var rt=_e;_e=et,et=rt}this.finalS=_e,this.finalE=et}},extendPrototype([DynamicPropertyContainer],d);function g(_,b,$){return new d(_,b)}return{getTextSelectorProp:g}}();function TextAnimatorDataProperty(o,e,h){var d={propType:!1},g=PropertyFactory.getProp,_=e.a;this.a={r:_.r?g(o,_.r,0,degToRads,h):d,rx:_.rx?g(o,_.rx,0,degToRads,h):d,ry:_.ry?g(o,_.ry,0,degToRads,h):d,sk:_.sk?g(o,_.sk,0,degToRads,h):d,sa:_.sa?g(o,_.sa,0,degToRads,h):d,s:_.s?g(o,_.s,1,.01,h):d,a:_.a?g(o,_.a,1,0,h):d,o:_.o?g(o,_.o,0,.01,h):d,p:_.p?g(o,_.p,1,0,h):d,sw:_.sw?g(o,_.sw,0,0,h):d,sc:_.sc?g(o,_.sc,1,0,h):d,fc:_.fc?g(o,_.fc,1,0,h):d,fh:_.fh?g(o,_.fh,0,0,h):d,fs:_.fs?g(o,_.fs,0,.01,h):d,fb:_.fb?g(o,_.fb,0,.01,h):d,t:_.t?g(o,_.t,0,0,h):d},this.s=TextSelectorProp.getTextSelectorProp(o,e.s,h),this.s.t=e.s.t}function TextAnimatorProperty(o,e,h){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=o,this._renderType=e,this._elem=h,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(h)}TextAnimatorProperty.prototype.searchProperties=function(){var o,e=this._textData.a.length,h,d=PropertyFactory.getProp;for(o=0;o<e;o+=1)h=this._textData.a[o],this._animatorsData[o]=new TextAnimatorDataProperty(this._elem,h,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:d(this._elem,this._textData.p.a,0,0,this),f:d(this._elem,this._textData.p.f,0,0,this),l:d(this._elem,this._textData.p.l,0,0,this),r:d(this._elem,this._textData.p.r,0,0,this),p:d(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=d(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(o,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var h=this._moreOptions.alignment.v,d=this._animatorsData,g=this._textData,_=this.mHelper,b=this._renderType,$=this.renderedLetters.length,j,_e,et,rt,tt=o.l,nt,st,at,ct,it,lt,ht,ut,dt,pt,mt,yt,xt,Tt,_t;if(this._hasMaskedPath){if(_t=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Mt=_t.v;this._pathData.r.v&&(Mt=Mt.reverse()),nt={tLength:0,segments:[]},rt=Mt._length-1;var Lt;for(yt=0,et=0;et<rt;et+=1)Lt=bez.buildBezierData(Mt.v[et],Mt.v[et+1],[Mt.o[et][0]-Mt.v[et][0],Mt.o[et][1]-Mt.v[et][1]],[Mt.i[et+1][0]-Mt.v[et+1][0],Mt.i[et+1][1]-Mt.v[et+1][1]]),nt.tLength+=Lt.segmentLength,nt.segments.push(Lt),yt+=Lt.segmentLength;et=rt,_t.v.c&&(Lt=bez.buildBezierData(Mt.v[et],Mt.v[0],[Mt.o[et][0]-Mt.v[et][0],Mt.o[et][1]-Mt.v[et][1]],[Mt.i[0][0]-Mt.v[0][0],Mt.i[0][1]-Mt.v[0][1]]),nt.tLength+=Lt.segmentLength,nt.segments.push(Lt),yt+=Lt.segmentLength),this._pathData.pi=nt}if(nt=this._pathData.pi,st=this._pathData.f.v,ht=0,lt=1,ct=0,it=!0,pt=nt.segments,st<0&&_t.v.c)for(nt.tLength<Math.abs(st)&&(st=-Math.abs(st)%nt.tLength),ht=pt.length-1,dt=pt[ht].points,lt=dt.length-1;st<0;)st+=dt[lt].partialLength,lt-=1,lt<0&&(ht-=1,dt=pt[ht].points,lt=dt.length-1);dt=pt[ht].points,ut=dt[lt-1],at=dt[lt],mt=at.partialLength}rt=tt.length,j=0,_e=0;var Pt=o.finalSize*1.2*.714,It=!0,Et,Ct,St,At,Rt;At=d.length;var Ot,Gt=-1,Qt,ir,tr,Wt=st,wr=ht,Lr=lt,Er=-1,Ar,yr,Yt,Xt,ur,br,_r,Pr,Or="",Nr=this.defaultPropsArray,an;if(o.j===2||o.j===1){var $t=0,kt=0,hr=o.j===2?-.5:-1,vr=0,Ir=!0;for(et=0;et<rt;et+=1)if(tt[et].n){for($t&&($t+=kt);vr<et;)tt[vr].animatorJustifyOffset=$t,vr+=1;$t=0,Ir=!0}else{for(St=0;St<At;St+=1)Et=d[St].a,Et.t.propType&&(Ir&&o.j===2&&(kt+=Et.t.v*hr),Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),Ot.length?$t+=Et.t.v*Ot[0]*hr:$t+=Et.t.v*Ot*hr);Ir=!1}for($t&&($t+=kt);vr<et;)tt[vr].animatorJustifyOffset=$t,vr+=1}for(et=0;et<rt;et+=1){if(_.reset(),Ar=1,tt[et].n)j=0,_e+=o.yOffset,_e+=It?1:0,st=Wt,It=!1,this._hasMaskedPath&&(ht=wr,lt=Lr,dt=pt[ht].points,ut=dt[lt-1],at=dt[lt],mt=at.partialLength,ct=0),Or="",Pr="",br="",an="",Nr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Er!==tt[et].line){switch(o.j){case 1:st+=yt-o.lineWidths[tt[et].line];break;case 2:st+=(yt-o.lineWidths[tt[et].line])/2;break}Er=tt[et].line}Gt!==tt[et].ind&&(tt[Gt]&&(st+=tt[Gt].extra),st+=tt[et].an/2,Gt=tt[et].ind),st+=h[0]*tt[et].an*.005;var Dr=0;for(St=0;St<At;St+=1)Et=d[St].a,Et.p.propType&&(Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),Ot.length?Dr+=Et.p.v[0]*Ot[0]:Dr+=Et.p.v[0]*Ot),Et.a.propType&&(Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),Ot.length?Dr+=Et.a.v[0]*Ot[0]:Dr+=Et.a.v[0]*Ot);for(it=!0,this._pathData.a.v&&(st=tt[0].an*.5+(yt-this._pathData.f.v-tt[0].an*.5-tt[tt.length-1].an*.5)*Gt/(rt-1),st+=this._pathData.f.v);it;)ct+mt>=st+Dr||!dt?(xt=(st+Dr-ct)/at.partialLength,ir=ut.point[0]+(at.point[0]-ut.point[0])*xt,tr=ut.point[1]+(at.point[1]-ut.point[1])*xt,_.translate(-h[0]*tt[et].an*.005,-(h[1]*Pt)*.01),it=!1):dt&&(ct+=at.partialLength,lt+=1,lt>=dt.length&&(lt=0,ht+=1,pt[ht]?dt=pt[ht].points:_t.v.c?(lt=0,ht=0,dt=pt[ht].points):(ct-=at.partialLength,dt=null)),dt&&(ut=at,at=dt[lt],mt=at.partialLength));Qt=tt[et].an/2-tt[et].add,_.translate(-Qt,0,0)}else Qt=tt[et].an/2-tt[et].add,_.translate(-Qt,0,0),_.translate(-h[0]*tt[et].an*.005,-h[1]*Pt*.01,0);for(St=0;St<At;St+=1)Et=d[St].a,Et.t.propType&&(Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),(j!==0||o.j!==0)&&(this._hasMaskedPath?Ot.length?st+=Et.t.v*Ot[0]:st+=Et.t.v*Ot:Ot.length?j+=Et.t.v*Ot[0]:j+=Et.t.v*Ot));for(o.strokeWidthAnim&&(Yt=o.sw||0),o.strokeColorAnim&&(o.sc?yr=[o.sc[0],o.sc[1],o.sc[2]]:yr=[0,0,0]),o.fillColorAnim&&o.fc&&(Xt=[o.fc[0],o.fc[1],o.fc[2]]),St=0;St<At;St+=1)Et=d[St].a,Et.a.propType&&(Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),Ot.length?_.translate(-Et.a.v[0]*Ot[0],-Et.a.v[1]*Ot[1],Et.a.v[2]*Ot[2]):_.translate(-Et.a.v[0]*Ot,-Et.a.v[1]*Ot,Et.a.v[2]*Ot));for(St=0;St<At;St+=1)Et=d[St].a,Et.s.propType&&(Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),Ot.length?_.scale(1+(Et.s.v[0]-1)*Ot[0],1+(Et.s.v[1]-1)*Ot[1],1):_.scale(1+(Et.s.v[0]-1)*Ot,1+(Et.s.v[1]-1)*Ot,1));for(St=0;St<At;St+=1){if(Et=d[St].a,Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),Et.sk.propType&&(Ot.length?_.skewFromAxis(-Et.sk.v*Ot[0],Et.sa.v*Ot[1]):_.skewFromAxis(-Et.sk.v*Ot,Et.sa.v*Ot)),Et.r.propType&&(Ot.length?_.rotateZ(-Et.r.v*Ot[2]):_.rotateZ(-Et.r.v*Ot)),Et.ry.propType&&(Ot.length?_.rotateY(Et.ry.v*Ot[1]):_.rotateY(Et.ry.v*Ot)),Et.rx.propType&&(Ot.length?_.rotateX(Et.rx.v*Ot[0]):_.rotateX(Et.rx.v*Ot)),Et.o.propType&&(Ot.length?Ar+=(Et.o.v*Ot[0]-Ar)*Ot[0]:Ar+=(Et.o.v*Ot-Ar)*Ot),o.strokeWidthAnim&&Et.sw.propType&&(Ot.length?Yt+=Et.sw.v*Ot[0]:Yt+=Et.sw.v*Ot),o.strokeColorAnim&&Et.sc.propType)for(ur=0;ur<3;ur+=1)Ot.length?yr[ur]+=(Et.sc.v[ur]-yr[ur])*Ot[0]:yr[ur]+=(Et.sc.v[ur]-yr[ur])*Ot;if(o.fillColorAnim&&o.fc){if(Et.fc.propType)for(ur=0;ur<3;ur+=1)Ot.length?Xt[ur]+=(Et.fc.v[ur]-Xt[ur])*Ot[0]:Xt[ur]+=(Et.fc.v[ur]-Xt[ur])*Ot;Et.fh.propType&&(Ot.length?Xt=addHueToRGB(Xt,Et.fh.v*Ot[0]):Xt=addHueToRGB(Xt,Et.fh.v*Ot)),Et.fs.propType&&(Ot.length?Xt=addSaturationToRGB(Xt,Et.fs.v*Ot[0]):Xt=addSaturationToRGB(Xt,Et.fs.v*Ot)),Et.fb.propType&&(Ot.length?Xt=addBrightnessToRGB(Xt,Et.fb.v*Ot[0]):Xt=addBrightnessToRGB(Xt,Et.fb.v*Ot))}}for(St=0;St<At;St+=1)Et=d[St].a,Et.p.propType&&(Ct=d[St].s,Ot=Ct.getMult(tt[et].anIndexes[St],g.a[St].s.totalChars),this._hasMaskedPath?Ot.length?_.translate(0,Et.p.v[1]*Ot[0],-Et.p.v[2]*Ot[1]):_.translate(0,Et.p.v[1]*Ot,-Et.p.v[2]*Ot):Ot.length?_.translate(Et.p.v[0]*Ot[0],Et.p.v[1]*Ot[1],-Et.p.v[2]*Ot[2]):_.translate(Et.p.v[0]*Ot,Et.p.v[1]*Ot,-Et.p.v[2]*Ot));if(o.strokeWidthAnim&&(br=Yt<0?0:Yt),o.strokeColorAnim&&(_r="rgb("+Math.round(yr[0]*255)+","+Math.round(yr[1]*255)+","+Math.round(yr[2]*255)+")"),o.fillColorAnim&&o.fc&&(Pr="rgb("+Math.round(Xt[0]*255)+","+Math.round(Xt[1]*255)+","+Math.round(Xt[2]*255)+")"),this._hasMaskedPath){if(_.translate(0,-o.ls),_.translate(0,h[1]*Pt*.01+_e,0),this._pathData.p.v){Tt=(at.point[1]-ut.point[1])/(at.point[0]-ut.point[0]);var Gr=Math.atan(Tt)*180/Math.PI;at.point[0]<ut.point[0]&&(Gr+=180),_.rotate(-Gr*Math.PI/180)}_.translate(ir,tr,0),st-=h[0]*tt[et].an*.005,tt[et+1]&&Gt!==tt[et+1].ind&&(st+=tt[et].an/2,st+=o.tr*.001*o.finalSize)}else{switch(_.translate(j,_e,0),o.ps&&_.translate(o.ps[0],o.ps[1]+o.ascent,0),o.j){case 1:_.translate(tt[et].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[tt[et].line]),0,0);break;case 2:_.translate(tt[et].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[tt[et].line])/2,0,0);break}_.translate(0,-o.ls),_.translate(Qt,0,0),_.translate(h[0]*tt[et].an*.005,h[1]*Pt*.01,0),j+=tt[et].l+o.tr*.001*o.finalSize}b==="html"?Or=_.toCSS():b==="svg"?Or=_.to2dCSS():Nr=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],an=Ar}$<=et?(Rt=new LetterProps(an,br,_r,Pr,Or,Nr),this.renderedLetters.push(Rt),$+=1,this.lettersChangedFlag=!0):(Rt=this.renderedLetters[et],this.lettersChangedFlag=Rt.update(an,br,_r,Pr,Or,Nr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(o,e,h){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(o,e,h),this.textProperty=new TextProperty(this,o.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(o.t,this.renderType,this),this.initTransform(o,e,h),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(o){this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(o,e){var h,d=e.length,g,_="";for(h=0;h<d;h+=1)e[h].ty==="sh"&&(g=e[h].ks.k,_+=buildShapeString(g,g.i.length,!0,o));return _},ITextElement.prototype.updateDocumentData=function(o,e){this.textProperty.updateDocumentData(o,e)},ITextElement.prototype.canResizeFont=function(o){this.textProperty.canResizeFont(o)},ITextElement.prototype.setMinimumFontSize=function(o){this.textProperty.setMinimumFontSize(o)},ITextElement.prototype.applyTextPropertiesToMatrix=function(o,e,h,d,g){switch(o.ps&&e.translate(o.ps[0],o.ps[1]+o.ascent,0),e.translate(0,-o.ls,0),o.j){case 1:e.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[h]),0,0);break;case 2:e.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[h])/2,0,0);break}e.translate(d,g,0)},ITextElement.prototype.buildColor=function(o){return"rgb("+Math.round(o[0]*255)+","+Math.round(o[1]*255)+","+Math.round(o[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(o,e,h){this.textSpans=[],this.renderType="svg",this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(o){for(var e=0,h=o.length,d=[],g="";e<h;)o[e]===String.fromCharCode(13)||o[e]===String.fromCharCode(3)?(d.push(g),g=""):g+=o[e],e+=1;return d.push(g),d},SVGTextLottieElement.prototype.buildShapeData=function(o,e){if(o.shapes&&o.shapes.length){var h=o.shapes[0];if(h.it){var d=h.it[h.it.length-1];d.s&&(d.s.k[0]=e,d.s.k[1]=e)}}return o},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var o,e,h=this.textProperty.currentData;this.renderedLetters=createSizedArray(h?h.l.length:0),h.fc?this.layerElement.setAttribute("fill",this.buildColor(h.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),h.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(h.sc)),this.layerElement.setAttribute("stroke-width",h.sw)),this.layerElement.setAttribute("font-size",h.finalSize);var d=this.globalData.fontManager.getFontByName(h.f);if(d.fClass)this.layerElement.setAttribute("class",d.fClass);else{this.layerElement.setAttribute("font-family",d.fFamily);var g=h.fWeight,_=h.fStyle;this.layerElement.setAttribute("font-style",_),this.layerElement.setAttribute("font-weight",g)}this.layerElement.setAttribute("aria-label",h.t);var b=h.l||[],$=!!this.globalData.fontManager.chars;e=b.length;var j,_e=this.mHelper,et="",rt=this.data.singleShape,tt=0,nt=0,st=!0,at=h.tr*.001*h.finalSize;if(rt&&!$&&!h.sz){var ct=this.textContainer,it="start";switch(h.j){case 1:it="end";break;case 2:it="middle";break;default:it="start";break}ct.setAttribute("text-anchor",it),ct.setAttribute("letter-spacing",at);var lt=this.buildTextContents(h.finalText);for(e=lt.length,nt=h.ps?h.ps[1]+h.ascent:0,o=0;o<e;o+=1)j=this.textSpans[o].span||createNS("tspan"),j.textContent=lt[o],j.setAttribute("x",0),j.setAttribute("y",nt),j.style.display="inherit",ct.appendChild(j),this.textSpans[o]||(this.textSpans[o]={span:null,glyph:null}),this.textSpans[o].span=j,nt+=h.finalLineHeight;this.layerElement.appendChild(ct)}else{var ht=this.textSpans.length,ut;for(o=0;o<e;o+=1){if(this.textSpans[o]||(this.textSpans[o]={span:null,childSpan:null,glyph:null}),!$||!rt||o===0){if(j=ht>o?this.textSpans[o].span:createNS($?"g":"text"),ht<=o){if(j.setAttribute("stroke-linecap","butt"),j.setAttribute("stroke-linejoin","round"),j.setAttribute("stroke-miterlimit","4"),this.textSpans[o].span=j,$){var dt=createNS("g");j.appendChild(dt),this.textSpans[o].childSpan=dt}this.textSpans[o].span=j,this.layerElement.appendChild(j)}j.style.display="inherit"}if(_e.reset(),rt&&(b[o].n&&(tt=-at,nt+=h.yOffset,nt+=st?1:0,st=!1),this.applyTextPropertiesToMatrix(h,_e,b[o].line,tt,nt),tt+=b[o].l||0,tt+=at),$){ut=this.globalData.fontManager.getCharData(h.finalText[o],d.fStyle,this.globalData.fontManager.getFontByName(h.f).fFamily);var pt;if(ut.t===1)pt=new SVGCompElement(ut.data,this.globalData,this);else{var mt=emptyShapeData;ut.data&&ut.data.shapes&&(mt=this.buildShapeData(ut.data,h.finalSize)),pt=new SVGShapeElement(mt,this.globalData,this)}if(this.textSpans[o].glyph){var yt=this.textSpans[o].glyph;this.textSpans[o].childSpan.removeChild(yt.layerElement),yt.destroy()}this.textSpans[o].glyph=pt,pt._debug=!0,pt.prepareFrame(0),pt.renderFrame(),this.textSpans[o].childSpan.appendChild(pt.layerElement),ut.t===1&&this.textSpans[o].childSpan.setAttribute("transform","scale("+h.finalSize/100+","+h.finalSize/100+")")}else rt&&j.setAttribute("transform","translate("+_e.props[12]+","+_e.props[13]+")"),j.textContent=b[o].val,j.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}rt&&j&&j.setAttribute("d",et)}for(;o<this.textSpans.length;)this.textSpans[o].span.style.display="none",o+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var o=this.layerElement.getBBox();this.bbox={top:o.y,left:o.x,width:o.width,height:o.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var o,e=this.textSpans.length,h;for(this.renderedFrame=this.comp.renderedFrame,o=0;o<e;o+=1)h=this.textSpans[o].glyph,h&&(h.prepareFrame(this.comp.renderedFrame-this.data.st),h._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var o,e,h=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;e=d.length;var g,_,b;for(o=0;o<e;o+=1)d[o].n||(g=h[o],_=this.textSpans[o].span,b=this.textSpans[o].glyph,b&&b.renderFrame(),g._mdf.m&&_.setAttribute("transform",g.m),g._mdf.o&&_.setAttribute("opacity",g.o),g._mdf.sw&&_.setAttribute("stroke-width",g.sw),g._mdf.sc&&_.setAttribute("stroke",g.sc),g._mdf.fc&&_.setAttribute("fill",g.fc))}};function ISolidElement(o,e,h){this.initElement(o,e,h)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var o=createNS("rect");o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.layerElement.appendChild(o)};function NullElement(o,e,h){this.initFrame(),this.initBaseData(o,e,h),this.initFrame(),this.initTransform(o,e,h),this.initHierarchy()}NullElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(o){return new NullElement(o,this.globalData,this)},SVGRendererBase.prototype.createShape=function(o){return new SVGShapeElement(o,this.globalData,this)},SVGRendererBase.prototype.createText=function(o){return new SVGTextLottieElement(o,this.globalData,this)},SVGRendererBase.prototype.createImage=function(o){return new IImageElement(o,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(o){return new ISolidElement(o,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(o){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+o.w+" "+o.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",o.w),this.svgElement.setAttribute("height",o.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(o,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=o;var h=createNS("clipPath"),d=createNS("rect");d.setAttribute("width",o.w),d.setAttribute("height",o.h),d.setAttribute("x",0),d.setAttribute("y",0);var g=createElementID();h.setAttribute("id",g),h.appendChild(d),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+g+")"),e.appendChild(h),this.layers=o.layers,this.elements=createSizedArray(o.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var o,e=this.layers?this.layers.length:0;for(o=0;o<e;o+=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(o){var e=0,h=this.layers.length;for(e=0;e<h;e+=1)if(this.layers[e].ind===o)return e;return-1},SVGRendererBase.prototype.buildItem=function(o){var e=this.elements;if(!(e[o]||this.layers[o].ty===99)){e[o]=!0;var h=this.createItem(this.layers[o]);if(e[o]=h,getExpressionsPlugin()&&(this.layers[o].ty===0&&this.globalData.projectInterface.registerComposition(h),h.initExpressions()),this.appendElementInPos(h,o),this.layers[o].tt){var d="tp"in this.layers[o]?this.findIndexByInd(this.layers[o].tp):o-1;if(d===-1)return;if(!this.elements[d]||this.elements[d]===!0)this.buildItem(d),this.addPendingElement(h);else{var g=e[d],_=g.getMatte(this.layers[o].tt);h.setMatte(_)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();if(o.checkParenting(),o.data.tt)for(var e=0,h=this.elements.length;e<h;){if(this.elements[e]===o){var d="tp"in o.data?this.findIndexByInd(o.data.tp):e-1,g=this.elements[d],_=g.getMatte(this.layers[e].tt);o.setMatte(_);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(o){if(!(this.renderedFrame===o||this.destroyed)){o===null?o=this.renderedFrame:this.renderedFrame=o,this.globalData.frameNum=o,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=o,this.globalData._mdf=!1;var e,h=this.layers.length;for(this.completeLayers||this.checkLayers(o),e=h-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(o-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<h;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(o,e){var h=o.getBaseElement();if(!!h){for(var d=0,g;d<e;)this.elements[d]&&this.elements[d]!==!0&&this.elements[d].getBaseElement()&&(g=this.elements[d].getBaseElement()),d+=1;g?this.layerElement.insertBefore(h,g):this.layerElement.appendChild(h)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(o,e,h){this.initFrame(),this.initBaseData(o,e,h),this.initTransform(o,e,h),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(o){if(this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=o/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var h,d=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),h=d-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&(this.elements[h].prepareFrame(this.renderedFrame-this.layers[h].st),this.elements[h]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var o,e=this.layers.length;for(o=0;o<e;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()},ICompElement.prototype.setElements=function(o){this.elements=o},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var o,e=this.layers.length;for(o=0;o<e;o+=1)this.elements[o]&&this.elements[o].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(o,e,h){this.layers=o.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,e,h),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function SVGRenderer(o,e){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var h="";if(e&&e.title){var d=createNS("title"),g=createElementID();d.setAttribute("id",g),d.textContent=e.title,this.svgElement.appendChild(d),h+=g}if(e&&e.description){var _=createNS("desc"),b=createElementID();_.setAttribute("id",b),_.textContent=e.description,this.svgElement.appendChild(_),h+=" "+b}h&&this.svgElement.setAttribute("aria-labelledby",h);var $=createNS("defs");this.svgElement.appendChild($);var j=createNS("g");this.svgElement.appendChild(j),this.layerElement=j,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:$,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var o,e=15;for(this.savedOp=createTypedArray("float32",e),o=0;o<e;o+=1)this.saved[o]=createTypedArray("float32",16);this._length=e}CVContextData.prototype.duplicate=function(){var o=this._length*2,e=this.savedOp;this.savedOp=createTypedArray("float32",o),this.savedOp.set(e);var h=0;for(h=this._length;h<o;h+=1)this.saved[h]=createTypedArray("float32",16);this._length=o},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var o=this.saved[this.cArrPos],e,h=this.cTr.props;for(e=0;e<16;e+=1)h[e]=o[e];return o},CVContextData.prototype.popOpacity=function(){var o=this.savedOp[this.cArrPos];return this.cO=o,o},CVContextData.prototype.pop=function(){this.cArrPos-=1;var o=this.popTransform(),e=this.popOpacity();return{transform:o,opacity:e}},CVContextData.prototype.push=function(){var o=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var e,h=this.saved[this.cArrPos];for(e=0;e<16;e+=1)h[e]=o[e];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(o){this.cO=o};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var h,d=e.length,g="_";for(h=0;h<d;h+=1)g+=e[h].transform.key+"_";var _=this.sequences[g];return _||(_={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[g]=_,this.sequenceList.push(_)),_},processSequence:function(e,h){for(var d=0,g=e.transforms.length,_=h;d<g&&!h;){if(e.transforms[d].transform.mProps._mdf){_=!0;break}d+=1}if(_){var b;for(e.finalTransform.reset(),d=g-1;d>=0;d-=1)b=e.transforms[d].transform.mProps.v.props,e.finalTransform.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])}e._mdf=_},processSequences:function(e){var h,d=this.sequenceList.length;for(h=0;h<d;h+=1)this.processSequence(this.sequenceList[h],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",h=null,d=null,g=null;function _(){var j=createNS("svg"),_e=createNS("filter"),et=createNS("feColorMatrix");return _e.setAttribute("id",e),et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),_e.appendChild(et),j.appendChild(_e),j.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(j.style.display="none"),j}function b(){h||(g=_(),document.body.appendChild(g),h=createTag("canvas"),d=h.getContext("2d"),d.filter="url(#"+e+")",d.fillStyle="rgba(0,0,0,0)",d.fillRect(0,0,1,1))}function $(j){return h||b(),h.width=j.width,h.height=j.height,d.filter="url(#"+e+")",h}return{load:b,get:$}};function createCanvas(o,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(o,e);var h=createTag("canvas");return h.width=o,h.height=e,h}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}();function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(o,e){this.data=o,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var h,d=this.masksProperties.length,g=!1;for(h=0;h<d;h+=1)this.masksProperties[h].mode!=="n"&&(g=!0),this.viewData[h]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[h],3);this.hasMasks=g,g&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var o=this.element.finalTransform.mat,e=this.element.canvasContext,h,d=this.masksProperties.length,g,_,b;for(e.beginPath(),h=0;h<d;h+=1)if(this.masksProperties[h].mode!=="n"){this.masksProperties[h].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),b=this.viewData[h].v,g=o.applyToPointArray(b.v[0][0],b.v[0][1],0),e.moveTo(g[0],g[1]);var $,j=b._length;for($=1;$<j;$+=1)_=o.applyToTriplePoints(b.o[$-1],b.i[$],b.v[$]),e.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5]);_=o.applyToTriplePoints(b.o[$-1],b.i[0],b.v[0]),e.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,h=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(h);var d=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(d),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var h=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=h}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],h=e.getContext("2d");this.clearCanvas(h),h.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],h=e.getContext("2d");this.clearCanvas(h),h.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var d=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(d.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var g=assetLoader.getLumaCanvas(this.canvasContext.canvas),_=g.getContext("2d");_.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(g,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var h=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(h),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(h),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(o,e,h,d){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var g=4;e.ty==="rc"?g=5:e.ty==="el"?g=6:e.ty==="sr"&&(g=7),this.sh=ShapePropertyFactory.getShapeProp(o,e,g,o);var _,b=h.length,$;for(_=0;_<b;_+=1)h[_].closed||($={transforms:d.addTransformSequence(h[_].transforms),trNodes:[]},this.styledShapes.push($),h[_].elements.push($))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(o,e,h){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(o,e){var h={data:o,type:o.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:o.hd===!0},d={};if(o.ty==="fl"||o.ty==="st"?(d.c=PropertyFactory.getProp(this,o.c,1,255,this),d.c.k||(h.co="rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")")):(o.ty==="gf"||o.ty==="gs")&&(d.s=PropertyFactory.getProp(this,o.s,1,null,this),d.e=PropertyFactory.getProp(this,o.e,1,null,this),d.h=PropertyFactory.getProp(this,o.h||{k:0},0,.01,this),d.a=PropertyFactory.getProp(this,o.a||{k:0},0,degToRads,this),d.g=new GradientProperty(this,o.g,this)),d.o=PropertyFactory.getProp(this,o.o,0,.01,this),o.ty==="st"||o.ty==="gs"){if(h.lc=lineCapEnum[o.lc||2],h.lj=lineJoinEnum[o.lj||2],o.lj==1&&(h.ml=o.ml),d.w=PropertyFactory.getProp(this,o.w,0,null,this),d.w.k||(h.wi=d.w.v),o.d){var g=new DashProperty(this,o.d,"canvas",this);d.d=g,d.d.k||(h.da=d.d.dashArray,h.do=d.d.dashoffset[0])}}else h.r=o.r===2?"evenodd":"nonzero";return this.stylesList.push(h),d.style=h,d},CVShapeElement.prototype.createGroupElement=function(){var o={it:[],prevViewData:[]};return o},CVShapeElement.prototype.createTransformElement=function(o){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,o.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,o,this)}};return e},CVShapeElement.prototype.createShapeElement=function(o){var e=new CVShapeData(this,o,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,e=this.itemsData.length;for(o=0;o<e;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,o=0;o<e;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(o){var e,h=this.stylesList.length;for(e=0;e<h;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(o)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var o,e=this.stylesList.length;for(o=0;o<e;o+=1)this.stylesList[o].closed||this.stylesList[o].transforms.pop()},CVShapeElement.prototype.closeStyles=function(o){var e,h=o.length;for(e=0;e<h;e+=1)o[e].closed=!0},CVShapeElement.prototype.searchShapes=function(o,e,h,d,g){var _,b=o.length-1,$,j,_e=[],et=[],rt,tt,nt,st=[].concat(g);for(_=b;_>=0;_-=1){if(rt=this.searchProcessedElement(o[_]),rt?e[_]=h[rt-1]:o[_]._shouldRender=d,o[_].ty==="fl"||o[_].ty==="st"||o[_].ty==="gf"||o[_].ty==="gs")rt?e[_].style.closed=!1:e[_]=this.createStyleElement(o[_],st),_e.push(e[_].style);else if(o[_].ty==="gr"){if(!rt)e[_]=this.createGroupElement(o[_]);else for(j=e[_].it.length,$=0;$<j;$+=1)e[_].prevViewData[$]=e[_].it[$];this.searchShapes(o[_].it,e[_].it,e[_].prevViewData,d,st)}else o[_].ty==="tr"?(rt||(nt=this.createTransformElement(o[_]),e[_]=nt),st.push(e[_]),this.addTransformToStyleList(e[_])):o[_].ty==="sh"||o[_].ty==="rc"||o[_].ty==="el"||o[_].ty==="sr"?rt||(e[_]=this.createShapeElement(o[_])):o[_].ty==="tm"||o[_].ty==="rd"||o[_].ty==="pb"||o[_].ty==="zz"||o[_].ty==="op"?(rt?(tt=e[_],tt.closed=!1):(tt=ShapeModifiers.getModifier(o[_].ty),tt.init(this,o[_]),e[_]=tt,this.shapeModifiers.push(tt)),et.push(tt)):o[_].ty==="rp"&&(rt?(tt=e[_],tt.closed=!0):(tt=ShapeModifiers.getModifier(o[_].ty),e[_]=tt,tt.init(this,o,_,e),this.shapeModifiers.push(tt),d=!1),et.push(tt));this.addProcessedElement(o[_],_+1)}for(this.removeTransformFromStyleList(),this.closeStyles(_e),b=et.length,_=0;_<b;_+=1)et[_].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(o,e){(o._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=o.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var o,e=this.stylesList.length,h,d,g,_,b,$,j=this.globalData.renderer,_e=this.globalData.canvasContext,et,rt;for(o=0;o<e;o+=1)if(rt=this.stylesList[o],et=rt.type,!((et==="st"||et==="gs")&&rt.wi===0||!rt.data._shouldRender||rt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(j.save(),b=rt.elements,et==="st"||et==="gs"?(_e.strokeStyle=et==="st"?rt.co:rt.grd,_e.lineWidth=rt.wi,_e.lineCap=rt.lc,_e.lineJoin=rt.lj,_e.miterLimit=rt.ml||0):_e.fillStyle=et==="fl"?rt.co:rt.grd,j.ctxOpacity(rt.coOp),et!=="st"&&et!=="gs"&&_e.beginPath(),j.ctxTransform(rt.preTransforms.finalTransform.props),d=b.length,h=0;h<d;h+=1){for((et==="st"||et==="gs")&&(_e.beginPath(),rt.da&&(_e.setLineDash(rt.da),_e.lineDashOffset=rt.do)),$=b[h].trNodes,_=$.length,g=0;g<_;g+=1)$[g].t==="m"?_e.moveTo($[g].p[0],$[g].p[1]):$[g].t==="c"?_e.bezierCurveTo($[g].pts[0],$[g].pts[1],$[g].pts[2],$[g].pts[3],$[g].pts[4],$[g].pts[5]):_e.closePath();(et==="st"||et==="gs")&&(_e.stroke(),rt.da&&_e.setLineDash(this.dashResetter))}et!=="st"&&et!=="gs"&&_e.fill(rt.r),j.restore()}},CVShapeElement.prototype.renderShape=function(o,e,h,d){var g,_=e.length-1,b;for(b=o,g=_;g>=0;g-=1)e[g].ty==="tr"?(b=h[g].transform,this.renderShapeTransform(o,b)):e[g].ty==="sh"||e[g].ty==="el"||e[g].ty==="rc"||e[g].ty==="sr"?this.renderPath(e[g],h[g]):e[g].ty==="fl"?this.renderFill(e[g],h[g],b):e[g].ty==="st"?this.renderStroke(e[g],h[g],b):e[g].ty==="gf"||e[g].ty==="gs"?this.renderGradientFill(e[g],h[g],b):e[g].ty==="gr"?this.renderShape(b,e[g].it,h[g].it):e[g].ty==="tm";d&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(o,e){if(this._isFirstFrame||e._mdf||o.transforms._mdf){var h=o.trNodes,d=e.paths,g,_,b,$=d._length;h.length=0;var j=o.transforms.finalTransform;for(b=0;b<$;b+=1){var _e=d.shapes[b];if(_e&&_e.v){for(_=_e._length,g=1;g<_;g+=1)g===1&&h.push({t:"m",p:j.applyToPointArray(_e.v[0][0],_e.v[0][1],0)}),h.push({t:"c",pts:j.applyToTriplePoints(_e.o[g-1],_e.i[g],_e.v[g])});_===1&&h.push({t:"m",p:j.applyToPointArray(_e.v[0][0],_e.v[0][1],0)}),_e.c&&_&&(h.push({t:"c",pts:j.applyToTriplePoints(_e.o[g-1],_e.i[0],_e.v[0])}),h.push({t:"z"}))}}o.trNodes=h}},CVShapeElement.prototype.renderPath=function(o,e){if(o.hd!==!0&&o._shouldRender){var h,d=e.styledShapes.length;for(h=0;h<d;h+=1)this.renderStyledShape(e.styledShapes[h],e.sh)}},CVShapeElement.prototype.renderFill=function(o,e,h){var d=e.style;(e.c._mdf||this._isFirstFrame)&&(d.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||h._opMdf||this._isFirstFrame)&&(d.coOp=e.o.v*h.opacity)},CVShapeElement.prototype.renderGradientFill=function(o,e,h){var d=e.style,g;if(!d.grd||e.g._mdf||e.s._mdf||e.e._mdf||o.t!==1&&(e.h._mdf||e.a._mdf)){var _=this.globalData.canvasContext,b=e.s.v,$=e.e.v;if(o.t===1)g=_.createLinearGradient(b[0],b[1],$[0],$[1]);else{var j=Math.sqrt(Math.pow(b[0]-$[0],2)+Math.pow(b[1]-$[1],2)),_e=Math.atan2($[1]-b[1],$[0]-b[0]),et=e.h.v;et>=1?et=.99:et<=-1&&(et=-.99);var rt=j*et,tt=Math.cos(_e+e.a.v)*rt+b[0],nt=Math.sin(_e+e.a.v)*rt+b[1];g=_.createRadialGradient(tt,nt,0,b[0],b[1],j)}var st,at=o.g.p,ct=e.g.c,it=1;for(st=0;st<at;st+=1)e.g._hasOpacity&&e.g._collapsable&&(it=e.g.o[st*2+1]),g.addColorStop(ct[st*4]/100,"rgba("+ct[st*4+1]+","+ct[st*4+2]+","+ct[st*4+3]+","+it+")");d.grd=g}d.coOp=e.o.v*h.opacity},CVShapeElement.prototype.renderStroke=function(o,e,h){var d=e.style,g=e.d;g&&(g._mdf||this._isFirstFrame)&&(d.da=g.dashArray,d.do=g.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(d.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||h._opMdf||this._isFirstFrame)&&(d.coOp=e.o.v*h.opacity),(e.w._mdf||this._isFirstFrame)&&(d.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(o,e,h){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var e=!1;o.fc?(e=!0,this.values.fill=this.buildColor(o.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var h=!1;o.sc&&(h=!0,this.values.stroke=this.buildColor(o.sc),this.values.sWidth=o.sw);var d=this.globalData.fontManager.getFontByName(o.f),g,_,b=o.l,$=this.mHelper;this.stroke=h,this.values.fValue=o.finalSize+"px "+this.globalData.fontManager.getFontByName(o.f).fFamily,_=o.finalText.length;var j,_e,et,rt,tt,nt,st,at,ct,it,lt=this.data.singleShape,ht=o.tr*.001*o.finalSize,ut=0,dt=0,pt=!0,mt=0;for(g=0;g<_;g+=1){j=this.globalData.fontManager.getCharData(o.finalText[g],d.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),_e=j&&j.data||{},$.reset(),lt&&b[g].n&&(ut=-ht,dt+=o.yOffset,dt+=pt?1:0,pt=!1),tt=_e.shapes?_e.shapes[0].it:[],st=tt.length,$.scale(o.finalSize/100,o.finalSize/100),lt&&this.applyTextPropertiesToMatrix(o,$,b[g].line,ut,dt),ct=createSizedArray(st-1);var yt=0;for(nt=0;nt<st;nt+=1)if(tt[nt].ty==="sh"){for(rt=tt[nt].ks.k.i.length,at=tt[nt].ks.k,it=[],et=1;et<rt;et+=1)et===1&&it.push($.applyToX(at.v[0][0],at.v[0][1],0),$.applyToY(at.v[0][0],at.v[0][1],0)),it.push($.applyToX(at.o[et-1][0],at.o[et-1][1],0),$.applyToY(at.o[et-1][0],at.o[et-1][1],0),$.applyToX(at.i[et][0],at.i[et][1],0),$.applyToY(at.i[et][0],at.i[et][1],0),$.applyToX(at.v[et][0],at.v[et][1],0),$.applyToY(at.v[et][0],at.v[et][1],0));it.push($.applyToX(at.o[et-1][0],at.o[et-1][1],0),$.applyToY(at.o[et-1][0],at.o[et-1][1],0),$.applyToX(at.i[0][0],at.i[0][1],0),$.applyToY(at.i[0][0],at.i[0][1],0),$.applyToX(at.v[0][0],at.v[0][1],0),$.applyToY(at.v[0][0],at.v[0][1],0)),ct[yt]=it,yt+=1}lt&&(ut+=b[g].l,ut+=ht),this.textSpans[mt]?this.textSpans[mt].elem=ct:this.textSpans[mt]={elem:ct},mt+=1}},CVTextElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,h,d,g,_,b,$=this.textAnimator.renderedLetters,j=this.textProperty.currentData.l;h=j.length;var _e,et=null,rt=null,tt=null,nt,st;for(e=0;e<h;e+=1)if(!j[e].n){if(_e=$[e],_e&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(_e.p),this.globalData.renderer.ctxOpacity(_e.o)),this.fill){for(_e&&_e.fc?et!==_e.fc&&(et=_e.fc,o.fillStyle=_e.fc):et!==this.values.fill&&(et=this.values.fill,o.fillStyle=this.values.fill),nt=this.textSpans[e].elem,g=nt.length,this.globalData.canvasContext.beginPath(),d=0;d<g;d+=1)for(st=nt[d],b=st.length,this.globalData.canvasContext.moveTo(st[0],st[1]),_=2;_<b;_+=6)this.globalData.canvasContext.bezierCurveTo(st[_],st[_+1],st[_+2],st[_+3],st[_+4],st[_+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(_e&&_e.sw?tt!==_e.sw&&(tt=_e.sw,o.lineWidth=_e.sw):tt!==this.values.sWidth&&(tt=this.values.sWidth,o.lineWidth=this.values.sWidth),_e&&_e.sc?rt!==_e.sc&&(rt=_e.sc,o.strokeStyle=_e.sc):rt!==this.values.stroke&&(rt=this.values.stroke,o.strokeStyle=this.values.stroke),nt=this.textSpans[e].elem,g=nt.length,this.globalData.canvasContext.beginPath(),d=0;d<g;d+=1)for(st=nt[d],b=st.length,this.globalData.canvasContext.moveTo(st[0],st[1]),_=2;_<b;_+=6)this.globalData.canvasContext.bezierCurveTo(st[_],st[_+1],st[_+2],st[_+3],st[_+4],st[_+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}_e&&this.globalData.renderer.restore()}};function CVImageElement(o,e,h){this.assetData=e.getAssetData(o.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var o=createTag("canvas");o.width=this.assetData.w,o.height=this.assetData.h;var e=o.getContext("2d"),h=this.img.width,d=this.img.height,g=h/d,_=this.assetData.w/this.assetData.h,b,$,j=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;g>_&&j==="xMidYMid slice"||g<_&&j!=="xMidYMid slice"?($=d,b=$*_):(b=h,$=b/_),e.drawImage(this.img,(h-b)/2,(d-$)/2,b,$,0,0,this.assetData.w,this.assetData.h),this.img=o}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(o,e,h){this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.fillStyle=this.data.sc,o.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(o,e){this.animationItem=o,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(o){return new CVShapeElement(o,this.globalData,this)},CanvasRendererBase.prototype.createText=function(o){return new CVTextElement(o,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(o){return new CVImageElement(o,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(o){return new CVSolidElement(o,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(o){if(!(o[0]===1&&o[1]===0&&o[4]===0&&o[5]===1&&o[12]===0&&o[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(o[0],o[1],o[4],o[5],o[12],o[13]);return}this.transformMat.cloneFromProps(o);var e=this.contextData.getTransform(),h=e.props;this.transformMat.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),e.cloneFromProps(this.transformMat.props);var d=e.props;this.canvasContext.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}},CanvasRendererBase.prototype.ctxOpacity=function(o){var e=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=o<0?0:o,this.globalData.currentGlobalAlpha=e;return}e*=o<0?0:o,this.contextData.setOpacity(e),this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}o&&this.canvasContext.save(),this.contextData.push()},CanvasRendererBase.prototype.restore=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}o&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var e=this.contextData.pop(),h=e.transform,d=e.opacity;this.canvasContext.setTransform(h[0],h[1],h[4],h[5],h[12],h[13]),this.globalData.currentGlobalAlpha!==d&&(this.canvasContext.globalAlpha=d,this.globalData.currentGlobalAlpha=d)},CanvasRendererBase.prototype.configAnimation=function(o){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var h="0px 0px 0px";e.transformOrigin=h,e.mozTransformOrigin=h,e.webkitTransformOrigin=h,e["-webkit-transform"]=h,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=o,this.layers=o.layers,this.transformCanvas={w:o.w,h:o.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(o,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(o.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(o,e){this.reset();var h,d;o?(h=o,d=e,this.canvasContext.canvas.width=h,this.canvasContext.canvas.height=d):(this.animationItem.wrapper&&this.animationItem.container?(h=this.animationItem.wrapper.offsetWidth,d=this.animationItem.wrapper.offsetHeight):(h=this.canvasContext.canvas.width,d=this.canvasContext.canvas.height),this.canvasContext.canvas.width=h*this.renderConfig.dpr,this.canvasContext.canvas.height=d*this.renderConfig.dpr);var g,_;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var b=this.renderConfig.preserveAspectRatio.split(" "),$=b[1]||"meet",j=b[0]||"xMidYMid",_e=j.substr(0,4),et=j.substr(4);g=h/d,_=this.transformCanvas.w/this.transformCanvas.h,_>g&&$==="meet"||_<g&&$==="slice"?(this.transformCanvas.sx=h/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=h/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=d/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.h/this.renderConfig.dpr)),_e==="xMid"&&(_<g&&$==="meet"||_>g&&$==="slice")?this.transformCanvas.tx=(h-this.transformCanvas.w*(d/this.transformCanvas.h))/2*this.renderConfig.dpr:_e==="xMax"&&(_<g&&$==="meet"||_>g&&$==="slice")?this.transformCanvas.tx=(h-this.transformCanvas.w*(d/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,et==="YMid"&&(_>g&&$==="meet"||_<g&&$==="slice")?this.transformCanvas.ty=(d-this.transformCanvas.h*(h/this.transformCanvas.w))/2*this.renderConfig.dpr:et==="YMax"&&(_>g&&$==="meet"||_<g&&$==="slice")?this.transformCanvas.ty=(d-this.transformCanvas.h*(h/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=h/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var o,e=this.layers?this.layers.length:0;for(o=e-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(o,e){if(!(this.renderedFrame===o&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||o===-1)){this.renderedFrame=o,this.globalData.frameNum=o-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=o;var h,d=this.layers.length;for(this.completeLayers||this.checkLayers(o),h=0;h<d;h+=1)(this.completeLayers||this.elements[h])&&this.elements[h].prepareFrame(o-this.layers[h].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),h=d-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(o){var e=this.elements;if(!(e[o]||this.layers[o].ty===99)){var h=this.createItem(this.layers[o],this,this.globalData);e[o]=h,h.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(o,e,h){this.completeLayers=!1,this.layers=o.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(o,e,h),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.beginPath(),o.moveTo(0,0),o.lineTo(this.data.w,0),o.lineTo(this.data.w,this.data.h),o.lineTo(0,this.data.h),o.lineTo(0,0),o.clip();var e,h=this.layers.length;for(e=h-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var o,e=this.layers.length;for(o=e-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function CanvasRenderer(o,e){this.animationItem=o,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var h=this.finalTransform.mat.toCSS();e.transform=h,e.webkitTransform=h}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(o,e,h){this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var o;this.data.hasMask?(o=createNS("rect"),o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(o=createTag("div"),o.style.width=this.data.sw+"px",o.style.height=this.data.sh+"px",o.style.backgroundColor=this.data.sc),this.layerElement.appendChild(o)};function HShapeElement(o,e,h){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(o,e,h),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var o;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),o=this.svgElement;else{o=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;o.setAttribute("width",e.w),o.setAttribute("height",e.h),o.appendChild(this.shapesContainer),this.layerElement.appendChild(o)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=o},HShapeElement.prototype.getTransformedPoint=function(o,e){var h,d=o.length;for(h=0;h<d;h+=1)e=o[h].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(o,e){var h=o.sh.v,d=o.transformers,g,_=h._length,b,$,j,_e;if(!(_<=1)){for(g=0;g<_-1;g+=1)b=this.getTransformedPoint(d,h.v[g]),$=this.getTransformedPoint(d,h.o[g]),j=this.getTransformedPoint(d,h.i[g+1]),_e=this.getTransformedPoint(d,h.v[g+1]),this.checkBounds(b,$,j,_e,e);h.c&&(b=this.getTransformedPoint(d,h.v[g]),$=this.getTransformedPoint(d,h.o[g]),j=this.getTransformedPoint(d,h.i[0]),_e=this.getTransformedPoint(d,h.v[0]),this.checkBounds(b,$,j,_e,e))}},HShapeElement.prototype.checkBounds=function(o,e,h,d,g){this.getBoundsOfCurve(o,e,h,d);var _=this.shapeBoundingBox;g.x=bmMin(_.left,g.x),g.xMax=bmMax(_.right,g.xMax),g.y=bmMin(_.top,g.y),g.yMax=bmMax(_.bottom,g.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(o,e,h,d){for(var g=[[o[0],d[0]],[o[1],d[1]]],_,b,$,j,_e,et,rt,tt=0;tt<2;++tt)b=6*o[tt]-12*e[tt]+6*h[tt],_=-3*o[tt]+9*e[tt]-9*h[tt]+3*d[tt],$=3*e[tt]-3*o[tt],b|=0,_|=0,$|=0,_===0&&b===0||(_===0?(j=-$/b,j>0&&j<1&&g[tt].push(this.calculateF(j,o,e,h,d,tt))):(_e=b*b-4*$*_,_e>=0&&(et=(-b+bmSqrt(_e))/(2*_),et>0&&et<1&&g[tt].push(this.calculateF(et,o,e,h,d,tt)),rt=(-b-bmSqrt(_e))/(2*_),rt>0&&rt<1&&g[tt].push(this.calculateF(rt,o,e,h,d,tt)))));this.shapeBoundingBox.left=bmMin.apply(null,g[0]),this.shapeBoundingBox.top=bmMin.apply(null,g[1]),this.shapeBoundingBox.right=bmMax.apply(null,g[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,g[1])},HShapeElement.prototype.calculateF=function(o,e,h,d,g,_){return bmPow(1-o,3)*e[_]+3*bmPow(1-o,2)*o*h[_]+3*(1-o)*bmPow(o,2)*d[_]+bmPow(o,3)*g[_]},HShapeElement.prototype.calculateBoundingBox=function(o,e){var h,d=o.length;for(h=0;h<d;h+=1)o[h]&&o[h].sh?this.calculateShapeBoundingBox(o[h],e):o[h]&&o[h].it?this.calculateBoundingBox(o[h].it,e):o[h]&&o[h].style&&o[h].w&&this.expandStrokeBoundingBox(o[h].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(o,e){var h=0;if(o.keyframes){for(var d=0;d<o.keyframes.length;d+=1){var g=o.keyframes[d].s;g>h&&(h=g)}h*=o.mult}else h=o.v*o.mult;e.x-=h,e.xMax+=h,e.y-=h,e.yMax+=h},HShapeElement.prototype.currentBoxContains=function(o){return this.currentBBox.x<=o.x&&this.currentBBox.y<=o.y&&this.currentBBox.width+this.currentBBox.x>=o.x+o.width&&this.currentBBox.height+this.currentBBox.y>=o.y+o.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var o=this.tempBoundingBox,e=999999;if(o.x=e,o.xMax=-e,o.y=e,o.yMax=-e,this.calculateBoundingBox(this.itemsData,o),o.width=o.xMax<o.x?0:o.xMax-o.x,o.height=o.yMax<o.y?0:o.yMax-o.y,this.currentBoxContains(o))return;var h=!1;if(this.currentBBox.w!==o.width&&(this.currentBBox.w=o.width,this.shapeCont.setAttribute("width",o.width),h=!0),this.currentBBox.h!==o.height&&(this.currentBBox.h=o.height,this.shapeCont.setAttribute("height",o.height),h=!0),h||this.currentBBox.x!==o.x||this.currentBBox.y!==o.y){this.currentBBox.w=o.width,this.currentBBox.h=o.height,this.currentBBox.x=o.x,this.currentBBox.y=o.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var d=this.shapeCont.style,g="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";d.transform=g,d.webkitTransform=g}}};function HTextElement(o,e,h){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var o=createNS("g");this.maskedElement.appendChild(o),this.innerElem=o}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var e=this.innerElem.style,h=o.fc?this.buildColor(o.fc):"rgba(0,0,0,0)";e.fill=h,e.color=h,o.sc&&(e.stroke=this.buildColor(o.sc),e.strokeWidth=o.sw+"px");var d=this.globalData.fontManager.getFontByName(o.f);if(!this.globalData.fontManager.chars)if(e.fontSize=o.finalSize+"px",e.lineHeight=o.finalSize+"px",d.fClass)this.innerElem.className=d.fClass;else{e.fontFamily=d.fFamily;var g=o.fWeight,_=o.fStyle;e.fontStyle=_,e.fontWeight=g}var b,$,j=o.l;$=j.length;var _e,et,rt,tt=this.mHelper,nt,st="",at=0;for(b=0;b<$;b+=1){if(this.globalData.fontManager.chars?(this.textPaths[at]?_e=this.textPaths[at]:(_e=createNS("path"),_e.setAttribute("stroke-linecap",lineCapEnum[1]),_e.setAttribute("stroke-linejoin",lineJoinEnum[2]),_e.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[at]?(et=this.textSpans[at],rt=et.children[0]):(et=createTag("div"),et.style.lineHeight=0,rt=createNS("svg"),rt.appendChild(_e),styleDiv(et)))):this.isMasked?_e=this.textPaths[at]?this.textPaths[at]:createNS("text"):this.textSpans[at]?(et=this.textSpans[at],_e=this.textPaths[at]):(et=createTag("span"),styleDiv(et),_e=createTag("span"),styleDiv(_e),et.appendChild(_e)),this.globalData.fontManager.chars){var ct=this.globalData.fontManager.getCharData(o.finalText[b],d.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),it;if(ct?it=ct.data:it=null,tt.reset(),it&&it.shapes&&it.shapes.length&&(nt=it.shapes[0].it,tt.scale(o.finalSize/100,o.finalSize/100),st=this.createPathShape(tt,nt),_e.setAttribute("d",st)),this.isMasked)this.innerElem.appendChild(_e);else{if(this.innerElem.appendChild(et),it&&it.shapes){document.body.appendChild(rt);var lt=rt.getBBox();rt.setAttribute("width",lt.width+2),rt.setAttribute("height",lt.height+2),rt.setAttribute("viewBox",lt.x-1+" "+(lt.y-1)+" "+(lt.width+2)+" "+(lt.height+2));var ht=rt.style,ut="translate("+(lt.x-1)+"px,"+(lt.y-1)+"px)";ht.transform=ut,ht.webkitTransform=ut,j[b].yOffset=lt.y-1}else rt.setAttribute("width",1),rt.setAttribute("height",1);et.appendChild(rt)}}else if(_e.textContent=j[b].val,_e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(_e);else{this.innerElem.appendChild(et);var dt=_e.style,pt="translate3d(0,"+-o.finalSize/1.2+"px,0)";dt.transform=pt,dt.webkitTransform=pt}this.isMasked?this.textSpans[at]=_e:this.textSpans[at]=et,this.textSpans[at].style.display="block",this.textPaths[at]=_e,at+=1}for(;at<this.textSpans.length;)this.textSpans[at].style.display="none",at+=1},HTextElement.prototype.renderInnerContent=function(){var o;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),o=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";o.transform=e,o.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var h,d,g=0,_=this.textAnimator.renderedLetters,b=this.textProperty.currentData.l;d=b.length;var $,j,_e;for(h=0;h<d;h+=1)b[h].n?g+=1:(j=this.textSpans[h],_e=this.textPaths[h],$=_[g],g+=1,$._mdf.m&&(this.isMasked?j.setAttribute("transform",$.m):(j.style.webkitTransform=$.m,j.style.transform=$.m)),j.style.opacity=$.o,$.sw&&$._mdf.sw&&_e.setAttribute("stroke-width",$.sw),$.sc&&$._mdf.sc&&_e.setAttribute("stroke",$.sc),$.fc&&$._mdf.fc&&(_e.setAttribute("fill",$.fc),_e.style.color=$.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.innerElem.getBBox();this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.svgElement.setAttribute("width",et.width)),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.svgElement.setAttribute("height",et.height));var rt=1;if(this.currentBBox.w!==et.width+rt*2||this.currentBBox.h!==et.height+rt*2||this.currentBBox.x!==et.x-rt||this.currentBBox.y!==et.y-rt){this.currentBBox.w=et.width+rt*2,this.currentBBox.h=et.height+rt*2,this.currentBBox.x=et.x-rt,this.currentBBox.y=et.y-rt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),o=this.svgElement.style;var tt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=tt,o.webkitTransform=tt}}}};function HCameraElement(o,e,h){this.initFrame(),this.initBaseData(o,e,h),this.initHierarchy();var d=PropertyFactory.getProp;if(this.pe=d(this,o.pe,0,0,this),o.ks.p.s?(this.px=d(this,o.ks.p.x,1,0,this),this.py=d(this,o.ks.p.y,1,0,this),this.pz=d(this,o.ks.p.z,1,0,this)):this.p=d(this,o.ks.p,1,0,this),o.ks.a&&(this.a=d(this,o.ks.a,1,0,this)),o.ks.or.k.length&&o.ks.or.k[0].to){var g,_=o.ks.or.k.length;for(g=0;g<_;g+=1)o.ks.or.k[g].to=null,o.ks.or.k[g].ti=null}this.or=d(this,o.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=d(this,o.ks.rx,0,degToRads,this),this.ry=d(this,o.ks.ry,0,degToRads,this),this.rz=d(this,o.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var o,e=this.comp.threeDElements.length,h,d,g;for(o=0;o<e;o+=1)if(h=this.comp.threeDElements[o],h.type==="3d"){d=h.perspectiveElem.style,g=h.container.style;var _=this.pe.v+"px",b="0px 0px 0px",$="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";d.perspective=_,d.webkitPerspective=_,g.transformOrigin=b,g.mozTransformOrigin=b,g.webkitTransformOrigin=b,d.transform=$,d.webkitTransform=$}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var o=this._isFirstFrame,e,h;if(this.hierarchy)for(h=this.hierarchy.length,e=0;e<h;e+=1)o=this.hierarchy[e].finalTransform.mProp._mdf||o;if(o||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=this.hierarchy.length-1,e=h;e>=0;e-=1){var d=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-d.p.v[0],-d.p.v[1],d.p.v[2]),this.mat.rotateX(-d.or.v[0]).rotateY(-d.or.v[1]).rotateZ(d.or.v[2]),this.mat.rotateX(-d.rx.v).rotateY(-d.ry.v).rotateZ(d.rz.v),this.mat.scale(1/d.s.v[0],1/d.s.v[1],1/d.s.v[2]),this.mat.translate(d.a.v[0],d.a.v[1],d.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var g;this.p?g=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:g=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var _=Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2)+Math.pow(g[2],2)),b=[g[0]/_,g[1]/_,g[2]/_],$=Math.sqrt(b[2]*b[2]+b[0]*b[0]),j=Math.atan2(b[1],$),_e=Math.atan2(b[0],-b[2]);this.mat.rotateY(_e).rotateX(-j)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var et=!this._prevMat.equals(this.mat);if((et||this.pe._mdf)&&this.comp.threeDElements){h=this.comp.threeDElements.length;var rt,tt,nt;for(e=0;e<h;e+=1)if(rt=this.comp.threeDElements[e],rt.type==="3d"){if(et){var st=this.mat.toCSS();nt=rt.container.style,nt.transform=st,nt.webkitTransform=st}this.pe._mdf&&(tt=rt.perspectiveElem.style,tt.perspective=this.pe.v+"px",tt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(o,e,h){this.assetData=e.getAssetData(o.refId),this.initElement(o,e,h)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=o,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(o,e){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(o,e){var h=o.getBaseElement();if(!!h){var d=this.layers[e];if(!d.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(h,e);else{for(var g=0,_,b,$;g<e;)this.elements[g]&&this.elements[g]!==!0&&this.elements[g].getBaseElement&&(b=this.elements[g],$=this.layers[g].ddd?this.getThreeDContainerByPos(g):b.getBaseElement(),_=$||_),g+=1;_?(!d.ddd||!this.supports3d)&&this.layerElement.insertBefore(h,_):(!d.ddd||!this.supports3d)&&this.layerElement.appendChild(h)}else this.addTo3dContainer(h,e)}},HybridRendererBase.prototype.createShape=function(o){return this.supports3d?new HShapeElement(o,this.globalData,this):new SVGShapeElement(o,this.globalData,this)},HybridRendererBase.prototype.createText=function(o){return this.supports3d?new HTextElement(o,this.globalData,this):new SVGTextLottieElement(o,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(o){return this.camera=new HCameraElement(o,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(o){return this.supports3d?new HImageElement(o,this.globalData,this):new IImageElement(o,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(o){return this.supports3d?new HSolidElement(o,this.globalData,this):new ISolidElement(o,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(o){for(var e=0,h=this.threeDElements.length;e<h;){if(this.threeDElements[e].startPos<=o&&this.threeDElements[e].endPos>=o)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(o,e){var h=createTag("div"),d,g;styleDiv(h);var _=createTag("div");if(styleDiv(_),e==="3d"){d=h.style,d.width=this.globalData.compSize.w+"px",d.height=this.globalData.compSize.h+"px";var b="50% 50%";d.webkitTransformOrigin=b,d.mozTransformOrigin=b,d.transformOrigin=b,g=_.style;var $="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";g.transform=$,g.webkitTransform=$}h.appendChild(_);var j={container:_,perspectiveElem:h,startPos:o,endPos:o,type:e};return this.threeDElements.push(j),j},HybridRendererBase.prototype.build3dContainers=function(){var o,e=this.layers.length,h,d="";for(o=0;o<e;o+=1)this.layers[o].ddd&&this.layers[o].ty!==3?(d!=="3d"&&(d="3d",h=this.createThreeDContainer(o,"3d")),h.endPos=Math.max(h.endPos,o)):(d!=="2d"&&(d="2d",h=this.createThreeDContainer(o,"2d")),h.endPos=Math.max(h.endPos,o));for(e=this.threeDElements.length,o=e-1;o>=0;o-=1)this.resizerElem.appendChild(this.threeDElements[o].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(o,e){for(var h=0,d=this.threeDElements.length;h<d;){if(e<=this.threeDElements[h].endPos){for(var g=this.threeDElements[h].startPos,_;g<e;)this.elements[g]&&this.elements[g].getBaseElement&&(_=this.elements[g].getBaseElement()),g+=1;_?this.threeDElements[h].container.insertBefore(o,_):this.threeDElements[h].container.appendChild(o);break}h+=1}},HybridRendererBase.prototype.configAnimation=function(o){var e=createTag("div"),h=this.animationItem.wrapper,d=e.style;d.width=o.w+"px",d.height=o.h+"px",this.resizerElem=e,styleDiv(e),d.transformStyle="flat",d.mozTransformStyle="flat",d.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),h.appendChild(e),d.overflow="hidden";var g=createNS("svg");g.setAttribute("width","1"),g.setAttribute("height","1"),styleDiv(g),this.resizerElem.appendChild(g);var _=createNS("defs");g.appendChild(_),this.data=o,this.setupGlobalData(o,g),this.globalData.defs=_,this.layers=o.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var o,e=this.layers?this.layers.length:0;for(o=0;o<e;o+=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var o=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,h=o/e,d=this.globalData.compSize.w/this.globalData.compSize.h,g,_,b,$;d>h?(g=o/this.globalData.compSize.w,_=o/this.globalData.compSize.w,b=0,$=(e-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(g=e/this.globalData.compSize.h,_=e/this.globalData.compSize.h,b=(o-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,$=0);var j=this.resizerElem.style;j.webkitTransform="matrix3d("+g+",0,0,0,0,"+_+",0,0,0,0,1,0,"+b+","+$+",0,1)",j.transform=j.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var o=this.globalData.compSize.w,e=this.globalData.compSize.h,h,d=this.threeDElements.length;for(h=0;h<d;h+=1){var g=this.threeDElements[h].perspectiveElem.style;g.webkitPerspective=Math.sqrt(Math.pow(o,2)+Math.pow(e,2))+"px",g.perspective=g.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(o){var e,h=o.length,d=createTag("div");for(e=0;e<h;e+=1)if(o[e].xt){var g=this.createComp(o[e],d,this.globalData.comp,null);g.initExpressions(),this.globalData.projectInterface.registerComposition(g)}};function HCompElement(o,e,h){this.layers=o.layers,this.supports3d=!o.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,e,h),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(o,e){for(var h=0,d;h<e;)this.elements[h]&&this.elements[h].getBaseElement&&(d=this.elements[h].getBaseElement()),h+=1;d?this.layerElement.insertBefore(o,d):this.layerElement.appendChild(o)},HCompElement.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};function HybridRenderer(o,e){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};var CompExpressionInterface=function(){return function(o){function e(h){for(var d=0,g=o.layers.length;d<g;){if(o.layers[d].nm===h||o.layers[d].ind===h)return o.elements[d].layerInterface;d+=1}return null}return Object.defineProperty(e,"_name",{value:o.data.nm}),e.layer=e,e.pixelAspect=1,e.height=o.data.h||o.globalData.compSize.h,e.width=o.data.w||o.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/o.globalData.frameRate,e.displayStartTime=0,e.numLayers=o.layers.length,e}}(),Expressions=function(){var o={};o.initExpressions=e;function e(h){var d=0,g=[];function _(){d+=1}function b(){d-=1,d===0&&j()}function $(_e){g.indexOf(_e)===-1&&g.push(_e)}function j(){var _e,et=g.length;for(_e=0;_e<et;_e+=1)g[_e].release();g.length=0}h.renderer.compInterface=CompExpressionInterface(h.renderer),h.renderer.globalData.projectInterface.registerComposition(h.renderer),h.renderer.globalData.pushExpression=_,h.renderer.globalData.popExpression=b,h.renderer.globalData.registerExpressionProperty=$}return o}(),MaskManagerInterface=function(){function o(h,d){this._mask=h,this._data=d}Object.defineProperty(o.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(o.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(d){var g=createSizedArray(d.viewData.length),_,b=d.viewData.length;for(_=0;_<b;_+=1)g[_]=new o(d.viewData[_],d.masksProperties[_]);var $=function(_e){for(_=0;_<b;){if(d.masksProperties[_].nm===_e)return g[_];_+=1}return null};return $};return e}(),ExpressionPropertyInterface=function(){var o={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function h(b,$,j){Object.defineProperty(b,"velocity",{get:function(){return $.getVelocityAtTime($.comp.currentFrame)}}),b.numKeys=$.keyframes?$.keyframes.length:0,b.key=function(_e){if(!b.numKeys)return 0;var et="";"s"in $.keyframes[_e-1]?et=$.keyframes[_e-1].s:"e"in $.keyframes[_e-2]?et=$.keyframes[_e-2].e:et=$.keyframes[_e-2].s;var rt=j==="unidimensional"?new Number(et):Object.assign({},et);return rt.time=$.keyframes[_e-1].t/$.elem.comp.globalData.frameRate,rt.value=j==="unidimensional"?et[0]:et,rt},b.valueAtTime=$.getValueAtTime,b.speedAtTime=$.getSpeedAtTime,b.velocityAtTime=$.getVelocityAtTime,b.propertyGroup=$.propertyGroup}function d(b){(!b||!("pv"in b))&&(b=o);var $=1/b.mult,j=b.pv*$,_e=new Number(j);return _e.value=j,h(_e,b,"unidimensional"),function(){return b.k&&b.getValue(),j=b.v*$,_e.value!==j&&(_e=new Number(j),_e.value=j,h(_e,b,"unidimensional")),_e}}function g(b){(!b||!("pv"in b))&&(b=e);var $=1/b.mult,j=b.data&&b.data.l||b.pv.length,_e=createTypedArray("float32",j),et=createTypedArray("float32",j);return _e.value=et,h(_e,b,"multidimensional"),function(){b.k&&b.getValue();for(var rt=0;rt<j;rt+=1)et[rt]=b.v[rt]*$,_e[rt]=et[rt];return _e}}function _(){return o}return function(b){return b?b.propType==="unidimensional"?d(b):g(b):_}}(),TransformExpressionInterface=function(){return function(o){function e(b){switch(b){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(o.r||o.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(o.rz||o.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(o.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(o.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(o.s)});var h,d,g,_;return o.p?_=ExpressionPropertyInterface(o.p):(h=ExpressionPropertyInterface(o.px),d=ExpressionPropertyInterface(o.py),o.pz&&(g=ExpressionPropertyInterface(o.pz))),Object.defineProperty(e,"position",{get:function(){return o.p?_():[h(),d(),g?g():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(o.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(o.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(o.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(o.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(o.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(o.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(o.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(o.or)}),e}}(),LayerExpressionInterface=function(){function o(_e){var et=new Matrix;if(_e!==void 0){var rt=this._elem.finalTransform.mProp.getValueAtTime(_e);rt.clone(et)}else{var tt=this._elem.finalTransform.mProp;tt.applyToMatrix(et)}return et}function e(_e,et){var rt=this.getMatrix(et);return rt.props[12]=0,rt.props[13]=0,rt.props[14]=0,this.applyPoint(rt,_e)}function h(_e,et){var rt=this.getMatrix(et);return this.applyPoint(rt,_e)}function d(_e,et){var rt=this.getMatrix(et);return rt.props[12]=0,rt.props[13]=0,rt.props[14]=0,this.invertPoint(rt,_e)}function g(_e,et){var rt=this.getMatrix(et);return this.invertPoint(rt,_e)}function _(_e,et){if(this._elem.hierarchy&&this._elem.hierarchy.length){var rt,tt=this._elem.hierarchy.length;for(rt=0;rt<tt;rt+=1)this._elem.hierarchy[rt].finalTransform.mProp.applyToMatrix(_e)}return _e.applyToPointArray(et[0],et[1],et[2]||0)}function b(_e,et){if(this._elem.hierarchy&&this._elem.hierarchy.length){var rt,tt=this._elem.hierarchy.length;for(rt=0;rt<tt;rt+=1)this._elem.hierarchy[rt].finalTransform.mProp.applyToMatrix(_e)}return _e.inversePoint(et)}function $(_e){var et=new Matrix;if(et.reset(),this._elem.finalTransform.mProp.applyToMatrix(et),this._elem.hierarchy&&this._elem.hierarchy.length){var rt,tt=this._elem.hierarchy.length;for(rt=0;rt<tt;rt+=1)this._elem.hierarchy[rt].finalTransform.mProp.applyToMatrix(et);return et.inversePoint(_e)}return et.inversePoint(_e)}function j(){return[1,1,1,1]}return function(_e){var et;function rt(at){nt.mask=new MaskManagerInterface(at,_e)}function tt(at){nt.effect=at}function nt(at){switch(at){case"ADBE Root Vectors Group":case"Contents":case 2:return nt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return et;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return nt.effect;case"ADBE Text Properties":return nt.textInterface;default:return null}}nt.getMatrix=o,nt.invertPoint=b,nt.applyPoint=_,nt.toWorld=h,nt.toWorldVec=e,nt.fromWorld=g,nt.fromWorldVec=d,nt.toComp=h,nt.fromComp=$,nt.sampleImage=j,nt.sourceRectAtTime=_e.sourceRectAtTime.bind(_e),nt._elem=_e,et=TransformExpressionInterface(_e.finalTransform.mProp);var st=getDescriptor(et,"anchorPoint");return Object.defineProperties(nt,{hasParent:{get:function(){return _e.hierarchy.length}},parent:{get:function(){return _e.hierarchy[0].layerInterface}},rotation:getDescriptor(et,"rotation"),scale:getDescriptor(et,"scale"),position:getDescriptor(et,"position"),opacity:getDescriptor(et,"opacity"),anchorPoint:st,anchor_point:st,transform:{get:function(){return et}},active:{get:function(){return _e.isInRange}}}),nt.startTime=_e.data.st,nt.index=_e.data.ind,nt.source=_e.data.refId,nt.height=_e.data.ty===0?_e.data.h:100,nt.width=_e.data.ty===0?_e.data.w:100,nt.inPoint=_e.data.ip/_e.comp.globalData.frameRate,nt.outPoint=_e.data.op/_e.comp.globalData.frameRate,nt._name=_e.data.nm,nt.registerMaskInterface=rt,nt.registerEffectsInterface=tt,nt}}(),propertyGroupFactory=function(){return function(o,e){return function(h){return h=h===void 0?1:h,h<=0?o:e(h-1)}}}(),PropertyInterface=function(){return function(o,e){var h={_name:o};function d(g){return g=g===void 0?1:g,g<=0?h:e(g-1)}return d}}(),EffectsExpressionInterface=function(){var o={createEffectsInterface:e};function e(g,_){if(g.effectsManager){var b=[],$=g.data.ef,j,_e=g.effectsManager.effectElements.length;for(j=0;j<_e;j+=1)b.push(h($[j],g.effectsManager.effectElements[j],_,g));var et=g.data.ef||[],rt=function(nt){for(j=0,_e=et.length;j<_e;){if(nt===et[j].nm||nt===et[j].mn||nt===et[j].ix)return b[j];j+=1}return null};return Object.defineProperty(rt,"numProperties",{get:function(){return et.length}}),rt}return null}function h(g,_,b,$){function j(nt){for(var st=g.ef,at=0,ct=st.length;at<ct;){if(nt===st[at].nm||nt===st[at].mn||nt===st[at].ix)return st[at].ty===5?et[at]:et[at]();at+=1}throw new Error}var _e=propertyGroupFactory(j,b),et=[],rt,tt=g.ef.length;for(rt=0;rt<tt;rt+=1)g.ef[rt].ty===5?et.push(h(g.ef[rt],_.effectElements[rt],_.effectElements[rt].propertyGroup,$)):et.push(d(_.effectElements[rt],g.ef[rt].ty,$,_e));return g.mn==="ADBE Color Control"&&Object.defineProperty(j,"color",{get:function(){return et[0]()}}),Object.defineProperties(j,{numProperties:{get:function(){return g.np}},_name:{value:g.nm},propertyGroup:{value:_e}}),j.enabled=g.en!==0,j.active=j.enabled,j}function d(g,_,b,$){var j=ExpressionPropertyInterface(g.p);function _e(){return _===10?b.comp.compInterface(g.p.v):j()}return g.p.setGroupProperty&&g.p.setGroupProperty(PropertyInterface("",$)),_e}return o}(),ShapePathInterface=function(){return function(e,h,d){var g=h.sh;function _($){return $==="Shape"||$==="shape"||$==="Path"||$==="path"||$==="ADBE Vector Shape"||$===2?_.path:null}var b=propertyGroupFactory(_,d);return g.setGroupProperty(PropertyInterface("Path",b)),Object.defineProperties(_,{path:{get:function(){return g.k&&g.getValue(),g}},shape:{get:function(){return g.k&&g.getValue(),g}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:d}}),_}}(),ShapeExpressionInterface=function(){function o(st,at,ct){var it=[],lt,ht=st?st.length:0;for(lt=0;lt<ht;lt+=1)st[lt].ty==="gr"?it.push(h(st[lt],at[lt],ct)):st[lt].ty==="fl"?it.push(d(st[lt],at[lt],ct)):st[lt].ty==="st"?it.push(b(st[lt],at[lt],ct)):st[lt].ty==="tm"?it.push($(st[lt],at[lt],ct)):st[lt].ty==="tr"||(st[lt].ty==="el"?it.push(_e(st[lt],at[lt],ct)):st[lt].ty==="sr"?it.push(et(st[lt],at[lt],ct)):st[lt].ty==="sh"?it.push(ShapePathInterface(st[lt],at[lt],ct)):st[lt].ty==="rc"?it.push(rt(st[lt],at[lt],ct)):st[lt].ty==="rd"?it.push(tt(st[lt],at[lt],ct)):st[lt].ty==="rp"?it.push(nt(st[lt],at[lt],ct)):st[lt].ty==="gf"?it.push(g(st[lt],at[lt],ct)):it.push(_(st[lt],at[lt])));return it}function e(st,at,ct){var it,lt=function(dt){for(var pt=0,mt=it.length;pt<mt;){if(it[pt]._name===dt||it[pt].mn===dt||it[pt].propertyIndex===dt||it[pt].ix===dt||it[pt].ind===dt)return it[pt];pt+=1}return typeof dt=="number"?it[dt-1]:null};lt.propertyGroup=propertyGroupFactory(lt,ct),it=o(st.it,at.it,lt.propertyGroup),lt.numProperties=it.length;var ht=j(st.it[st.it.length-1],at.it[at.it.length-1],lt.propertyGroup);return lt.transform=ht,lt.propertyIndex=st.cix,lt._name=st.nm,lt}function h(st,at,ct){var it=function(dt){switch(dt){case"ADBE Vectors Group":case"Contents":case 2:return it.content;default:return it.transform}};it.propertyGroup=propertyGroupFactory(it,ct);var lt=e(st,at,it.propertyGroup),ht=j(st.it[st.it.length-1],at.it[at.it.length-1],it.propertyGroup);return it.content=lt,it.transform=ht,Object.defineProperty(it,"_name",{get:function(){return st.nm}}),it.numProperties=st.np,it.propertyIndex=st.ix,it.nm=st.nm,it.mn=st.mn,it}function d(st,at,ct){function it(lt){return lt==="Color"||lt==="color"?it.color:lt==="Opacity"||lt==="opacity"?it.opacity:null}return Object.defineProperties(it,{color:{get:ExpressionPropertyInterface(at.c)},opacity:{get:ExpressionPropertyInterface(at.o)},_name:{value:st.nm},mn:{value:st.mn}}),at.c.setGroupProperty(PropertyInterface("Color",ct)),at.o.setGroupProperty(PropertyInterface("Opacity",ct)),it}function g(st,at,ct){function it(lt){return lt==="Start Point"||lt==="start point"?it.startPoint:lt==="End Point"||lt==="end point"?it.endPoint:lt==="Opacity"||lt==="opacity"?it.opacity:null}return Object.defineProperties(it,{startPoint:{get:ExpressionPropertyInterface(at.s)},endPoint:{get:ExpressionPropertyInterface(at.e)},opacity:{get:ExpressionPropertyInterface(at.o)},type:{get:function(){return"a"}},_name:{value:st.nm},mn:{value:st.mn}}),at.s.setGroupProperty(PropertyInterface("Start Point",ct)),at.e.setGroupProperty(PropertyInterface("End Point",ct)),at.o.setGroupProperty(PropertyInterface("Opacity",ct)),it}function _(){function st(){return null}return st}function b(st,at,ct){var it=propertyGroupFactory(mt,ct),lt=propertyGroupFactory(pt,it);function ht(yt){Object.defineProperty(pt,st.d[yt].nm,{get:ExpressionPropertyInterface(at.d.dataProps[yt].p)})}var ut,dt=st.d?st.d.length:0,pt={};for(ut=0;ut<dt;ut+=1)ht(ut),at.d.dataProps[ut].p.setGroupProperty(lt);function mt(yt){return yt==="Color"||yt==="color"?mt.color:yt==="Opacity"||yt==="opacity"?mt.opacity:yt==="Stroke Width"||yt==="stroke width"?mt.strokeWidth:null}return Object.defineProperties(mt,{color:{get:ExpressionPropertyInterface(at.c)},opacity:{get:ExpressionPropertyInterface(at.o)},strokeWidth:{get:ExpressionPropertyInterface(at.w)},dash:{get:function(){return pt}},_name:{value:st.nm},mn:{value:st.mn}}),at.c.setGroupProperty(PropertyInterface("Color",it)),at.o.setGroupProperty(PropertyInterface("Opacity",it)),at.w.setGroupProperty(PropertyInterface("Stroke Width",it)),mt}function $(st,at,ct){function it(ht){return ht===st.e.ix||ht==="End"||ht==="end"?it.end:ht===st.s.ix?it.start:ht===st.o.ix?it.offset:null}var lt=propertyGroupFactory(it,ct);return it.propertyIndex=st.ix,at.s.setGroupProperty(PropertyInterface("Start",lt)),at.e.setGroupProperty(PropertyInterface("End",lt)),at.o.setGroupProperty(PropertyInterface("Offset",lt)),it.propertyIndex=st.ix,it.propertyGroup=ct,Object.defineProperties(it,{start:{get:ExpressionPropertyInterface(at.s)},end:{get:ExpressionPropertyInterface(at.e)},offset:{get:ExpressionPropertyInterface(at.o)},_name:{value:st.nm}}),it.mn=st.mn,it}function j(st,at,ct){function it(ht){return st.a.ix===ht||ht==="Anchor Point"?it.anchorPoint:st.o.ix===ht||ht==="Opacity"?it.opacity:st.p.ix===ht||ht==="Position"?it.position:st.r.ix===ht||ht==="Rotation"||ht==="ADBE Vector Rotation"?it.rotation:st.s.ix===ht||ht==="Scale"?it.scale:st.sk&&st.sk.ix===ht||ht==="Skew"?it.skew:st.sa&&st.sa.ix===ht||ht==="Skew Axis"?it.skewAxis:null}var lt=propertyGroupFactory(it,ct);return at.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",lt)),at.transform.mProps.p.setGroupProperty(PropertyInterface("Position",lt)),at.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",lt)),at.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",lt)),at.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",lt)),at.transform.mProps.sk&&(at.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",lt)),at.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",lt))),at.transform.op.setGroupProperty(PropertyInterface("Opacity",lt)),Object.defineProperties(it,{opacity:{get:ExpressionPropertyInterface(at.transform.mProps.o)},position:{get:ExpressionPropertyInterface(at.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(at.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(at.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(at.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(at.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(at.transform.mProps.sa)},_name:{value:st.nm}}),it.ty="tr",it.mn=st.mn,it.propertyGroup=ct,it}function _e(st,at,ct){function it(ut){return st.p.ix===ut?it.position:st.s.ix===ut?it.size:null}var lt=propertyGroupFactory(it,ct);it.propertyIndex=st.ix;var ht=at.sh.ty==="tm"?at.sh.prop:at.sh;return ht.s.setGroupProperty(PropertyInterface("Size",lt)),ht.p.setGroupProperty(PropertyInterface("Position",lt)),Object.defineProperties(it,{size:{get:ExpressionPropertyInterface(ht.s)},position:{get:ExpressionPropertyInterface(ht.p)},_name:{value:st.nm}}),it.mn=st.mn,it}function et(st,at,ct){function it(ut){return st.p.ix===ut?it.position:st.r.ix===ut?it.rotation:st.pt.ix===ut?it.points:st.or.ix===ut||ut==="ADBE Vector Star Outer Radius"?it.outerRadius:st.os.ix===ut?it.outerRoundness:st.ir&&(st.ir.ix===ut||ut==="ADBE Vector Star Inner Radius")?it.innerRadius:st.is&&st.is.ix===ut?it.innerRoundness:null}var lt=propertyGroupFactory(it,ct),ht=at.sh.ty==="tm"?at.sh.prop:at.sh;return it.propertyIndex=st.ix,ht.or.setGroupProperty(PropertyInterface("Outer Radius",lt)),ht.os.setGroupProperty(PropertyInterface("Outer Roundness",lt)),ht.pt.setGroupProperty(PropertyInterface("Points",lt)),ht.p.setGroupProperty(PropertyInterface("Position",lt)),ht.r.setGroupProperty(PropertyInterface("Rotation",lt)),st.ir&&(ht.ir.setGroupProperty(PropertyInterface("Inner Radius",lt)),ht.is.setGroupProperty(PropertyInterface("Inner Roundness",lt))),Object.defineProperties(it,{position:{get:ExpressionPropertyInterface(ht.p)},rotation:{get:ExpressionPropertyInterface(ht.r)},points:{get:ExpressionPropertyInterface(ht.pt)},outerRadius:{get:ExpressionPropertyInterface(ht.or)},outerRoundness:{get:ExpressionPropertyInterface(ht.os)},innerRadius:{get:ExpressionPropertyInterface(ht.ir)},innerRoundness:{get:ExpressionPropertyInterface(ht.is)},_name:{value:st.nm}}),it.mn=st.mn,it}function rt(st,at,ct){function it(ut){return st.p.ix===ut?it.position:st.r.ix===ut?it.roundness:st.s.ix===ut||ut==="Size"||ut==="ADBE Vector Rect Size"?it.size:null}var lt=propertyGroupFactory(it,ct),ht=at.sh.ty==="tm"?at.sh.prop:at.sh;return it.propertyIndex=st.ix,ht.p.setGroupProperty(PropertyInterface("Position",lt)),ht.s.setGroupProperty(PropertyInterface("Size",lt)),ht.r.setGroupProperty(PropertyInterface("Rotation",lt)),Object.defineProperties(it,{position:{get:ExpressionPropertyInterface(ht.p)},roundness:{get:ExpressionPropertyInterface(ht.r)},size:{get:ExpressionPropertyInterface(ht.s)},_name:{value:st.nm}}),it.mn=st.mn,it}function tt(st,at,ct){function it(ut){return st.r.ix===ut||ut==="Round Corners 1"?it.radius:null}var lt=propertyGroupFactory(it,ct),ht=at;return it.propertyIndex=st.ix,ht.rd.setGroupProperty(PropertyInterface("Radius",lt)),Object.defineProperties(it,{radius:{get:ExpressionPropertyInterface(ht.rd)},_name:{value:st.nm}}),it.mn=st.mn,it}function nt(st,at,ct){function it(ut){return st.c.ix===ut||ut==="Copies"?it.copies:st.o.ix===ut||ut==="Offset"?it.offset:null}var lt=propertyGroupFactory(it,ct),ht=at;return it.propertyIndex=st.ix,ht.c.setGroupProperty(PropertyInterface("Copies",lt)),ht.o.setGroupProperty(PropertyInterface("Offset",lt)),Object.defineProperties(it,{copies:{get:ExpressionPropertyInterface(ht.c)},offset:{get:ExpressionPropertyInterface(ht.o)},_name:{value:st.nm}}),it.mn=st.mn,it}return function(st,at,ct){var it;function lt(ut){if(typeof ut=="number")return ut=ut===void 0?1:ut,ut===0?ct:it[ut-1];for(var dt=0,pt=it.length;dt<pt;){if(it[dt]._name===ut)return it[dt];dt+=1}return null}function ht(){return ct}return lt.propertyGroup=propertyGroupFactory(lt,ht),it=o(st,at,lt.propertyGroup),lt.numProperties=it.length,lt._name="Contents",lt}}(),TextExpressionInterface=function(){return function(o){var e;function h(d){switch(d){case"ADBE Text Document":return h.sourceText;default:return null}}return Object.defineProperty(h,"sourceText",{get:function(){o.textProperty.getValue();var g=o.textProperty.currentData.t;return(!e||g!==e.value)&&(e=new String(g),e.value=g||new String(g),Object.defineProperty(e,"style",{get:function(){return{fillColor:o.textProperty.currentData.fc}}})),e}}),h}}();function _typeof$2(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(h){return typeof h}:_typeof$2=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof$2(o)}var FootageInterface=function(){var o=function(d){var g="",_=d.getFootageData();function b(){return g="",_=d.getFootageData(),$}function $(j){if(_[j])return g=j,_=_[j],_typeof$2(_)==="object"?$:_;var _e=j.indexOf(g);if(_e!==-1){var et=parseInt(j.substr(_e+g.length),10);return _=_[et],_typeof$2(_)==="object"?$:_}return""}return b},e=function(d){function g(_){return _==="Outline"?g.outlineInterface():null}return g._name="Outline",g.outlineInterface=o(d),g};return function(h){function d(g){return g==="Data"?d.dataInterface:null}return d._name="Data",d.dataInterface=e(h),d}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(o){return interfaces[o]||null}function _typeof$1(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(h){return typeof h}:_typeof$1=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof$1(o)}function seedRandom(o,e){var h=this,d=256,g=6,_=52,b="random",$=e.pow(d,g),j=e.pow(2,_),_e=j*2,et=d-1,rt;function tt(ht,ut,dt){var pt=[];ut=ut===!0?{entropy:!0}:ut||{};var mt=ct(at(ut.entropy?[ht,lt(o)]:ht===null?it():ht,3),pt),yt=new nt(pt),xt=function(){for(var _t=yt.g(g),Mt=$,Lt=0;_t<j;)_t=(_t+Lt)*d,Mt*=d,Lt=yt.g(1);for(;_t>=_e;)_t/=2,Mt/=2,Lt>>>=1;return(_t+Lt)/Mt};return xt.int32=function(){return yt.g(4)|0},xt.quick=function(){return yt.g(4)/4294967296},xt.double=xt,ct(lt(yt.S),o),(ut.pass||dt||function(Tt,_t,Mt,Lt){return Lt&&(Lt.S&&st(Lt,yt),Tt.state=function(){return st(yt,{})}),Mt?(e[b]=Tt,_t):Tt})(xt,mt,"global"in ut?ut.global:this==e,ut.state)}e["seed"+b]=tt;function nt(ht){var ut,dt=ht.length,pt=this,mt=0,yt=pt.i=pt.j=0,xt=pt.S=[];for(dt||(ht=[dt++]);mt<d;)xt[mt]=mt++;for(mt=0;mt<d;mt++)xt[mt]=xt[yt=et&yt+ht[mt%dt]+(ut=xt[mt])],xt[yt]=ut;pt.g=function(Tt){for(var _t,Mt=0,Lt=pt.i,Pt=pt.j,It=pt.S;Tt--;)_t=It[Lt=et&Lt+1],Mt=Mt*d+It[et&(It[Lt]=It[Pt=et&Pt+_t])+(It[Pt]=_t)];return pt.i=Lt,pt.j=Pt,Mt}}function st(ht,ut){return ut.i=ht.i,ut.j=ht.j,ut.S=ht.S.slice(),ut}function at(ht,ut){var dt=[],pt=_typeof$1(ht),mt;if(ut&&pt=="object")for(mt in ht)try{dt.push(at(ht[mt],ut-1))}catch{}return dt.length?dt:pt=="string"?ht:ht+"\0"}function ct(ht,ut){for(var dt=ht+"",pt,mt=0;mt<dt.length;)ut[et&mt]=et&(pt^=ut[et&mt]*19)+dt.charCodeAt(mt++);return lt(ut)}function it(){try{var ht=new Uint8Array(d);return(h.crypto||h.msCrypto).getRandomValues(ht),lt(ht)}catch{var ut=h.navigator,dt=ut&&ut.plugins;return[+new Date,h,dt,h.screen,lt(o)]}}function lt(ht){return String.fromCharCode.apply(0,ht)}ct(e.random(),o)}function initialize$2(o){seedRandom([],o)}var propTypes={SHAPE:"shape"};function _typeof(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(h){return typeof h}:_typeof=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof(o)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(o){return o.constructor===Array||o.constructor===Float32Array}function isNumerable(o,e){return o==="number"||o==="boolean"||o==="string"||e instanceof Number}function $bm_neg(o){var e=_typeof(o);if(e==="number"||e==="boolean"||o instanceof Number)return-o;if($bm_isInstanceOfArray(o)){var h,d=o.length,g=[];for(h=0;h<d;h+=1)g[h]=-o[h];return g}return o.propType?o.v:-o}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(o,e){var h=_typeof(o),d=_typeof(e);if(h==="string"||d==="string"||isNumerable(h,o)&&isNumerable(d,e))return o+e;if($bm_isInstanceOfArray(o)&&isNumerable(d,e))return o=o.slice(0),o[0]+=e,o;if(isNumerable(h,o)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=o+e[0],e;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(e)){for(var g=0,_=o.length,b=e.length,$=[];g<_||g<b;)(typeof o[g]=="number"||o[g]instanceof Number)&&(typeof e[g]=="number"||e[g]instanceof Number)?$[g]=o[g]+e[g]:$[g]=e[g]===void 0?o[g]:o[g]||e[g],g+=1;return $}return 0}var add=sum;function sub(o,e){var h=_typeof(o),d=_typeof(e);if(isNumerable(h,o)&&isNumerable(d,e))return h==="string"&&(o=parseInt(o,10)),d==="string"&&(e=parseInt(e,10)),o-e;if($bm_isInstanceOfArray(o)&&isNumerable(d,e))return o=o.slice(0),o[0]-=e,o;if(isNumerable(h,o)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=o-e[0],e;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(e)){for(var g=0,_=o.length,b=e.length,$=[];g<_||g<b;)(typeof o[g]=="number"||o[g]instanceof Number)&&(typeof e[g]=="number"||e[g]instanceof Number)?$[g]=o[g]-e[g]:$[g]=e[g]===void 0?o[g]:o[g]||e[g],g+=1;return $}return 0}function mul(o,e){var h=_typeof(o),d=_typeof(e),g;if(isNumerable(h,o)&&isNumerable(d,e))return o*e;var _,b;if($bm_isInstanceOfArray(o)&&isNumerable(d,e)){for(b=o.length,g=createTypedArray("float32",b),_=0;_<b;_+=1)g[_]=o[_]*e;return g}if(isNumerable(h,o)&&$bm_isInstanceOfArray(e)){for(b=e.length,g=createTypedArray("float32",b),_=0;_<b;_+=1)g[_]=o*e[_];return g}return 0}function div(o,e){var h=_typeof(o),d=_typeof(e),g;if(isNumerable(h,o)&&isNumerable(d,e))return o/e;var _,b;if($bm_isInstanceOfArray(o)&&isNumerable(d,e)){for(b=o.length,g=createTypedArray("float32",b),_=0;_<b;_+=1)g[_]=o[_]/e;return g}if(isNumerable(h,o)&&$bm_isInstanceOfArray(e)){for(b=e.length,g=createTypedArray("float32",b),_=0;_<b;_+=1)g[_]=o/e[_];return g}return 0}function mod(o,e){return typeof o=="string"&&(o=parseInt(o,10)),typeof e=="string"&&(e=parseInt(e,10)),o%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(o,e,h){if(e>h){var d=h;h=e,e=d}return Math.min(Math.max(o,e),h)}function radiansToDegrees(o){return o/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(o){return o*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(o,e){if(typeof o=="number"||o instanceof Number)return e=e||0,Math.abs(o-e);e||(e=helperLengthArray);var h,d=Math.min(o.length,e.length),g=0;for(h=0;h<d;h+=1)g+=Math.pow(e[h]-o[h],2);return Math.sqrt(g)}function normalize(o){return div(o,length(o))}function rgbToHsl(o){var e=o[0],h=o[1],d=o[2],g=Math.max(e,h,d),_=Math.min(e,h,d),b,$,j=(g+_)/2;if(g===_)b=0,$=0;else{var _e=g-_;switch($=j>.5?_e/(2-g-_):_e/(g+_),g){case e:b=(h-d)/_e+(h<d?6:0);break;case h:b=(d-e)/_e+2;break;case d:b=(e-h)/_e+4;break}b/=6}return[b,$,j,o[3]]}function hue2rgb(o,e,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?o+(e-o)*6*h:h<1/2?e:h<2/3?o+(e-o)*(2/3-h)*6:o}function hslToRgb(o){var e=o[0],h=o[1],d=o[2],g,_,b;if(h===0)g=d,b=d,_=d;else{var $=d<.5?d*(1+h):d+h-d*h,j=2*d-$;g=hue2rgb(j,$,e+1/3),_=hue2rgb(j,$,e),b=hue2rgb(j,$,e-1/3)}return[g,_,b,o[3]]}function linear(o,e,h,d,g){if((d===void 0||g===void 0)&&(d=e,g=h,e=0,h=1),h<e){var _=h;h=e,e=_}if(o<=e)return d;if(o>=h)return g;var b=h===e?0:(o-e)/(h-e);if(!d.length)return d+(g-d)*b;var $,j=d.length,_e=createTypedArray("float32",j);for($=0;$<j;$+=1)_e[$]=d[$]+(g[$]-d[$])*b;return _e}function random(o,e){if(e===void 0&&(o===void 0?(o=0,e=1):(e=o,o=void 0)),e.length){var h,d=e.length;o||(o=createTypedArray("float32",d));var g=createTypedArray("float32",d),_=BMMath.random();for(h=0;h<d;h+=1)g[h]=o[h]+_*(e[h]-o[h]);return g}o===void 0&&(o=0);var b=BMMath.random();return o+b*(e-o)}function createPath(o,e,h,d){var g,_=o.length,b=shapePool.newElement();b.setPathData(!!d,_);var $=[0,0],j,_e;for(g=0;g<_;g+=1)j=e&&e[g]?e[g]:$,_e=h&&h[g]?h[g]:$,b.setTripleAt(o[g][0],o[g][1],_e[0]+o[g][0],_e[1]+o[g][1],j[0]+o[g][0],j[1]+o[g][1],g,!0);return b}function initiateExpression(elem,data,property){function noOp(o){return o}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function o(e,h){var d,g,_=this.pv.length?this.pv.length:1,b=createTypedArray("float32",_);e=5;var $=Math.floor(time*e);for(d=0,g=0;d<$;){for(g=0;g<_;g+=1)b[g]+=-h+h*2*BMMath.random();d+=1}var j=time*e,_e=j-Math.floor(j),et=createTypedArray("float32",_);if(_>1){for(g=0;g<_;g+=1)et[g]=this.pv[g]+b[g]+(-h+h*2*BMMath.random())*_e;return et}return this.pv+b[0]+(-h+h*2*BMMath.random())*_e}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(o,e){return loopIn(o,e,!0)}function loopOutDuration(o,e){return loopOut(o,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(o,e){var h=[e[0]-o[0],e[1]-o[1],e[2]-o[2]],d=Math.atan2(h[0],Math.sqrt(h[1]*h[1]+h[2]*h[2]))/degToRads,g=-Math.atan2(h[1],h[2])/degToRads;return[g,d,0]}function easeOut(o,e,h,d,g){return applyEase(easeOutBez,o,e,h,d,g)}function easeIn(o,e,h,d,g){return applyEase(easeInBez,o,e,h,d,g)}function ease(o,e,h,d,g){return applyEase(easeInOutBez,o,e,h,d,g)}function applyEase(o,e,h,d,g,_){g===void 0?(g=h,_=d):e=(e-h)/(d-h),e>1?e=1:e<0&&(e=0);var b=o(e);if($bm_isInstanceOfArray(g)){var $,j=g.length,_e=createTypedArray("float32",j);for($=0;$<j;$+=1)_e[$]=(_[$]-g[$])*b+g[$];return _e}return(_-g)*b+g}function nearestKey(o){var e,h=data.k.length,d,g;if(!data.k.length||typeof data.k[0]=="number")d=0,g=0;else if(d=-1,o*=elem.comp.globalData.frameRate,o<data.k[0].t)d=1,g=data.k[0].t;else{for(e=0;e<h-1;e+=1)if(o===data.k[e].t){d=e+1,g=data.k[e].t;break}else if(o>data.k[e].t&&o<data.k[e+1].t){o-data.k[e].t>data.k[e+1].t-o?(d=e+2,g=data.k[e+1].t):(d=e+1,g=data.k[e].t);break}d===-1&&(d=e+1,g=data.k[e].t)}var _={};return _.index=d,_.time=g/elem.comp.globalData.frameRate,_}function key(o){var e,h,d;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+o);o-=1,e={time:data.k[o].t/elem.comp.globalData.frameRate,value:[]};var g=Object.prototype.hasOwnProperty.call(data.k[o],"s")?data.k[o].s:data.k[o-1].e;for(d=g.length,h=0;h<d;h+=1)e[h]=g[h],e.value[h]=g[h];return e}function framesToTime(o,e){return e||(e=elem.comp.globalData.frameRate),o/e}function timeToFrames(o,e){return!o&&o!==0&&(o=time),e||(e=elem.comp.globalData.frameRate),o*e}function seedRandom(o){BMMath.seedrandom(randSeed+o)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(o,e){return typeof value=="string"?e===void 0?value.substring(o):value.substring(o,e):""}function substr(o,e){return typeof value=="string"?e===void 0?value.substr(o):value.substr(o,e):""}function posterizeTime(o){time=o===0?0:Math.floor(time*o)/o,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(o){return value=o,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function o(b,$,j){$.x&&(j.k=!0,j.x=!0,j.initiateExpression=ExpressionManager.initiateExpression,j.effectsSequence.push(j.initiateExpression(b,$,j).bind(j)))}function e(b){return b*=this.elem.globalData.frameRate,b-=this.offsetTime,b!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<b?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(b,this._cachingAtTime),this._cachingAtTime.lastFrame=b),this._cachingAtTime.value}function h(b){var $=-.01,j=this.getValueAtTime(b),_e=this.getValueAtTime(b+$),et=0;if(j.length){var rt;for(rt=0;rt<j.length;rt+=1)et+=Math.pow(_e[rt]-j[rt],2);et=Math.sqrt(et)*100}else et=0;return et}function d(b){if(this.vel!==void 0)return this.vel;var $=-.001,j=this.getValueAtTime(b),_e=this.getValueAtTime(b+$),et;if(j.length){et=createTypedArray("float32",j.length);var rt;for(rt=0;rt<j.length;rt+=1)et[rt]=(_e[rt]-j[rt])/$}else et=(_e-j)/$;return et}function g(){return this.pv}function _(b){this.propertyGroup=b}return{searchExpressions:o,getSpeedAtTime:h,getVelocityAtTime:d,getValueAtTime:e,getStaticValueAtTime:g,setGroupProperty:_}}();function addPropertyDecorator(){function o(tt,nt,st){if(!this.k||!this.keyframes)return this.pv;tt=tt?tt.toLowerCase():"";var at=this.comp.renderedFrame,ct=this.keyframes,it=ct[ct.length-1].t;if(at<=it)return this.pv;var lt,ht;st?(nt?lt=Math.abs(it-this.elem.comp.globalData.frameRate*nt):lt=Math.max(0,it-this.elem.data.ip),ht=it-lt):((!nt||nt>ct.length-1)&&(nt=ct.length-1),ht=ct[ct.length-1-nt].t,lt=it-ht);var ut,dt,pt;if(tt==="pingpong"){var mt=Math.floor((at-ht)/lt);if(mt%2!=0)return this.getValueAtTime((lt-(at-ht)%lt+ht)/this.comp.globalData.frameRate,0)}else if(tt==="offset"){var yt=this.getValueAtTime(ht/this.comp.globalData.frameRate,0),xt=this.getValueAtTime(it/this.comp.globalData.frameRate,0),Tt=this.getValueAtTime(((at-ht)%lt+ht)/this.comp.globalData.frameRate,0),_t=Math.floor((at-ht)/lt);if(this.pv.length){for(pt=new Array(yt.length),dt=pt.length,ut=0;ut<dt;ut+=1)pt[ut]=(xt[ut]-yt[ut])*_t+Tt[ut];return pt}return(xt-yt)*_t+Tt}else if(tt==="continue"){var Mt=this.getValueAtTime(it/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime((it-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(pt=new Array(Mt.length),dt=pt.length,ut=0;ut<dt;ut+=1)pt[ut]=Mt[ut]+(Mt[ut]-Lt[ut])*((at-it)/this.comp.globalData.frameRate)/5e-4;return pt}return Mt+(Mt-Lt)*((at-it)/.001)}return this.getValueAtTime(((at-ht)%lt+ht)/this.comp.globalData.frameRate,0)}function e(tt,nt,st){if(!this.k)return this.pv;tt=tt?tt.toLowerCase():"";var at=this.comp.renderedFrame,ct=this.keyframes,it=ct[0].t;if(at>=it)return this.pv;var lt,ht;st?(nt?lt=Math.abs(this.elem.comp.globalData.frameRate*nt):lt=Math.max(0,this.elem.data.op-it),ht=it+lt):((!nt||nt>ct.length-1)&&(nt=ct.length-1),ht=ct[nt].t,lt=ht-it);var ut,dt,pt;if(tt==="pingpong"){var mt=Math.floor((it-at)/lt);if(mt%2==0)return this.getValueAtTime(((it-at)%lt+it)/this.comp.globalData.frameRate,0)}else if(tt==="offset"){var yt=this.getValueAtTime(it/this.comp.globalData.frameRate,0),xt=this.getValueAtTime(ht/this.comp.globalData.frameRate,0),Tt=this.getValueAtTime((lt-(it-at)%lt+it)/this.comp.globalData.frameRate,0),_t=Math.floor((it-at)/lt)+1;if(this.pv.length){for(pt=new Array(yt.length),dt=pt.length,ut=0;ut<dt;ut+=1)pt[ut]=Tt[ut]-(xt[ut]-yt[ut])*_t;return pt}return Tt-(xt-yt)*_t}else if(tt==="continue"){var Mt=this.getValueAtTime(it/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime((it+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(pt=new Array(Mt.length),dt=pt.length,ut=0;ut<dt;ut+=1)pt[ut]=Mt[ut]+(Mt[ut]-Lt[ut])*(it-at)/.001;return pt}return Mt+(Mt-Lt)*(it-at)/.001}return this.getValueAtTime((lt-((it-at)%lt+it))/this.comp.globalData.frameRate,0)}function h(tt,nt){if(!this.k)return this.pv;if(tt=(tt||.4)*.5,nt=Math.floor(nt||5),nt<=1)return this.pv;var st=this.comp.renderedFrame/this.comp.globalData.frameRate,at=st-tt,ct=st+tt,it=nt>1?(ct-at)/(nt-1):1,lt=0,ht=0,ut;this.pv.length?ut=createTypedArray("float32",this.pv.length):ut=0;for(var dt;lt<nt;){if(dt=this.getValueAtTime(at+lt*it),this.pv.length)for(ht=0;ht<this.pv.length;ht+=1)ut[ht]+=dt[ht];else ut+=dt;lt+=1}if(this.pv.length)for(ht=0;ht<this.pv.length;ht+=1)ut[ht]/=nt;else ut/=nt;return ut}function d(tt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var nt=this._transformCachingAtTime.v;if(nt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var st=this.a.getValueAtTime(tt);nt.translate(-st[0]*this.a.mult,-st[1]*this.a.mult,st[2]*this.a.mult)}if(this.appliedTransformations<2){var at=this.s.getValueAtTime(tt);nt.scale(at[0]*this.s.mult,at[1]*this.s.mult,at[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ct=this.sk.getValueAtTime(tt),it=this.sa.getValueAtTime(tt);nt.skewFromAxis(-ct*this.sk.mult,it*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var lt=this.r.getValueAtTime(tt);nt.rotate(-lt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ht=this.rz.getValueAtTime(tt),ut=this.ry.getValueAtTime(tt),dt=this.rx.getValueAtTime(tt),pt=this.or.getValueAtTime(tt);nt.rotateZ(-ht*this.rz.mult).rotateY(ut*this.ry.mult).rotateX(dt*this.rx.mult).rotateZ(-pt[2]*this.or.mult).rotateY(pt[1]*this.or.mult).rotateX(pt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var mt=this.px.getValueAtTime(tt),yt=this.py.getValueAtTime(tt);if(this.data.p.z){var xt=this.pz.getValueAtTime(tt);nt.translate(mt*this.px.mult,yt*this.py.mult,-xt*this.pz.mult)}else nt.translate(mt*this.px.mult,yt*this.py.mult,0)}else{var Tt=this.p.getValueAtTime(tt);nt.translate(Tt[0]*this.p.mult,Tt[1]*this.p.mult,-Tt[2]*this.p.mult)}return nt}function g(){return this.v.clone(new Matrix)}var _=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(tt,nt,st){var at=_(tt,nt,st);return at.dynamicProperties.length?at.getValueAtTime=d.bind(at):at.getValueAtTime=g.bind(at),at.setGroupProperty=expressionHelpers.setGroupProperty,at};var b=PropertyFactory.getProp;PropertyFactory.getProp=function(tt,nt,st,at,ct){var it=b(tt,nt,st,at,ct);it.kf?it.getValueAtTime=expressionHelpers.getValueAtTime.bind(it):it.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(it),it.setGroupProperty=expressionHelpers.setGroupProperty,it.loopOut=o,it.loopIn=e,it.smooth=h,it.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(it),it.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(it),it.numKeys=nt.a===1?nt.k.length:0,it.propertyIndex=nt.ix;var lt=0;return st!==0&&(lt=createTypedArray("float32",nt.a===1?nt.k[0].s.length:nt.k.length)),it._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:lt},expressionHelpers.searchExpressions(tt,nt,it),it.k&&ct.addDynamicProperty(it),it};function $(tt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),tt*=this.elem.globalData.frameRate,tt-=this.offsetTime,tt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<tt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=tt,this.interpolateShape(tt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var j=ShapePropertyFactory.getConstructorFunction(),_e=ShapePropertyFactory.getKeyframedConstructorFunction();function et(){}et.prototype={vertices:function(nt,st){this.k&&this.getValue();var at=this.v;st!==void 0&&(at=this.getValueAtTime(st,0));var ct,it=at._length,lt=at[nt],ht=at.v,ut=createSizedArray(it);for(ct=0;ct<it;ct+=1)nt==="i"||nt==="o"?ut[ct]=[lt[ct][0]-ht[ct][0],lt[ct][1]-ht[ct][1]]:ut[ct]=[lt[ct][0],lt[ct][1]];return ut},points:function(nt){return this.vertices("v",nt)},inTangents:function(nt){return this.vertices("i",nt)},outTangents:function(nt){return this.vertices("o",nt)},isClosed:function(){return this.v.c},pointOnPath:function(nt,st){var at=this.v;st!==void 0&&(at=this.getValueAtTime(st,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(at));for(var ct=this._segmentsLength,it=ct.lengths,lt=ct.totalLength*nt,ht=0,ut=it.length,dt=0,pt;ht<ut;){if(dt+it[ht].addedLength>lt){var mt=ht,yt=at.c&&ht===ut-1?0:ht+1,xt=(lt-dt)/it[ht].addedLength;pt=bez.getPointInSegment(at.v[mt],at.v[yt],at.o[mt],at.i[yt],xt,it[ht]);break}else dt+=it[ht].addedLength;ht+=1}return pt||(pt=at.c?[at.v[0][0],at.v[0][1]]:[at.v[at._length-1][0],at.v[at._length-1][1]]),pt},vectorOnPath:function(nt,st,at){nt==1?nt=this.v.c:nt==0&&(nt=.999);var ct=this.pointOnPath(nt,st),it=this.pointOnPath(nt+.001,st),lt=it[0]-ct[0],ht=it[1]-ct[1],ut=Math.sqrt(Math.pow(lt,2)+Math.pow(ht,2));if(ut===0)return[0,0];var dt=at==="tangent"?[lt/ut,ht/ut]:[-ht/ut,lt/ut];return dt},tangentOnPath:function(nt,st){return this.vectorOnPath(nt,st,"tangent")},normalOnPath:function(nt,st){return this.vectorOnPath(nt,st,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([et],j),extendPrototype([et],_e),_e.prototype.getValueAtTime=$,_e.prototype.initiateExpression=ExpressionManager.initiateExpression;var rt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(tt,nt,st,at,ct){var it=rt(tt,nt,st,at,ct);return it.propertyIndex=nt.ix,it.lock=!1,st===3?expressionHelpers.searchExpressions(tt,nt.pt,it):st===4&&expressionHelpers.searchExpressions(tt,nt.ks,it),it.k&&tt.addDynamicProperty(it),it}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function o(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,h){var d=this.calculateExpression(h);if(e.t!==d){var g={};return this.copyData(g,e),g.t=d.toString(),g.__complete=!1,g}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),h=this.searchExpressions();return this.kf=e||h,this.kf},TextProperty.prototype.searchExpressions=o}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function o(e,h){var d=createNS("feMerge");d.setAttribute("result",e);var g,_;for(_=0;_<h.length;_+=1)g=createNS("feMergeNode"),g.setAttribute("in",h[_]),d.appendChild(g),d.appendChild(g);return d}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(o,e,h,d,g){this.filterManager=e;var _=createNS("feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","linearRGB"),_.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=_,_.setAttribute("result",d+"_tint_1"),o.appendChild(_),_=createNS("feColorMatrix"),_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_.setAttribute("result",d+"_tint_2"),o.appendChild(_),this.matrixFilter=_;var b=this.createMergeNode(d,[g,d+"_tint_1",d+"_tint_2"]);o.appendChild(b)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,h=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+d+" 0"),this.matrixFilter.setAttribute("values",h[0]-e[0]+" 0 0 0 "+e[0]+" "+(h[1]-e[1])+" 0 0 0 "+e[1]+" "+(h[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(o,e,h,d){this.filterManager=e;var g=createNS("feColorMatrix");g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),g.setAttribute("result",d),o.appendChild(g),this.matrixFilter=g}SVGFillFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,h=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+h+" 0")}};function SVGStrokeEffect(o,e,h){this.initialized=!1,this.filterManager=e,this.elem=h,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var o=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,h,d,g;for(this.filterManager.effectElements[1].p.v===1?(g=this.elem.maskManager.masksProperties.length,d=0):(d=this.filterManager.effectElements[0].p.v-1,g=d+1),h=createNS("g"),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-dashoffset",1),d;d<g;d+=1)e=createNS("path"),h.appendChild(e),this.paths.push({p:e,m:d});if(this.filterManager.effectElements[10].p.v===3){var _=createNS("mask"),b=createElementID();_.setAttribute("id",b),_.setAttribute("mask-type","alpha"),_.appendChild(h),this.elem.globalData.defs.appendChild(_);var $=createNS("g");for($.setAttribute("mask","url("+getLocationHref()+"#"+b+")");o[0];)$.appendChild(o[0]);this.elem.layerElement.appendChild($),this.masker=_,h.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(h),this.elem.layerElement.removeAttribute("mask"),h.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=h},SVGStrokeEffect.prototype.renderFrame=function(o){this.initialized||this.initialize();var e,h=this.paths.length,d,g;for(e=0;e<h;e+=1)if(this.paths[e].m!==-1&&(d=this.elem.maskManager.viewData[this.paths[e].m],g=this.paths[e].p,(o||this.filterManager._mdf||d.prop._mdf)&&g.setAttribute("d",d.lastPath),o||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||d.prop._mdf)){var _;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var b=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,$=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,j=g.getTotalLength();_="0 0 0 "+j*b+" ";var _e=j*($-b),et=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,rt=Math.floor(_e/et),tt;for(tt=0;tt<rt;tt+=1)_+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";_+="0 "+j*10+" 0 0"}else _="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;g.setAttribute("stroke-dasharray",_)}if((o||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(o||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(o||this.filterManager.effectElements[3].p._mdf)){var nt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(nt[0]*255)+","+bmFloor(nt[1]*255)+","+bmFloor(nt[2]*255)+")")}};function SVGTritoneFilter(o,e,h,d){this.filterManager=e;var g=createNS("feColorMatrix");g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","linearRGB"),g.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),o.appendChild(g);var _=createNS("feComponentTransfer");_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("result",d),this.matrixFilter=_;var b=createNS("feFuncR");b.setAttribute("type","table"),_.appendChild(b),this.feFuncR=b;var $=createNS("feFuncG");$.setAttribute("type","table"),_.appendChild($),this.feFuncG=$;var j=createNS("feFuncB");j.setAttribute("type","table"),_.appendChild(j),this.feFuncB=j,o.appendChild(_)}SVGTritoneFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,h=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v,g=d[0]+" "+h[0]+" "+e[0],_=d[1]+" "+h[1]+" "+e[1],b=d[2]+" "+h[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",g),this.feFuncG.setAttribute("tableValues",_),this.feFuncB.setAttribute("tableValues",b)}};function SVGProLevelsFilter(o,e,h,d){this.filterManager=e;var g=this.filterManager.effectElements,_=createNS("feComponentTransfer");(g[10].p.k||g[10].p.v!==0||g[11].p.k||g[11].p.v!==1||g[12].p.k||g[12].p.v!==1||g[13].p.k||g[13].p.v!==0||g[14].p.k||g[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",_)),(g[17].p.k||g[17].p.v!==0||g[18].p.k||g[18].p.v!==1||g[19].p.k||g[19].p.v!==1||g[20].p.k||g[20].p.v!==0||g[21].p.k||g[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",_)),(g[24].p.k||g[24].p.v!==0||g[25].p.k||g[25].p.v!==1||g[26].p.k||g[26].p.v!==1||g[27].p.k||g[27].p.v!==0||g[28].p.k||g[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",_)),(g[31].p.k||g[31].p.v!==0||g[32].p.k||g[32].p.v!==1||g[33].p.k||g[33].p.v!==1||g[34].p.k||g[34].p.v!==0||g[35].p.k||g[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",_)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(_.setAttribute("color-interpolation-filters","sRGB"),o.appendChild(_)),(g[3].p.k||g[3].p.v!==0||g[4].p.k||g[4].p.v!==1||g[5].p.k||g[5].p.v!==1||g[6].p.k||g[6].p.v!==0||g[7].p.k||g[7].p.v!==1)&&(_=createNS("feComponentTransfer"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("result",d),o.appendChild(_),this.feFuncRComposed=this.createFeFunc("feFuncR",_),this.feFuncGComposed=this.createFeFunc("feFuncG",_),this.feFuncBComposed=this.createFeFunc("feFuncB",_))}SVGProLevelsFilter.prototype.createFeFunc=function(o,e){var h=createNS(o);return h.setAttribute("type","table"),e.appendChild(h),h},SVGProLevelsFilter.prototype.getTableValue=function(o,e,h,d,g){for(var _=0,b=256,$,j=Math.min(o,e),_e=Math.max(o,e),et=Array.call(null,{length:b}),rt,tt=0,nt=g-d,st=e-o;_<=256;)$=_/256,$<=j?rt=st<0?g:d:$>=_e?rt=st<0?d:g:rt=d+nt*Math.pow(($-o)/st,1/h),et[tt]=rt,tt+=1,_+=256/(b-1);return et.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var e,h=this.filterManager.effectElements;this.feFuncRComposed&&(o||h[3].p._mdf||h[4].p._mdf||h[5].p._mdf||h[6].p._mdf||h[7].p._mdf)&&(e=this.getTableValue(h[3].p.v,h[4].p.v,h[5].p.v,h[6].p.v,h[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(o||h[10].p._mdf||h[11].p._mdf||h[12].p._mdf||h[13].p._mdf||h[14].p._mdf)&&(e=this.getTableValue(h[10].p.v,h[11].p.v,h[12].p.v,h[13].p.v,h[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(o||h[17].p._mdf||h[18].p._mdf||h[19].p._mdf||h[20].p._mdf||h[21].p._mdf)&&(e=this.getTableValue(h[17].p.v,h[18].p.v,h[19].p.v,h[20].p.v,h[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(o||h[24].p._mdf||h[25].p._mdf||h[26].p._mdf||h[27].p._mdf||h[28].p._mdf)&&(e=this.getTableValue(h[24].p.v,h[25].p.v,h[26].p.v,h[27].p.v,h[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(o||h[31].p._mdf||h[32].p._mdf||h[33].p._mdf||h[34].p._mdf||h[35].p._mdf)&&(e=this.getTableValue(h[31].p.v,h[32].p.v,h[33].p.v,h[34].p.v,h[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(o,e,h,d,g){var _=e.container.globalData.renderConfig.filterSize,b=e.data.fs||_;o.setAttribute("x",b.x||_.x),o.setAttribute("y",b.y||_.y),o.setAttribute("width",b.width||_.width),o.setAttribute("height",b.height||_.height),this.filterManager=e;var $=createNS("feGaussianBlur");$.setAttribute("in","SourceAlpha"),$.setAttribute("result",d+"_drop_shadow_1"),$.setAttribute("stdDeviation","0"),this.feGaussianBlur=$,o.appendChild($);var j=createNS("feOffset");j.setAttribute("dx","25"),j.setAttribute("dy","0"),j.setAttribute("in",d+"_drop_shadow_1"),j.setAttribute("result",d+"_drop_shadow_2"),this.feOffset=j,o.appendChild(j);var _e=createNS("feFlood");_e.setAttribute("flood-color","#00ff00"),_e.setAttribute("flood-opacity","1"),_e.setAttribute("result",d+"_drop_shadow_3"),this.feFlood=_e,o.appendChild(_e);var et=createNS("feComposite");et.setAttribute("in",d+"_drop_shadow_3"),et.setAttribute("in2",d+"_drop_shadow_2"),et.setAttribute("operator","in"),et.setAttribute("result",d+"_drop_shadow_4"),o.appendChild(et);var rt=this.createMergeNode(d,[d+"_drop_shadow_4",g]);o.appendChild(rt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){if((o||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),o||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((o||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),o||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var h=this.filterManager.effectElements[3].p.v,d=(this.filterManager.effectElements[2].p.v-90)*degToRads,g=h*Math.cos(d),_=h*Math.sin(d);this.feOffset.setAttribute("dx",g),this.feOffset.setAttribute("dy",_)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(o,e,h){this.initialized=!1,this.filterManager=e,this.filterElem=o,this.elem=h,h.matteElement=createNS("g"),h.matteElement.appendChild(h.layerElement),h.matteElement.appendChild(h.transformedElement),h.baseElement=h.matteElement}SVGMatte3Effect.prototype.findSymbol=function(o){for(var e=0,h=_svgMatteSymbols.length;e<h;){if(_svgMatteSymbols[e]===o)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(o,e){var h=o.layerElement.parentNode;if(!!h){for(var d=h.children,g=0,_=d.length;g<_&&d[g]!==o.layerElement;)g+=1;var b;g<=_-2&&(b=d[g+1]);var $=createNS("use");$.setAttribute("href","#"+e),b?h.insertBefore($,b):h.appendChild($)}},SVGMatte3Effect.prototype.setElementAsMask=function(o,e){if(!this.findSymbol(e)){var h=createElementID(),d=createNS("mask");d.setAttribute("id",e.layerId),d.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var g=o.globalData.defs;g.appendChild(d);var _=createNS("symbol");_.setAttribute("id",h),this.replaceInParent(e,h),_.appendChild(e.layerElement),g.appendChild(_);var b=createNS("use");b.setAttribute("href","#"+h),d.appendChild(b),e.data.hd=!1,e.show()}o.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var o=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,h=0,d=e.length;h<d;)e[h]&&e[h].data.ind===o&&this.setElementAsMask(this.elem,e[h]),h+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(o,e,h,d){o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width","300%"),o.setAttribute("height","300%"),this.filterManager=e;var g=createNS("feGaussianBlur");g.setAttribute("result",d),o.appendChild(g),this.feGaussianBlur=g}return SVGGaussianBlurEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var e=.3,h=this.filterManager.effectElements[0].p.v*e,d=this.filterManager.effectElements[1].p.v,g=d==3?0:h,_=d==2?0:h;this.feGaussianBlur.setAttribute("stdDeviation",g+" "+_);var b=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",b)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie$1,lottie$1.exports);var lottie=lottie$1.exports,matter={exports:{}};/*!
 * matter-js 0.18.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(o,e){(function(d,g){o.exports=g()})(commonjsGlobal,function(){return function(h){var d={};function g(_){if(d[_])return d[_].exports;var b=d[_]={i:_,l:!1,exports:{}};return h[_].call(b.exports,b,b.exports,g),b.l=!0,b.exports}return g.m=h,g.c=d,g.d=function(_,b,$){g.o(_,b)||Object.defineProperty(_,b,{enumerable:!0,get:$})},g.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},g.t=function(_,b){if(b&1&&(_=g(_)),b&8||b&4&&typeof _=="object"&&_&&_.__esModule)return _;var $=Object.create(null);if(g.r($),Object.defineProperty($,"default",{enumerable:!0,value:_}),b&2&&typeof _!="string")for(var j in _)g.d($,j,function(_e){return _[_e]}.bind(null,j));return $},g.n=function(_){var b=_&&_.__esModule?function(){return _.default}:function(){return _};return g.d(b,"a",b),b},g.o=function(_,b){return Object.prototype.hasOwnProperty.call(_,b)},g.p="",g(g.s=21)}([function(h,d){var g={};h.exports=g,function(){g._nextId=0,g._seed=0,g._nowStartTime=+new Date,g._warnedOnce={},g._decomp=null,g.extend=function(b,$){var j,_e;typeof $=="boolean"?(j=2,_e=$):(j=1,_e=!0);for(var et=j;et<arguments.length;et++){var rt=arguments[et];if(rt)for(var tt in rt)_e&&rt[tt]&&rt[tt].constructor===Object&&(!b[tt]||b[tt].constructor===Object)?(b[tt]=b[tt]||{},g.extend(b[tt],_e,rt[tt])):b[tt]=rt[tt]}return b},g.clone=function(b,$){return g.extend({},$,b)},g.keys=function(b){if(Object.keys)return Object.keys(b);var $=[];for(var j in b)$.push(j);return $},g.values=function(b){var $=[];if(Object.keys){for(var j=Object.keys(b),_e=0;_e<j.length;_e++)$.push(b[j[_e]]);return $}for(var et in b)$.push(b[et]);return $},g.get=function(b,$,j,_e){$=$.split(".").slice(j,_e);for(var et=0;et<$.length;et+=1)b=b[$[et]];return b},g.set=function(b,$,j,_e,et){var rt=$.split(".").slice(_e,et);return g.get(b,$,0,-1)[rt[rt.length-1]]=j,j},g.shuffle=function(b){for(var $=b.length-1;$>0;$--){var j=Math.floor(g.random()*($+1)),_e=b[$];b[$]=b[j],b[j]=_e}return b},g.choose=function(b){return b[Math.floor(g.random()*b.length)]},g.isElement=function(b){return typeof HTMLElement!="undefined"?b instanceof HTMLElement:!!(b&&b.nodeType&&b.nodeName)},g.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"},g.isFunction=function(b){return typeof b=="function"},g.isPlainObject=function(b){return typeof b=="object"&&b.constructor===Object},g.isString=function(b){return toString.call(b)==="[object String]"},g.clamp=function(b,$,j){return b<$?$:b>j?j:b},g.sign=function(b){return b<0?-1:1},g.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-g._nowStartTime},g.random=function(b,$){return b=typeof b!="undefined"?b:0,$=typeof $!="undefined"?$:1,b+_()*($-b)};var _=function(){return g._seed=(g._seed*9301+49297)%233280,g._seed/233280};g.colorToNumber=function(b){return b=b.replace("#",""),b.length==3&&(b=b.charAt(0)+b.charAt(0)+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2)),parseInt(b,16)},g.logLevel=1,g.log=function(){console&&g.logLevel>0&&g.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.info=function(){console&&g.logLevel>0&&g.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.warn=function(){console&&g.logLevel>0&&g.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.warnOnce=function(){var b=Array.prototype.slice.call(arguments).join(" ");g._warnedOnce[b]||(g.warn(b),g._warnedOnce[b]=!0)},g.deprecated=function(b,$,j){b[$]=g.chain(function(){g.warnOnce("\u{1F505} deprecated \u{1F505}",j)},b[$])},g.nextId=function(){return g._nextId++},g.indexOf=function(b,$){if(b.indexOf)return b.indexOf($);for(var j=0;j<b.length;j++)if(b[j]===$)return j;return-1},g.map=function(b,$){if(b.map)return b.map($);for(var j=[],_e=0;_e<b.length;_e+=1)j.push($(b[_e]));return j},g.topologicalSort=function(b){var $=[],j=[],_e=[];for(var et in b)!j[et]&&!_e[et]&&g._topologicalSort(et,j,_e,b,$);return $},g._topologicalSort=function(b,$,j,_e,et){var rt=_e[b]||[];j[b]=!0;for(var tt=0;tt<rt.length;tt+=1){var nt=rt[tt];j[nt]||$[nt]||g._topologicalSort(nt,$,j,_e,et)}j[b]=!1,$[b]=!0,et.push(b)},g.chain=function(){for(var b=[],$=0;$<arguments.length;$+=1){var j=arguments[$];j._chained?b.push.apply(b,j._chained):b.push(j)}var _e=function(){for(var et,rt=new Array(arguments.length),tt=0,nt=arguments.length;tt<nt;tt++)rt[tt]=arguments[tt];for(tt=0;tt<b.length;tt+=1){var st=b[tt].apply(et,rt);typeof st!="undefined"&&(et=st)}return et};return _e._chained=b,_e},g.chainPathBefore=function(b,$,j){return g.set(b,$,g.chain(j,g.get(b,$)))},g.chainPathAfter=function(b,$,j){return g.set(b,$,g.chain(g.get(b,$),j))},g.setDecomp=function(b){g._decomp=b},g.getDecomp=function(){var b=g._decomp;try{!b&&typeof window!="undefined"&&(b=window.decomp),!b&&typeof commonjsGlobal!="undefined"&&(b=commonjsGlobal.decomp)}catch{b=null}return b}}()},function(h,d){var g={};h.exports=g,function(){g.create=function(_){var b={min:{x:0,y:0},max:{x:0,y:0}};return _&&g.update(b,_),b},g.update=function(_,b,$){_.min.x=1/0,_.max.x=-1/0,_.min.y=1/0,_.max.y=-1/0;for(var j=0;j<b.length;j++){var _e=b[j];_e.x>_.max.x&&(_.max.x=_e.x),_e.x<_.min.x&&(_.min.x=_e.x),_e.y>_.max.y&&(_.max.y=_e.y),_e.y<_.min.y&&(_.min.y=_e.y)}$&&($.x>0?_.max.x+=$.x:_.min.x+=$.x,$.y>0?_.max.y+=$.y:_.min.y+=$.y)},g.contains=function(_,b){return b.x>=_.min.x&&b.x<=_.max.x&&b.y>=_.min.y&&b.y<=_.max.y},g.overlaps=function(_,b){return _.min.x<=b.max.x&&_.max.x>=b.min.x&&_.max.y>=b.min.y&&_.min.y<=b.max.y},g.translate=function(_,b){_.min.x+=b.x,_.max.x+=b.x,_.min.y+=b.y,_.max.y+=b.y},g.shift=function(_,b){var $=_.max.x-_.min.x,j=_.max.y-_.min.y;_.min.x=b.x,_.max.x=b.x+$,_.min.y=b.y,_.max.y=b.y+j}}()},function(h,d){var g={};h.exports=g,function(){g.create=function(_,b){return{x:_||0,y:b||0}},g.clone=function(_){return{x:_.x,y:_.y}},g.magnitude=function(_){return Math.sqrt(_.x*_.x+_.y*_.y)},g.magnitudeSquared=function(_){return _.x*_.x+_.y*_.y},g.rotate=function(_,b,$){var j=Math.cos(b),_e=Math.sin(b);$||($={});var et=_.x*j-_.y*_e;return $.y=_.x*_e+_.y*j,$.x=et,$},g.rotateAbout=function(_,b,$,j){var _e=Math.cos(b),et=Math.sin(b);j||(j={});var rt=$.x+((_.x-$.x)*_e-(_.y-$.y)*et);return j.y=$.y+((_.x-$.x)*et+(_.y-$.y)*_e),j.x=rt,j},g.normalise=function(_){var b=g.magnitude(_);return b===0?{x:0,y:0}:{x:_.x/b,y:_.y/b}},g.dot=function(_,b){return _.x*b.x+_.y*b.y},g.cross=function(_,b){return _.x*b.y-_.y*b.x},g.cross3=function(_,b,$){return(b.x-_.x)*($.y-_.y)-(b.y-_.y)*($.x-_.x)},g.add=function(_,b,$){return $||($={}),$.x=_.x+b.x,$.y=_.y+b.y,$},g.sub=function(_,b,$){return $||($={}),$.x=_.x-b.x,$.y=_.y-b.y,$},g.mult=function(_,b){return{x:_.x*b,y:_.y*b}},g.div=function(_,b){return{x:_.x/b,y:_.y/b}},g.perp=function(_,b){return b=b===!0?-1:1,{x:b*-_.y,y:b*_.x}},g.neg=function(_){return{x:-_.x,y:-_.y}},g.angle=function(_,b){return Math.atan2(b.y-_.y,b.x-_.x)},g._temp=[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]}()},function(h,d,g){var _={};h.exports=_;var b=g(2),$=g(0);(function(){_.create=function(j,_e){for(var et=[],rt=0;rt<j.length;rt++){var tt=j[rt],nt={x:tt.x,y:tt.y,index:rt,body:_e,isInternal:!1};et.push(nt)}return et},_.fromPath=function(j,_e){var et=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,rt=[];return j.replace(et,function(tt,nt,st){rt.push({x:parseFloat(nt),y:parseFloat(st)})}),_.create(rt,_e)},_.centre=function(j){for(var _e=_.area(j,!0),et={x:0,y:0},rt,tt,nt,st=0;st<j.length;st++)nt=(st+1)%j.length,rt=b.cross(j[st],j[nt]),tt=b.mult(b.add(j[st],j[nt]),rt),et=b.add(et,tt);return b.div(et,6*_e)},_.mean=function(j){for(var _e={x:0,y:0},et=0;et<j.length;et++)_e.x+=j[et].x,_e.y+=j[et].y;return b.div(_e,j.length)},_.area=function(j,_e){for(var et=0,rt=j.length-1,tt=0;tt<j.length;tt++)et+=(j[rt].x-j[tt].x)*(j[rt].y+j[tt].y),rt=tt;return _e?et/2:Math.abs(et)/2},_.inertia=function(j,_e){for(var et=0,rt=0,tt=j,nt,st,at=0;at<tt.length;at++)st=(at+1)%tt.length,nt=Math.abs(b.cross(tt[st],tt[at])),et+=nt*(b.dot(tt[st],tt[st])+b.dot(tt[st],tt[at])+b.dot(tt[at],tt[at])),rt+=nt;return _e/6*(et/rt)},_.translate=function(j,_e,et){et=typeof et!="undefined"?et:1;var rt=j.length,tt=_e.x*et,nt=_e.y*et,st;for(st=0;st<rt;st++)j[st].x+=tt,j[st].y+=nt;return j},_.rotate=function(j,_e,et){if(_e!==0){var rt=Math.cos(_e),tt=Math.sin(_e),nt=et.x,st=et.y,at=j.length,ct,it,lt,ht;for(ht=0;ht<at;ht++)ct=j[ht],it=ct.x-nt,lt=ct.y-st,ct.x=nt+(it*rt-lt*tt),ct.y=st+(it*tt+lt*rt);return j}},_.contains=function(j,_e){for(var et=_e.x,rt=_e.y,tt=j.length,nt=j[tt-1],st,at=0;at<tt;at++){if(st=j[at],(et-nt.x)*(st.y-nt.y)+(rt-nt.y)*(nt.x-st.x)>0)return!1;nt=st}return!0},_.scale=function(j,_e,et,rt){if(_e===1&&et===1)return j;rt=rt||_.centre(j);for(var tt,nt,st=0;st<j.length;st++)tt=j[st],nt=b.sub(tt,rt),j[st].x=rt.x+nt.x*_e,j[st].y=rt.y+nt.y*et;return j},_.chamfer=function(j,_e,et,rt,tt){typeof _e=="number"?_e=[_e]:_e=_e||[8],et=typeof et!="undefined"?et:-1,rt=rt||2,tt=tt||14;for(var nt=[],st=0;st<j.length;st++){var at=j[st-1>=0?st-1:j.length-1],ct=j[st],it=j[(st+1)%j.length],lt=_e[st<_e.length?st:_e.length-1];if(lt===0){nt.push(ct);continue}var ht=b.normalise({x:ct.y-at.y,y:at.x-ct.x}),ut=b.normalise({x:it.y-ct.y,y:ct.x-it.x}),dt=Math.sqrt(2*Math.pow(lt,2)),pt=b.mult($.clone(ht),lt),mt=b.normalise(b.mult(b.add(ht,ut),.5)),yt=b.sub(ct,b.mult(mt,dt)),xt=et;et===-1&&(xt=Math.pow(lt,.32)*1.75),xt=$.clamp(xt,rt,tt),xt%2==1&&(xt+=1);for(var Tt=Math.acos(b.dot(ht,ut)),_t=Tt/xt,Mt=0;Mt<xt;Mt++)nt.push(b.add(b.rotate(pt,_t*Mt),yt))}return nt},_.clockwiseSort=function(j){var _e=_.mean(j);return j.sort(function(et,rt){return b.angle(_e,et)-b.angle(_e,rt)}),j},_.isConvex=function(j){var _e=0,et=j.length,rt,tt,nt,st;if(et<3)return null;for(rt=0;rt<et;rt++)if(tt=(rt+1)%et,nt=(rt+2)%et,st=(j[tt].x-j[rt].x)*(j[nt].y-j[tt].y),st-=(j[tt].y-j[rt].y)*(j[nt].x-j[tt].x),st<0?_e|=1:st>0&&(_e|=2),_e===3)return!1;return _e!==0?!0:null},_.hull=function(j){var _e=[],et=[],rt,tt;for(j=j.slice(0),j.sort(function(nt,st){var at=nt.x-st.x;return at!==0?at:nt.y-st.y}),tt=0;tt<j.length;tt+=1){for(rt=j[tt];et.length>=2&&b.cross3(et[et.length-2],et[et.length-1],rt)<=0;)et.pop();et.push(rt)}for(tt=j.length-1;tt>=0;tt-=1){for(rt=j[tt];_e.length>=2&&b.cross3(_e[_e.length-2],_e[_e.length-1],rt)<=0;)_e.pop();_e.push(rt)}return _e.pop(),et.pop(),_e.concat(et)}})()},function(h,d,g){var _={};h.exports=_;var b=g(0);(function(){_.on=function($,j,_e){for(var et=j.split(" "),rt,tt=0;tt<et.length;tt++)rt=et[tt],$.events=$.events||{},$.events[rt]=$.events[rt]||[],$.events[rt].push(_e);return _e},_.off=function($,j,_e){if(!j){$.events={};return}typeof j=="function"&&(_e=j,j=b.keys($.events).join(" "));for(var et=j.split(" "),rt=0;rt<et.length;rt++){var tt=$.events[et[rt]],nt=[];if(_e&&tt)for(var st=0;st<tt.length;st++)tt[st]!==_e&&nt.push(tt[st]);$.events[et[rt]]=nt}},_.trigger=function($,j,_e){var et,rt,tt,nt,st=$.events;if(st&&b.keys(st).length>0){_e||(_e={}),et=j.split(" ");for(var at=0;at<et.length;at++)if(rt=et[at],tt=st[rt],tt){nt=b.clone(_e,!1),nt.name=rt,nt.source=$;for(var ct=0;ct<tt.length;ct++)tt[ct].apply($,[nt])}}}})()},function(h,d,g){var _={};h.exports=_;var b=g(4),$=g(0),j=g(1),_e=g(6);(function(){_.create=function(et){return $.extend({id:$.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},et)},_.setModified=function(et,rt,tt,nt){if(et.isModified=rt,rt&&et.cache&&(et.cache.allBodies=null,et.cache.allConstraints=null,et.cache.allComposites=null),tt&&et.parent&&_.setModified(et.parent,rt,tt,nt),nt)for(var st=0;st<et.composites.length;st++){var at=et.composites[st];_.setModified(at,rt,tt,nt)}},_.add=function(et,rt){var tt=[].concat(rt);b.trigger(et,"beforeAdd",{object:rt});for(var nt=0;nt<tt.length;nt++){var st=tt[nt];switch(st.type){case"body":if(st.parent!==st){$.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}_.addBody(et,st);break;case"constraint":_.addConstraint(et,st);break;case"composite":_.addComposite(et,st);break;case"mouseConstraint":_.addConstraint(et,st.constraint);break}}return b.trigger(et,"afterAdd",{object:rt}),et},_.remove=function(et,rt,tt){var nt=[].concat(rt);b.trigger(et,"beforeRemove",{object:rt});for(var st=0;st<nt.length;st++){var at=nt[st];switch(at.type){case"body":_.removeBody(et,at,tt);break;case"constraint":_.removeConstraint(et,at,tt);break;case"composite":_.removeComposite(et,at,tt);break;case"mouseConstraint":_.removeConstraint(et,at.constraint);break}}return b.trigger(et,"afterRemove",{object:rt}),et},_.addComposite=function(et,rt){return et.composites.push(rt),rt.parent=et,_.setModified(et,!0,!0,!1),et},_.removeComposite=function(et,rt,tt){var nt=$.indexOf(et.composites,rt);if(nt!==-1&&_.removeCompositeAt(et,nt),tt)for(var st=0;st<et.composites.length;st++)_.removeComposite(et.composites[st],rt,!0);return et},_.removeCompositeAt=function(et,rt){return et.composites.splice(rt,1),_.setModified(et,!0,!0,!1),et},_.addBody=function(et,rt){return et.bodies.push(rt),_.setModified(et,!0,!0,!1),et},_.removeBody=function(et,rt,tt){var nt=$.indexOf(et.bodies,rt);if(nt!==-1&&_.removeBodyAt(et,nt),tt)for(var st=0;st<et.composites.length;st++)_.removeBody(et.composites[st],rt,!0);return et},_.removeBodyAt=function(et,rt){return et.bodies.splice(rt,1),_.setModified(et,!0,!0,!1),et},_.addConstraint=function(et,rt){return et.constraints.push(rt),_.setModified(et,!0,!0,!1),et},_.removeConstraint=function(et,rt,tt){var nt=$.indexOf(et.constraints,rt);if(nt!==-1&&_.removeConstraintAt(et,nt),tt)for(var st=0;st<et.composites.length;st++)_.removeConstraint(et.composites[st],rt,!0);return et},_.removeConstraintAt=function(et,rt){return et.constraints.splice(rt,1),_.setModified(et,!0,!0,!1),et},_.clear=function(et,rt,tt){if(tt)for(var nt=0;nt<et.composites.length;nt++)_.clear(et.composites[nt],rt,!0);return rt?et.bodies=et.bodies.filter(function(st){return st.isStatic}):et.bodies.length=0,et.constraints.length=0,et.composites.length=0,_.setModified(et,!0,!0,!1),et},_.allBodies=function(et){if(et.cache&&et.cache.allBodies)return et.cache.allBodies;for(var rt=[].concat(et.bodies),tt=0;tt<et.composites.length;tt++)rt=rt.concat(_.allBodies(et.composites[tt]));return et.cache&&(et.cache.allBodies=rt),rt},_.allConstraints=function(et){if(et.cache&&et.cache.allConstraints)return et.cache.allConstraints;for(var rt=[].concat(et.constraints),tt=0;tt<et.composites.length;tt++)rt=rt.concat(_.allConstraints(et.composites[tt]));return et.cache&&(et.cache.allConstraints=rt),rt},_.allComposites=function(et){if(et.cache&&et.cache.allComposites)return et.cache.allComposites;for(var rt=[].concat(et.composites),tt=0;tt<et.composites.length;tt++)rt=rt.concat(_.allComposites(et.composites[tt]));return et.cache&&(et.cache.allComposites=rt),rt},_.get=function(et,rt,tt){var nt,st;switch(tt){case"body":nt=_.allBodies(et);break;case"constraint":nt=_.allConstraints(et);break;case"composite":nt=_.allComposites(et).concat(et);break}return nt?(st=nt.filter(function(at){return at.id.toString()===rt.toString()}),st.length===0?null:st[0]):null},_.move=function(et,rt,tt){return _.remove(et,rt),_.add(tt,rt),et},_.rebase=function(et){for(var rt=_.allBodies(et).concat(_.allConstraints(et)).concat(_.allComposites(et)),tt=0;tt<rt.length;tt++)rt[tt].id=$.nextId();return et},_.translate=function(et,rt,tt){for(var nt=tt?_.allBodies(et):et.bodies,st=0;st<nt.length;st++)_e.translate(nt[st],rt);return et},_.rotate=function(et,rt,tt,nt){for(var st=Math.cos(rt),at=Math.sin(rt),ct=nt?_.allBodies(et):et.bodies,it=0;it<ct.length;it++){var lt=ct[it],ht=lt.position.x-tt.x,ut=lt.position.y-tt.y;_e.setPosition(lt,{x:tt.x+(ht*st-ut*at),y:tt.y+(ht*at+ut*st)}),_e.rotate(lt,rt)}return et},_.scale=function(et,rt,tt,nt,st){for(var at=st?_.allBodies(et):et.bodies,ct=0;ct<at.length;ct++){var it=at[ct],lt=it.position.x-nt.x,ht=it.position.y-nt.y;_e.setPosition(it,{x:nt.x+lt*rt,y:nt.y+ht*tt}),_e.scale(it,rt,tt)}return et},_.bounds=function(et){for(var rt=_.allBodies(et),tt=[],nt=0;nt<rt.length;nt+=1){var st=rt[nt];tt.push(st.bounds.min,st.bounds.max)}return j.create(tt)}})()},function(h,d,g){var _={};h.exports=_;var b=g(3),$=g(2),j=g(7);g(16);var _e=g(0),et=g(1),rt=g(11);(function(){_._inertiaScale=4,_._nextCollidingGroupId=1,_._nextNonCollidingGroupId=-1,_._nextCategory=1,_.create=function(nt){var st={id:_e.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:b.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},at=_e.extend(st,nt);return tt(at,nt),at},_.nextGroup=function(nt){return nt?_._nextNonCollidingGroupId--:_._nextCollidingGroupId++},_.nextCategory=function(){return _._nextCategory=_._nextCategory<<1,_._nextCategory};var tt=function(nt,st){st=st||{},_.set(nt,{bounds:nt.bounds||et.create(nt.vertices),positionPrev:nt.positionPrev||$.clone(nt.position),anglePrev:nt.anglePrev||nt.angle,vertices:nt.vertices,parts:nt.parts||[nt],isStatic:nt.isStatic,isSleeping:nt.isSleeping,parent:nt.parent||nt}),b.rotate(nt.vertices,nt.angle,nt.position),rt.rotate(nt.axes,nt.angle),et.update(nt.bounds,nt.vertices,nt.velocity),_.set(nt,{axes:st.axes||nt.axes,area:st.area||nt.area,mass:st.mass||nt.mass,inertia:st.inertia||nt.inertia});var at=nt.isStatic?"#14151f":_e.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),ct=nt.isStatic?"#555":"#ccc",it=nt.isStatic&&nt.render.fillStyle===null?1:0;nt.render.fillStyle=nt.render.fillStyle||at,nt.render.strokeStyle=nt.render.strokeStyle||ct,nt.render.lineWidth=nt.render.lineWidth||it,nt.render.sprite.xOffset+=-(nt.bounds.min.x-nt.position.x)/(nt.bounds.max.x-nt.bounds.min.x),nt.render.sprite.yOffset+=-(nt.bounds.min.y-nt.position.y)/(nt.bounds.max.y-nt.bounds.min.y)};_.set=function(nt,st,at){var ct;typeof st=="string"&&(ct=st,st={},st[ct]=at);for(ct in st)if(!!Object.prototype.hasOwnProperty.call(st,ct))switch(at=st[ct],ct){case"isStatic":_.setStatic(nt,at);break;case"isSleeping":j.set(nt,at);break;case"mass":_.setMass(nt,at);break;case"density":_.setDensity(nt,at);break;case"inertia":_.setInertia(nt,at);break;case"vertices":_.setVertices(nt,at);break;case"position":_.setPosition(nt,at);break;case"angle":_.setAngle(nt,at);break;case"velocity":_.setVelocity(nt,at);break;case"angularVelocity":_.setAngularVelocity(nt,at);break;case"parts":_.setParts(nt,at);break;case"centre":_.setCentre(nt,at);break;default:nt[ct]=at}},_.setStatic=function(nt,st){for(var at=0;at<nt.parts.length;at++){var ct=nt.parts[at];ct.isStatic=st,st?(ct._original={restitution:ct.restitution,friction:ct.friction,mass:ct.mass,inertia:ct.inertia,density:ct.density,inverseMass:ct.inverseMass,inverseInertia:ct.inverseInertia},ct.restitution=0,ct.friction=1,ct.mass=ct.inertia=ct.density=1/0,ct.inverseMass=ct.inverseInertia=0,ct.positionPrev.x=ct.position.x,ct.positionPrev.y=ct.position.y,ct.anglePrev=ct.angle,ct.angularVelocity=0,ct.speed=0,ct.angularSpeed=0,ct.motion=0):ct._original&&(ct.restitution=ct._original.restitution,ct.friction=ct._original.friction,ct.mass=ct._original.mass,ct.inertia=ct._original.inertia,ct.density=ct._original.density,ct.inverseMass=ct._original.inverseMass,ct.inverseInertia=ct._original.inverseInertia,ct._original=null)}},_.setMass=function(nt,st){var at=nt.inertia/(nt.mass/6);nt.inertia=at*(st/6),nt.inverseInertia=1/nt.inertia,nt.mass=st,nt.inverseMass=1/nt.mass,nt.density=nt.mass/nt.area},_.setDensity=function(nt,st){_.setMass(nt,st*nt.area),nt.density=st},_.setInertia=function(nt,st){nt.inertia=st,nt.inverseInertia=1/nt.inertia},_.setVertices=function(nt,st){st[0].body===nt?nt.vertices=st:nt.vertices=b.create(st,nt),nt.axes=rt.fromVertices(nt.vertices),nt.area=b.area(nt.vertices),_.setMass(nt,nt.density*nt.area);var at=b.centre(nt.vertices);b.translate(nt.vertices,at,-1),_.setInertia(nt,_._inertiaScale*b.inertia(nt.vertices,nt.mass)),b.translate(nt.vertices,nt.position),et.update(nt.bounds,nt.vertices,nt.velocity)},_.setParts=function(nt,st,at){var ct;for(st=st.slice(0),nt.parts.length=0,nt.parts.push(nt),nt.parent=nt,ct=0;ct<st.length;ct++){var it=st[ct];it!==nt&&(it.parent=nt,nt.parts.push(it))}if(nt.parts.length!==1){if(at=typeof at!="undefined"?at:!0,at){var lt=[];for(ct=0;ct<st.length;ct++)lt=lt.concat(st[ct].vertices);b.clockwiseSort(lt);var ht=b.hull(lt),ut=b.centre(ht);_.setVertices(nt,ht),b.translate(nt.vertices,ut)}var dt=_._totalProperties(nt);nt.area=dt.area,nt.parent=nt,nt.position.x=dt.centre.x,nt.position.y=dt.centre.y,nt.positionPrev.x=dt.centre.x,nt.positionPrev.y=dt.centre.y,_.setMass(nt,dt.mass),_.setInertia(nt,dt.inertia),_.setPosition(nt,dt.centre)}},_.setCentre=function(nt,st,at){at?(nt.positionPrev.x+=st.x,nt.positionPrev.y+=st.y,nt.position.x+=st.x,nt.position.y+=st.y):(nt.positionPrev.x=st.x-(nt.position.x-nt.positionPrev.x),nt.positionPrev.y=st.y-(nt.position.y-nt.positionPrev.y),nt.position.x=st.x,nt.position.y=st.y)},_.setPosition=function(nt,st){var at=$.sub(st,nt.position);nt.positionPrev.x+=at.x,nt.positionPrev.y+=at.y;for(var ct=0;ct<nt.parts.length;ct++){var it=nt.parts[ct];it.position.x+=at.x,it.position.y+=at.y,b.translate(it.vertices,at),et.update(it.bounds,it.vertices,nt.velocity)}},_.setAngle=function(nt,st){var at=st-nt.angle;nt.anglePrev+=at;for(var ct=0;ct<nt.parts.length;ct++){var it=nt.parts[ct];it.angle+=at,b.rotate(it.vertices,at,nt.position),rt.rotate(it.axes,at),et.update(it.bounds,it.vertices,nt.velocity),ct>0&&$.rotateAbout(it.position,at,nt.position,it.position)}},_.setVelocity=function(nt,st){nt.positionPrev.x=nt.position.x-st.x,nt.positionPrev.y=nt.position.y-st.y,nt.velocity.x=st.x,nt.velocity.y=st.y,nt.speed=$.magnitude(nt.velocity)},_.setAngularVelocity=function(nt,st){nt.anglePrev=nt.angle-st,nt.angularVelocity=st,nt.angularSpeed=Math.abs(nt.angularVelocity)},_.translate=function(nt,st){_.setPosition(nt,$.add(nt.position,st))},_.rotate=function(nt,st,at){if(!at)_.setAngle(nt,nt.angle+st);else{var ct=Math.cos(st),it=Math.sin(st),lt=nt.position.x-at.x,ht=nt.position.y-at.y;_.setPosition(nt,{x:at.x+(lt*ct-ht*it),y:at.y+(lt*it+ht*ct)}),_.setAngle(nt,nt.angle+st)}},_.scale=function(nt,st,at,ct){var it=0,lt=0;ct=ct||nt.position;for(var ht=0;ht<nt.parts.length;ht++){var ut=nt.parts[ht];b.scale(ut.vertices,st,at,ct),ut.axes=rt.fromVertices(ut.vertices),ut.area=b.area(ut.vertices),_.setMass(ut,nt.density*ut.area),b.translate(ut.vertices,{x:-ut.position.x,y:-ut.position.y}),_.setInertia(ut,_._inertiaScale*b.inertia(ut.vertices,ut.mass)),b.translate(ut.vertices,{x:ut.position.x,y:ut.position.y}),ht>0&&(it+=ut.area,lt+=ut.inertia),ut.position.x=ct.x+(ut.position.x-ct.x)*st,ut.position.y=ct.y+(ut.position.y-ct.y)*at,et.update(ut.bounds,ut.vertices,nt.velocity)}nt.parts.length>1&&(nt.area=it,nt.isStatic||(_.setMass(nt,nt.density*it),_.setInertia(nt,lt))),nt.circleRadius&&(st===at?nt.circleRadius*=st:nt.circleRadius=null)},_.update=function(nt,st,at,ct){var it=Math.pow(st*at*nt.timeScale,2),lt=1-nt.frictionAir*at*nt.timeScale,ht=nt.position.x-nt.positionPrev.x,ut=nt.position.y-nt.positionPrev.y;nt.velocity.x=ht*lt*ct+nt.force.x/nt.mass*it,nt.velocity.y=ut*lt*ct+nt.force.y/nt.mass*it,nt.positionPrev.x=nt.position.x,nt.positionPrev.y=nt.position.y,nt.position.x+=nt.velocity.x,nt.position.y+=nt.velocity.y,nt.angularVelocity=(nt.angle-nt.anglePrev)*lt*ct+nt.torque/nt.inertia*it,nt.anglePrev=nt.angle,nt.angle+=nt.angularVelocity,nt.speed=$.magnitude(nt.velocity),nt.angularSpeed=Math.abs(nt.angularVelocity);for(var dt=0;dt<nt.parts.length;dt++){var pt=nt.parts[dt];b.translate(pt.vertices,nt.velocity),dt>0&&(pt.position.x+=nt.velocity.x,pt.position.y+=nt.velocity.y),nt.angularVelocity!==0&&(b.rotate(pt.vertices,nt.angularVelocity,nt.position),rt.rotate(pt.axes,nt.angularVelocity),dt>0&&$.rotateAbout(pt.position,nt.angularVelocity,nt.position,pt.position)),et.update(pt.bounds,pt.vertices,nt.velocity)}},_.applyForce=function(nt,st,at){nt.force.x+=at.x,nt.force.y+=at.y;var ct={x:st.x-nt.position.x,y:st.y-nt.position.y};nt.torque+=ct.x*at.y-ct.y*at.x},_._totalProperties=function(nt){for(var st={mass:0,area:0,inertia:0,centre:{x:0,y:0}},at=nt.parts.length===1?0:1;at<nt.parts.length;at++){var ct=nt.parts[at],it=ct.mass!==1/0?ct.mass:1;st.mass+=it,st.area+=ct.area,st.inertia+=ct.inertia,st.centre=$.add(st.centre,$.mult(ct.position,it))}return st.centre=$.div(st.centre,st.mass),st}})()},function(h,d,g){var _={};h.exports=_;var b=g(4);(function(){_._motionWakeThreshold=.18,_._motionSleepThreshold=.08,_._minBias=.9,_.update=function($,j){for(var _e=j*j*j,et=0;et<$.length;et++){var rt=$[et],tt=rt.speed*rt.speed+rt.angularSpeed*rt.angularSpeed;if(rt.force.x!==0||rt.force.y!==0){_.set(rt,!1);continue}var nt=Math.min(rt.motion,tt),st=Math.max(rt.motion,tt);rt.motion=_._minBias*nt+(1-_._minBias)*st,rt.sleepThreshold>0&&rt.motion<_._motionSleepThreshold*_e?(rt.sleepCounter+=1,rt.sleepCounter>=rt.sleepThreshold&&_.set(rt,!0)):rt.sleepCounter>0&&(rt.sleepCounter-=1)}},_.afterCollisions=function($,j){for(var _e=j*j*j,et=0;et<$.length;et++){var rt=$[et];if(!!rt.isActive){var tt=rt.collision,nt=tt.bodyA.parent,st=tt.bodyB.parent;if(!(nt.isSleeping&&st.isSleeping||nt.isStatic||st.isStatic)&&(nt.isSleeping||st.isSleeping)){var at=nt.isSleeping&&!nt.isStatic?nt:st,ct=at===nt?st:nt;!at.isStatic&&ct.motion>_._motionWakeThreshold*_e&&_.set(at,!1)}}}},_.set=function($,j){var _e=$.isSleeping;j?($.isSleeping=!0,$.sleepCounter=$.sleepThreshold,$.positionImpulse.x=0,$.positionImpulse.y=0,$.positionPrev.x=$.position.x,$.positionPrev.y=$.position.y,$.anglePrev=$.angle,$.speed=0,$.angularSpeed=0,$.motion=0,_e||b.trigger($,"sleepStart")):($.isSleeping=!1,$.sleepCounter=0,_e&&b.trigger($,"sleepEnd"))}})()},function(h,d,g){var _={};h.exports=_;var b=g(3),$=g(9);(function(){var j=[],_e={overlap:0,axis:null},et={overlap:0,axis:null};_.create=function(rt,tt){return{pair:null,collided:!1,bodyA:rt,bodyB:tt,parentA:rt.parent,parentB:tt.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},_.collides=function(rt,tt,nt){if(_._overlapAxes(_e,rt.vertices,tt.vertices,rt.axes),_e.overlap<=0||(_._overlapAxes(et,tt.vertices,rt.vertices,tt.axes),et.overlap<=0))return null;var st=nt&&nt.table[$.id(rt,tt)],at;st?at=st.collision:(at=_.create(rt,tt),at.collided=!0,at.bodyA=rt.id<tt.id?rt:tt,at.bodyB=rt.id<tt.id?tt:rt,at.parentA=at.bodyA.parent,at.parentB=at.bodyB.parent),rt=at.bodyA,tt=at.bodyB;var ct;_e.overlap<et.overlap?ct=_e:ct=et;var it=at.normal,lt=at.supports,ht=ct.axis,ut=ht.x,dt=ht.y;ut*(tt.position.x-rt.position.x)+dt*(tt.position.y-rt.position.y)<0?(it.x=ut,it.y=dt):(it.x=-ut,it.y=-dt),at.tangent.x=-it.y,at.tangent.y=it.x,at.depth=ct.overlap,at.penetration.x=it.x*at.depth,at.penetration.y=it.y*at.depth;var pt=_._findSupports(rt,tt,it,1),mt=0;if(b.contains(rt.vertices,pt[0])&&(lt[mt++]=pt[0]),b.contains(rt.vertices,pt[1])&&(lt[mt++]=pt[1]),mt<2){var yt=_._findSupports(tt,rt,it,-1);b.contains(tt.vertices,yt[0])&&(lt[mt++]=yt[0]),mt<2&&b.contains(tt.vertices,yt[1])&&(lt[mt++]=yt[1])}return mt===0&&(lt[mt++]=pt[0]),lt.length=mt,at},_._overlapAxes=function(rt,tt,nt,st){var at=tt.length,ct=nt.length,it=tt[0].x,lt=tt[0].y,ht=nt[0].x,ut=nt[0].y,dt=st.length,pt=Number.MAX_VALUE,mt=0,yt,xt,Tt,_t,Mt,Lt;for(Mt=0;Mt<dt;Mt++){var Pt=st[Mt],It=Pt.x,Et=Pt.y,Ct=it*It+lt*Et,St=ht*It+ut*Et,At=Ct,Rt=St;for(Lt=1;Lt<at;Lt+=1)_t=tt[Lt].x*It+tt[Lt].y*Et,_t>At?At=_t:_t<Ct&&(Ct=_t);for(Lt=1;Lt<ct;Lt+=1)_t=nt[Lt].x*It+nt[Lt].y*Et,_t>Rt?Rt=_t:_t<St&&(St=_t);if(xt=At-St,Tt=Rt-Ct,yt=xt<Tt?xt:Tt,yt<pt&&(pt=yt,mt=Mt,yt<=0))break}rt.axis=st[mt],rt.overlap=pt},_._projectToAxis=function(rt,tt,nt){for(var st=tt[0].x*nt.x+tt[0].y*nt.y,at=st,ct=1;ct<tt.length;ct+=1){var it=tt[ct].x*nt.x+tt[ct].y*nt.y;it>at?at=it:it<st&&(st=it)}rt.min=st,rt.max=at},_._findSupports=function(rt,tt,nt,st){var at=tt.vertices,ct=at.length,it=rt.position.x,lt=rt.position.y,ht=nt.x*st,ut=nt.y*st,dt=Number.MAX_VALUE,pt,mt,yt,xt,Tt;for(Tt=0;Tt<ct;Tt+=1)mt=at[Tt],xt=ht*(it-mt.x)+ut*(lt-mt.y),xt<dt&&(dt=xt,pt=mt);return yt=at[(ct+pt.index-1)%ct],dt=ht*(it-yt.x)+ut*(lt-yt.y),mt=at[(pt.index+1)%ct],ht*(it-mt.x)+ut*(lt-mt.y)<dt?(j[0]=pt,j[1]=mt,j):(j[0]=pt,j[1]=yt,j)}})()},function(h,d,g){var _={};h.exports=_;var b=g(17);(function(){_.create=function($,j){var _e=$.bodyA,et=$.bodyB,rt={id:_.id(_e,et),bodyA:_e,bodyB:et,collision:$,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:_e.isSensor||et.isSensor,timeCreated:j,timeUpdated:j,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return _.update(rt,$,j),rt},_.update=function($,j,_e){var et=$.contacts,rt=j.supports,tt=$.activeContacts,nt=j.parentA,st=j.parentB,at=nt.vertices.length;$.isActive=!0,$.timeUpdated=_e,$.collision=j,$.separation=j.depth,$.inverseMass=nt.inverseMass+st.inverseMass,$.friction=nt.friction<st.friction?nt.friction:st.friction,$.frictionStatic=nt.frictionStatic>st.frictionStatic?nt.frictionStatic:st.frictionStatic,$.restitution=nt.restitution>st.restitution?nt.restitution:st.restitution,$.slop=nt.slop>st.slop?nt.slop:st.slop,j.pair=$,tt.length=0;for(var ct=0;ct<rt.length;ct++){var it=rt[ct],lt=it.body===nt?it.index:at+it.index,ht=et[lt];ht?tt.push(ht):tt.push(et[lt]=b.create(it))}},_.setActive=function($,j,_e){j?($.isActive=!0,$.timeUpdated=_e):($.isActive=!1,$.activeContacts.length=0)},_.id=function($,j){return $.id<j.id?"A"+$.id+"B"+j.id:"A"+j.id+"B"+$.id}})()},function(h,d,g){var _={};h.exports=_;var b=g(3),$=g(2),j=g(7),_e=g(1),et=g(11),rt=g(0);(function(){_._warming=.4,_._torqueDampen=1,_._minLength=1e-6,_.create=function(tt){var nt=tt;nt.bodyA&&!nt.pointA&&(nt.pointA={x:0,y:0}),nt.bodyB&&!nt.pointB&&(nt.pointB={x:0,y:0});var st=nt.bodyA?$.add(nt.bodyA.position,nt.pointA):nt.pointA,at=nt.bodyB?$.add(nt.bodyB.position,nt.pointB):nt.pointB,ct=$.magnitude($.sub(st,at));nt.length=typeof nt.length!="undefined"?nt.length:ct,nt.id=nt.id||rt.nextId(),nt.label=nt.label||"Constraint",nt.type="constraint",nt.stiffness=nt.stiffness||(nt.length>0?1:.7),nt.damping=nt.damping||0,nt.angularStiffness=nt.angularStiffness||0,nt.angleA=nt.bodyA?nt.bodyA.angle:nt.angleA,nt.angleB=nt.bodyB?nt.bodyB.angle:nt.angleB,nt.plugin={};var it={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return nt.length===0&&nt.stiffness>.1?(it.type="pin",it.anchors=!1):nt.stiffness<.9&&(it.type="spring"),nt.render=rt.extend(it,nt.render),nt},_.preSolveAll=function(tt){for(var nt=0;nt<tt.length;nt+=1){var st=tt[nt],at=st.constraintImpulse;st.isStatic||at.x===0&&at.y===0&&at.angle===0||(st.position.x+=at.x,st.position.y+=at.y,st.angle+=at.angle)}},_.solveAll=function(tt,nt){for(var st=0;st<tt.length;st+=1){var at=tt[st],ct=!at.bodyA||at.bodyA&&at.bodyA.isStatic,it=!at.bodyB||at.bodyB&&at.bodyB.isStatic;(ct||it)&&_.solve(tt[st],nt)}for(st=0;st<tt.length;st+=1)at=tt[st],ct=!at.bodyA||at.bodyA&&at.bodyA.isStatic,it=!at.bodyB||at.bodyB&&at.bodyB.isStatic,!ct&&!it&&_.solve(tt[st],nt)},_.solve=function(tt,nt){var st=tt.bodyA,at=tt.bodyB,ct=tt.pointA,it=tt.pointB;if(!(!st&&!at)){st&&!st.isStatic&&($.rotate(ct,st.angle-tt.angleA,ct),tt.angleA=st.angle),at&&!at.isStatic&&($.rotate(it,at.angle-tt.angleB,it),tt.angleB=at.angle);var lt=ct,ht=it;if(st&&(lt=$.add(st.position,ct)),at&&(ht=$.add(at.position,it)),!(!lt||!ht)){var ut=$.sub(lt,ht),dt=$.magnitude(ut);dt<_._minLength&&(dt=_._minLength);var pt=(dt-tt.length)/dt,mt=tt.stiffness<1?tt.stiffness*nt:tt.stiffness,yt=$.mult(ut,pt*mt),xt=(st?st.inverseMass:0)+(at?at.inverseMass:0),Tt=(st?st.inverseInertia:0)+(at?at.inverseInertia:0),_t=xt+Tt,Mt,Lt,Pt,It,Et;if(tt.damping){var Ct=$.create();Pt=$.div(ut,dt),Et=$.sub(at&&$.sub(at.position,at.positionPrev)||Ct,st&&$.sub(st.position,st.positionPrev)||Ct),It=$.dot(Pt,Et)}st&&!st.isStatic&&(Lt=st.inverseMass/xt,st.constraintImpulse.x-=yt.x*Lt,st.constraintImpulse.y-=yt.y*Lt,st.position.x-=yt.x*Lt,st.position.y-=yt.y*Lt,tt.damping&&(st.positionPrev.x-=tt.damping*Pt.x*It*Lt,st.positionPrev.y-=tt.damping*Pt.y*It*Lt),Mt=$.cross(ct,yt)/_t*_._torqueDampen*st.inverseInertia*(1-tt.angularStiffness),st.constraintImpulse.angle-=Mt,st.angle-=Mt),at&&!at.isStatic&&(Lt=at.inverseMass/xt,at.constraintImpulse.x+=yt.x*Lt,at.constraintImpulse.y+=yt.y*Lt,at.position.x+=yt.x*Lt,at.position.y+=yt.y*Lt,tt.damping&&(at.positionPrev.x+=tt.damping*Pt.x*It*Lt,at.positionPrev.y+=tt.damping*Pt.y*It*Lt),Mt=$.cross(it,yt)/_t*_._torqueDampen*at.inverseInertia*(1-tt.angularStiffness),at.constraintImpulse.angle+=Mt,at.angle+=Mt)}}},_.postSolveAll=function(tt){for(var nt=0;nt<tt.length;nt++){var st=tt[nt],at=st.constraintImpulse;if(!(st.isStatic||at.x===0&&at.y===0&&at.angle===0)){j.set(st,!1);for(var ct=0;ct<st.parts.length;ct++){var it=st.parts[ct];b.translate(it.vertices,at),ct>0&&(it.position.x+=at.x,it.position.y+=at.y),at.angle!==0&&(b.rotate(it.vertices,at.angle,st.position),et.rotate(it.axes,at.angle),ct>0&&$.rotateAbout(it.position,at.angle,st.position,it.position)),_e.update(it.bounds,it.vertices,st.velocity)}at.angle*=_._warming,at.x*=_._warming,at.y*=_._warming}}},_.pointAWorld=function(tt){return{x:(tt.bodyA?tt.bodyA.position.x:0)+tt.pointA.x,y:(tt.bodyA?tt.bodyA.position.y:0)+tt.pointA.y}},_.pointBWorld=function(tt){return{x:(tt.bodyB?tt.bodyB.position.x:0)+tt.pointB.x,y:(tt.bodyB?tt.bodyB.position.y:0)+tt.pointB.y}}})()},function(h,d,g){var _={};h.exports=_;var b=g(2),$=g(0);(function(){_.fromVertices=function(j){for(var _e={},et=0;et<j.length;et++){var rt=(et+1)%j.length,tt=b.normalise({x:j[rt].y-j[et].y,y:j[et].x-j[rt].x}),nt=tt.y===0?1/0:tt.x/tt.y;nt=nt.toFixed(3).toString(),_e[nt]=tt}return $.values(_e)},_.rotate=function(j,_e){if(_e!==0)for(var et=Math.cos(_e),rt=Math.sin(_e),tt=0;tt<j.length;tt++){var nt=j[tt],st;st=nt.x*et-nt.y*rt,nt.y=nt.x*rt+nt.y*et,nt.x=st}}})()},function(h,d,g){var _={};h.exports=_;var b=g(3),$=g(0),j=g(6),_e=g(1),et=g(2);(function(){_.rectangle=function(rt,tt,nt,st,at){at=at||{};var ct={label:"Rectangle Body",position:{x:rt,y:tt},vertices:b.fromPath("L 0 0 L "+nt+" 0 L "+nt+" "+st+" L 0 "+st)};if(at.chamfer){var it=at.chamfer;ct.vertices=b.chamfer(ct.vertices,it.radius,it.quality,it.qualityMin,it.qualityMax),delete at.chamfer}return j.create($.extend({},ct,at))},_.trapezoid=function(rt,tt,nt,st,at,ct){ct=ct||{},at*=.5;var it=(1-at*2)*nt,lt=nt*at,ht=lt+it,ut=ht+lt,dt;at<.5?dt="L 0 0 L "+lt+" "+-st+" L "+ht+" "+-st+" L "+ut+" 0":dt="L 0 0 L "+ht+" "+-st+" L "+ut+" 0";var pt={label:"Trapezoid Body",position:{x:rt,y:tt},vertices:b.fromPath(dt)};if(ct.chamfer){var mt=ct.chamfer;pt.vertices=b.chamfer(pt.vertices,mt.radius,mt.quality,mt.qualityMin,mt.qualityMax),delete ct.chamfer}return j.create($.extend({},pt,ct))},_.circle=function(rt,tt,nt,st,at){st=st||{};var ct={label:"Circle Body",circleRadius:nt};at=at||25;var it=Math.ceil(Math.max(10,Math.min(at,nt)));return it%2==1&&(it+=1),_.polygon(rt,tt,it,nt,$.extend({},ct,st))},_.polygon=function(rt,tt,nt,st,at){if(at=at||{},nt<3)return _.circle(rt,tt,st,at);for(var ct=2*Math.PI/nt,it="",lt=ct*.5,ht=0;ht<nt;ht+=1){var ut=lt+ht*ct,dt=Math.cos(ut)*st,pt=Math.sin(ut)*st;it+="L "+dt.toFixed(3)+" "+pt.toFixed(3)+" "}var mt={label:"Polygon Body",position:{x:rt,y:tt},vertices:b.fromPath(it)};if(at.chamfer){var yt=at.chamfer;mt.vertices=b.chamfer(mt.vertices,yt.radius,yt.quality,yt.qualityMin,yt.qualityMax),delete at.chamfer}return j.create($.extend({},mt,at))},_.fromVertices=function(rt,tt,nt,st,at,ct,it,lt){var ht=$.getDecomp(),ut,dt,pt,mt,yt,xt,Tt,_t,Mt,Lt,Pt;for(ut=Boolean(ht&&ht.quickDecomp),st=st||{},pt=[],at=typeof at!="undefined"?at:!1,ct=typeof ct!="undefined"?ct:.01,it=typeof it!="undefined"?it:10,lt=typeof lt!="undefined"?lt:.01,$.isArray(nt[0])||(nt=[nt]),Lt=0;Lt<nt.length;Lt+=1)if(xt=nt[Lt],mt=b.isConvex(xt),yt=!mt,yt&&!ut&&$.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),mt||!ut)mt?xt=b.clockwiseSort(xt):xt=b.hull(xt),pt.push({position:{x:rt,y:tt},vertices:xt});else{var It=xt.map(function(Wt){return[Wt.x,Wt.y]});ht.makeCCW(It),ct!==!1&&ht.removeCollinearPoints(It,ct),lt!==!1&&ht.removeDuplicatePoints&&ht.removeDuplicatePoints(It,lt);var Et=ht.quickDecomp(It);for(Tt=0;Tt<Et.length;Tt++){var Ct=Et[Tt],St=Ct.map(function(Wt){return{x:Wt[0],y:Wt[1]}});it>0&&b.area(St)<it||pt.push({position:b.centre(St),vertices:St})}}for(Tt=0;Tt<pt.length;Tt++)pt[Tt]=j.create($.extend(pt[Tt],st));if(at){var At=5;for(Tt=0;Tt<pt.length;Tt++){var Rt=pt[Tt];for(_t=Tt+1;_t<pt.length;_t++){var Ot=pt[_t];if(_e.overlaps(Rt.bounds,Ot.bounds)){var Gt=Rt.vertices,Qt=Ot.vertices;for(Mt=0;Mt<Rt.vertices.length;Mt++)for(Pt=0;Pt<Ot.vertices.length;Pt++){var ir=et.magnitudeSquared(et.sub(Gt[(Mt+1)%Gt.length],Qt[Pt])),tr=et.magnitudeSquared(et.sub(Gt[Mt],Qt[(Pt+1)%Qt.length]));ir<At&&tr<At&&(Gt[Mt].isInternal=!0,Qt[Pt].isInternal=!0)}}}}}return pt.length>1?(dt=j.create($.extend({parts:pt.slice(0)},st)),j.setPosition(dt,{x:rt,y:tt}),dt):pt[0]}})()},function(h,d,g){var _={};h.exports=_;var b=g(0);(function(){_.create=function($){var j={};return $||b.log("Mouse.create: element was undefined, defaulting to document.body","warn"),j.element=$||document.body,j.absolute={x:0,y:0},j.position={x:0,y:0},j.mousedownPosition={x:0,y:0},j.mouseupPosition={x:0,y:0},j.offset={x:0,y:0},j.scale={x:1,y:1},j.wheelDelta=0,j.button=-1,j.pixelRatio=parseInt(j.element.getAttribute("data-pixel-ratio"),10)||1,j.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},j.mousemove=function(_e){var et=_._getRelativeMousePosition(_e,j.element,j.pixelRatio),rt=_e.changedTouches;rt&&(j.button=0,_e.preventDefault()),j.absolute.x=et.x,j.absolute.y=et.y,j.position.x=j.absolute.x*j.scale.x+j.offset.x,j.position.y=j.absolute.y*j.scale.y+j.offset.y,j.sourceEvents.mousemove=_e},j.mousedown=function(_e){var et=_._getRelativeMousePosition(_e,j.element,j.pixelRatio),rt=_e.changedTouches;rt?(j.button=0,_e.preventDefault()):j.button=_e.button,j.absolute.x=et.x,j.absolute.y=et.y,j.position.x=j.absolute.x*j.scale.x+j.offset.x,j.position.y=j.absolute.y*j.scale.y+j.offset.y,j.mousedownPosition.x=j.position.x,j.mousedownPosition.y=j.position.y,j.sourceEvents.mousedown=_e},j.mouseup=function(_e){var et=_._getRelativeMousePosition(_e,j.element,j.pixelRatio),rt=_e.changedTouches;rt&&_e.preventDefault(),j.button=-1,j.absolute.x=et.x,j.absolute.y=et.y,j.position.x=j.absolute.x*j.scale.x+j.offset.x,j.position.y=j.absolute.y*j.scale.y+j.offset.y,j.mouseupPosition.x=j.position.x,j.mouseupPosition.y=j.position.y,j.sourceEvents.mouseup=_e},j.mousewheel=function(_e){j.wheelDelta=Math.max(-1,Math.min(1,_e.wheelDelta||-_e.detail)),_e.preventDefault()},_.setElement(j,j.element),j},_.setElement=function($,j){$.element=j,j.addEventListener("mousemove",$.mousemove),j.addEventListener("mousedown",$.mousedown),j.addEventListener("mouseup",$.mouseup),j.addEventListener("mousewheel",$.mousewheel),j.addEventListener("DOMMouseScroll",$.mousewheel),j.addEventListener("touchmove",$.mousemove),j.addEventListener("touchstart",$.mousedown),j.addEventListener("touchend",$.mouseup)},_.clearSourceEvents=function($){$.sourceEvents.mousemove=null,$.sourceEvents.mousedown=null,$.sourceEvents.mouseup=null,$.sourceEvents.mousewheel=null,$.wheelDelta=0},_.setOffset=function($,j){$.offset.x=j.x,$.offset.y=j.y,$.position.x=$.absolute.x*$.scale.x+$.offset.x,$.position.y=$.absolute.y*$.scale.y+$.offset.y},_.setScale=function($,j){$.scale.x=j.x,$.scale.y=j.y,$.position.x=$.absolute.x*$.scale.x+$.offset.x,$.position.y=$.absolute.y*$.scale.y+$.offset.y},_._getRelativeMousePosition=function($,j,_e){var et=j.getBoundingClientRect(),rt=document.documentElement||document.body.parentNode||document.body,tt=window.pageXOffset!==void 0?window.pageXOffset:rt.scrollLeft,nt=window.pageYOffset!==void 0?window.pageYOffset:rt.scrollTop,st=$.changedTouches,at,ct;return st?(at=st[0].pageX-et.left-tt,ct=st[0].pageY-et.top-nt):(at=$.pageX-et.left-tt,ct=$.pageY-et.top-nt),{x:at/(j.clientWidth/(j.width||j.clientWidth)*_e),y:ct/(j.clientHeight/(j.height||j.clientHeight)*_e)}}})()},function(h,d,g){var _={};h.exports=_;var b=g(0),$=g(8);(function(){_.create=function(j){var _e={bodies:[],pairs:null};return b.extend(_e,j)},_.setBodies=function(j,_e){j.bodies=_e.slice(0)},_.clear=function(j){j.bodies=[]},_.collisions=function(j){var _e=[],et=j.pairs,rt=j.bodies,tt=rt.length,nt=_.canCollide,st=$.collides,at,ct;for(rt.sort(_._compareBoundsX),at=0;at<tt;at++){var it=rt[at],lt=it.bounds,ht=it.bounds.max.x,ut=it.bounds.max.y,dt=it.bounds.min.y,pt=it.isStatic||it.isSleeping,mt=it.parts.length,yt=mt===1;for(ct=at+1;ct<tt;ct++){var xt=rt[ct],Tt=xt.bounds;if(Tt.min.x>ht)break;if(!(ut<Tt.min.y||dt>Tt.max.y)&&!(pt&&(xt.isStatic||xt.isSleeping))&&!!nt(it.collisionFilter,xt.collisionFilter)){var _t=xt.parts.length;if(yt&&_t===1){var Mt=st(it,xt,et);Mt&&_e.push(Mt)}else for(var Lt=mt>1?1:0,Pt=_t>1?1:0,It=Lt;It<mt;It++)for(var Et=it.parts[It],lt=Et.bounds,Ct=Pt;Ct<_t;Ct++){var St=xt.parts[Ct],Tt=St.bounds;if(!(lt.min.x>Tt.max.x||lt.max.x<Tt.min.x||lt.max.y<Tt.min.y||lt.min.y>Tt.max.y)){var Mt=st(Et,St,et);Mt&&_e.push(Mt)}}}}}return _e},_.canCollide=function(j,_e){return j.group===_e.group&&j.group!==0?j.group>0:(j.mask&_e.category)!=0&&(_e.mask&j.category)!=0},_._compareBoundsX=function(j,_e){return j.bounds.min.x-_e.bounds.min.x}})()},function(h,d,g){var _={};h.exports=_;var b=g(0);(function(){_._registry={},_.register=function($){if(_.isPlugin($)||b.warn("Plugin.register:",_.toString($),"does not implement all required fields."),$.name in _._registry){var j=_._registry[$.name],_e=_.versionParse($.version).number,et=_.versionParse(j.version).number;_e>et?(b.warn("Plugin.register:",_.toString(j),"was upgraded to",_.toString($)),_._registry[$.name]=$):_e<et?b.warn("Plugin.register:",_.toString(j),"can not be downgraded to",_.toString($)):$!==j&&b.warn("Plugin.register:",_.toString($),"is already registered to different plugin object")}else _._registry[$.name]=$;return $},_.resolve=function($){return _._registry[_.dependencyParse($).name]},_.toString=function($){return typeof $=="string"?$:($.name||"anonymous")+"@"+($.version||$.range||"0.0.0")},_.isPlugin=function($){return $&&$.name&&$.version&&$.install},_.isUsed=function($,j){return $.used.indexOf(j)>-1},_.isFor=function($,j){var _e=$.for&&_.dependencyParse($.for);return!$.for||j.name===_e.name&&_.versionSatisfies(j.version,_e.range)},_.use=function($,j){if($.uses=($.uses||[]).concat(j||[]),$.uses.length===0){b.warn("Plugin.use:",_.toString($),"does not specify any dependencies to install.");return}for(var _e=_.dependencies($),et=b.topologicalSort(_e),rt=[],tt=0;tt<et.length;tt+=1)if(et[tt]!==$.name){var nt=_.resolve(et[tt]);if(!nt){rt.push("\u274C "+et[tt]);continue}_.isUsed($,nt.name)||(_.isFor(nt,$)||(b.warn("Plugin.use:",_.toString(nt),"is for",nt.for,"but installed on",_.toString($)+"."),nt._warned=!0),nt.install?nt.install($):(b.warn("Plugin.use:",_.toString(nt),"does not specify an install function."),nt._warned=!0),nt._warned?(rt.push("\u{1F536} "+_.toString(nt)),delete nt._warned):rt.push("\u2705 "+_.toString(nt)),$.used.push(nt.name))}rt.length>0&&b.info(rt.join("  "))},_.dependencies=function($,j){var _e=_.dependencyParse($),et=_e.name;if(j=j||{},!(et in j)){$=_.resolve($)||$,j[et]=b.map($.uses||[],function(tt){_.isPlugin(tt)&&_.register(tt);var nt=_.dependencyParse(tt),st=_.resolve(tt);return st&&!_.versionSatisfies(st.version,nt.range)?(b.warn("Plugin.dependencies:",_.toString(st),"does not satisfy",_.toString(nt),"used by",_.toString(_e)+"."),st._warned=!0,$._warned=!0):st||(b.warn("Plugin.dependencies:",_.toString(tt),"used by",_.toString(_e),"could not be resolved."),$._warned=!0),nt.name});for(var rt=0;rt<j[et].length;rt+=1)_.dependencies(j[et][rt],j);return j}},_.dependencyParse=function($){if(b.isString($)){var j=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return j.test($)||b.warn("Plugin.dependencyParse:",$,"is not a valid dependency string."),{name:$.split("@")[0],range:$.split("@")[1]||"*"}}return{name:$.name,range:$.range||$.version}},_.versionParse=function($){var j=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;j.test($)||b.warn("Plugin.versionParse:",$,"is not a valid version or range.");var _e=j.exec($),et=Number(_e[4]),rt=Number(_e[5]),tt=Number(_e[6]);return{isRange:Boolean(_e[1]||_e[2]),version:_e[3],range:$,operator:_e[1]||_e[2]||"",major:et,minor:rt,patch:tt,parts:[et,rt,tt],prerelease:_e[7],number:et*1e8+rt*1e4+tt}},_.versionSatisfies=function($,j){j=j||"*";var _e=_.versionParse(j),et=_.versionParse($);if(_e.isRange){if(_e.operator==="*"||$==="*")return!0;if(_e.operator===">")return et.number>_e.number;if(_e.operator===">=")return et.number>=_e.number;if(_e.operator==="~")return et.major===_e.major&&et.minor===_e.minor&&et.patch>=_e.patch;if(_e.operator==="^")return _e.major>0?et.major===_e.major&&et.number>=_e.number:_e.minor>0?et.minor===_e.minor&&et.patch>=_e.patch:et.patch===_e.patch}return $===j||$==="*"}})()},function(h,d,g){var _={};h.exports=_;var b=g(0),$=g(5),j=g(1),_e=g(4),et=g(2),rt=g(13);(function(){var tt,nt;typeof window!="undefined"&&(tt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ut){window.setTimeout(function(){ut(b.now())},1e3/60)},nt=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),_._goodFps=30,_._goodDelta=1e3/60,_.create=function(ut){var dt={controller:_,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!ut.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},pt=b.extend(dt,ut);return pt.canvas&&(pt.canvas.width=pt.options.width||pt.canvas.width,pt.canvas.height=pt.options.height||pt.canvas.height),pt.mouse=ut.mouse,pt.engine=ut.engine,pt.canvas=pt.canvas||ct(pt.options.width,pt.options.height),pt.context=pt.canvas.getContext("2d"),pt.textures={},pt.bounds=pt.bounds||{min:{x:0,y:0},max:{x:pt.canvas.width,y:pt.canvas.height}},pt.options.showBroadphase=!1,pt.options.pixelRatio!==1&&_.setPixelRatio(pt,pt.options.pixelRatio),b.isElement(pt.element)?pt.element.appendChild(pt.canvas):pt.canvas.parentNode||b.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),pt},_.run=function(ut){(function dt(pt){ut.frameRequestId=tt(dt),st(ut,pt),_.world(ut,pt),(ut.options.showStats||ut.options.showDebug)&&_.stats(ut,ut.context,pt),(ut.options.showPerformance||ut.options.showDebug)&&_.performance(ut,ut.context,pt)})()},_.stop=function(ut){nt(ut.frameRequestId)},_.setPixelRatio=function(ut,dt){var pt=ut.options,mt=ut.canvas;dt==="auto"&&(dt=it(mt)),pt.pixelRatio=dt,mt.setAttribute("data-pixel-ratio",dt),mt.width=pt.width*dt,mt.height=pt.height*dt,mt.style.width=pt.width+"px",mt.style.height=pt.height+"px"},_.lookAt=function(ut,dt,pt,mt){mt=typeof mt!="undefined"?mt:!0,dt=b.isArray(dt)?dt:[dt],pt=pt||{x:0,y:0};for(var yt={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},xt=0;xt<dt.length;xt+=1){var Tt=dt[xt],_t=Tt.bounds?Tt.bounds.min:Tt.min||Tt.position||Tt,Mt=Tt.bounds?Tt.bounds.max:Tt.max||Tt.position||Tt;_t&&Mt&&(_t.x<yt.min.x&&(yt.min.x=_t.x),Mt.x>yt.max.x&&(yt.max.x=Mt.x),_t.y<yt.min.y&&(yt.min.y=_t.y),Mt.y>yt.max.y&&(yt.max.y=Mt.y))}var Lt=yt.max.x-yt.min.x+2*pt.x,Pt=yt.max.y-yt.min.y+2*pt.y,It=ut.canvas.height,Et=ut.canvas.width,Ct=Et/It,St=Lt/Pt,At=1,Rt=1;St>Ct?Rt=St/Ct:At=Ct/St,ut.options.hasBounds=!0,ut.bounds.min.x=yt.min.x,ut.bounds.max.x=yt.min.x+Lt*At,ut.bounds.min.y=yt.min.y,ut.bounds.max.y=yt.min.y+Pt*Rt,mt&&(ut.bounds.min.x+=Lt*.5-Lt*At*.5,ut.bounds.max.x+=Lt*.5-Lt*At*.5,ut.bounds.min.y+=Pt*.5-Pt*Rt*.5,ut.bounds.max.y+=Pt*.5-Pt*Rt*.5),ut.bounds.min.x-=pt.x,ut.bounds.max.x-=pt.x,ut.bounds.min.y-=pt.y,ut.bounds.max.y-=pt.y,ut.mouse&&(rt.setScale(ut.mouse,{x:(ut.bounds.max.x-ut.bounds.min.x)/ut.canvas.width,y:(ut.bounds.max.y-ut.bounds.min.y)/ut.canvas.height}),rt.setOffset(ut.mouse,ut.bounds.min))},_.startViewTransform=function(ut){var dt=ut.bounds.max.x-ut.bounds.min.x,pt=ut.bounds.max.y-ut.bounds.min.y,mt=dt/ut.options.width,yt=pt/ut.options.height;ut.context.setTransform(ut.options.pixelRatio/mt,0,0,ut.options.pixelRatio/yt,0,0),ut.context.translate(-ut.bounds.min.x,-ut.bounds.min.y)},_.endViewTransform=function(ut){ut.context.setTransform(ut.options.pixelRatio,0,0,ut.options.pixelRatio,0,0)},_.world=function(ut,dt){var pt=b.now(),mt=ut.engine,yt=mt.world,xt=ut.canvas,Tt=ut.context,_t=ut.options,Mt=ut.timing,Lt=$.allBodies(yt),Pt=$.allConstraints(yt),It=_t.wireframes?_t.wireframeBackground:_t.background,Et=[],Ct=[],St,At={timestamp:mt.timing.timestamp};if(_e.trigger(ut,"beforeRender",At),ut.currentBackground!==It&&ht(ut,It),Tt.globalCompositeOperation="source-in",Tt.fillStyle="transparent",Tt.fillRect(0,0,xt.width,xt.height),Tt.globalCompositeOperation="source-over",_t.hasBounds){for(St=0;St<Lt.length;St++){var Rt=Lt[St];j.overlaps(Rt.bounds,ut.bounds)&&Et.push(Rt)}for(St=0;St<Pt.length;St++){var Ot=Pt[St],Gt=Ot.bodyA,Qt=Ot.bodyB,ir=Ot.pointA,tr=Ot.pointB;Gt&&(ir=et.add(Gt.position,Ot.pointA)),Qt&&(tr=et.add(Qt.position,Ot.pointB)),!(!ir||!tr)&&(j.contains(ut.bounds,ir)||j.contains(ut.bounds,tr))&&Ct.push(Ot)}_.startViewTransform(ut),ut.mouse&&(rt.setScale(ut.mouse,{x:(ut.bounds.max.x-ut.bounds.min.x)/ut.options.width,y:(ut.bounds.max.y-ut.bounds.min.y)/ut.options.height}),rt.setOffset(ut.mouse,ut.bounds.min))}else Ct=Pt,Et=Lt,ut.options.pixelRatio!==1&&ut.context.setTransform(ut.options.pixelRatio,0,0,ut.options.pixelRatio,0,0);!_t.wireframes||mt.enableSleeping&&_t.showSleeping?_.bodies(ut,Et,Tt):(_t.showConvexHulls&&_.bodyConvexHulls(ut,Et,Tt),_.bodyWireframes(ut,Et,Tt)),_t.showBounds&&_.bodyBounds(ut,Et,Tt),(_t.showAxes||_t.showAngleIndicator)&&_.bodyAxes(ut,Et,Tt),_t.showPositions&&_.bodyPositions(ut,Et,Tt),_t.showVelocity&&_.bodyVelocity(ut,Et,Tt),_t.showIds&&_.bodyIds(ut,Et,Tt),_t.showSeparations&&_.separations(ut,mt.pairs.list,Tt),_t.showCollisions&&_.collisions(ut,mt.pairs.list,Tt),_t.showVertexNumbers&&_.vertexNumbers(ut,Et,Tt),_t.showMousePosition&&_.mousePosition(ut,ut.mouse,Tt),_.constraints(Ct,Tt),_t.hasBounds&&_.endViewTransform(ut),_e.trigger(ut,"afterRender",At),Mt.lastElapsed=b.now()-pt},_.stats=function(ut,dt,pt){for(var mt=ut.engine,yt=mt.world,xt=$.allBodies(yt),Tt=0,_t=55,Mt=44,Lt=0,Pt=0,It=0;It<xt.length;It+=1)Tt+=xt[It].parts.length;var Et={Part:Tt,Body:xt.length,Cons:$.allConstraints(yt).length,Comp:$.allComposites(yt).length,Pair:mt.pairs.list.length};dt.fillStyle="#0e0f19",dt.fillRect(Lt,Pt,_t*5.5,Mt),dt.font="12px Arial",dt.textBaseline="top",dt.textAlign="right";for(var Ct in Et){var St=Et[Ct];dt.fillStyle="#aaa",dt.fillText(Ct,Lt+_t,Pt+8),dt.fillStyle="#eee",dt.fillText(St,Lt+_t,Pt+26),Lt+=_t}},_.performance=function(ut,dt){var pt=ut.engine,mt=ut.timing,yt=mt.deltaHistory,xt=mt.elapsedHistory,Tt=mt.timestampElapsedHistory,_t=mt.engineDeltaHistory,Mt=mt.engineElapsedHistory,Lt=pt.timing.lastDelta,Pt=at(yt),It=at(xt),Et=at(_t),Ct=at(Mt),St=at(Tt),At=St/Pt||0,Rt=1e3/Pt||0,Ot=4,Gt=12,Qt=60,ir=34,tr=10,Wt=69;dt.fillStyle="#0e0f19",dt.fillRect(0,50,Gt*4+Qt*5+22,ir),_.status(dt,tr,Wt,Qt,Ot,yt.length,Math.round(Rt)+" fps",Rt/_._goodFps,function(wr){return yt[wr]/Pt-1}),_.status(dt,tr+Gt+Qt,Wt,Qt,Ot,_t.length,Lt.toFixed(2)+" dt",_._goodDelta/Lt,function(wr){return _t[wr]/Et-1}),_.status(dt,tr+(Gt+Qt)*2,Wt,Qt,Ot,Mt.length,Ct.toFixed(2)+" ut",1-Ct/_._goodFps,function(wr){return Mt[wr]/Ct-1}),_.status(dt,tr+(Gt+Qt)*3,Wt,Qt,Ot,xt.length,It.toFixed(2)+" rt",1-It/_._goodFps,function(wr){return xt[wr]/It-1}),_.status(dt,tr+(Gt+Qt)*4,Wt,Qt,Ot,Tt.length,At.toFixed(2)+" x",At*At*At,function(wr){return(Tt[wr]/yt[wr]/At||0)-1})},_.status=function(ut,dt,pt,mt,yt,xt,Tt,_t,Mt){ut.strokeStyle="#888",ut.fillStyle="#444",ut.lineWidth=1,ut.fillRect(dt,pt+7,mt,1),ut.beginPath(),ut.moveTo(dt,pt+7-yt*b.clamp(.4*Mt(0),-2,2));for(var Lt=0;Lt<mt;Lt+=1)ut.lineTo(dt+Lt,pt+7-(Lt<xt?yt*b.clamp(.4*Mt(Lt),-2,2):0));ut.stroke(),ut.fillStyle="hsl("+b.clamp(25+95*_t,0,120)+",100%,60%)",ut.fillRect(dt,pt-7,4,4),ut.font="12px Arial",ut.textBaseline="middle",ut.textAlign="right",ut.fillStyle="#eee",ut.fillText(Tt,dt+mt,pt-5)},_.constraints=function(ut,dt){for(var pt=dt,mt=0;mt<ut.length;mt++){var yt=ut[mt];if(!(!yt.render.visible||!yt.pointA||!yt.pointB)){var xt=yt.bodyA,Tt=yt.bodyB,_t,Mt;if(xt?_t=et.add(xt.position,yt.pointA):_t=yt.pointA,yt.render.type==="pin")pt.beginPath(),pt.arc(_t.x,_t.y,3,0,2*Math.PI),pt.closePath();else{if(Tt?Mt=et.add(Tt.position,yt.pointB):Mt=yt.pointB,pt.beginPath(),pt.moveTo(_t.x,_t.y),yt.render.type==="spring")for(var Lt=et.sub(Mt,_t),Pt=et.perp(et.normalise(Lt)),It=Math.ceil(b.clamp(yt.length/5,12,20)),Et,Ct=1;Ct<It;Ct+=1)Et=Ct%2==0?1:-1,pt.lineTo(_t.x+Lt.x*(Ct/It)+Pt.x*Et*4,_t.y+Lt.y*(Ct/It)+Pt.y*Et*4);pt.lineTo(Mt.x,Mt.y)}yt.render.lineWidth&&(pt.lineWidth=yt.render.lineWidth,pt.strokeStyle=yt.render.strokeStyle,pt.stroke()),yt.render.anchors&&(pt.fillStyle=yt.render.strokeStyle,pt.beginPath(),pt.arc(_t.x,_t.y,3,0,2*Math.PI),pt.arc(Mt.x,Mt.y,3,0,2*Math.PI),pt.closePath(),pt.fill())}}},_.bodies=function(ut,dt,pt){var mt=pt;ut.engine;var yt=ut.options,xt=yt.showInternalEdges||!yt.wireframes,Tt,_t,Mt,Lt;for(Mt=0;Mt<dt.length;Mt++)if(Tt=dt[Mt],!!Tt.render.visible){for(Lt=Tt.parts.length>1?1:0;Lt<Tt.parts.length;Lt++)if(_t=Tt.parts[Lt],!!_t.render.visible){if(yt.showSleeping&&Tt.isSleeping?mt.globalAlpha=.5*_t.render.opacity:_t.render.opacity!==1&&(mt.globalAlpha=_t.render.opacity),_t.render.sprite&&_t.render.sprite.texture&&!yt.wireframes){var Pt=_t.render.sprite,It=lt(ut,Pt.texture);mt.translate(_t.position.x,_t.position.y),mt.rotate(_t.angle),mt.drawImage(It,It.width*-Pt.xOffset*Pt.xScale,It.height*-Pt.yOffset*Pt.yScale,It.width*Pt.xScale,It.height*Pt.yScale),mt.rotate(-_t.angle),mt.translate(-_t.position.x,-_t.position.y)}else{if(_t.circleRadius)mt.beginPath(),mt.arc(_t.position.x,_t.position.y,_t.circleRadius,0,2*Math.PI);else{mt.beginPath(),mt.moveTo(_t.vertices[0].x,_t.vertices[0].y);for(var Et=1;Et<_t.vertices.length;Et++)!_t.vertices[Et-1].isInternal||xt?mt.lineTo(_t.vertices[Et].x,_t.vertices[Et].y):mt.moveTo(_t.vertices[Et].x,_t.vertices[Et].y),_t.vertices[Et].isInternal&&!xt&&mt.moveTo(_t.vertices[(Et+1)%_t.vertices.length].x,_t.vertices[(Et+1)%_t.vertices.length].y);mt.lineTo(_t.vertices[0].x,_t.vertices[0].y),mt.closePath()}yt.wireframes?(mt.lineWidth=1,mt.strokeStyle="#bbb",mt.stroke()):(mt.fillStyle=_t.render.fillStyle,_t.render.lineWidth&&(mt.lineWidth=_t.render.lineWidth,mt.strokeStyle=_t.render.strokeStyle,mt.stroke()),mt.fill())}mt.globalAlpha=1}}},_.bodyWireframes=function(ut,dt,pt){var mt=pt,yt=ut.options.showInternalEdges,xt,Tt,_t,Mt,Lt;for(mt.beginPath(),_t=0;_t<dt.length;_t++)if(xt=dt[_t],!!xt.render.visible)for(Lt=xt.parts.length>1?1:0;Lt<xt.parts.length;Lt++){for(Tt=xt.parts[Lt],mt.moveTo(Tt.vertices[0].x,Tt.vertices[0].y),Mt=1;Mt<Tt.vertices.length;Mt++)!Tt.vertices[Mt-1].isInternal||yt?mt.lineTo(Tt.vertices[Mt].x,Tt.vertices[Mt].y):mt.moveTo(Tt.vertices[Mt].x,Tt.vertices[Mt].y),Tt.vertices[Mt].isInternal&&!yt&&mt.moveTo(Tt.vertices[(Mt+1)%Tt.vertices.length].x,Tt.vertices[(Mt+1)%Tt.vertices.length].y);mt.lineTo(Tt.vertices[0].x,Tt.vertices[0].y)}mt.lineWidth=1,mt.strokeStyle="#bbb",mt.stroke()},_.bodyConvexHulls=function(ut,dt,pt){var mt=pt,yt,xt,Tt;for(mt.beginPath(),xt=0;xt<dt.length;xt++)if(yt=dt[xt],!(!yt.render.visible||yt.parts.length===1)){for(mt.moveTo(yt.vertices[0].x,yt.vertices[0].y),Tt=1;Tt<yt.vertices.length;Tt++)mt.lineTo(yt.vertices[Tt].x,yt.vertices[Tt].y);mt.lineTo(yt.vertices[0].x,yt.vertices[0].y)}mt.lineWidth=1,mt.strokeStyle="rgba(255,255,255,0.2)",mt.stroke()},_.vertexNumbers=function(ut,dt,pt){var mt=pt,yt,xt,Tt;for(yt=0;yt<dt.length;yt++){var _t=dt[yt].parts;for(Tt=_t.length>1?1:0;Tt<_t.length;Tt++){var Mt=_t[Tt];for(xt=0;xt<Mt.vertices.length;xt++)mt.fillStyle="rgba(255,255,255,0.2)",mt.fillText(yt+"_"+xt,Mt.position.x+(Mt.vertices[xt].x-Mt.position.x)*.8,Mt.position.y+(Mt.vertices[xt].y-Mt.position.y)*.8)}}},_.mousePosition=function(ut,dt,pt){var mt=pt;mt.fillStyle="rgba(255,255,255,0.8)",mt.fillText(dt.position.x+"  "+dt.position.y,dt.position.x+5,dt.position.y-5)},_.bodyBounds=function(ut,dt,pt){var mt=pt;ut.engine;var yt=ut.options;mt.beginPath();for(var xt=0;xt<dt.length;xt++){var Tt=dt[xt];if(Tt.render.visible)for(var _t=dt[xt].parts,Mt=_t.length>1?1:0;Mt<_t.length;Mt++){var Lt=_t[Mt];mt.rect(Lt.bounds.min.x,Lt.bounds.min.y,Lt.bounds.max.x-Lt.bounds.min.x,Lt.bounds.max.y-Lt.bounds.min.y)}}yt.wireframes?mt.strokeStyle="rgba(255,255,255,0.08)":mt.strokeStyle="rgba(0,0,0,0.1)",mt.lineWidth=1,mt.stroke()},_.bodyAxes=function(ut,dt,pt){var mt=pt;ut.engine;var yt=ut.options,xt,Tt,_t,Mt;for(mt.beginPath(),Tt=0;Tt<dt.length;Tt++){var Lt=dt[Tt],Pt=Lt.parts;if(!!Lt.render.visible)if(yt.showAxes)for(_t=Pt.length>1?1:0;_t<Pt.length;_t++)for(xt=Pt[_t],Mt=0;Mt<xt.axes.length;Mt++){var It=xt.axes[Mt];mt.moveTo(xt.position.x,xt.position.y),mt.lineTo(xt.position.x+It.x*20,xt.position.y+It.y*20)}else for(_t=Pt.length>1?1:0;_t<Pt.length;_t++)for(xt=Pt[_t],Mt=0;Mt<xt.axes.length;Mt++)mt.moveTo(xt.position.x,xt.position.y),mt.lineTo((xt.vertices[0].x+xt.vertices[xt.vertices.length-1].x)/2,(xt.vertices[0].y+xt.vertices[xt.vertices.length-1].y)/2)}yt.wireframes?(mt.strokeStyle="indianred",mt.lineWidth=1):(mt.strokeStyle="rgba(255, 255, 255, 0.4)",mt.globalCompositeOperation="overlay",mt.lineWidth=2),mt.stroke(),mt.globalCompositeOperation="source-over"},_.bodyPositions=function(ut,dt,pt){var mt=pt;ut.engine;var yt=ut.options,xt,Tt,_t,Mt;for(mt.beginPath(),_t=0;_t<dt.length;_t++)if(xt=dt[_t],!!xt.render.visible)for(Mt=0;Mt<xt.parts.length;Mt++)Tt=xt.parts[Mt],mt.arc(Tt.position.x,Tt.position.y,3,0,2*Math.PI,!1),mt.closePath();for(yt.wireframes?mt.fillStyle="indianred":mt.fillStyle="rgba(0,0,0,0.5)",mt.fill(),mt.beginPath(),_t=0;_t<dt.length;_t++)xt=dt[_t],xt.render.visible&&(mt.arc(xt.positionPrev.x,xt.positionPrev.y,2,0,2*Math.PI,!1),mt.closePath());mt.fillStyle="rgba(255,165,0,0.8)",mt.fill()},_.bodyVelocity=function(ut,dt,pt){var mt=pt;mt.beginPath();for(var yt=0;yt<dt.length;yt++){var xt=dt[yt];!xt.render.visible||(mt.moveTo(xt.position.x,xt.position.y),mt.lineTo(xt.position.x+(xt.position.x-xt.positionPrev.x)*2,xt.position.y+(xt.position.y-xt.positionPrev.y)*2))}mt.lineWidth=3,mt.strokeStyle="cornflowerblue",mt.stroke()},_.bodyIds=function(ut,dt,pt){var mt=pt,yt,xt;for(yt=0;yt<dt.length;yt++)if(!!dt[yt].render.visible){var Tt=dt[yt].parts;for(xt=Tt.length>1?1:0;xt<Tt.length;xt++){var _t=Tt[xt];mt.font="12px Arial",mt.fillStyle="rgba(255,255,255,0.5)",mt.fillText(_t.id,_t.position.x+10,_t.position.y-10)}}},_.collisions=function(ut,dt,pt){var mt=pt,yt=ut.options,xt,Tt,_t,Mt;for(mt.beginPath(),_t=0;_t<dt.length;_t++)if(xt=dt[_t],!!xt.isActive)for(Tt=xt.collision,Mt=0;Mt<xt.activeContacts.length;Mt++){var Lt=xt.activeContacts[Mt],Pt=Lt.vertex;mt.rect(Pt.x-1.5,Pt.y-1.5,3.5,3.5)}for(yt.wireframes?mt.fillStyle="rgba(255,255,255,0.7)":mt.fillStyle="orange",mt.fill(),mt.beginPath(),_t=0;_t<dt.length;_t++)if(xt=dt[_t],!!xt.isActive&&(Tt=xt.collision,xt.activeContacts.length>0)){var It=xt.activeContacts[0].vertex.x,Et=xt.activeContacts[0].vertex.y;xt.activeContacts.length===2&&(It=(xt.activeContacts[0].vertex.x+xt.activeContacts[1].vertex.x)/2,Et=(xt.activeContacts[0].vertex.y+xt.activeContacts[1].vertex.y)/2),Tt.bodyB===Tt.supports[0].body||Tt.bodyA.isStatic===!0?mt.moveTo(It-Tt.normal.x*8,Et-Tt.normal.y*8):mt.moveTo(It+Tt.normal.x*8,Et+Tt.normal.y*8),mt.lineTo(It,Et)}yt.wireframes?mt.strokeStyle="rgba(255,165,0,0.7)":mt.strokeStyle="orange",mt.lineWidth=1,mt.stroke()},_.separations=function(ut,dt,pt){var mt=pt,yt=ut.options,xt,Tt,_t,Mt,Lt;for(mt.beginPath(),Lt=0;Lt<dt.length;Lt++)if(xt=dt[Lt],!!xt.isActive){Tt=xt.collision,_t=Tt.bodyA,Mt=Tt.bodyB;var Pt=1;!Mt.isStatic&&!_t.isStatic&&(Pt=.5),Mt.isStatic&&(Pt=0),mt.moveTo(Mt.position.x,Mt.position.y),mt.lineTo(Mt.position.x-Tt.penetration.x*Pt,Mt.position.y-Tt.penetration.y*Pt),Pt=1,!Mt.isStatic&&!_t.isStatic&&(Pt=.5),_t.isStatic&&(Pt=0),mt.moveTo(_t.position.x,_t.position.y),mt.lineTo(_t.position.x+Tt.penetration.x*Pt,_t.position.y+Tt.penetration.y*Pt)}yt.wireframes?mt.strokeStyle="rgba(255,165,0,0.5)":mt.strokeStyle="orange",mt.stroke()},_.inspector=function(ut,dt){ut.engine;var pt=ut.selected,mt=ut.render,yt=mt.options,xt;if(yt.hasBounds){var Tt=mt.bounds.max.x-mt.bounds.min.x,_t=mt.bounds.max.y-mt.bounds.min.y,Mt=Tt/mt.options.width,Lt=_t/mt.options.height;dt.scale(1/Mt,1/Lt),dt.translate(-mt.bounds.min.x,-mt.bounds.min.y)}for(var Pt=0;Pt<pt.length;Pt++){var It=pt[Pt].data;switch(dt.translate(.5,.5),dt.lineWidth=1,dt.strokeStyle="rgba(255,165,0,0.9)",dt.setLineDash([1,2]),It.type){case"body":xt=It.bounds,dt.beginPath(),dt.rect(Math.floor(xt.min.x-3),Math.floor(xt.min.y-3),Math.floor(xt.max.x-xt.min.x+6),Math.floor(xt.max.y-xt.min.y+6)),dt.closePath(),dt.stroke();break;case"constraint":var Et=It.pointA;It.bodyA&&(Et=It.pointB),dt.beginPath(),dt.arc(Et.x,Et.y,10,0,2*Math.PI),dt.closePath(),dt.stroke();break}dt.setLineDash([]),dt.translate(-.5,-.5)}ut.selectStart!==null&&(dt.translate(.5,.5),dt.lineWidth=1,dt.strokeStyle="rgba(255,165,0,0.6)",dt.fillStyle="rgba(255,165,0,0.1)",xt=ut.selectBounds,dt.beginPath(),dt.rect(Math.floor(xt.min.x),Math.floor(xt.min.y),Math.floor(xt.max.x-xt.min.x),Math.floor(xt.max.y-xt.min.y)),dt.closePath(),dt.stroke(),dt.fill(),dt.translate(-.5,-.5)),yt.hasBounds&&dt.setTransform(1,0,0,1,0,0)};var st=function(ut,dt){var pt=ut.engine,mt=ut.timing,yt=mt.historySize,xt=pt.timing.timestamp;mt.delta=dt-mt.lastTime||_._goodDelta,mt.lastTime=dt,mt.timestampElapsed=xt-mt.lastTimestamp||0,mt.lastTimestamp=xt,mt.deltaHistory.unshift(mt.delta),mt.deltaHistory.length=Math.min(mt.deltaHistory.length,yt),mt.engineDeltaHistory.unshift(pt.timing.lastDelta),mt.engineDeltaHistory.length=Math.min(mt.engineDeltaHistory.length,yt),mt.timestampElapsedHistory.unshift(mt.timestampElapsed),mt.timestampElapsedHistory.length=Math.min(mt.timestampElapsedHistory.length,yt),mt.engineElapsedHistory.unshift(pt.timing.lastElapsed),mt.engineElapsedHistory.length=Math.min(mt.engineElapsedHistory.length,yt),mt.elapsedHistory.unshift(mt.lastElapsed),mt.elapsedHistory.length=Math.min(mt.elapsedHistory.length,yt)},at=function(ut){for(var dt=0,pt=0;pt<ut.length;pt+=1)dt+=ut[pt];return dt/ut.length||0},ct=function(ut,dt){var pt=document.createElement("canvas");return pt.width=ut,pt.height=dt,pt.oncontextmenu=function(){return!1},pt.onselectstart=function(){return!1},pt},it=function(ut){var dt=ut.getContext("2d"),pt=window.devicePixelRatio||1,mt=dt.webkitBackingStorePixelRatio||dt.mozBackingStorePixelRatio||dt.msBackingStorePixelRatio||dt.oBackingStorePixelRatio||dt.backingStorePixelRatio||1;return pt/mt},lt=function(ut,dt){var pt=ut.textures[dt];return pt||(pt=ut.textures[dt]=new Image,pt.src=dt,pt)},ht=function(ut,dt){var pt=dt;/(jpg|gif|png)$/.test(dt)&&(pt="url("+dt+")"),ut.canvas.style.background=pt,ut.canvas.style.backgroundSize="contain",ut.currentBackground=dt}})()},function(h,d){var g={};h.exports=g,function(){g.create=function(_){return{vertex:_,normalImpulse:0,tangentImpulse:0}}}()},function(h,d,g){var _={};h.exports=_;var b=g(7),$=g(19),j=g(14),_e=g(20),et=g(4),rt=g(5),tt=g(10),nt=g(0),st=g(6);(function(){_.create=function(at){at=at||{};var ct={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},it=nt.extend(ct,at);return it.world=at.world||rt.create({label:"World"}),it.pairs=at.pairs||_e.create(),it.detector=at.detector||j.create(),it.grid={buckets:[]},it.world.gravity=it.gravity,it.broadphase=it.grid,it.metrics={},it},_.update=function(at,ct,it){var lt=nt.now();ct=ct||1e3/60,it=it||1;var ht=at.world,ut=at.detector,dt=at.pairs,pt=at.timing,mt=pt.timestamp,yt;pt.timestamp+=ct*pt.timeScale,pt.lastDelta=ct*pt.timeScale;var xt={timestamp:pt.timestamp};et.trigger(at,"beforeUpdate",xt);var Tt=rt.allBodies(ht),_t=rt.allConstraints(ht);for(ht.isModified&&j.setBodies(ut,Tt),ht.isModified&&rt.setModified(ht,!1,!1,!0),at.enableSleeping&&b.update(Tt,pt.timeScale),_._bodiesApplyGravity(Tt,at.gravity),_._bodiesUpdate(Tt,ct,pt.timeScale,it,ht.bounds),tt.preSolveAll(Tt),yt=0;yt<at.constraintIterations;yt++)tt.solveAll(_t,pt.timeScale);tt.postSolveAll(Tt),ut.pairs=at.pairs;var Mt=j.collisions(ut);for(_e.update(dt,Mt,mt),at.enableSleeping&&b.afterCollisions(dt.list,pt.timeScale),dt.collisionStart.length>0&&et.trigger(at,"collisionStart",{pairs:dt.collisionStart}),$.preSolvePosition(dt.list),yt=0;yt<at.positionIterations;yt++)$.solvePosition(dt.list,pt.timeScale);for($.postSolvePosition(Tt),tt.preSolveAll(Tt),yt=0;yt<at.constraintIterations;yt++)tt.solveAll(_t,pt.timeScale);for(tt.postSolveAll(Tt),$.preSolveVelocity(dt.list),yt=0;yt<at.velocityIterations;yt++)$.solveVelocity(dt.list,pt.timeScale);return dt.collisionActive.length>0&&et.trigger(at,"collisionActive",{pairs:dt.collisionActive}),dt.collisionEnd.length>0&&et.trigger(at,"collisionEnd",{pairs:dt.collisionEnd}),_._bodiesClearForces(Tt),et.trigger(at,"afterUpdate",xt),at.timing.lastElapsed=nt.now()-lt,at},_.merge=function(at,ct){if(nt.extend(at,ct),ct.world){at.world=ct.world,_.clear(at);for(var it=rt.allBodies(at.world),lt=0;lt<it.length;lt++){var ht=it[lt];b.set(ht,!1),ht.id=nt.nextId()}}},_.clear=function(at){_e.clear(at.pairs),j.clear(at.detector)},_._bodiesClearForces=function(at){for(var ct=0;ct<at.length;ct++){var it=at[ct];it.force.x=0,it.force.y=0,it.torque=0}},_._bodiesApplyGravity=function(at,ct){var it=typeof ct.scale!="undefined"?ct.scale:.001;if(!(ct.x===0&&ct.y===0||it===0))for(var lt=0;lt<at.length;lt++){var ht=at[lt];ht.isStatic||ht.isSleeping||(ht.force.y+=ht.mass*ct.y*it,ht.force.x+=ht.mass*ct.x*it)}},_._bodiesUpdate=function(at,ct,it,lt,ht){for(var ut=0;ut<at.length;ut++){var dt=at[ut];dt.isStatic||dt.isSleeping||st.update(dt,ct,it,lt)}}})()},function(h,d,g){var _={};h.exports=_;var b=g(3),$=g(1);(function(){_._restingThresh=4,_._restingThreshTangent=6,_._positionDampen=.9,_._positionWarming=.8,_._frictionNormalMultiplier=5,_.preSolvePosition=function(j){var _e,et,rt,tt=j.length;for(_e=0;_e<tt;_e++)et=j[_e],!!et.isActive&&(rt=et.activeContacts.length,et.collision.parentA.totalContacts+=rt,et.collision.parentB.totalContacts+=rt)},_.solvePosition=function(j,_e){var et,rt,tt,nt,st,at,ct,it,lt=_._positionDampen,ht=j.length;for(et=0;et<ht;et++)rt=j[et],!(!rt.isActive||rt.isSensor)&&(tt=rt.collision,nt=tt.parentA,st=tt.parentB,at=tt.normal,rt.separation=at.x*(st.positionImpulse.x+tt.penetration.x-nt.positionImpulse.x)+at.y*(st.positionImpulse.y+tt.penetration.y-nt.positionImpulse.y));for(et=0;et<ht;et++)rt=j[et],!(!rt.isActive||rt.isSensor)&&(tt=rt.collision,nt=tt.parentA,st=tt.parentB,at=tt.normal,it=(rt.separation-rt.slop)*_e,(nt.isStatic||st.isStatic)&&(it*=2),nt.isStatic||nt.isSleeping||(ct=lt/nt.totalContacts,nt.positionImpulse.x+=at.x*it*ct,nt.positionImpulse.y+=at.y*it*ct),st.isStatic||st.isSleeping||(ct=lt/st.totalContacts,st.positionImpulse.x-=at.x*it*ct,st.positionImpulse.y-=at.y*it*ct))},_.postSolvePosition=function(j){for(var _e=_._positionWarming,et=j.length,rt=b.translate,tt=$.update,nt=0;nt<et;nt++){var st=j[nt],at=st.positionImpulse,ct=at.x,it=at.y,lt=st.velocity;if(st.totalContacts=0,ct!==0||it!==0){for(var ht=0;ht<st.parts.length;ht++){var ut=st.parts[ht];rt(ut.vertices,at),tt(ut.bounds,ut.vertices,lt),ut.position.x+=ct,ut.position.y+=it}st.positionPrev.x+=ct,st.positionPrev.y+=it,ct*lt.x+it*lt.y<0?(at.x=0,at.y=0):(at.x*=_e,at.y*=_e)}}},_.preSolveVelocity=function(j){var _e=j.length,et,rt;for(et=0;et<_e;et++){var tt=j[et];if(!(!tt.isActive||tt.isSensor)){var nt=tt.activeContacts,st=nt.length,at=tt.collision,ct=at.parentA,it=at.parentB,lt=at.normal,ht=at.tangent;for(rt=0;rt<st;rt++){var ut=nt[rt],dt=ut.vertex,pt=ut.normalImpulse,mt=ut.tangentImpulse;if(pt!==0||mt!==0){var yt=lt.x*pt+ht.x*mt,xt=lt.y*pt+ht.y*mt;ct.isStatic||ct.isSleeping||(ct.positionPrev.x+=yt*ct.inverseMass,ct.positionPrev.y+=xt*ct.inverseMass,ct.anglePrev+=ct.inverseInertia*((dt.x-ct.position.x)*xt-(dt.y-ct.position.y)*yt)),it.isStatic||it.isSleeping||(it.positionPrev.x-=yt*it.inverseMass,it.positionPrev.y-=xt*it.inverseMass,it.anglePrev-=it.inverseInertia*((dt.x-it.position.x)*xt-(dt.y-it.position.y)*yt))}}}}},_.solveVelocity=function(j,_e){var et=_e*_e,rt=_._restingThresh*et,tt=_._frictionNormalMultiplier,nt=_._restingThreshTangent*et,st=Number.MAX_VALUE,at=j.length,ct,it,lt,ht;for(lt=0;lt<at;lt++){var ut=j[lt];if(!(!ut.isActive||ut.isSensor)){var dt=ut.collision,pt=dt.parentA,mt=dt.parentB,yt=pt.velocity,xt=mt.velocity,Tt=dt.normal.x,_t=dt.normal.y,Mt=dt.tangent.x,Lt=dt.tangent.y,Pt=ut.activeContacts,It=Pt.length,Et=1/It,Ct=pt.inverseMass+mt.inverseMass,St=ut.friction*ut.frictionStatic*tt*et;for(yt.x=pt.position.x-pt.positionPrev.x,yt.y=pt.position.y-pt.positionPrev.y,xt.x=mt.position.x-mt.positionPrev.x,xt.y=mt.position.y-mt.positionPrev.y,pt.angularVelocity=pt.angle-pt.anglePrev,mt.angularVelocity=mt.angle-mt.anglePrev,ht=0;ht<It;ht++){var At=Pt[ht],Rt=At.vertex,Ot=Rt.x-pt.position.x,Gt=Rt.y-pt.position.y,Qt=Rt.x-mt.position.x,ir=Rt.y-mt.position.y,tr=yt.x-Gt*pt.angularVelocity,Wt=yt.y+Ot*pt.angularVelocity,wr=xt.x-ir*mt.angularVelocity,Lr=xt.y+Qt*mt.angularVelocity,Er=tr-wr,Ar=Wt-Lr,yr=Tt*Er+_t*Ar,Yt=Mt*Er+Lt*Ar,Xt=ut.separation+yr,ur=Math.min(Xt,1);ur=Xt<0?0:ur;var br=ur*St;Yt>br||-Yt>br?(it=Yt>0?Yt:-Yt,ct=ut.friction*(Yt>0?1:-1)*et,ct<-it?ct=-it:ct>it&&(ct=it)):(ct=Yt,it=st);var _r=Ot*_t-Gt*Tt,Pr=Qt*_t-ir*Tt,Or=Et/(Ct+pt.inverseInertia*_r*_r+mt.inverseInertia*Pr*Pr),Nr=(1+ut.restitution)*yr*Or;if(ct*=Or,yr*yr>rt&&yr<0)At.normalImpulse=0;else{var an=At.normalImpulse;At.normalImpulse+=Nr,At.normalImpulse=Math.min(At.normalImpulse,0),Nr=At.normalImpulse-an}if(Yt*Yt>nt)At.tangentImpulse=0;else{var $t=At.tangentImpulse;At.tangentImpulse+=ct,At.tangentImpulse<-it&&(At.tangentImpulse=-it),At.tangentImpulse>it&&(At.tangentImpulse=it),ct=At.tangentImpulse-$t}var kt=Tt*Nr+Mt*ct,hr=_t*Nr+Lt*ct;pt.isStatic||pt.isSleeping||(pt.positionPrev.x+=kt*pt.inverseMass,pt.positionPrev.y+=hr*pt.inverseMass,pt.anglePrev+=(Ot*hr-Gt*kt)*pt.inverseInertia),mt.isStatic||mt.isSleeping||(mt.positionPrev.x-=kt*mt.inverseMass,mt.positionPrev.y-=hr*mt.inverseMass,mt.anglePrev-=(Qt*hr-ir*kt)*mt.inverseInertia)}}}}})()},function(h,d,g){var _={};h.exports=_;var b=g(9),$=g(0);(function(){_.create=function(j){return $.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},j)},_.update=function(j,_e,et){var rt=j.list,tt=rt.length,nt=j.table,st=_e.length,at=j.collisionStart,ct=j.collisionEnd,it=j.collisionActive,lt,ht,ut,dt;for(at.length=0,ct.length=0,it.length=0,dt=0;dt<tt;dt++)rt[dt].confirmedActive=!1;for(dt=0;dt<st;dt++)lt=_e[dt],ut=lt.pair,ut?(ut.isActive?it.push(ut):at.push(ut),b.update(ut,lt,et),ut.confirmedActive=!0):(ut=b.create(lt,et),nt[ut.id]=ut,at.push(ut),rt.push(ut));var pt=[];for(tt=rt.length,dt=0;dt<tt;dt++)ut=rt[dt],ut.confirmedActive||(b.setActive(ut,!1,et),ct.push(ut),!ut.collision.bodyA.isSleeping&&!ut.collision.bodyB.isSleeping&&pt.push(dt));for(dt=0;dt<pt.length;dt++)ht=pt[dt]-dt,ut=rt[ht],rt.splice(ht,1),delete nt[ut.id]},_.clear=function(j){return j.table={},j.list.length=0,j.collisionStart.length=0,j.collisionActive.length=0,j.collisionEnd.length=0,j}})()},function(h,d,g){var _=h.exports=g(22);_.Axes=g(11),_.Bodies=g(12),_.Body=g(6),_.Bounds=g(1),_.Collision=g(8),_.Common=g(0),_.Composite=g(5),_.Composites=g(23),_.Constraint=g(10),_.Contact=g(17),_.Detector=g(14),_.Engine=g(18),_.Events=g(4),_.Grid=g(24),_.Mouse=g(13),_.MouseConstraint=g(25),_.Pair=g(9),_.Pairs=g(20),_.Plugin=g(15),_.Query=g(26),_.Render=g(16),_.Resolver=g(19),_.Runner=g(27),_.SAT=g(28),_.Sleeping=g(7),_.Svg=g(29),_.Vector=g(2),_.Vertices=g(3),_.World=g(30),_.Engine.run=_.Runner.run,_.Common.deprecated(_.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(h,d,g){var _={};h.exports=_;var b=g(15),$=g(0);(function(){_.name="matter-js",_.version="0.18.0",_.uses=[],_.used=[],_.use=function(){b.use(_,Array.prototype.slice.call(arguments))},_.before=function(j,_e){return j=j.replace(/^Matter./,""),$.chainPathBefore(_,j,_e)},_.after=function(j,_e){return j=j.replace(/^Matter./,""),$.chainPathAfter(_,j,_e)}})()},function(h,d,g){var _={};h.exports=_;var b=g(5),$=g(10),j=g(0),_e=g(6),et=g(12),rt=j.deprecated;(function(){_.stack=function(tt,nt,st,at,ct,it,lt){for(var ht=b.create({label:"Stack"}),ut=tt,dt=nt,pt,mt=0,yt=0;yt<at;yt++){for(var xt=0,Tt=0;Tt<st;Tt++){var _t=lt(ut,dt,Tt,yt,pt,mt);if(_t){var Mt=_t.bounds.max.y-_t.bounds.min.y,Lt=_t.bounds.max.x-_t.bounds.min.x;Mt>xt&&(xt=Mt),_e.translate(_t,{x:Lt*.5,y:Mt*.5}),ut=_t.bounds.max.x+ct,b.addBody(ht,_t),pt=_t,mt+=1}else ut+=ct}dt+=xt+it,ut=tt}return ht},_.chain=function(tt,nt,st,at,ct,it){for(var lt=tt.bodies,ht=1;ht<lt.length;ht++){var ut=lt[ht-1],dt=lt[ht],pt=ut.bounds.max.y-ut.bounds.min.y,mt=ut.bounds.max.x-ut.bounds.min.x,yt=dt.bounds.max.y-dt.bounds.min.y,xt=dt.bounds.max.x-dt.bounds.min.x,Tt={bodyA:ut,pointA:{x:mt*nt,y:pt*st},bodyB:dt,pointB:{x:xt*at,y:yt*ct}},_t=j.extend(Tt,it);b.addConstraint(tt,$.create(_t))}return tt.label+=" Chain",tt},_.mesh=function(tt,nt,st,at,ct){var it=tt.bodies,lt,ht,ut,dt,pt;for(lt=0;lt<st;lt++){for(ht=1;ht<nt;ht++)ut=it[ht-1+lt*nt],dt=it[ht+lt*nt],b.addConstraint(tt,$.create(j.extend({bodyA:ut,bodyB:dt},ct)));if(lt>0)for(ht=0;ht<nt;ht++)ut=it[ht+(lt-1)*nt],dt=it[ht+lt*nt],b.addConstraint(tt,$.create(j.extend({bodyA:ut,bodyB:dt},ct))),at&&ht>0&&(pt=it[ht-1+(lt-1)*nt],b.addConstraint(tt,$.create(j.extend({bodyA:pt,bodyB:dt},ct)))),at&&ht<nt-1&&(pt=it[ht+1+(lt-1)*nt],b.addConstraint(tt,$.create(j.extend({bodyA:pt,bodyB:dt},ct))))}return tt.label+=" Mesh",tt},_.pyramid=function(tt,nt,st,at,ct,it,lt){return _.stack(tt,nt,st,at,ct,it,function(ht,ut,dt,pt,mt,yt){var xt=Math.min(at,Math.ceil(st/2)),Tt=mt?mt.bounds.max.x-mt.bounds.min.x:0;if(!(pt>xt)){pt=xt-pt;var _t=pt,Mt=st-1-pt;if(!(dt<_t||dt>Mt)){yt===1&&_e.translate(mt,{x:(dt+(st%2==1?1:-1))*Tt,y:0});var Lt=mt?dt*Tt:0;return lt(tt+Lt+dt*ct,ut,dt,pt,mt,yt)}}})},_.newtonsCradle=function(tt,nt,st,at,ct){for(var it=b.create({label:"Newtons Cradle"}),lt=0;lt<st;lt++){var ht=1.9,ut=et.circle(tt+lt*(at*ht),nt+ct,at,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),dt=$.create({pointA:{x:tt+lt*(at*ht),y:nt},bodyB:ut});b.addBody(it,ut),b.addConstraint(it,dt)}return it},rt(_,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),_.car=function(tt,nt,st,at,ct){var it=_e.nextGroup(!0),lt=20,ht=-st*.5+lt,ut=st*.5-lt,dt=0,pt=b.create({label:"Car"}),mt=et.rectangle(tt,nt,st,at,{collisionFilter:{group:it},chamfer:{radius:at*.5},density:2e-4}),yt=et.circle(tt+ht,nt+dt,ct,{collisionFilter:{group:it},friction:.8}),xt=et.circle(tt+ut,nt+dt,ct,{collisionFilter:{group:it},friction:.8}),Tt=$.create({bodyB:mt,pointB:{x:ht,y:dt},bodyA:yt,stiffness:1,length:0}),_t=$.create({bodyB:mt,pointB:{x:ut,y:dt},bodyA:xt,stiffness:1,length:0});return b.addBody(pt,mt),b.addBody(pt,yt),b.addBody(pt,xt),b.addConstraint(pt,Tt),b.addConstraint(pt,_t),pt},rt(_,"car","Composites.car \u27A4 moved to car example"),_.softBody=function(tt,nt,st,at,ct,it,lt,ht,ut,dt){ut=j.extend({inertia:1/0},ut),dt=j.extend({stiffness:.2,render:{type:"line",anchors:!1}},dt);var pt=_.stack(tt,nt,st,at,ct,it,function(mt,yt){return et.circle(mt,yt,ht,ut)});return _.mesh(pt,st,at,lt,dt),pt.label="Soft Body",pt},rt(_,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(h,d,g){var _={};h.exports=_;var b=g(9),$=g(0),j=$.deprecated;(function(){_.create=function(_e){var et={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return $.extend(et,_e)},_.update=function(_e,et,rt,tt){var nt,st,at,ct=rt.world,it=_e.buckets,lt,ht,ut=!1;for(nt=0;nt<et.length;nt++){var dt=et[nt];if(!(dt.isSleeping&&!tt)&&!(ct.bounds&&(dt.bounds.max.x<ct.bounds.min.x||dt.bounds.min.x>ct.bounds.max.x||dt.bounds.max.y<ct.bounds.min.y||dt.bounds.min.y>ct.bounds.max.y))){var pt=_._getRegion(_e,dt);if(!dt.region||pt.id!==dt.region.id||tt){(!dt.region||tt)&&(dt.region=pt);var mt=_._regionUnion(pt,dt.region);for(st=mt.startCol;st<=mt.endCol;st++)for(at=mt.startRow;at<=mt.endRow;at++){ht=_._getBucketId(st,at),lt=it[ht];var yt=st>=pt.startCol&&st<=pt.endCol&&at>=pt.startRow&&at<=pt.endRow,xt=st>=dt.region.startCol&&st<=dt.region.endCol&&at>=dt.region.startRow&&at<=dt.region.endRow;!yt&&xt&&xt&&lt&&_._bucketRemoveBody(_e,lt,dt),(dt.region===pt||yt&&!xt||tt)&&(lt||(lt=_._createBucket(it,ht)),_._bucketAddBody(_e,lt,dt))}dt.region=pt,ut=!0}}}ut&&(_e.pairsList=_._createActivePairsList(_e))},j(_,"update","Grid.update \u27A4 replaced by Matter.Detector"),_.clear=function(_e){_e.buckets={},_e.pairs={},_e.pairsList=[]},j(_,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),_._regionUnion=function(_e,et){var rt=Math.min(_e.startCol,et.startCol),tt=Math.max(_e.endCol,et.endCol),nt=Math.min(_e.startRow,et.startRow),st=Math.max(_e.endRow,et.endRow);return _._createRegion(rt,tt,nt,st)},_._getRegion=function(_e,et){var rt=et.bounds,tt=Math.floor(rt.min.x/_e.bucketWidth),nt=Math.floor(rt.max.x/_e.bucketWidth),st=Math.floor(rt.min.y/_e.bucketHeight),at=Math.floor(rt.max.y/_e.bucketHeight);return _._createRegion(tt,nt,st,at)},_._createRegion=function(_e,et,rt,tt){return{id:_e+","+et+","+rt+","+tt,startCol:_e,endCol:et,startRow:rt,endRow:tt}},_._getBucketId=function(_e,et){return"C"+_e+"R"+et},_._createBucket=function(_e,et){var rt=_e[et]=[];return rt},_._bucketAddBody=function(_e,et,rt){var tt=_e.pairs,nt=b.id,st=et.length,at;for(at=0;at<st;at++){var ct=et[at];if(!(rt.id===ct.id||rt.isStatic&&ct.isStatic)){var it=nt(rt,ct),lt=tt[it];lt?lt[2]+=1:tt[it]=[rt,ct,1]}}et.push(rt)},_._bucketRemoveBody=function(_e,et,rt){var tt=_e.pairs,nt=b.id,st;et.splice($.indexOf(et,rt),1);var at=et.length;for(st=0;st<at;st++){var ct=tt[nt(rt,et[st])];ct&&(ct[2]-=1)}},_._createActivePairsList=function(_e){var et,rt=_e.pairs,tt=$.keys(rt),nt=tt.length,st=[],at;for(at=0;at<nt;at++)et=rt[tt[at]],et[2]>0?st.push(et):delete rt[tt[at]];return st}})()},function(h,d,g){var _={};h.exports=_;var b=g(3),$=g(7),j=g(13),_e=g(4),et=g(14),rt=g(10),tt=g(5),nt=g(0),st=g(1);(function(){_.create=function(at,ct){var it=(at?at.mouse:null)||(ct?ct.mouse:null);it||(at&&at.render&&at.render.canvas?it=j.create(at.render.canvas):ct&&ct.element?it=j.create(ct.element):(it=j.create(),nt.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var lt=rt.create({label:"Mouse Constraint",pointA:it.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),ht={type:"mouseConstraint",mouse:it,element:null,body:null,constraint:lt,collisionFilter:{category:1,mask:4294967295,group:0}},ut=nt.extend(ht,ct);return _e.on(at,"beforeUpdate",function(){var dt=tt.allBodies(at.world);_.update(ut,dt),_._triggerEvents(ut)}),ut},_.update=function(at,ct){var it=at.mouse,lt=at.constraint,ht=at.body;if(it.button===0){if(lt.bodyB)$.set(lt.bodyB,!1),lt.pointA=it.position;else for(var ut=0;ut<ct.length;ut++)if(ht=ct[ut],st.contains(ht.bounds,it.position)&&et.canCollide(ht.collisionFilter,at.collisionFilter))for(var dt=ht.parts.length>1?1:0;dt<ht.parts.length;dt++){var pt=ht.parts[dt];if(b.contains(pt.vertices,it.position)){lt.pointA=it.position,lt.bodyB=at.body=ht,lt.pointB={x:it.position.x-ht.position.x,y:it.position.y-ht.position.y},lt.angleB=ht.angle,$.set(ht,!1),_e.trigger(at,"startdrag",{mouse:it,body:ht});break}}}else lt.bodyB=at.body=null,lt.pointB=null,ht&&_e.trigger(at,"enddrag",{mouse:it,body:ht})},_._triggerEvents=function(at){var ct=at.mouse,it=ct.sourceEvents;it.mousemove&&_e.trigger(at,"mousemove",{mouse:ct}),it.mousedown&&_e.trigger(at,"mousedown",{mouse:ct}),it.mouseup&&_e.trigger(at,"mouseup",{mouse:ct}),j.clearSourceEvents(ct)}})()},function(h,d,g){var _={};h.exports=_;var b=g(2),$=g(8),j=g(1),_e=g(12),et=g(3);(function(){_.collides=function(rt,tt){for(var nt=[],st=tt.length,at=rt.bounds,ct=$.collides,it=j.overlaps,lt=0;lt<st;lt++){var ht=tt[lt],ut=ht.parts.length,dt=ut===1?0:1;if(it(ht.bounds,at))for(var pt=dt;pt<ut;pt++){var mt=ht.parts[pt];if(it(mt.bounds,at)){var yt=ct(mt,rt);if(yt){nt.push(yt);break}}}}return nt},_.ray=function(rt,tt,nt,st){st=st||1e-100;for(var at=b.angle(tt,nt),ct=b.magnitude(b.sub(tt,nt)),it=(nt.x+tt.x)*.5,lt=(nt.y+tt.y)*.5,ht=_e.rectangle(it,lt,ct,st,{angle:at}),ut=_.collides(ht,rt),dt=0;dt<ut.length;dt+=1){var pt=ut[dt];pt.body=pt.bodyB=pt.bodyA}return ut},_.region=function(rt,tt,nt){for(var st=[],at=0;at<rt.length;at++){var ct=rt[at],it=j.overlaps(ct.bounds,tt);(it&&!nt||!it&&nt)&&st.push(ct)}return st},_.point=function(rt,tt){for(var nt=[],st=0;st<rt.length;st++){var at=rt[st];if(j.contains(at.bounds,tt))for(var ct=at.parts.length===1?0:1;ct<at.parts.length;ct++){var it=at.parts[ct];if(j.contains(it.bounds,tt)&&et.contains(it.vertices,tt)){nt.push(at);break}}}return nt}})()},function(h,d,g){var _={};h.exports=_;var b=g(4),$=g(18),j=g(0);(function(){var _e,et;if(typeof window!="undefined"&&(_e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,et=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!_e){var rt;_e=function(tt){rt=setTimeout(function(){tt(j.now())},1e3/60)},et=function(){clearTimeout(rt)}}_.create=function(tt){var nt={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},st=j.extend(nt,tt);return st.delta=st.delta||1e3/st.fps,st.deltaMin=st.deltaMin||1e3/st.fps,st.deltaMax=st.deltaMax||1e3/(st.fps*.5),st.fps=1e3/st.delta,st},_.run=function(tt,nt){return typeof tt.positionIterations!="undefined"&&(nt=tt,tt=_.create()),function st(at){tt.frameRequestId=_e(st),at&&tt.enabled&&_.tick(tt,nt,at)}(),tt},_.tick=function(tt,nt,st){var at=nt.timing,ct=1,it,lt={timestamp:at.timestamp};b.trigger(tt,"beforeTick",lt),tt.isFixed?it=tt.delta:(it=st-tt.timePrev||tt.delta,tt.timePrev=st,tt.deltaHistory.push(it),tt.deltaHistory=tt.deltaHistory.slice(-tt.deltaSampleSize),it=Math.min.apply(null,tt.deltaHistory),it=it<tt.deltaMin?tt.deltaMin:it,it=it>tt.deltaMax?tt.deltaMax:it,ct=it/tt.delta,tt.delta=it),tt.timeScalePrev!==0&&(ct*=at.timeScale/tt.timeScalePrev),at.timeScale===0&&(ct=0),tt.timeScalePrev=at.timeScale,tt.correction=ct,tt.frameCounter+=1,st-tt.counterTimestamp>=1e3&&(tt.fps=tt.frameCounter*((st-tt.counterTimestamp)/1e3),tt.counterTimestamp=st,tt.frameCounter=0),b.trigger(tt,"tick",lt),b.trigger(tt,"beforeUpdate",lt),$.update(nt,it,ct),b.trigger(tt,"afterUpdate",lt),b.trigger(tt,"afterTick",lt)},_.stop=function(tt){et(tt.frameRequestId)},_.start=function(tt,nt){_.run(tt,nt)}})()},function(h,d,g){var _={};h.exports=_;var b=g(8),$=g(0),j=$.deprecated;(function(){_.collides=function(_e,et){return b.collides(_e,et)},j(_,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(h,d,g){var _={};h.exports=_,g(1);var b=g(0);(function(){_.pathToVertices=function($,j){typeof window!="undefined"&&!("SVGPathSeg"in window)&&b.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var _e,et,rt,tt,nt,st,at,ct,it,lt,ht=[],ut,dt,pt=0,mt=0,yt=0;j=j||15;var xt=function(_t,Mt,Lt){var Pt=Lt%2==1&&Lt>1;if(!it||_t!=it.x||Mt!=it.y){it&&Pt?(ut=it.x,dt=it.y):(ut=0,dt=0);var It={x:ut+_t,y:dt+Mt};(Pt||!it)&&(it=It),ht.push(It),mt=ut+_t,yt=dt+Mt}},Tt=function(_t){var Mt=_t.pathSegTypeAsLetter.toUpperCase();if(Mt!=="Z"){switch(Mt){case"M":case"L":case"T":case"C":case"S":case"Q":mt=_t.x,yt=_t.y;break;case"H":mt=_t.x;break;case"V":yt=_t.y;break}xt(mt,yt,_t.pathSegType)}};for(_._svgPathToAbsolute($),rt=$.getTotalLength(),st=[],_e=0;_e<$.pathSegList.numberOfItems;_e+=1)st.push($.pathSegList.getItem(_e));for(at=st.concat();pt<rt;){if(lt=$.getPathSegAtLength(pt),nt=st[lt],nt!=ct){for(;at.length&&at[0]!=nt;)Tt(at.shift());ct=nt}switch(nt.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":tt=$.getPointAtLength(pt),xt(tt.x,tt.y,0);break}pt+=j}for(_e=0,et=at.length;_e<et;++_e)Tt(at[_e]);return ht},_._svgPathToAbsolute=function($){for(var j,_e,et,rt,tt,nt,st=$.pathSegList,at=0,ct=0,it=st.numberOfItems,lt=0;lt<it;++lt){var ht=st.getItem(lt),ut=ht.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(ut))"x"in ht&&(at=ht.x),"y"in ht&&(ct=ht.y);else switch("x1"in ht&&(et=at+ht.x1),"x2"in ht&&(tt=at+ht.x2),"y1"in ht&&(rt=ct+ht.y1),"y2"in ht&&(nt=ct+ht.y2),"x"in ht&&(at+=ht.x),"y"in ht&&(ct+=ht.y),ut){case"m":st.replaceItem($.createSVGPathSegMovetoAbs(at,ct),lt);break;case"l":st.replaceItem($.createSVGPathSegLinetoAbs(at,ct),lt);break;case"h":st.replaceItem($.createSVGPathSegLinetoHorizontalAbs(at),lt);break;case"v":st.replaceItem($.createSVGPathSegLinetoVerticalAbs(ct),lt);break;case"c":st.replaceItem($.createSVGPathSegCurvetoCubicAbs(at,ct,et,rt,tt,nt),lt);break;case"s":st.replaceItem($.createSVGPathSegCurvetoCubicSmoothAbs(at,ct,tt,nt),lt);break;case"q":st.replaceItem($.createSVGPathSegCurvetoQuadraticAbs(at,ct,et,rt),lt);break;case"t":st.replaceItem($.createSVGPathSegCurvetoQuadraticSmoothAbs(at,ct),lt);break;case"a":st.replaceItem($.createSVGPathSegArcAbs(at,ct,ht.r1,ht.r2,ht.angle,ht.largeArcFlag,ht.sweepFlag),lt);break;case"z":case"Z":at=j,ct=_e;break}(ut=="M"||ut=="m")&&(j=at,_e=ct)}}})()},function(h,d,g){var _={};h.exports=_;var b=g(5);g(0),function(){_.create=b.create,_.add=b.add,_.remove=b.remove,_.clear=b.clear,_.addComposite=b.addComposite,_.addBody=b.addBody,_.addConstraint=b.addConstraint}()}])})})(matter);function finallyConstructor(o){var e=this.constructor;return this.then(function(h){return e.resolve(o()).then(function(){return h})},function(h){return e.resolve(o()).then(function(){return e.reject(h)})})}function allSettled(o){var e=this;return new e(function(h,d){if(!(o&&typeof o.length!="undefined"))return d(new TypeError(typeof o+" "+o+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var g=Array.prototype.slice.call(o);if(g.length===0)return h([]);var _=g.length;function b(j,_e){if(_e&&(typeof _e=="object"||typeof _e=="function")){var et=_e.then;if(typeof et=="function"){et.call(_e,function(rt){b(j,rt)},function(rt){g[j]={status:"rejected",reason:rt},--_==0&&h(g)});return}}g[j]={status:"fulfilled",value:_e},--_==0&&h(g)}for(var $=0;$<g.length;$++)b($,g[$])})}function AggregateError$1(o,e){this.name="AggregateError",this.errors=o,this.message=e||""}AggregateError$1.prototype=Error.prototype;function any(o){var e=this;return new e(function(h,d){if(!(o&&typeof o.length!="undefined"))return d(new TypeError("Promise.any accepts an array"));var g=Array.prototype.slice.call(o);if(g.length===0)return d();for(var _=[],b=0;b<g.length;b++)try{e.resolve(g[b]).then(h).catch(function($){_.push($),_.length===g.length&&d(new AggregateError$1(_,"All promises were rejected"))})}catch($){d($)}})}var setTimeoutFunc=setTimeout;function isArray$4(o){return Boolean(o&&typeof o.length!="undefined")}function noop(){}function bind$2(o,e){return function(){o.apply(e,arguments)}}function Promise$1(o){if(!(this instanceof Promise$1))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(o,this)}function handle(o,e){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(e);return}o._handled=!0,Promise$1._immediateFn(function(){var h=o._state===1?e.onFulfilled:e.onRejected;if(h===null){(o._state===1?resolve$1:reject)(e.promise,o._value);return}var d;try{d=h(o._value)}catch(g){reject(e.promise,g);return}resolve$1(e.promise,d)})}function resolve$1(o,e){try{if(e===o)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var h=e.then;if(e instanceof Promise$1){o._state=3,o._value=e,finale(o);return}else if(typeof h=="function"){doResolve(bind$2(h,e),o);return}}o._state=1,o._value=e,finale(o)}catch(d){reject(o,d)}}function reject(o,e){o._state=2,o._value=e,finale(o)}function finale(o){o._state===2&&o._deferreds.length===0&&Promise$1._immediateFn(function(){o._handled||Promise$1._unhandledRejectionFn(o._value)});for(var e=0,h=o._deferreds.length;e<h;e++)handle(o,o._deferreds[e]);o._deferreds=null}function Handler(o,e,h){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof e=="function"?e:null,this.promise=h}function doResolve(o,e){var h=!1;try{o(function(d){h||(h=!0,resolve$1(e,d))},function(d){h||(h=!0,reject(e,d))})}catch(d){if(h)return;h=!0,reject(e,d)}}Promise$1.prototype.catch=function(o){return this.then(null,o)};Promise$1.prototype.then=function(o,e){var h=new this.constructor(noop);return handle(this,new Handler(o,e,h)),h};Promise$1.prototype.finally=finallyConstructor;Promise$1.all=function(o){return new Promise$1(function(e,h){if(!isArray$4(o))return h(new TypeError("Promise.all accepts an array"));var d=Array.prototype.slice.call(o);if(d.length===0)return e([]);var g=d.length;function _($,j){try{if(j&&(typeof j=="object"||typeof j=="function")){var _e=j.then;if(typeof _e=="function"){_e.call(j,function(et){_($,et)},h);return}}d[$]=j,--g==0&&e(d)}catch(et){h(et)}}for(var b=0;b<d.length;b++)_(b,d[b])})};Promise$1.any=any;Promise$1.allSettled=allSettled;Promise$1.resolve=function(o){return o&&typeof o=="object"&&o.constructor===Promise$1?o:new Promise$1(function(e){e(o)})};Promise$1.reject=function(o){return new Promise$1(function(e,h){h(o)})};Promise$1.race=function(o){return new Promise$1(function(e,h){if(!isArray$4(o))return h(new TypeError("Promise.race accepts an array"));for(var d=0,g=o.length;d<g;d++)Promise$1.resolve(o[d]).then(e,h)})};Promise$1._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){setTimeoutFunc(o,0)};Promise$1._unhandledRejectionFn=function o(e){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function shouldUseNative(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var e={},h=0;h<10;h++)e["_"+String.fromCharCode(h)]=h;var d=Object.getOwnPropertyNames(e).map(function(_){return e[_]});if(d.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(_){g[_]=_}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(o,e){for(var h,d=toObject(o),g,_=1;_<arguments.length;_++){h=Object(arguments[_]);for(var b in h)hasOwnProperty.call(h,b)&&(d[b]=h[b]);if(getOwnPropertySymbols){g=getOwnPropertySymbols(h);for(var $=0;$<g.length;$++)propIsEnumerable.call(h,g[$])&&(d[g[$]]=h[g[$]])}}return d};/*!
 * @pixi/polyfill - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Promise$1);Object.assign||(Object.assign=objectAssign);var ONE_FRAME_TIME=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var startTime_1=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}}var lastTime=Date.now(),vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!globalThis.requestAnimationFrame;++x){var p=vendors[x];globalThis.requestAnimationFrame=globalThis[p+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[p+"CancelAnimationFrame"]||globalThis[p+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(o){if(typeof o!="function")throw new TypeError(o+"is not a function");var e=Date.now(),h=ONE_FRAME_TIME+lastTime-e;return h<0&&(h=0),lastTime=e,globalThis.self.setTimeout(function(){lastTime=Date.now(),o(performance.now())},h)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(o){return clearTimeout(o)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(o){return typeof o!="undefined"&&o.platform==="MacIntel"&&typeof o.maxTouchPoints=="number"&&o.maxTouchPoints>1&&typeof MSStream=="undefined"};function createMatch(o){return function(e){return e.test(o)}}function isMobile$1(o){var e={userAgent:"",platform:"",maxTouchPoints:0};!o&&typeof navigator!="undefined"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof o=="string"?e.userAgent=o:o&&o.userAgent&&(e={userAgent:o.userAgent,platform:o.platform,maxTouchPoints:o.maxTouchPoints||0});var h=e.userAgent,d=h.split("[FBAN");typeof d[1]!="undefined"&&(h=d[0]),d=h.split("Twitter"),typeof d[1]!="undefined"&&(h=d[0]);var g=createMatch(h),_={apple:{phone:g(appleIphone)&&!g(windowsPhone),ipod:g(appleIpod),tablet:!g(appleIphone)&&(g(appleTablet)||isAppleTabletOnIos13(e))&&!g(windowsPhone),universal:g(appleUniversal),device:(g(appleIphone)||g(appleIpod)||g(appleTablet)||g(appleUniversal)||isAppleTabletOnIos13(e))&&!g(windowsPhone)},amazon:{phone:g(amazonPhone),tablet:!g(amazonPhone)&&g(amazonTablet),device:g(amazonPhone)||g(amazonTablet)},android:{phone:!g(windowsPhone)&&g(amazonPhone)||!g(windowsPhone)&&g(androidPhone),tablet:!g(windowsPhone)&&!g(amazonPhone)&&!g(androidPhone)&&(g(amazonTablet)||g(androidTablet)),device:!g(windowsPhone)&&(g(amazonPhone)||g(amazonTablet)||g(androidPhone)||g(androidTablet))||g(/\bokhttp\b/i)},windows:{phone:g(windowsPhone),tablet:g(windowsTablet),device:g(windowsPhone)||g(windowsTablet)},other:{blackberry:g(otherBlackBerry),blackberry10:g(otherBlackBerry10),opera:g(otherOpera),firefox:g(otherFirefox),chrome:g(otherChrome),device:g(otherBlackBerry)||g(otherBlackBerry10)||g(otherOpera)||g(otherFirefox)||g(otherChrome)},any:!1,phone:!1,tablet:!1};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}/*!
 * @pixi/settings - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var isMobile=isMobile$1(globalThis.navigator);function maxRecommendedTextures(o){var e=!0;if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){var h=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(h){var d=parseInt(h[1],10);d<11&&(e=!1)}}if(isMobile.android.device){var h=navigator.userAgent.match(/Android\s([0-9.]*)/);if(h){var d=parseInt(h[1],10);d<7&&(e=!1)}}}return e?o:4}function canUploadSameBuffer(){return!isMobile.apple.device}/*!
 * @pixi/constants - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$4;(function(o){o[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2"})(ENV$4||(ENV$4={}));var RENDERER_TYPE$4;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.WEBGL=1]="WEBGL",o[o.CANVAS=2]="CANVAS"})(RENDERER_TYPE$4||(RENDERER_TYPE$4={}));var BUFFER_BITS$4;(function(o){o[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL"})(BUFFER_BITS$4||(BUFFER_BITS$4={}));var BLEND_MODES$4;(function(o){o[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR"})(BLEND_MODES$4||(BLEND_MODES$4={}));var DRAW_MODES$4;(function(o){o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$4||(DRAW_MODES$4={}));var FORMATS$4;(function(o){o[o.RGBA=6408]="RGBA",o[o.RGB=6407]="RGB",o[o.RG=33319]="RG",o[o.RED=6403]="RED",o[o.RGBA_INTEGER=36249]="RGBA_INTEGER",o[o.RGB_INTEGER=36248]="RGB_INTEGER",o[o.RG_INTEGER=33320]="RG_INTEGER",o[o.RED_INTEGER=36244]="RED_INTEGER",o[o.ALPHA=6406]="ALPHA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$4||(FORMATS$4={}));var TARGETS$4;(function(o){o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$4||(TARGETS$4={}));var TYPES$4;(function(o){o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",o[o.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",o[o.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",o[o.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",o[o.BYTE=5120]="BYTE",o[o.SHORT=5122]="SHORT",o[o.INT=5124]="INT",o[o.FLOAT=5126]="FLOAT",o[o.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",o[o.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$4||(TYPES$4={}));var SAMPLER_TYPES$4;(function(o){o[o.FLOAT=0]="FLOAT",o[o.INT=1]="INT",o[o.UINT=2]="UINT"})(SAMPLER_TYPES$4||(SAMPLER_TYPES$4={}));var SCALE_MODES$4;(function(o){o[o.NEAREST=0]="NEAREST",o[o.LINEAR=1]="LINEAR"})(SCALE_MODES$4||(SCALE_MODES$4={}));var WRAP_MODES$4;(function(o){o[o.CLAMP=33071]="CLAMP",o[o.REPEAT=10497]="REPEAT",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$4||(WRAP_MODES$4={}));var MIPMAP_MODES$4;(function(o){o[o.OFF=0]="OFF",o[o.POW2=1]="POW2",o[o.ON=2]="ON",o[o.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$4||(MIPMAP_MODES$4={}));var ALPHA_MODES$4;(function(o){o[o.NPM=0]="NPM",o[o.UNPACK=1]="UNPACK",o[o.PMA=2]="PMA",o[o.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",o[o.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",o[o.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",o[o.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$4||(ALPHA_MODES$4={}));var CLEAR_MODES$4;(function(o){o[o.NO=0]="NO",o[o.YES=1]="YES",o[o.AUTO=2]="AUTO",o[o.BLEND=0]="BLEND",o[o.CLEAR=1]="CLEAR",o[o.BLIT=2]="BLIT"})(CLEAR_MODES$4||(CLEAR_MODES$4={}));var GC_MODES$4;(function(o){o[o.AUTO=0]="AUTO",o[o.MANUAL=1]="MANUAL"})(GC_MODES$4||(GC_MODES$4={}));var PRECISION$4;(function(o){o.LOW="lowp",o.MEDIUM="mediump",o.HIGH="highp"})(PRECISION$4||(PRECISION$4={}));var MASK_TYPES$4;(function(o){o[o.NONE=0]="NONE",o[o.SCISSOR=1]="SCISSOR",o[o.STENCIL=2]="STENCIL",o[o.SPRITE=3]="SPRITE"})(MASK_TYPES$4||(MASK_TYPES$4={}));var MSAA_QUALITY$4;(function(o){o[o.NONE=0]="NONE",o[o.LOW=2]="LOW",o[o.MEDIUM=4]="MEDIUM",o[o.HIGH=8]="HIGH"})(MSAA_QUALITY$4||(MSAA_QUALITY$4={}));var BUFFER_TYPE$4;(function(o){o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$4||(BUFFER_TYPE$4={}));var settings={MIPMAP_TEXTURES:MIPMAP_MODES$4.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$4.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$4.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$4.CLAMP,SCALE_MODE:SCALE_MODES$4.LINEAR,PRECISION_VERTEX:PRECISION$4.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION$4.HIGH:PRECISION$4.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3={exports:{}};(function(o){var e=Object.prototype.hasOwnProperty,h="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(h=!1));function g(j,_e,et){this.fn=j,this.context=_e,this.once=et||!1}function _(j,_e,et,rt,tt){if(typeof et!="function")throw new TypeError("The listener must be a function");var nt=new g(et,rt||j,tt),st=h?h+_e:_e;return j._events[st]?j._events[st].fn?j._events[st]=[j._events[st],nt]:j._events[st].push(nt):(j._events[st]=nt,j._eventsCount++),j}function b(j,_e){--j._eventsCount==0?j._events=new d:delete j._events[_e]}function $(){this._events=new d,this._eventsCount=0}$.prototype.eventNames=function(){var _e=[],et,rt;if(this._eventsCount===0)return _e;for(rt in et=this._events)e.call(et,rt)&&_e.push(h?rt.slice(1):rt);return Object.getOwnPropertySymbols?_e.concat(Object.getOwnPropertySymbols(et)):_e},$.prototype.listeners=function(_e){var et=h?h+_e:_e,rt=this._events[et];if(!rt)return[];if(rt.fn)return[rt.fn];for(var tt=0,nt=rt.length,st=new Array(nt);tt<nt;tt++)st[tt]=rt[tt].fn;return st},$.prototype.listenerCount=function(_e){var et=h?h+_e:_e,rt=this._events[et];return rt?rt.fn?1:rt.length:0},$.prototype.emit=function(_e,et,rt,tt,nt,st){var at=h?h+_e:_e;if(!this._events[at])return!1;var ct=this._events[at],it=arguments.length,lt,ht;if(ct.fn){switch(ct.once&&this.removeListener(_e,ct.fn,void 0,!0),it){case 1:return ct.fn.call(ct.context),!0;case 2:return ct.fn.call(ct.context,et),!0;case 3:return ct.fn.call(ct.context,et,rt),!0;case 4:return ct.fn.call(ct.context,et,rt,tt),!0;case 5:return ct.fn.call(ct.context,et,rt,tt,nt),!0;case 6:return ct.fn.call(ct.context,et,rt,tt,nt,st),!0}for(ht=1,lt=new Array(it-1);ht<it;ht++)lt[ht-1]=arguments[ht];ct.fn.apply(ct.context,lt)}else{var ut=ct.length,dt;for(ht=0;ht<ut;ht++)switch(ct[ht].once&&this.removeListener(_e,ct[ht].fn,void 0,!0),it){case 1:ct[ht].fn.call(ct[ht].context);break;case 2:ct[ht].fn.call(ct[ht].context,et);break;case 3:ct[ht].fn.call(ct[ht].context,et,rt);break;case 4:ct[ht].fn.call(ct[ht].context,et,rt,tt);break;default:if(!lt)for(dt=1,lt=new Array(it-1);dt<it;dt++)lt[dt-1]=arguments[dt];ct[ht].fn.apply(ct[ht].context,lt)}}return!0},$.prototype.on=function(_e,et,rt){return _(this,_e,et,rt,!1)},$.prototype.once=function(_e,et,rt){return _(this,_e,et,rt,!0)},$.prototype.removeListener=function(_e,et,rt,tt){var nt=h?h+_e:_e;if(!this._events[nt])return this;if(!et)return b(this,nt),this;var st=this._events[nt];if(st.fn)st.fn===et&&(!tt||st.once)&&(!rt||st.context===rt)&&b(this,nt);else{for(var at=0,ct=[],it=st.length;at<it;at++)(st[at].fn!==et||tt&&!st[at].once||rt&&st[at].context!==rt)&&ct.push(st[at]);ct.length?this._events[nt]=ct.length===1?ct[0]:ct:b(this,nt)}return this},$.prototype.removeAllListeners=function(_e){var et;return _e?(et=h?h+_e:_e,this._events[et]&&b(this,et)):(this._events=new d,this._eventsCount=0),this},$.prototype.off=$.prototype.removeListener,$.prototype.addListener=$.prototype.on,$.prefixed=h,$.EventEmitter=$,o.exports=$})(eventemitter3);var EventEmitter=eventemitter3.exports,earcut$2={exports:{}};earcut$2.exports=earcut;earcut$2.exports.default=earcut;function earcut(o,e,h){h=h||2;var d=e&&e.length,g=d?e[0]*h:o.length,_=linkedList$1(o,0,g,h,!0),b=[];if(!_||_.next===_.prev)return b;var $,j,_e,et,rt,tt,nt;if(d&&(_=eliminateHoles$1(o,e,_,h)),o.length>80*h){$=_e=o[0],j=et=o[1];for(var st=h;st<g;st+=h)rt=o[st],tt=o[st+1],rt<$&&($=rt),tt<j&&(j=tt),rt>_e&&(_e=rt),tt>et&&(et=tt);nt=Math.max(_e-$,et-j),nt=nt!==0?32767/nt:0}return earcutLinked$1(_,b,h,$,j,nt,0),b}function linkedList$1(o,e,h,d,g){var _,b;if(g===signedArea$1(o,e,h,d)>0)for(_=e;_<h;_+=d)b=insertNode$1(_,o[_],o[_+1],b);else for(_=h-d;_>=e;_-=d)b=insertNode$1(_,o[_],o[_+1],b);return b&&equals$1(b,b.next)&&(removeNode$1(b),b=b.next),b}function filterPoints$1(o,e){if(!o)return o;e||(e=o);var h=o,d;do if(d=!1,!h.steiner&&(equals$1(h,h.next)||area$1(h.prev,h,h.next)===0)){if(removeNode$1(h),h=e=h.prev,h===h.next)break;d=!0}else h=h.next;while(d||h!==e);return e}function earcutLinked$1(o,e,h,d,g,_,b){if(!!o){!b&&_&&indexCurve$1(o,d,g,_);for(var $=o,j,_e;o.prev!==o.next;){if(j=o.prev,_e=o.next,_?isEarHashed$1(o,d,g,_):isEar$1(o)){e.push(j.i/h|0),e.push(o.i/h|0),e.push(_e.i/h|0),removeNode$1(o),o=_e.next,$=_e.next;continue}if(o=_e,o===$){b?b===1?(o=cureLocalIntersections$1(filterPoints$1(o),e,h),earcutLinked$1(o,e,h,d,g,_,2)):b===2&&splitEarcut$1(o,e,h,d,g,_):earcutLinked$1(filterPoints$1(o),e,h,d,g,_,1);break}}}}function isEar$1(o){var e=o.prev,h=o,d=o.next;if(area$1(e,h,d)>=0)return!1;for(var g=e.x,_=h.x,b=d.x,$=e.y,j=h.y,_e=d.y,et=g<_?g<b?g:b:_<b?_:b,rt=$<j?$<_e?$:_e:j<_e?j:_e,tt=g>_?g>b?g:b:_>b?_:b,nt=$>j?$>_e?$:_e:j>_e?j:_e,st=d.next;st!==e;){if(st.x>=et&&st.x<=tt&&st.y>=rt&&st.y<=nt&&pointInTriangle$1(g,$,_,j,b,_e,st.x,st.y)&&area$1(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function isEarHashed$1(o,e,h,d){var g=o.prev,_=o,b=o.next;if(area$1(g,_,b)>=0)return!1;for(var $=g.x,j=_.x,_e=b.x,et=g.y,rt=_.y,tt=b.y,nt=$<j?$<_e?$:_e:j<_e?j:_e,st=et<rt?et<tt?et:tt:rt<tt?rt:tt,at=$>j?$>_e?$:_e:j>_e?j:_e,ct=et>rt?et>tt?et:tt:rt>tt?rt:tt,it=zOrder$1(nt,st,e,h,d),lt=zOrder$1(at,ct,e,h,d),ht=o.prevZ,ut=o.nextZ;ht&&ht.z>=it&&ut&&ut.z<=lt;){if(ht.x>=nt&&ht.x<=at&&ht.y>=st&&ht.y<=ct&&ht!==g&&ht!==b&&pointInTriangle$1($,et,j,rt,_e,tt,ht.x,ht.y)&&area$1(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,ut.x>=nt&&ut.x<=at&&ut.y>=st&&ut.y<=ct&&ut!==g&&ut!==b&&pointInTriangle$1($,et,j,rt,_e,tt,ut.x,ut.y)&&area$1(ut.prev,ut,ut.next)>=0))return!1;ut=ut.nextZ}for(;ht&&ht.z>=it;){if(ht.x>=nt&&ht.x<=at&&ht.y>=st&&ht.y<=ct&&ht!==g&&ht!==b&&pointInTriangle$1($,et,j,rt,_e,tt,ht.x,ht.y)&&area$1(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;ut&&ut.z<=lt;){if(ut.x>=nt&&ut.x<=at&&ut.y>=st&&ut.y<=ct&&ut!==g&&ut!==b&&pointInTriangle$1($,et,j,rt,_e,tt,ut.x,ut.y)&&area$1(ut.prev,ut,ut.next)>=0)return!1;ut=ut.nextZ}return!0}function cureLocalIntersections$1(o,e,h){var d=o;do{var g=d.prev,_=d.next.next;!equals$1(g,_)&&intersects$1(g,d,d.next,_)&&locallyInside$1(g,_)&&locallyInside$1(_,g)&&(e.push(g.i/h|0),e.push(d.i/h|0),e.push(_.i/h|0),removeNode$1(d),removeNode$1(d.next),d=o=_),d=d.next}while(d!==o);return filterPoints$1(d)}function splitEarcut$1(o,e,h,d,g,_){var b=o;do{for(var $=b.next.next;$!==b.prev;){if(b.i!==$.i&&isValidDiagonal$1(b,$)){var j=splitPolygon$1(b,$);b=filterPoints$1(b,b.next),j=filterPoints$1(j,j.next),earcutLinked$1(b,e,h,d,g,_,0),earcutLinked$1(j,e,h,d,g,_,0);return}$=$.next}b=b.next}while(b!==o)}function eliminateHoles$1(o,e,h,d){var g=[],_,b,$,j,_e;for(_=0,b=e.length;_<b;_++)$=e[_]*d,j=_<b-1?e[_+1]*d:o.length,_e=linkedList$1(o,$,j,d,!1),_e===_e.next&&(_e.steiner=!0),g.push(getLeftmost$1(_e));for(g.sort(compareX$1),_=0;_<g.length;_++)h=eliminateHole$1(g[_],h);return h}function compareX$1(o,e){return o.x-e.x}function eliminateHole$1(o,e){var h=findHoleBridge$1(o,e);if(!h)return e;var d=splitPolygon$1(h,o);return filterPoints$1(d,d.next),filterPoints$1(h,h.next)}function findHoleBridge$1(o,e){var h=e,d=o.x,g=o.y,_=-1/0,b;do{if(g<=h.y&&g>=h.next.y&&h.next.y!==h.y){var $=h.x+(g-h.y)*(h.next.x-h.x)/(h.next.y-h.y);if($<=d&&$>_&&(_=$,b=h.x<h.next.x?h:h.next,$===d))return b}h=h.next}while(h!==e);if(!b)return null;var j=b,_e=b.x,et=b.y,rt=1/0,tt;h=b;do d>=h.x&&h.x>=_e&&d!==h.x&&pointInTriangle$1(g<et?d:_,g,_e,et,g<et?_:d,g,h.x,h.y)&&(tt=Math.abs(g-h.y)/(d-h.x),locallyInside$1(h,o)&&(tt<rt||tt===rt&&(h.x>b.x||h.x===b.x&&sectorContainsSector$1(b,h)))&&(b=h,rt=tt)),h=h.next;while(h!==j);return b}function sectorContainsSector$1(o,e){return area$1(o.prev,o,e.prev)<0&&area$1(e.next,o,o.next)<0}function indexCurve$1(o,e,h,d){var g=o;do g.z===0&&(g.z=zOrder$1(g.x,g.y,e,h,d)),g.prevZ=g.prev,g.nextZ=g.next,g=g.next;while(g!==o);g.prevZ.nextZ=null,g.prevZ=null,sortLinked$1(g)}function sortLinked$1(o){var e,h,d,g,_,b,$,j,_e=1;do{for(h=o,o=null,_=null,b=0;h;){for(b++,d=h,$=0,e=0;e<_e&&($++,d=d.nextZ,!!d);e++);for(j=_e;$>0||j>0&&d;)$!==0&&(j===0||!d||h.z<=d.z)?(g=h,h=h.nextZ,$--):(g=d,d=d.nextZ,j--),_?_.nextZ=g:o=g,g.prevZ=_,_=g;h=d}_.nextZ=null,_e*=2}while(b>1);return o}function zOrder$1(o,e,h,d,g){return o=(o-h)*g|0,e=(e-d)*g|0,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,o|e<<1}function getLeftmost$1(o){var e=o,h=o;do(e.x<h.x||e.x===h.x&&e.y<h.y)&&(h=e),e=e.next;while(e!==o);return h}function pointInTriangle$1(o,e,h,d,g,_,b,$){return(g-b)*(e-$)>=(o-b)*(_-$)&&(o-b)*(d-$)>=(h-b)*(e-$)&&(h-b)*(_-$)>=(g-b)*(d-$)}function isValidDiagonal$1(o,e){return o.next.i!==e.i&&o.prev.i!==e.i&&!intersectsPolygon$1(o,e)&&(locallyInside$1(o,e)&&locallyInside$1(e,o)&&middleInside$1(o,e)&&(area$1(o.prev,o,e.prev)||area$1(o,e.prev,e))||equals$1(o,e)&&area$1(o.prev,o,o.next)>0&&area$1(e.prev,e,e.next)>0)}function area$1(o,e,h){return(e.y-o.y)*(h.x-e.x)-(e.x-o.x)*(h.y-e.y)}function equals$1(o,e){return o.x===e.x&&o.y===e.y}function intersects$1(o,e,h,d){var g=sign$2(area$1(o,e,h)),_=sign$2(area$1(o,e,d)),b=sign$2(area$1(h,d,o)),$=sign$2(area$1(h,d,e));return!!(g!==_&&b!==$||g===0&&onSegment$1(o,h,e)||_===0&&onSegment$1(o,d,e)||b===0&&onSegment$1(h,o,d)||$===0&&onSegment$1(h,e,d))}function onSegment$1(o,e,h){return e.x<=Math.max(o.x,h.x)&&e.x>=Math.min(o.x,h.x)&&e.y<=Math.max(o.y,h.y)&&e.y>=Math.min(o.y,h.y)}function sign$2(o){return o>0?1:o<0?-1:0}function intersectsPolygon$1(o,e){var h=o;do{if(h.i!==o.i&&h.next.i!==o.i&&h.i!==e.i&&h.next.i!==e.i&&intersects$1(h,h.next,o,e))return!0;h=h.next}while(h!==o);return!1}function locallyInside$1(o,e){return area$1(o.prev,o,o.next)<0?area$1(o,e,o.next)>=0&&area$1(o,o.prev,e)>=0:area$1(o,e,o.prev)<0||area$1(o,o.next,e)<0}function middleInside$1(o,e){var h=o,d=!1,g=(o.x+e.x)/2,_=(o.y+e.y)/2;do h.y>_!=h.next.y>_&&h.next.y!==h.y&&g<(h.next.x-h.x)*(_-h.y)/(h.next.y-h.y)+h.x&&(d=!d),h=h.next;while(h!==o);return d}function splitPolygon$1(o,e){var h=new Node$1(o.i,o.x,o.y),d=new Node$1(e.i,e.x,e.y),g=o.next,_=e.prev;return o.next=e,e.prev=o,h.next=g,g.prev=h,d.next=h,h.prev=d,_.next=d,d.prev=_,d}function insertNode$1(o,e,h,d){var g=new Node$1(o,e,h);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function removeNode$1(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Node$1(o,e,h){this.i=o,this.x=e,this.y=h,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(o,e,h,d){var g=e&&e.length,_=g?e[0]*h:o.length,b=Math.abs(signedArea$1(o,0,_,h));if(g)for(var $=0,j=e.length;$<j;$++){var _e=e[$]*h,et=$<j-1?e[$+1]*h:o.length;b-=Math.abs(signedArea$1(o,_e,et,h))}var rt=0;for($=0;$<d.length;$+=3){var tt=d[$]*h,nt=d[$+1]*h,st=d[$+2]*h;rt+=Math.abs((o[tt]-o[st])*(o[nt+1]-o[tt+1])-(o[tt]-o[nt])*(o[st+1]-o[tt+1]))}return b===0&&rt===0?0:Math.abs((rt-b)/b)};function signedArea$1(o,e,h,d){for(var g=0,_=e,b=h-d;_<h;_+=d)g+=(o[b]-o[_])*(o[_+1]+o[b+1]),b=_;return g}earcut.flatten=function(o){for(var e=o[0][0].length,h={vertices:[],holes:[],dimensions:e},d=0,g=0;g<o.length;g++){for(var _=0;_<o[g].length;_++)for(var b=0;b<e;b++)h.vertices.push(o[g][_][b]);g>0&&(d+=o[g-1].length,h.holes.push(d))}return h};var earcut$1=earcut$2.exports,punycode$1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */(function(o,e){(function(h){var d=e&&!e.nodeType&&e,g=o&&!o.nodeType&&o,_=typeof commonjsGlobal=="object"&&commonjsGlobal;(_.global===_||_.window===_||_.self===_)&&(h=_);var b,$=2147483647,j=36,_e=1,et=26,rt=38,tt=700,nt=72,st=128,at="-",ct=/^xn--/,it=/[^\x20-\x7E]/,lt=/[\x2E\u3002\uFF0E\uFF61]/g,ht={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=j-_e,dt=Math.floor,pt=String.fromCharCode,mt;function yt(Rt){throw new RangeError(ht[Rt])}function xt(Rt,Ot){for(var Gt=Rt.length,Qt=[];Gt--;)Qt[Gt]=Ot(Rt[Gt]);return Qt}function Tt(Rt,Ot){var Gt=Rt.split("@"),Qt="";Gt.length>1&&(Qt=Gt[0]+"@",Rt=Gt[1]),Rt=Rt.replace(lt,".");var ir=Rt.split("."),tr=xt(ir,Ot).join(".");return Qt+tr}function _t(Rt){for(var Ot=[],Gt=0,Qt=Rt.length,ir,tr;Gt<Qt;)ir=Rt.charCodeAt(Gt++),ir>=55296&&ir<=56319&&Gt<Qt?(tr=Rt.charCodeAt(Gt++),(tr&64512)==56320?Ot.push(((ir&1023)<<10)+(tr&1023)+65536):(Ot.push(ir),Gt--)):Ot.push(ir);return Ot}function Mt(Rt){return xt(Rt,function(Ot){var Gt="";return Ot>65535&&(Ot-=65536,Gt+=pt(Ot>>>10&1023|55296),Ot=56320|Ot&1023),Gt+=pt(Ot),Gt}).join("")}function Lt(Rt){return Rt-48<10?Rt-22:Rt-65<26?Rt-65:Rt-97<26?Rt-97:j}function Pt(Rt,Ot){return Rt+22+75*(Rt<26)-((Ot!=0)<<5)}function It(Rt,Ot,Gt){var Qt=0;for(Rt=Gt?dt(Rt/tt):Rt>>1,Rt+=dt(Rt/Ot);Rt>ut*et>>1;Qt+=j)Rt=dt(Rt/ut);return dt(Qt+(ut+1)*Rt/(Rt+rt))}function Et(Rt){var Ot=[],Gt=Rt.length,Qt,ir=0,tr=st,Wt=nt,wr,Lr,Er,Ar,yr,Yt,Xt,ur,br;for(wr=Rt.lastIndexOf(at),wr<0&&(wr=0),Lr=0;Lr<wr;++Lr)Rt.charCodeAt(Lr)>=128&&yt("not-basic"),Ot.push(Rt.charCodeAt(Lr));for(Er=wr>0?wr+1:0;Er<Gt;){for(Ar=ir,yr=1,Yt=j;Er>=Gt&&yt("invalid-input"),Xt=Lt(Rt.charCodeAt(Er++)),(Xt>=j||Xt>dt(($-ir)/yr))&&yt("overflow"),ir+=Xt*yr,ur=Yt<=Wt?_e:Yt>=Wt+et?et:Yt-Wt,!(Xt<ur);Yt+=j)br=j-ur,yr>dt($/br)&&yt("overflow"),yr*=br;Qt=Ot.length+1,Wt=It(ir-Ar,Qt,Ar==0),dt(ir/Qt)>$-tr&&yt("overflow"),tr+=dt(ir/Qt),ir%=Qt,Ot.splice(ir++,0,tr)}return Mt(Ot)}function Ct(Rt){var Ot,Gt,Qt,ir,tr,Wt,wr,Lr,Er,Ar,yr,Yt=[],Xt,ur,br,_r;for(Rt=_t(Rt),Xt=Rt.length,Ot=st,Gt=0,tr=nt,Wt=0;Wt<Xt;++Wt)yr=Rt[Wt],yr<128&&Yt.push(pt(yr));for(Qt=ir=Yt.length,ir&&Yt.push(at);Qt<Xt;){for(wr=$,Wt=0;Wt<Xt;++Wt)yr=Rt[Wt],yr>=Ot&&yr<wr&&(wr=yr);for(ur=Qt+1,wr-Ot>dt(($-Gt)/ur)&&yt("overflow"),Gt+=(wr-Ot)*ur,Ot=wr,Wt=0;Wt<Xt;++Wt)if(yr=Rt[Wt],yr<Ot&&++Gt>$&&yt("overflow"),yr==Ot){for(Lr=Gt,Er=j;Ar=Er<=tr?_e:Er>=tr+et?et:Er-tr,!(Lr<Ar);Er+=j)_r=Lr-Ar,br=j-Ar,Yt.push(pt(Pt(Ar+_r%br,0))),Lr=dt(_r/br);Yt.push(pt(Pt(Lr,0))),tr=It(Gt,ur,Qt==ir),Gt=0,++Qt}++Gt,++Ot}return Yt.join("")}function St(Rt){return Tt(Rt,function(Ot){return ct.test(Ot)?Et(Ot.slice(4).toLowerCase()):Ot})}function At(Rt){return Tt(Rt,function(Ot){return it.test(Ot)?"xn--"+Ct(Ot):Ot})}if(b={version:"1.4.1",ucs2:{decode:_t,encode:Mt},decode:Et,encode:Ct,toASCII:At,toUnicode:St},d&&g)if(o.exports==d)g.exports=b;else for(mt in b)b.hasOwnProperty(mt)&&(d[mt]=b[mt]);else h.punycode=b})(commonjsGlobal)})(punycode$1,punycode$1.exports);var shams=function o(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},h=Symbol("test"),d=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(d)!=="[object Symbol]")return!1;var g=42;e[h]=g;for(h in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var _=Object.getOwnPropertySymbols(e);if(_.length!==1||_[0]!==h||!Object.prototype.propertyIsEnumerable.call(e,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var b=Object.getOwnPropertyDescriptor(e,h);if(b.value!==g||b.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function o(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$1=function o(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$1=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function o(e,h){for(var d=[],g=0;g<e.length;g+=1)d[g]=e[g];for(var _=0;_<h.length;_+=1)d[_+e.length]=h[_];return d},slicy=function o(e,h){for(var d=[],g=h||0,_=0;g<e.length;g+=1,_+=1)d[_]=e[g];return d},joiny=function(o,e){for(var h="",d=0;d<o.length;d+=1)h+=o[d],d+1<o.length&&(h+=e);return h},implementation$1=function o(e){var h=this;if(typeof h!="function"||toStr$1.apply(h)!==funcType)throw new TypeError(ERROR_MESSAGE+h);for(var d=slicy(arguments,1),g,_=function(){if(this instanceof g){var et=h.apply(this,concatty(d,arguments));return Object(et)===et?et:this}return h.apply(e,concatty(d,arguments))},b=max(0,h.length-d.length),$=[],j=0;j<b;j++)$[j]="$"+j;if(g=Function("binder","return function ("+joiny($,",")+"){ return binder.apply(this,arguments); }")(_),h.prototype){var _e=function(){};_e.prototype=h.prototype,g.prototype=new _e,_e.prototype=null}return g},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$SyntaxError$1=SyntaxError,$Function=Function,$TypeError$3=TypeError,getEvalledConstructor=function(o){try{return $Function('"use strict"; return ('+o+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto=Object.getPrototypeOf||(hasProto?function(o){return o.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array=="undefined"||!getProto?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols||!getProto?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols||!getProto?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet};if(getProto)try{null.error}catch(o){var errorProto=getProto(getProto(o));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function o(e){var h;if(e==="%AsyncFunction%")h=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")h=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")h=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var d=o("%AsyncGeneratorFunction%");d&&(h=d.prototype)}else if(e==="%AsyncIteratorPrototype%"){var g=o("%AsyncGenerator%");g&&getProto&&(h=getProto(g.prototype))}return INTRINSICS[e]=h,h},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=hasown,$concat$1=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace$1=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function o(e){var h=$strSlice(e,0,1),d=$strSlice(e,-1);if(h==="%"&&d!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(d==="%"&&h!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var g=[];return $replace$1(e,rePropName,function(_,b,$,j){g[g.length]=$?$replace$1(j,reEscapeChar,"$1"):b||_}),g},getBaseIntrinsic=function o(e,h){var d=e,g;if(hasOwn$1(LEGACY_ALIASES,d)&&(g=LEGACY_ALIASES[d],d="%"+g[0]+"%"),hasOwn$1(INTRINSICS,d)){var _=INTRINSICS[d];if(_===needsEval&&(_=doEval(d)),typeof _=="undefined"&&!h)throw new $TypeError$3("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:g,name:d,value:_}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function o(e,h){if(typeof e!="string"||e.length===0)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof h!="boolean")throw new $TypeError$3('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var d=stringToPath(e),g=d.length>0?d[0]:"",_=getBaseIntrinsic("%"+g+"%",h),b=_.name,$=_.value,j=!1,_e=_.alias;_e&&(g=_e[0],$spliceApply(d,$concat$1([0,1],_e)));for(var et=1,rt=!0;et<d.length;et+=1){var tt=d[et],nt=$strSlice(tt,0,1),st=$strSlice(tt,-1);if((nt==='"'||nt==="'"||nt==="`"||st==='"'||st==="'"||st==="`")&&nt!==st)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((tt==="constructor"||!rt)&&(j=!0),g+="."+tt,b="%"+g+"%",hasOwn$1(INTRINSICS,b))$=INTRINSICS[b];else if($!=null){if(!(tt in $)){if(!h)throw new $TypeError$3("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&et+1>=d.length){var at=$gOPD$1($,tt);rt=!!at,rt&&"get"in at&&!("originalValue"in at.get)?$=at.get:$=$[tt]}else rt=hasOwn$1($,tt),$=$[tt];rt&&!j&&(INTRINSICS[b]=$)}}return $},callBind$1={exports:{}},GetIntrinsic$5=getIntrinsic,$defineProperty$1=GetIntrinsic$5("%Object.defineProperty%",!0),hasPropertyDescriptors$1=function o(){if($defineProperty$1)try{return $defineProperty$1({},"a",{value:1}),!0}catch{return!1}return!1};hasPropertyDescriptors$1.hasArrayLengthDefineBug=function o(){if(!hasPropertyDescriptors$1())return null;try{return $defineProperty$1([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors$1,GetIntrinsic$4=getIntrinsic,$gOPD=GetIntrinsic$4("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,hasPropertyDescriptors=hasPropertyDescriptors_1(),GetIntrinsic$3=getIntrinsic,$defineProperty=hasPropertyDescriptors&&GetIntrinsic$3("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}var $SyntaxError=GetIntrinsic$3("%SyntaxError%"),$TypeError$2=GetIntrinsic$3("%TypeError%"),gopd=gopd$1,defineDataProperty=function o(e,h,d){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$2("`obj` must be an object or a function`");if(typeof h!="string"&&typeof h!="symbol")throw new $TypeError$2("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$2("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$2("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$2("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$2("`loose`, if provided, must be a boolean");var g=arguments.length>3?arguments[3]:null,_=arguments.length>4?arguments[4]:null,b=arguments.length>5?arguments[5]:null,$=arguments.length>6?arguments[6]:!1,j=!!gopd&&gopd(e,h);if($defineProperty)$defineProperty(e,h,{configurable:b===null&&j?j.configurable:!b,enumerable:g===null&&j?j.enumerable:!g,value:d,writable:_===null&&j?j.writable:!_});else if($||!g&&!_&&!b)e[h]=d;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GetIntrinsic$2=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD=gopd$1,$TypeError$1=GetIntrinsic$2("%TypeError%"),$floor$1=GetIntrinsic$2("%Math.floor%"),setFunctionLength=function o(e,h){if(typeof e!="function")throw new $TypeError$1("`fn` is not a function");if(typeof h!="number"||h<0||h>4294967295||$floor$1(h)!==h)throw new $TypeError$1("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],g=!0,_=!0;if("length"in e&&gOPD){var b=gOPD(e,"length");b&&!b.configurable&&(g=!1),b&&!b.writable&&(_=!1)}return(g||_||!d)&&(hasDescriptors?define(e,"length",h,!0,!0):define(e,"length",h)),e};(function(o){var e=functionBind,h=getIntrinsic,d=setFunctionLength,g=h("%TypeError%"),_=h("%Function.prototype.apply%"),b=h("%Function.prototype.call%"),$=h("%Reflect.apply%",!0)||e.call(b,_),j=h("%Object.defineProperty%",!0),_e=h("%Math.max%");if(j)try{j({},"a",{value:1})}catch{j=null}o.exports=function(tt){if(typeof tt!="function")throw new g("a function is required");var nt=$(e,b,arguments);return d(nt,1+_e(0,tt.length-(arguments.length-1)),!0)};var et=function(){return $(e,_,arguments)};j?j(o.exports,"apply",{value:et}):o.exports.apply=et})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function o(e,h){var d=GetIntrinsic$1(e,!!h);return typeof d=="function"&&$indexOf(e,".prototype.")>-1?callBind(d):d},hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize$1=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(o){return o.__proto__}:null);function addNumericSeparator(o,e){if(o===1/0||o===-1/0||o!==o||o&&o>-1e3&&o<1e3||$test.call(/e/,e))return e;var h=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof o=="number"){var d=o<0?-$floor(-o):$floor(o);if(d!==o){var g=String(d),_=$slice.call(e,g.length+1);return $replace.call(g,h,"$&_")+"."+$replace.call($replace.call(_,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(e,h,"$&_")}var utilInspect=require$$0,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function o(e,h,d,g){var _=h||{};if(has$3(_,"quoteStyle")&&_.quoteStyle!=="single"&&_.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(_,"maxStringLength")&&(typeof _.maxStringLength=="number"?_.maxStringLength<0&&_.maxStringLength!==1/0:_.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var b=has$3(_,"customInspect")?_.customInspect:!0;if(typeof b!="boolean"&&b!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(_,"indent")&&_.indent!==null&&_.indent!=="	"&&!(parseInt(_.indent,10)===_.indent&&_.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(_,"numericSeparator")&&typeof _.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $=_.numericSeparator;if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return inspectString(e,_);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var j=String(e);return $?addNumericSeparator(e,j):j}if(typeof e=="bigint"){var _e=String(e)+"n";return $?addNumericSeparator(e,_e):_e}var et=typeof _.depth=="undefined"?5:_.depth;if(typeof d=="undefined"&&(d=0),d>=et&&et>0&&typeof e=="object")return isArray$3(e)?"[Array]":"[Object]";var rt=getIndent(_,d);if(typeof g=="undefined")g=[];else if(indexOf(g,e)>=0)return"[Circular]";function tt(Lt,Pt,It){if(Pt&&(g=$arrSlice.call(g),g.push(Pt)),It){var Et={depth:_.depth};return has$3(_,"quoteStyle")&&(Et.quoteStyle=_.quoteStyle),o(Lt,Et,d+1,g)}return o(Lt,_,d+1,g)}if(typeof e=="function"&&!isRegExp$1(e)){var nt=nameOf(e),st=arrObjKeys(e,tt);return"[Function"+(nt?": "+nt:" (anonymous)")+"]"+(st.length>0?" { "+$join.call(st,", ")+" }":"")}if(isSymbol(e)){var at=hasShammedSymbols?$replace.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(e);return typeof e=="object"&&!hasShammedSymbols?markBoxed(at):at}if(isElement(e)){for(var ct="<"+$toLowerCase.call(String(e.nodeName)),it=e.attributes||[],lt=0;lt<it.length;lt++)ct+=" "+it[lt].name+"="+wrapQuotes(quote(it[lt].value),"double",_);return ct+=">",e.childNodes&&e.childNodes.length&&(ct+="..."),ct+="</"+$toLowerCase.call(String(e.nodeName))+">",ct}if(isArray$3(e)){if(e.length===0)return"[]";var ht=arrObjKeys(e,tt);return rt&&!singleLineValues(ht)?"["+indentedJoin(ht,rt)+"]":"[ "+$join.call(ht,", ")+" ]"}if(isError(e)){var ut=arrObjKeys(e,tt);return!("cause"in Error.prototype)&&"cause"in e&&!isEnumerable.call(e,"cause")?"{ ["+String(e)+"] "+$join.call($concat.call("[cause]: "+tt(e.cause),ut),", ")+" }":ut.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$join.call(ut,", ")+" }"}if(typeof e=="object"&&b){if(inspectSymbol&&typeof e[inspectSymbol]=="function"&&utilInspect)return utilInspect(e,{depth:et-d});if(b!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(isMap(e)){var dt=[];return mapForEach&&mapForEach.call(e,function(Lt,Pt){dt.push(tt(Pt,e,!0)+" => "+tt(Lt,e))}),collectionOf("Map",mapSize$1.call(e),dt,rt)}if(isSet(e)){var pt=[];return setForEach&&setForEach.call(e,function(Lt){pt.push(tt(Lt,e))}),collectionOf("Set",setSize.call(e),pt,rt)}if(isWeakMap(e))return weakCollectionOf("WeakMap");if(isWeakSet(e))return weakCollectionOf("WeakSet");if(isWeakRef(e))return weakCollectionOf("WeakRef");if(isNumber(e))return markBoxed(tt(Number(e)));if(isBigInt(e))return markBoxed(tt(bigIntValueOf.call(e)));if(isBoolean(e))return markBoxed(booleanValueOf.call(e));if(isString(e))return markBoxed(tt(String(e)));if(typeof window!="undefined"&&e===window)return"{ [object Window] }";if(e===commonjsGlobal)return"{ [object globalThis] }";if(!isDate(e)&&!isRegExp$1(e)){var mt=arrObjKeys(e,tt),yt=gPO?gPO(e)===Object.prototype:e instanceof Object||e.constructor===Object,xt=e instanceof Object?"":"null prototype",Tt=!yt&&toStringTag&&Object(e)===e&&toStringTag in e?$slice.call(toStr(e),8,-1):xt?"Object":"",_t=yt||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Mt=_t+(Tt||xt?"["+$join.call($concat.call([],Tt||[],xt||[]),": ")+"] ":"");return mt.length===0?Mt+"{}":rt?Mt+"{"+indentedJoin(mt,rt)+"}":Mt+"{ "+$join.call(mt,", ")+" }"}return String(e)};function wrapQuotes(o,e,h){var d=(h.quoteStyle||e)==="double"?'"':"'";return d+o+d}function quote(o){return $replace.call(String(o),/"/g,"&quot;")}function isArray$3(o){return toStr(o)==="[object Array]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isDate(o){return toStr(o)==="[object Date]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isRegExp$1(o){return toStr(o)==="[object RegExp]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isError(o){return toStr(o)==="[object Error]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isString(o){return toStr(o)==="[object String]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isNumber(o){return toStr(o)==="[object Number]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isBoolean(o){return toStr(o)==="[object Boolean]"&&(!toStringTag||!(typeof o=="object"&&toStringTag in o))}function isSymbol(o){if(hasShammedSymbols)return o&&typeof o=="object"&&o instanceof Symbol;if(typeof o=="symbol")return!0;if(!o||typeof o!="object"||!symToString)return!1;try{return symToString.call(o),!0}catch{}return!1}function isBigInt(o){if(!o||typeof o!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(o),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(o){return o in this};function has$3(o,e){return hasOwn.call(o,e)}function toStr(o){return objectToString.call(o)}function nameOf(o){if(o.name)return o.name;var e=$match.call(functionToString.call(o),/^function\s*([\w$]+)/);return e?e[1]:null}function indexOf(o,e){if(o.indexOf)return o.indexOf(e);for(var h=0,d=o.length;h<d;h++)if(o[h]===e)return h;return-1}function isMap(o){if(!mapSize$1||!o||typeof o!="object")return!1;try{mapSize$1.call(o);try{setSize.call(o)}catch{return!0}return o instanceof Map}catch{}return!1}function isWeakMap(o){if(!weakMapHas||!o||typeof o!="object")return!1;try{weakMapHas.call(o,weakMapHas);try{weakSetHas.call(o,weakSetHas)}catch{return!0}return o instanceof WeakMap}catch{}return!1}function isWeakRef(o){if(!weakRefDeref||!o||typeof o!="object")return!1;try{return weakRefDeref.call(o),!0}catch{}return!1}function isSet(o){if(!setSize||!o||typeof o!="object")return!1;try{setSize.call(o);try{mapSize$1.call(o)}catch{return!0}return o instanceof Set}catch{}return!1}function isWeakSet(o){if(!weakSetHas||!o||typeof o!="object")return!1;try{weakSetHas.call(o,weakSetHas);try{weakMapHas.call(o,weakMapHas)}catch{return!0}return o instanceof WeakSet}catch{}return!1}function isElement(o){return!o||typeof o!="object"?!1:typeof HTMLElement!="undefined"&&o instanceof HTMLElement?!0:typeof o.nodeName=="string"&&typeof o.getAttribute=="function"}function inspectString(o,e){if(o.length>e.maxStringLength){var h=o.length-e.maxStringLength,d="... "+h+" more character"+(h>1?"s":"");return inspectString($slice.call(o,0,e.maxStringLength),e)+d}var g=$replace.call($replace.call(o,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(g,"single",e)}function lowbyte(o){var e=o.charCodeAt(0),h={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return h?"\\"+h:"\\x"+(e<16?"0":"")+$toUpperCase.call(e.toString(16))}function markBoxed(o){return"Object("+o+")"}function weakCollectionOf(o){return o+" { ? }"}function collectionOf(o,e,h,d){var g=d?indentedJoin(h,d):$join.call(h,", ");return o+" ("+e+") {"+g+"}"}function singleLineValues(o){for(var e=0;e<o.length;e++)if(indexOf(o[e],`
`)>=0)return!1;return!0}function getIndent(o,e){var h;if(o.indent==="	")h="	";else if(typeof o.indent=="number"&&o.indent>0)h=$join.call(Array(o.indent+1)," ");else return null;return{base:h,prev:$join.call(Array(e+1),h)}}function indentedJoin(o,e){if(o.length===0)return"";var h=`
`+e.prev+e.base;return h+$join.call(o,","+h)+`
`+e.prev}function arrObjKeys(o,e){var h=isArray$3(o),d=[];if(h){d.length=o.length;for(var g=0;g<o.length;g++)d[g]=has$3(o,g)?e(o[g],o):""}var _=typeof gOPS=="function"?gOPS(o):[],b;if(hasShammedSymbols){b={};for(var $=0;$<_.length;$++)b["$"+_[$]]=_[$]}for(var j in o)!has$3(o,j)||h&&String(Number(j))===j&&j<o.length||hasShammedSymbols&&b["$"+j]instanceof Symbol||($test.call(/[^\w$]/,j)?d.push(e(j,o)+": "+e(o[j],o)):d.push(j+": "+e(o[j],o)));if(typeof gOPS=="function")for(var _e=0;_e<_.length;_e++)isEnumerable.call(o,_[_e])&&d.push("["+e(_[_e])+"]: "+e(o[_[_e]],o));return d}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(o,e){for(var h=o,d;(d=h.next)!==null;h=d)if(d.key===e)return h.next=d.next,d.next=o.next,o.next=d,d},listGet=function(o,e){var h=listGetNode(o,e);return h&&h.value},listSet=function(o,e,h){var d=listGetNode(o,e);d?d.value=h:o.next={key:e,next:o.next,value:h}},listHas=function(o,e){return!!listGetNode(o,e)},sideChannel=function o(){var e,h,d,g={assert:function(_){if(!g.has(_))throw new $TypeError("Side channel does not contain "+inspect(_))},get:function(_){if($WeakMap&&_&&(typeof _=="object"||typeof _=="function")){if(e)return $weakMapGet(e,_)}else if($Map){if(h)return $mapGet(h,_)}else if(d)return listGet(d,_)},has:function(_){if($WeakMap&&_&&(typeof _=="object"||typeof _=="function")){if(e)return $weakMapHas(e,_)}else if($Map){if(h)return $mapHas(h,_)}else if(d)return listHas(d,_);return!1},set:function(_,b){$WeakMap&&_&&(typeof _=="object"||typeof _=="function")?(e||(e=new $WeakMap),$weakMapSet(e,_,b)):$Map?(h||(h=new $Map),$mapSet(h,_,b)):(d||(d={key:{},next:null}),listSet(d,_,b))}};return g},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$4={default:Format.RFC3986,formatters:{RFC1738:function(o){return replace.call(o,percentTwenties,"+")},RFC3986:function(o){return String(o)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$3=formats$4,has$2=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var o=[],e=0;e<256;++e)o.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return o}(),compactQueue=function o(e){for(;e.length>1;){var h=e.pop(),d=h.obj[h.prop];if(isArray$2(d)){for(var g=[],_=0;_<d.length;++_)typeof d[_]!="undefined"&&g.push(d[_]);h.obj[h.prop]=g}}},arrayToObject=function o(e,h){for(var d=h&&h.plainObjects?Object.create(null):{},g=0;g<e.length;++g)typeof e[g]!="undefined"&&(d[g]=e[g]);return d},merge=function o(e,h,d){if(!h)return e;if(typeof h!="object"){if(isArray$2(e))e.push(h);else if(e&&typeof e=="object")(d&&(d.plainObjects||d.allowPrototypes)||!has$2.call(Object.prototype,h))&&(e[h]=!0);else return[e,h];return e}if(!e||typeof e!="object")return[e].concat(h);var g=e;return isArray$2(e)&&!isArray$2(h)&&(g=arrayToObject(e,d)),isArray$2(e)&&isArray$2(h)?(h.forEach(function(_,b){if(has$2.call(e,b)){var $=e[b];$&&typeof $=="object"&&_&&typeof _=="object"?e[b]=o($,_,d):e.push(_)}else e[b]=_}),e):Object.keys(h).reduce(function(_,b){var $=h[b];return has$2.call(_,b)?_[b]=o(_[b],$,d):_[b]=$,_},g)},assign=function o(e,h){return Object.keys(h).reduce(function(d,g){return d[g]=h[g],d},e)},decode$3=function(o,e,h){var d=o.replace(/\+/g," ");if(h==="iso-8859-1")return d.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(d)}catch{return d}},encode$2=function o(e,h,d,g,_){if(e.length===0)return e;var b=e;if(typeof e=="symbol"?b=Symbol.prototype.toString.call(e):typeof e!="string"&&(b=String(e)),d==="iso-8859-1")return escape(b).replace(/%u[0-9a-f]{4}/gi,function(et){return"%26%23"+parseInt(et.slice(2),16)+"%3B"});for(var $="",j=0;j<b.length;++j){var _e=b.charCodeAt(j);if(_e===45||_e===46||_e===95||_e===126||_e>=48&&_e<=57||_e>=65&&_e<=90||_e>=97&&_e<=122||_===formats$3.RFC1738&&(_e===40||_e===41)){$+=b.charAt(j);continue}if(_e<128){$=$+hexTable[_e];continue}if(_e<2048){$=$+(hexTable[192|_e>>6]+hexTable[128|_e&63]);continue}if(_e<55296||_e>=57344){$=$+(hexTable[224|_e>>12]+hexTable[128|_e>>6&63]+hexTable[128|_e&63]);continue}j+=1,_e=65536+((_e&1023)<<10|b.charCodeAt(j)&1023),$+=hexTable[240|_e>>18]+hexTable[128|_e>>12&63]+hexTable[128|_e>>6&63]+hexTable[128|_e&63]}return $},compact=function o(e){for(var h=[{obj:{o:e},prop:"o"}],d=[],g=0;g<h.length;++g)for(var _=h[g],b=_.obj[_.prop],$=Object.keys(b),j=0;j<$.length;++j){var _e=$[j],et=b[_e];typeof et=="object"&&et!==null&&d.indexOf(et)===-1&&(h.push({obj:b,prop:_e}),d.push(et))}return compactQueue(h),e},isRegExp=function o(e){return Object.prototype.toString.call(e)==="[object RegExp]"},isBuffer=function o(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function o(e,h){return[].concat(e,h)},maybeMap=function o(e,h){if(isArray$2(e)){for(var d=[],g=0;g<e.length;g+=1)d.push(h(e[g]));return d}return h(e)},utils$2={arrayToObject,assign,combine,compact,decode:decode$3,encode:encode$2,isBuffer,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$1=utils$2,formats$2=formats$4,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function o(e){return e+"[]"},comma:"comma",indices:function o(e,h){return e+"["+h+"]"},repeat:function o(e){return e}},isArray$1=Array.isArray,push=Array.prototype.push,pushToArray=function(o,e){push.apply(o,isArray$1(e)?e:[e])},toISO=Date.prototype.toISOString,defaultFormat=formats$2.default,defaults$2={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$1.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$2.formatters[defaultFormat],indices:!1,serializeDate:function o(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function o(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},sentinel={},stringify$2=function o(e,h,d,g,_,b,$,j,_e,et,rt,tt,nt,st,at,ct){for(var it=e,lt=ct,ht=0,ut=!1;(lt=lt.get(sentinel))!==void 0&&!ut;){var dt=lt.get(e);if(ht+=1,typeof dt!="undefined"){if(dt===ht)throw new RangeError("Cyclic object value");ut=!0}typeof lt.get(sentinel)=="undefined"&&(ht=0)}if(typeof j=="function"?it=j(h,it):it instanceof Date?it=rt(it):d==="comma"&&isArray$1(it)&&(it=utils$1.maybeMap(it,function(Et){return Et instanceof Date?rt(Et):Et})),it===null){if(_)return $&&!st?$(h,defaults$2.encoder,at,"key",tt):h;it=""}if(isNonNullishPrimitive(it)||utils$1.isBuffer(it)){if($){var pt=st?h:$(h,defaults$2.encoder,at,"key",tt);return[nt(pt)+"="+nt($(it,defaults$2.encoder,at,"value",tt))]}return[nt(h)+"="+nt(String(it))]}var mt=[];if(typeof it=="undefined")return mt;var yt;if(d==="comma"&&isArray$1(it))st&&$&&(it=utils$1.maybeMap(it,$)),yt=[{value:it.length>0?it.join(",")||null:void 0}];else if(isArray$1(j))yt=j;else{var xt=Object.keys(it);yt=_e?xt.sort(_e):xt}for(var Tt=g&&isArray$1(it)&&it.length===1?h+"[]":h,_t=0;_t<yt.length;++_t){var Mt=yt[_t],Lt=typeof Mt=="object"&&typeof Mt.value!="undefined"?Mt.value:it[Mt];if(!(b&&Lt===null)){var Pt=isArray$1(it)?typeof d=="function"?d(Tt,Mt):Tt:Tt+(et?"."+Mt:"["+Mt+"]");ct.set(e,ht);var It=getSideChannel();It.set(sentinel,ct),pushToArray(mt,o(Lt,Pt,d,g,_,b,d==="comma"&&st&&isArray$1(it)?null:$,j,_e,et,rt,tt,nt,st,at,It))}}return mt},normalizeStringifyOptions=function o(e){if(!e)return defaults$2;if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var h=e.charset||defaults$2.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=formats$2.default;if(typeof e.format!="undefined"){if(!has$1.call(formats$2.formatters,e.format))throw new TypeError("Unknown format option provided.");d=e.format}var g=formats$2.formatters[d],_=defaults$2.filter;return(typeof e.filter=="function"||isArray$1(e.filter))&&(_=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults$2.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?defaults$2.allowDots:!!e.allowDots,charset:h,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults$2.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?defaults$2.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults$2.encode,encoder:typeof e.encoder=="function"?e.encoder:defaults$2.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults$2.encodeValuesOnly,filter:_,format:d,formatter:g,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults$2.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults$2.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults$2.strictNullHandling}},stringify_1=function(o,e){var h=o,d=normalizeStringifyOptions(e),g,_;typeof d.filter=="function"?(_=d.filter,h=_("",h)):isArray$1(d.filter)&&(_=d.filter,g=_);var b=[];if(typeof h!="object"||h===null)return"";var $;e&&e.arrayFormat in arrayPrefixGenerators?$=e.arrayFormat:e&&"indices"in e?$=e.indices?"indices":"repeat":$="indices";var j=arrayPrefixGenerators[$];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var _e=j==="comma"&&e&&e.commaRoundTrip;g||(g=Object.keys(h)),d.sort&&g.sort(d.sort);for(var et=getSideChannel(),rt=0;rt<g.length;++rt){var tt=g[rt];d.skipNulls&&h[tt]===null||pushToArray(b,stringify$2(h[tt],tt,j,_e,d.strictNullHandling,d.skipNulls,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,et))}var nt=b.join(d.delimiter),st=d.addQueryPrefix===!0?"?":"";return d.charsetSentinel&&(d.charset==="iso-8859-1"?st+="utf8=%26%2310003%3B&":st+="utf8=%E2%9C%93&"),nt.length>0?st+nt:""},utils=utils$2,has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults$1={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(o){return o.replace(/&#(\d+);/g,function(e,h){return String.fromCharCode(parseInt(h,10))})},parseArrayValue=function(o,e){return o&&typeof o=="string"&&e.comma&&o.indexOf(",")>-1?o.split(","):o},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function o(e,h){var d={__proto__:null},g=h.ignoreQueryPrefix?e.replace(/^\?/,""):e,_=h.parameterLimit===1/0?void 0:h.parameterLimit,b=g.split(h.delimiter,_),$=-1,j,_e=h.charset;if(h.charsetSentinel)for(j=0;j<b.length;++j)b[j].indexOf("utf8=")===0&&(b[j]===charsetSentinel?_e="utf-8":b[j]===isoSentinel&&(_e="iso-8859-1"),$=j,j=b.length);for(j=0;j<b.length;++j)if(j!==$){var et=b[j],rt=et.indexOf("]="),tt=rt===-1?et.indexOf("="):rt+1,nt,st;tt===-1?(nt=h.decoder(et,defaults$1.decoder,_e,"key"),st=h.strictNullHandling?null:""):(nt=h.decoder(et.slice(0,tt),defaults$1.decoder,_e,"key"),st=utils.maybeMap(parseArrayValue(et.slice(tt+1),h),function(at){return h.decoder(at,defaults$1.decoder,_e,"value")})),st&&h.interpretNumericEntities&&_e==="iso-8859-1"&&(st=interpretNumericEntities(st)),et.indexOf("[]=")>-1&&(st=isArray(st)?[st]:st),has.call(d,nt)?d[nt]=utils.combine(d[nt],st):d[nt]=st}return d},parseObject=function(o,e,h,d){for(var g=d?e:parseArrayValue(e,h),_=o.length-1;_>=0;--_){var b,$=o[_];if($==="[]"&&h.parseArrays)b=[].concat(g);else{b=h.plainObjects?Object.create(null):{};var j=$.charAt(0)==="["&&$.charAt($.length-1)==="]"?$.slice(1,-1):$,_e=parseInt(j,10);!h.parseArrays&&j===""?b={0:g}:!isNaN(_e)&&$!==j&&String(_e)===j&&_e>=0&&h.parseArrays&&_e<=h.arrayLimit?(b=[],b[_e]=g):j!=="__proto__"&&(b[j]=g)}g=b}return g},parseKeys=function o(e,h,d,g){if(!!e){var _=d.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,b=/(\[[^[\]]*])/,$=/(\[[^[\]]*])/g,j=d.depth>0&&b.exec(_),_e=j?_.slice(0,j.index):_,et=[];if(_e){if(!d.plainObjects&&has.call(Object.prototype,_e)&&!d.allowPrototypes)return;et.push(_e)}for(var rt=0;d.depth>0&&(j=$.exec(_))!==null&&rt<d.depth;){if(rt+=1,!d.plainObjects&&has.call(Object.prototype,j[1].slice(1,-1))&&!d.allowPrototypes)return;et.push(j[1])}return j&&et.push("["+_.slice(j.index)+"]"),parseObject(et,h,d,g)}},normalizeParseOptions=function o(e){if(!e)return defaults$1;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=typeof e.charset=="undefined"?defaults$1.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?defaults$1.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:defaults$1.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:defaults$1.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:defaults$1.arrayLimit,charset:h,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults$1.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:defaults$1.comma,decoder:typeof e.decoder=="function"?e.decoder:defaults$1.decoder,delimiter:typeof e.delimiter=="string"||utils.isRegExp(e.delimiter)?e.delimiter:defaults$1.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:defaults$1.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:defaults$1.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:defaults$1.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:defaults$1.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults$1.strictNullHandling}},parse$3=function(o,e){var h=normalizeParseOptions(e);if(o===""||o===null||typeof o=="undefined")return h.plainObjects?Object.create(null):{};for(var d=typeof o=="string"?parseValues(o,h):o,g=h.plainObjects?Object.create(null):{},_=Object.keys(d),b=0;b<_.length;++b){var $=_[b],j=parseKeys($,d[$],h,typeof o=="string");g=utils.merge(g,j,h)}return h.allowSparse===!0?g:utils.compact(g)},stringify$1=stringify_1,parse$2=parse$3,formats$1=formats$4,lib={formats:formats$1,parse:parse$2,stringify:stringify$1},punycode=punycode$1.exports;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=lib;function urlParse(o,e,h){if(o&&typeof o=="object"&&o instanceof Url)return o;var d=new Url;return d.parse(o,e,h),d}Url.prototype.parse=function(o,e,h){if(typeof o!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof o);var d=o.indexOf("?"),g=d!==-1&&d<o.indexOf("#")?"?":"#",_=o.split(g),b=/\\/g;_[0]=_[0].replace(b,"/"),o=_.join(g);var $=o;if($=$.trim(),!h&&o.split("#").length===1){var j=simplePathPattern.exec($);if(j)return this.path=$,this.href=$,this.pathname=j[1],j[2]?(this.search=j[2],e?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var _e=protocolPattern.exec($);if(_e){_e=_e[0];var et=_e.toLowerCase();this.protocol=et,$=$.substr(_e.length)}if(h||_e||$.match(/^\/\/[^@/]+@[^@/]+/)){var rt=$.substr(0,2)==="//";rt&&!(_e&&hostlessProtocol[_e])&&($=$.substr(2),this.slashes=!0)}if(!hostlessProtocol[_e]&&(rt||_e&&!slashedProtocol[_e])){for(var tt=-1,nt=0;nt<hostEndingChars.length;nt++){var st=$.indexOf(hostEndingChars[nt]);st!==-1&&(tt===-1||st<tt)&&(tt=st)}var at,ct;tt===-1?ct=$.lastIndexOf("@"):ct=$.lastIndexOf("@",tt),ct!==-1&&(at=$.slice(0,ct),$=$.slice(ct+1),this.auth=decodeURIComponent(at)),tt=-1;for(var nt=0;nt<nonHostChars.length;nt++){var st=$.indexOf(nonHostChars[nt]);st!==-1&&(tt===-1||st<tt)&&(tt=st)}tt===-1&&(tt=$.length),this.host=$.slice(0,tt),$=$.slice(tt),this.parseHost(),this.hostname=this.hostname||"";var it=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!it)for(var lt=this.hostname.split(/\./),nt=0,ht=lt.length;nt<ht;nt++){var ut=lt[nt];if(!!ut&&!ut.match(hostnamePartPattern)){for(var dt="",pt=0,mt=ut.length;pt<mt;pt++)ut.charCodeAt(pt)>127?dt+="x":dt+=ut[pt];if(!dt.match(hostnamePartPattern)){var yt=lt.slice(0,nt),xt=lt.slice(nt+1),Tt=ut.match(hostnamePartStart);Tt&&(yt.push(Tt[1]),xt.unshift(Tt[2])),xt.length&&($="/"+xt.join(".")+$),this.hostname=yt.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),it||(this.hostname=punycode.toASCII(this.hostname));var _t=this.port?":"+this.port:"",Mt=this.hostname||"";this.host=Mt+_t,this.href+=this.host,it&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),$[0]!=="/"&&($="/"+$))}if(!unsafeProtocol[et])for(var nt=0,ht=autoEscape.length;nt<ht;nt++){var Lt=autoEscape[nt];if($.indexOf(Lt)!==-1){var Pt=encodeURIComponent(Lt);Pt===Lt&&(Pt=escape(Lt)),$=$.split(Lt).join(Pt)}}var It=$.indexOf("#");It!==-1&&(this.hash=$.substr(It),$=$.slice(0,It));var Et=$.indexOf("?");if(Et!==-1?(this.search=$.substr(Et),this.query=$.substr(Et+1),e&&(this.query=querystring.parse(this.query)),$=$.slice(0,Et)):e&&(this.search="",this.query={}),$&&(this.pathname=$),slashedProtocol[et]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var _t=this.pathname||"",Ct=this.search||"";this.path=_t+Ct}return this.href=this.format(),this};function urlFormat(o){return typeof o=="string"&&(o=urlParse(o)),o instanceof Url?o.format():Url.prototype.format.call(o)}Url.prototype.format=function(){var o=this.auth||"";o&&(o=encodeURIComponent(o),o=o.replace(/%3A/i,":"),o+="@");var e=this.protocol||"",h=this.pathname||"",d=this.hash||"",g=!1,_="";this.host?g=o+this.host:this.hostname&&(g=o+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(g+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(_=querystring.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var b=this.search||_&&"?"+_||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||slashedProtocol[e])&&g!==!1?(g="//"+(g||""),h&&h.charAt(0)!=="/"&&(h="/"+h)):g||(g=""),d&&d.charAt(0)!=="#"&&(d="#"+d),b&&b.charAt(0)!=="?"&&(b="?"+b),h=h.replace(/[?#]/g,function($){return encodeURIComponent($)}),b=b.replace("#","%23"),e+g+h+b+d};function urlResolve(o,e){return urlParse(o,!1,!0).resolve(e)}Url.prototype.resolve=function(o){return this.resolveObject(urlParse(o,!1,!0)).format()};Url.prototype.resolveObject=function(o){if(typeof o=="string"){var e=new Url;e.parse(o,!1,!0),o=e}for(var h=new Url,d=Object.keys(this),g=0;g<d.length;g++){var _=d[g];h[_]=this[_]}if(h.hash=o.hash,o.href==="")return h.href=h.format(),h;if(o.slashes&&!o.protocol){for(var b=Object.keys(o),$=0;$<b.length;$++){var j=b[$];j!=="protocol"&&(h[j]=o[j])}return slashedProtocol[h.protocol]&&h.hostname&&!h.pathname&&(h.pathname="/",h.path=h.pathname),h.href=h.format(),h}if(o.protocol&&o.protocol!==h.protocol){if(!slashedProtocol[o.protocol]){for(var _e=Object.keys(o),et=0;et<_e.length;et++){var rt=_e[et];h[rt]=o[rt]}return h.href=h.format(),h}if(h.protocol=o.protocol,!o.host&&!hostlessProtocol[o.protocol]){for(var ht=(o.pathname||"").split("/");ht.length&&!(o.host=ht.shift()););o.host||(o.host=""),o.hostname||(o.hostname=""),ht[0]!==""&&ht.unshift(""),ht.length<2&&ht.unshift(""),h.pathname=ht.join("/")}else h.pathname=o.pathname;if(h.search=o.search,h.query=o.query,h.host=o.host||"",h.auth=o.auth,h.hostname=o.hostname||o.host,h.port=o.port,h.pathname||h.search){var tt=h.pathname||"",nt=h.search||"";h.path=tt+nt}return h.slashes=h.slashes||o.slashes,h.href=h.format(),h}var st=h.pathname&&h.pathname.charAt(0)==="/",at=o.host||o.pathname&&o.pathname.charAt(0)==="/",ct=at||st||h.host&&o.pathname,it=ct,lt=h.pathname&&h.pathname.split("/")||[],ht=o.pathname&&o.pathname.split("/")||[],ut=h.protocol&&!slashedProtocol[h.protocol];if(ut&&(h.hostname="",h.port=null,h.host&&(lt[0]===""?lt[0]=h.host:lt.unshift(h.host)),h.host="",o.protocol&&(o.hostname=null,o.port=null,o.host&&(ht[0]===""?ht[0]=o.host:ht.unshift(o.host)),o.host=null),ct=ct&&(ht[0]===""||lt[0]==="")),at)h.host=o.host||o.host===""?o.host:h.host,h.hostname=o.hostname||o.hostname===""?o.hostname:h.hostname,h.search=o.search,h.query=o.query,lt=ht;else if(ht.length)lt||(lt=[]),lt.pop(),lt=lt.concat(ht),h.search=o.search,h.query=o.query;else if(o.search!=null){if(ut){h.host=lt.shift(),h.hostname=h.host;var dt=h.host&&h.host.indexOf("@")>0?h.host.split("@"):!1;dt&&(h.auth=dt.shift(),h.hostname=dt.shift(),h.host=h.hostname)}return h.search=o.search,h.query=o.query,(h.pathname!==null||h.search!==null)&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.href=h.format(),h}if(!lt.length)return h.pathname=null,h.search?h.path="/"+h.search:h.path=null,h.href=h.format(),h;for(var pt=lt.slice(-1)[0],mt=(h.host||o.host||lt.length>1)&&(pt==="."||pt==="..")||pt==="",yt=0,xt=lt.length;xt>=0;xt--)pt=lt[xt],pt==="."?lt.splice(xt,1):pt===".."?(lt.splice(xt,1),yt++):yt&&(lt.splice(xt,1),yt--);if(!ct&&!it)for(;yt--;yt)lt.unshift("..");ct&&lt[0]!==""&&(!lt[0]||lt[0].charAt(0)!=="/")&&lt.unshift(""),mt&&lt.join("/").substr(-1)!=="/"&&lt.push("");var Tt=lt[0]===""||lt[0]&&lt[0].charAt(0)==="/";if(ut){h.hostname=Tt?"":lt.length?lt.shift():"",h.host=h.hostname;var dt=h.host&&h.host.indexOf("@")>0?h.host.split("@"):!1;dt&&(h.auth=dt.shift(),h.hostname=dt.shift(),h.host=h.hostname)}return ct=ct||h.host&&lt.length,ct&&!Tt&&lt.unshift(""),lt.length>0?h.pathname=lt.join("/"):(h.pathname=null,h.path=null),(h.pathname!==null||h.search!==null)&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.auth=o.auth||h.auth,h.slashes=h.slashes||o.slashes,h.href=h.format(),h};Url.prototype.parseHost=function(){var o=this.host,e=portPattern.exec(o);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),o=o.substr(0,o.length-e.length)),o&&(this.hostname=o)};var parse$1=urlParse,resolve=urlResolve,format=urlFormat;/*!
 * @pixi/constants - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$3;(function(o){o[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2"})(ENV$3||(ENV$3={}));var RENDERER_TYPE$3;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.WEBGL=1]="WEBGL",o[o.CANVAS=2]="CANVAS"})(RENDERER_TYPE$3||(RENDERER_TYPE$3={}));var BUFFER_BITS$3;(function(o){o[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL"})(BUFFER_BITS$3||(BUFFER_BITS$3={}));var BLEND_MODES$3;(function(o){o[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR"})(BLEND_MODES$3||(BLEND_MODES$3={}));var DRAW_MODES$3;(function(o){o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$3||(DRAW_MODES$3={}));var FORMATS$3;(function(o){o[o.RGBA=6408]="RGBA",o[o.RGB=6407]="RGB",o[o.RG=33319]="RG",o[o.RED=6403]="RED",o[o.RGBA_INTEGER=36249]="RGBA_INTEGER",o[o.RGB_INTEGER=36248]="RGB_INTEGER",o[o.RG_INTEGER=33320]="RG_INTEGER",o[o.RED_INTEGER=36244]="RED_INTEGER",o[o.ALPHA=6406]="ALPHA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$3||(FORMATS$3={}));var TARGETS$3;(function(o){o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$3||(TARGETS$3={}));var TYPES$3;(function(o){o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",o[o.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",o[o.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",o[o.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",o[o.BYTE=5120]="BYTE",o[o.SHORT=5122]="SHORT",o[o.INT=5124]="INT",o[o.FLOAT=5126]="FLOAT",o[o.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",o[o.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$3||(TYPES$3={}));var SAMPLER_TYPES$3;(function(o){o[o.FLOAT=0]="FLOAT",o[o.INT=1]="INT",o[o.UINT=2]="UINT"})(SAMPLER_TYPES$3||(SAMPLER_TYPES$3={}));var SCALE_MODES$3;(function(o){o[o.NEAREST=0]="NEAREST",o[o.LINEAR=1]="LINEAR"})(SCALE_MODES$3||(SCALE_MODES$3={}));var WRAP_MODES$3;(function(o){o[o.CLAMP=33071]="CLAMP",o[o.REPEAT=10497]="REPEAT",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$3||(WRAP_MODES$3={}));var MIPMAP_MODES$3;(function(o){o[o.OFF=0]="OFF",o[o.POW2=1]="POW2",o[o.ON=2]="ON",o[o.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$3||(MIPMAP_MODES$3={}));var ALPHA_MODES$3;(function(o){o[o.NPM=0]="NPM",o[o.UNPACK=1]="UNPACK",o[o.PMA=2]="PMA",o[o.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",o[o.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",o[o.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",o[o.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$3||(ALPHA_MODES$3={}));var CLEAR_MODES$3;(function(o){o[o.NO=0]="NO",o[o.YES=1]="YES",o[o.AUTO=2]="AUTO",o[o.BLEND=0]="BLEND",o[o.CLEAR=1]="CLEAR",o[o.BLIT=2]="BLIT"})(CLEAR_MODES$3||(CLEAR_MODES$3={}));var GC_MODES$3;(function(o){o[o.AUTO=0]="AUTO",o[o.MANUAL=1]="MANUAL"})(GC_MODES$3||(GC_MODES$3={}));var PRECISION$3;(function(o){o.LOW="lowp",o.MEDIUM="mediump",o.HIGH="highp"})(PRECISION$3||(PRECISION$3={}));var MASK_TYPES$3;(function(o){o[o.NONE=0]="NONE",o[o.SCISSOR=1]="SCISSOR",o[o.STENCIL=2]="STENCIL",o[o.SPRITE=3]="SPRITE"})(MASK_TYPES$3||(MASK_TYPES$3={}));var MSAA_QUALITY$3;(function(o){o[o.NONE=0]="NONE",o[o.LOW=2]="LOW",o[o.MEDIUM=4]="MEDIUM",o[o.HIGH=8]="HIGH"})(MSAA_QUALITY$3||(MSAA_QUALITY$3={}));var BUFFER_TYPE$3;(function(o){o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$3||(BUFFER_TYPE$3={}));/*!
 * @pixi/utils - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var url$1={parse:parse$1,format,resolve};settings.RETINA_PREFIX=/@([0-9\.]+)x/;settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello=!1,VERSION$1="6.3.1";function sayHello(o){var e;if(!saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var h=[`
 %c %c %c PixiJS `+VERSION$1+" - \u2730 "+o+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,h)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION$1+" - "+o+" - http://www.pixijs.com/");saidHello=!0}}var supported;function isWebGLSupported(){return typeof supported=="undefined"&&(supported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var h=document.createElement("canvas"),d=h.getContext("webgl",e)||h.getContext("experimental-webgl",e),g=!!(d&&d.getContextAttributes().stencil);if(d){var _=d.getExtension("WEBGL_lose_context");_&&_.loseContext()}return d=null,g}catch{return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen};function hex2rgb(o,e){return e===void 0&&(e=[]),e[0]=(o>>16&255)/255,e[1]=(o>>8&255)/255,e[2]=(o&255)/255,e}function hex2string(o){var e=o.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function string2hex(o){return typeof o=="string"&&(o=cssColorNames[o.toLowerCase()]||o,o[0]==="#"&&(o=o.slice(1))),parseInt(o,16)}function mapPremultipliedBlendModes(){for(var o=[],e=[],h=0;h<32;h++)o[h]=h,e[h]=h;o[BLEND_MODES$3.NORMAL_NPM]=BLEND_MODES$3.NORMAL,o[BLEND_MODES$3.ADD_NPM]=BLEND_MODES$3.ADD,o[BLEND_MODES$3.SCREEN_NPM]=BLEND_MODES$3.SCREEN,e[BLEND_MODES$3.NORMAL]=BLEND_MODES$3.NORMAL_NPM,e[BLEND_MODES$3.ADD]=BLEND_MODES$3.ADD_NPM,e[BLEND_MODES$3.SCREEN]=BLEND_MODES$3.SCREEN_NPM;var d=[];return d.push(e),d.push(o),d}var premultiplyBlendMode=mapPremultipliedBlendModes();function correctBlendMode(o,e){return premultiplyBlendMode[e?1:0][o]}function premultiplyRgba(o,e,h,d){return h=h||new Float32Array(4),d||d===void 0?(h[0]=o[0]*e,h[1]=o[1]*e,h[2]=o[2]*e):(h[0]=o[0],h[1]=o[1],h[2]=o[2]),h[3]=e,h}function premultiplyTint(o,e){if(e===1)return(e*255<<24)+o;if(e===0)return 0;var h=o>>16&255,d=o>>8&255,g=o&255;return h=h*e+.5|0,d=d*e+.5|0,g=g*e+.5|0,(e*255<<24)+(h<<16)+(d<<8)+g}function premultiplyTintToRgba(o,e,h,d){return h=h||new Float32Array(4),h[0]=(o>>16&255)/255,h[1]=(o>>8&255)/255,h[2]=(o&255)/255,(d||d===void 0)&&(h[0]*=e,h[1]*=e,h[2]*=e),h[3]=e,h}function createIndicesForQuads(o,e){e===void 0&&(e=null);var h=o*6;if(e=e||new Uint16Array(h),e.length!==h)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+h);for(var d=0,g=0;d<h;d+=6,g+=4)e[d+0]=g+0,e[d+1]=g+1,e[d+2]=g+2,e[d+3]=g+0,e[d+4]=g+2,e[d+5]=g+3;return e}function getBufferType(o){if(o.BYTES_PER_ELEMENT===4)return o instanceof Float32Array?"Float32Array":o instanceof Uint32Array?"Uint32Array":"Int32Array";if(o.BYTES_PER_ELEMENT===2){if(o instanceof Uint16Array)return"Uint16Array"}else if(o.BYTES_PER_ELEMENT===1&&o instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(o){return o+=o===0?1:0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1}function isPow2(o){return!(o&o-1)&&!!o}function log2(o){var e=(o>65535?1:0)<<4;o>>>=e;var h=(o>255?1:0)<<3;return o>>>=h,e|=h,h=(o>15?1:0)<<2,o>>>=h,e|=h,h=(o>3?1:0)<<1,o>>>=h,e|=h,e|o>>1}function removeItems(o,e,h){var d=o.length,g;if(!(e>=d||h===0)){h=e+h>d?d-e:h;var _=d-h;for(g=e;g<_;++g)o[g]=o[g+h];o.length=_}}function sign$1(o){return o===0?0:o<0?-1:1}var nextUid=0;function uid(){return++nextUid}var warnings={};function deprecation(o,e,h){if(h===void 0&&(h=3),!warnings[e]){var d=new Error().stack;typeof d=="undefined"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+o):(d=d.split(`
`).splice(h).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+o),console.warn(d),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+o),console.warn(d))),warnings[e]=!0}}var ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null),CanvasRenderTarget=function(){function o(e,h,d){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=d||settings.RESOLUTION,this.resize(e,h)}return o.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},o.prototype.resize=function(e,h){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(h*this.resolution)},o.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(o.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),o}();function trimCanvas(o){var e=o.width,h=o.height,d=o.getContext("2d"),g=d.getImageData(0,0,e,h),_=g.data,b=_.length,$={top:null,left:null,right:null,bottom:null},j=null,_e,et,rt;for(_e=0;_e<b;_e+=4)_[_e+3]!==0&&(et=_e/4%e,rt=~~(_e/4/e),$.top===null&&($.top=rt),($.left===null||et<$.left)&&($.left=et),($.right===null||$.right<et)&&($.right=et+1),($.bottom===null||$.bottom<rt)&&($.bottom=rt));return $.top!==null&&(e=$.right-$.left,h=$.bottom-$.top+1,j=d.getImageData($.left,$.top,e,h)),{height:h,width:e,data:j}}var tempAnchor$1;function determineCrossOrigin(o,e){if(e===void 0&&(e=globalThis.location),o.indexOf("data:")===0)return"";e=e||globalThis.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=o;var h=url$1.parse(tempAnchor$1.href),d=!h.port&&e.port===""||h.port===e.port;return h.hostname!==e.hostname||!d||h.protocol!==e.protocol?"anonymous":""}function getResolutionOfUrl(o,e){var h=settings.RETINA_PREFIX.exec(o);return h?parseFloat(h[1]):e!==void 0?e:1}/*!
 * @pixi/math - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,SHAPES;(function(o){o[o.POLY=0]="POLY",o[o.RECT=1]="RECT",o[o.CIRC=2]="CIRC",o[o.ELIP=3]="ELIP",o[o.RREC=4]="RREC"})(SHAPES||(SHAPES={}));var Point=function(){function o(e,h){e===void 0&&(e=0),h===void 0&&(h=0),this.x=0,this.y=0,this.x=e,this.y=h}return o.prototype.clone=function(){return new o(this.x,this.y)},o.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},o.prototype.copyTo=function(e){return e.set(this.x,this.y),e},o.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},o.prototype.set=function(e,h){return e===void 0&&(e=0),h===void 0&&(h=e),this.x=e,this.y=h,this},o.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},o}(),tempPoints$1=[new Point,new Point,new Point,new Point],Rectangle=function(){function o(e,h,d,g){e===void 0&&(e=0),h===void 0&&(h=0),d===void 0&&(d=0),g===void 0&&(g=0),this.x=Number(e),this.y=Number(h),this.width=Number(d),this.height=Number(g),this.type=SHAPES.RECT}return Object.defineProperty(o.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"EMPTY",{get:function(){return new o(0,0,0,0)},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},o.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},o.prototype.contains=function(e,h){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&h>=this.y&&h<this.y+this.height},o.prototype.intersects=function(e,h){if(!h){var d=this.x<e.x?e.x:this.x,g=this.right>e.right?e.right:this.right;if(g<=d)return!1;var _=this.y<e.y?e.y:this.y,b=this.bottom>e.bottom?e.bottom:this.bottom;return b>_}var $=this.left,j=this.right,_e=this.top,et=this.bottom;if(j<=$||et<=_e)return!1;var rt=tempPoints$1[0].set(e.left,e.top),tt=tempPoints$1[1].set(e.left,e.bottom),nt=tempPoints$1[2].set(e.right,e.top),st=tempPoints$1[3].set(e.right,e.bottom);if(nt.x<=rt.x||tt.y<=rt.y)return!1;var at=Math.sign(h.a*h.d-h.b*h.c);if(at===0||(h.apply(rt,rt),h.apply(tt,tt),h.apply(nt,nt),h.apply(st,st),Math.max(rt.x,tt.x,nt.x,st.x)<=$||Math.min(rt.x,tt.x,nt.x,st.x)>=j||Math.max(rt.y,tt.y,nt.y,st.y)<=_e||Math.min(rt.y,tt.y,nt.y,st.y)>=et))return!1;var ct=at*(tt.y-rt.y),it=at*(rt.x-tt.x),lt=ct*$+it*_e,ht=ct*j+it*_e,ut=ct*$+it*et,dt=ct*j+it*et;if(Math.max(lt,ht,ut,dt)<=ct*rt.x+it*rt.y||Math.min(lt,ht,ut,dt)>=ct*st.x+it*st.y)return!1;var pt=at*(rt.y-nt.y),mt=at*(nt.x-rt.x),yt=pt*$+mt*_e,xt=pt*j+mt*_e,Tt=pt*$+mt*et,_t=pt*j+mt*et;return!(Math.max(yt,xt,Tt,_t)<=pt*rt.x+mt*rt.y||Math.min(yt,xt,Tt,_t)>=pt*st.x+mt*st.y)},o.prototype.pad=function(e,h){return e===void 0&&(e=0),h===void 0&&(h=e),this.x-=e,this.y-=h,this.width+=e*2,this.height+=h*2,this},o.prototype.fit=function(e){var h=Math.max(this.x,e.x),d=Math.min(this.x+this.width,e.x+e.width),g=Math.max(this.y,e.y),_=Math.min(this.y+this.height,e.y+e.height);return this.x=h,this.width=Math.max(d-h,0),this.y=g,this.height=Math.max(_-g,0),this},o.prototype.ceil=function(e,h){e===void 0&&(e=1),h===void 0&&(h=.001);var d=Math.ceil((this.x+this.width-h)*e)/e,g=Math.ceil((this.y+this.height-h)*e)/e;return this.x=Math.floor((this.x+h)*e)/e,this.y=Math.floor((this.y+h)*e)/e,this.width=d-this.x,this.height=g-this.y,this},o.prototype.enlarge=function(e){var h=Math.min(this.x,e.x),d=Math.max(this.x+this.width,e.x+e.width),g=Math.min(this.y,e.y),_=Math.max(this.y+this.height,e.y+e.height);return this.x=h,this.width=d-h,this.y=g,this.height=_-g,this},o.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},o}(),Circle=function(){function o(e,h,d){e===void 0&&(e=0),h===void 0&&(h=0),d===void 0&&(d=0),this.x=e,this.y=h,this.radius=d,this.type=SHAPES.CIRC}return o.prototype.clone=function(){return new o(this.x,this.y,this.radius)},o.prototype.contains=function(e,h){if(this.radius<=0)return!1;var d=this.radius*this.radius,g=this.x-e,_=this.y-h;return g*=g,_*=_,g+_<=d},o.prototype.getBounds=function(){return new Rectangle(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},o.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},o}(),Ellipse=function(){function o(e,h,d,g){e===void 0&&(e=0),h===void 0&&(h=0),d===void 0&&(d=0),g===void 0&&(g=0),this.x=e,this.y=h,this.width=d,this.height=g,this.type=SHAPES.ELIP}return o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.contains=function(e,h){if(this.width<=0||this.height<=0)return!1;var d=(e-this.x)/this.width,g=(h-this.y)/this.height;return d*=d,g*=g,d+g<=1},o.prototype.getBounds=function(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},o.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},o}(),Polygon=function(){function o(){for(var e=arguments,h=[],d=0;d<arguments.length;d++)h[d]=e[d];var g=Array.isArray(h[0])?h[0]:h;if(typeof g[0]!="number"){for(var _=[],b=0,$=g.length;b<$;b++)_.push(g[b].x,g[b].y);g=_}this.points=g,this.type=SHAPES.POLY,this.closeStroke=!0}return o.prototype.clone=function(){var e=this.points.slice(),h=new o(e);return h.closeStroke=this.closeStroke,h},o.prototype.contains=function(e,h){for(var d=!1,g=this.points.length/2,_=0,b=g-1;_<g;b=_++){var $=this.points[_*2],j=this.points[_*2+1],_e=this.points[b*2],et=this.points[b*2+1],rt=j>h!=et>h&&e<(_e-$)*((h-j)/(et-j))+$;rt&&(d=!d)}return d},o.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,h){return e+", "+h},"")+"]")},o}(),RoundedRectangle=function(){function o(e,h,d,g,_){e===void 0&&(e=0),h===void 0&&(h=0),d===void 0&&(d=0),g===void 0&&(g=0),_===void 0&&(_=20),this.x=e,this.y=h,this.width=d,this.height=g,this.radius=_,this.type=SHAPES.RREC}return o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.radius)},o.prototype.contains=function(e,h){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&h>=this.y&&h<=this.y+this.height){var d=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(h>=this.y+d&&h<=this.y+this.height-d||e>=this.x+d&&e<=this.x+this.width-d)return!0;var g=e-(this.x+d),_=h-(this.y+d),b=d*d;if(g*g+_*_<=b||(g=e-(this.x+this.width-d),g*g+_*_<=b)||(_=h-(this.y+this.height-d),g*g+_*_<=b)||(g=e-(this.x+d),g*g+_*_<=b))return!0}return!1},o.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},o}(),ObservablePoint=function(){function o(e,h,d,g){d===void 0&&(d=0),g===void 0&&(g=0),this._x=d,this._y=g,this.cb=e,this.scope=h}return o.prototype.clone=function(e,h){return e===void 0&&(e=this.cb),h===void 0&&(h=this.scope),new o(e,h,this._x,this._y)},o.prototype.set=function(e,h){return e===void 0&&(e=0),h===void 0&&(h=e),(this._x!==e||this._y!==h)&&(this._x=e,this._y=h,this.cb.call(this.scope)),this},o.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},o.prototype.copyTo=function(e){return e.set(this._x,this._y),e},o.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},o.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(o.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),o}(),Matrix=function(){function o(e,h,d,g,_,b){e===void 0&&(e=1),h===void 0&&(h=0),d===void 0&&(d=0),g===void 0&&(g=1),_===void 0&&(_=0),b===void 0&&(b=0),this.array=null,this.a=e,this.b=h,this.c=d,this.d=g,this.tx=_,this.ty=b}return o.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},o.prototype.set=function(e,h,d,g,_,b){return this.a=e,this.b=h,this.c=d,this.d=g,this.tx=_,this.ty=b,this},o.prototype.toArray=function(e,h){this.array||(this.array=new Float32Array(9));var d=h||this.array;return e?(d[0]=this.a,d[1]=this.b,d[2]=0,d[3]=this.c,d[4]=this.d,d[5]=0,d[6]=this.tx,d[7]=this.ty,d[8]=1):(d[0]=this.a,d[1]=this.c,d[2]=this.tx,d[3]=this.b,d[4]=this.d,d[5]=this.ty,d[6]=0,d[7]=0,d[8]=1),d},o.prototype.apply=function(e,h){h=h||new Point;var d=e.x,g=e.y;return h.x=this.a*d+this.c*g+this.tx,h.y=this.b*d+this.d*g+this.ty,h},o.prototype.applyInverse=function(e,h){h=h||new Point;var d=1/(this.a*this.d+this.c*-this.b),g=e.x,_=e.y;return h.x=this.d*d*g+-this.c*d*_+(this.ty*this.c-this.tx*this.d)*d,h.y=this.a*d*_+-this.b*d*g+(-this.ty*this.a+this.tx*this.b)*d,h},o.prototype.translate=function(e,h){return this.tx+=e,this.ty+=h,this},o.prototype.scale=function(e,h){return this.a*=e,this.d*=h,this.c*=e,this.b*=h,this.tx*=e,this.ty*=h,this},o.prototype.rotate=function(e){var h=Math.cos(e),d=Math.sin(e),g=this.a,_=this.c,b=this.tx;return this.a=g*h-this.b*d,this.b=g*d+this.b*h,this.c=_*h-this.d*d,this.d=_*d+this.d*h,this.tx=b*h-this.ty*d,this.ty=b*d+this.ty*h,this},o.prototype.append=function(e){var h=this.a,d=this.b,g=this.c,_=this.d;return this.a=e.a*h+e.b*g,this.b=e.a*d+e.b*_,this.c=e.c*h+e.d*g,this.d=e.c*d+e.d*_,this.tx=e.tx*h+e.ty*g+this.tx,this.ty=e.tx*d+e.ty*_+this.ty,this},o.prototype.setTransform=function(e,h,d,g,_,b,$,j,_e){return this.a=Math.cos($+_e)*_,this.b=Math.sin($+_e)*_,this.c=-Math.sin($-j)*b,this.d=Math.cos($-j)*b,this.tx=e-(d*this.a+g*this.c),this.ty=h-(d*this.b+g*this.d),this},o.prototype.prepend=function(e){var h=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var d=this.a,g=this.c;this.a=d*e.a+this.b*e.c,this.b=d*e.b+this.b*e.d,this.c=g*e.a+this.d*e.c,this.d=g*e.b+this.d*e.d}return this.tx=h*e.a+this.ty*e.c+e.tx,this.ty=h*e.b+this.ty*e.d+e.ty,this},o.prototype.decompose=function(e){var h=this.a,d=this.b,g=this.c,_=this.d,b=e.pivot,$=-Math.atan2(-g,_),j=Math.atan2(d,h),_e=Math.abs($+j);return _e<1e-5||Math.abs(PI_2-_e)<1e-5?(e.rotation=j,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=$,e.skew.y=j),e.scale.x=Math.sqrt(h*h+d*d),e.scale.y=Math.sqrt(g*g+_*_),e.position.x=this.tx+(b.x*h+b.y*g),e.position.y=this.ty+(b.x*d+b.y*_),e},o.prototype.invert=function(){var e=this.a,h=this.b,d=this.c,g=this.d,_=this.tx,b=e*g-h*d;return this.a=g/b,this.b=-h/b,this.c=-d/b,this.d=e/b,this.tx=(d*this.ty-g*_)/b,this.ty=-(e*this.ty-h*_)/b,this},o.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},o.prototype.clone=function(){var e=new o;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},o.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},o.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},o.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(o,"IDENTITY",{get:function(){return new o},enumerable:!1,configurable:!0}),Object.defineProperty(o,"TEMP_MATRIX",{get:function(){return new o},enumerable:!1,configurable:!0}),o}(),ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(var o=0;o<16;o++){var e=[];rotationCayley.push(e);for(var h=0;h<16;h++)for(var d=signum(ux[o]*ux[h]+vx[o]*uy[h]),g=signum(uy[o]*ux[h]+vy[o]*uy[h]),_=signum(ux[o]*vx[h]+vx[o]*vy[h]),b=signum(uy[o]*vx[h]+vy[o]*vy[h]),$=0;$<16;$++)if(ux[$]===d&&uy[$]===g&&vx[$]===_&&vy[$]===b){e.push($);break}}for(var o=0;o<16;o++){var j=new Matrix;j.set(ux[o],uy[o],vx[o],vy[o],0,0),rotationMatrices.push(j)}}init();var groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(o){return ux[o]},uY:function(o){return uy[o]},vX:function(o){return vx[o]},vY:function(o){return vy[o]},inv:function(o){return o&8?o&15:-o&7},add:function(o,e){return rotationCayley[o][e]},sub:function(o,e){return rotationCayley[o][groupD8.inv(e)]},rotate180:function(o){return o^4},isVertical:function(o){return(o&3)==2},byDirection:function(o,e){return Math.abs(o)*2<=Math.abs(e)?e>=0?groupD8.S:groupD8.N:Math.abs(e)*2<=Math.abs(o)?o>0?groupD8.E:groupD8.W:e>0?o>0?groupD8.SE:groupD8.SW:o>0?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(o,e,h,d){h===void 0&&(h=0),d===void 0&&(d=0);var g=rotationMatrices[groupD8.inv(e)];g.tx=h,g.ty=d,o.append(g)}},Transform=function(){function o(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return o.prototype.onChange=function(){this._localID++},o.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},o.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},o.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},o.prototype.updateTransform=function(e){var h=this.localTransform;if(this._localID!==this._currentLocalID&&(h.a=this._cx*this.scale.x,h.b=this._sx*this.scale.x,h.c=this._cy*this.scale.y,h.d=this._sy*this.scale.y,h.tx=this.position.x-(this.pivot.x*h.a+this.pivot.y*h.c),h.ty=this.position.y-(this.pivot.x*h.b+this.pivot.y*h.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var d=e.worldTransform,g=this.worldTransform;g.a=h.a*d.a+h.b*d.c,g.b=h.a*d.b+h.b*d.d,g.c=h.c*d.a+h.d*d.c,g.d=h.c*d.b+h.d*d.d,g.tx=h.tx*d.a+h.ty*d.c+d.tx,g.ty=h.tx*d.b+h.ty*d.d+d.ty,this._parentID=e._worldID,this._worldID++}},o.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(o.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),o.IDENTITY=new o,o}();/*!
 * @pixi/display - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.SORTABLE_CHILDREN=!1;var Bounds=function(){function o(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return o.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},o.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},o.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:(e=e||new Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},o.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},o.prototype.addPointMatrix=function(e,h){var d=e.a,g=e.b,_=e.c,b=e.d,$=e.tx,j=e.ty,_e=d*h.x+_*h.y+$,et=g*h.x+b*h.y+j;this.minX=Math.min(this.minX,_e),this.maxX=Math.max(this.maxX,_e),this.minY=Math.min(this.minY,et),this.maxY=Math.max(this.maxY,et)},o.prototype.addQuad=function(e){var h=this.minX,d=this.minY,g=this.maxX,_=this.maxY,b=e[0],$=e[1];h=b<h?b:h,d=$<d?$:d,g=b>g?b:g,_=$>_?$:_,b=e[2],$=e[3],h=b<h?b:h,d=$<d?$:d,g=b>g?b:g,_=$>_?$:_,b=e[4],$=e[5],h=b<h?b:h,d=$<d?$:d,g=b>g?b:g,_=$>_?$:_,b=e[6],$=e[7],h=b<h?b:h,d=$<d?$:d,g=b>g?b:g,_=$>_?$:_,this.minX=h,this.minY=d,this.maxX=g,this.maxY=_},o.prototype.addFrame=function(e,h,d,g,_){this.addFrameMatrix(e.worldTransform,h,d,g,_)},o.prototype.addFrameMatrix=function(e,h,d,g,_){var b=e.a,$=e.b,j=e.c,_e=e.d,et=e.tx,rt=e.ty,tt=this.minX,nt=this.minY,st=this.maxX,at=this.maxY,ct=b*h+j*d+et,it=$*h+_e*d+rt;tt=ct<tt?ct:tt,nt=it<nt?it:nt,st=ct>st?ct:st,at=it>at?it:at,ct=b*g+j*d+et,it=$*g+_e*d+rt,tt=ct<tt?ct:tt,nt=it<nt?it:nt,st=ct>st?ct:st,at=it>at?it:at,ct=b*h+j*_+et,it=$*h+_e*_+rt,tt=ct<tt?ct:tt,nt=it<nt?it:nt,st=ct>st?ct:st,at=it>at?it:at,ct=b*g+j*_+et,it=$*g+_e*_+rt,tt=ct<tt?ct:tt,nt=it<nt?it:nt,st=ct>st?ct:st,at=it>at?it:at,this.minX=tt,this.minY=nt,this.maxX=st,this.maxY=at},o.prototype.addVertexData=function(e,h,d){for(var g=this.minX,_=this.minY,b=this.maxX,$=this.maxY,j=h;j<d;j+=2){var _e=e[j],et=e[j+1];g=_e<g?_e:g,_=et<_?et:_,b=_e>b?_e:b,$=et>$?et:$}this.minX=g,this.minY=_,this.maxX=b,this.maxY=$},o.prototype.addVertices=function(e,h,d,g){this.addVerticesMatrix(e.worldTransform,h,d,g)},o.prototype.addVerticesMatrix=function(e,h,d,g,_,b){_===void 0&&(_=0),b===void 0&&(b=_);for(var $=e.a,j=e.b,_e=e.c,et=e.d,rt=e.tx,tt=e.ty,nt=this.minX,st=this.minY,at=this.maxX,ct=this.maxY,it=d;it<g;it+=2){var lt=h[it],ht=h[it+1],ut=$*lt+_e*ht+rt,dt=et*ht+j*lt+tt;nt=Math.min(nt,ut-_),at=Math.max(at,ut+_),st=Math.min(st,dt-b),ct=Math.max(ct,dt+b)}this.minX=nt,this.minY=st,this.maxX=at,this.maxY=ct},o.prototype.addBounds=function(e){var h=this.minX,d=this.minY,g=this.maxX,_=this.maxY;this.minX=e.minX<h?e.minX:h,this.minY=e.minY<d?e.minY:d,this.maxX=e.maxX>g?e.maxX:g,this.maxY=e.maxY>_?e.maxY:_},o.prototype.addBoundsMask=function(e,h){var d=e.minX>h.minX?e.minX:h.minX,g=e.minY>h.minY?e.minY:h.minY,_=e.maxX<h.maxX?e.maxX:h.maxX,b=e.maxY<h.maxY?e.maxY:h.maxY;if(d<=_&&g<=b){var $=this.minX,j=this.minY,_e=this.maxX,et=this.maxY;this.minX=d<$?d:$,this.minY=g<j?g:j,this.maxX=_>_e?_:_e,this.maxY=b>et?b:et}},o.prototype.addBoundsMatrix=function(e,h){this.addFrameMatrix(h,e.minX,e.minY,e.maxX,e.maxY)},o.prototype.addBoundsArea=function(e,h){var d=e.minX>h.x?e.minX:h.x,g=e.minY>h.y?e.minY:h.y,_=e.maxX<h.x+h.width?e.maxX:h.x+h.width,b=e.maxY<h.y+h.height?e.maxY:h.y+h.height;if(d<=_&&g<=b){var $=this.minX,j=this.minY,_e=this.maxX,et=this.maxY;this.minX=d<$?d:$,this.minY=g<j?g:j,this.maxX=_>_e?_:_e,this.maxY=b>et?b:et}},o.prototype.pad=function(e,h){e===void 0&&(e=0),h===void 0&&(h=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=h,this.maxY+=h)},o.prototype.addFramePad=function(e,h,d,g,_,b){e-=_,h-=b,d+=_,g+=b,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>d?this.maxX:d,this.minY=this.minY<h?this.minY:h,this.maxY=this.maxY>g?this.maxY:g},o}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$j=function(o,e){return extendStatics$j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$j(o,e)};function __extends$j(o,e){extendStatics$j(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var DisplayObject=function(o){__extends$j(e,o);function e(){var h=o.call(this)||this;return h.tempDisplayObjectParent=null,h.transform=new Transform,h.alpha=1,h.visible=!0,h.renderable=!0,h.cullable=!1,h.cullArea=null,h.parent=null,h.worldAlpha=1,h._lastSortedIndex=0,h._zIndex=0,h.filterArea=null,h.filters=null,h._enabledFilters=null,h._bounds=new Bounds,h._localBounds=null,h._boundsID=0,h._boundsRect=null,h._localBoundsRect=null,h._mask=null,h._maskRefCount=0,h._destroyed=!1,h.isSprite=!1,h.isMask=!1,h}return e.mixin=function(h){for(var d=Object.keys(h),g=0;g<d.length;++g){var _=d[g];Object.defineProperty(e.prototype,_,Object.getOwnPropertyDescriptor(h,_))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(h,d){return h||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),d||(this._boundsRect||(this._boundsRect=new Rectangle),d=this._boundsRect),this._bounds.getRectangle(d)},e.prototype.getLocalBounds=function(h){h||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),h=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var d=this.transform,g=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var _=this._bounds,b=this._boundsID;this._bounds=this._localBounds;var $=this.getBounds(!1,h);return this.parent=g,this.transform=d,this._bounds=_,this._bounds.updateID+=this._boundsID-b,$},e.prototype.toGlobal=function(h,d,g){return g===void 0&&(g=!1),g||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(h,d)},e.prototype.toLocal=function(h,d,g,_){return d&&(h=d.toGlobal(h,g,_)),_||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(h,g)},e.prototype.setParent=function(h){if(!h||!h.addChild)throw new Error("setParent: Argument must be a Container");return h.addChild(this),h},e.prototype.setTransform=function(h,d,g,_,b,$,j,_e,et){return h===void 0&&(h=0),d===void 0&&(d=0),g===void 0&&(g=1),_===void 0&&(_=1),b===void 0&&(b=0),$===void 0&&($=0),j===void 0&&(j=0),_e===void 0&&(_e=0),et===void 0&&(et=0),this.position.x=h,this.position.y=d,this.scale.x=g||1,this.scale.y=_||1,this.rotation=b,this.skew.x=$,this.skew.y=j,this.pivot.x=_e,this.pivot.y=et,this},e.prototype.destroy=function(h){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var h=this.parent;return this.parent=this._tempDisplayObjectParent,h},e.prototype.disableTempParent=function(h){this.parent=h},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(h){this.transform.position.x=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(h){this.transform.position.y=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(h){this.transform.position.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(h){this.transform.scale.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(h){this.transform.pivot.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(h){this.transform.skew.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(h){this.transform.rotation=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(h){this.transform.rotation=h*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(h){this._zIndex=h,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var h=this;do{if(!h.visible)return!1;h=h.parent}while(h);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(h){if(this._mask!==h){if(this._mask){var d=this._mask.maskObject||this._mask;d._maskRefCount--,d._maskRefCount===0&&(d.renderable=!0,d.isMask=!1)}if(this._mask=h,this._mask){var d=this._mask.maskObject||this._mask;d._maskRefCount===0&&(d.renderable=!1,d.isMask=!0),d._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(EventEmitter),TemporaryDisplayObject=function(o){__extends$j(e,o);function e(){var h=o!==null&&o.apply(this,arguments)||this;return h.sortDirty=null,h}return e}(DisplayObject);DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;/*!
 * @pixi/constants - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$2;(function(o){o[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2"})(ENV$2||(ENV$2={}));var RENDERER_TYPE$2;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.WEBGL=1]="WEBGL",o[o.CANVAS=2]="CANVAS"})(RENDERER_TYPE$2||(RENDERER_TYPE$2={}));var BUFFER_BITS$2;(function(o){o[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL"})(BUFFER_BITS$2||(BUFFER_BITS$2={}));var BLEND_MODES$2;(function(o){o[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR"})(BLEND_MODES$2||(BLEND_MODES$2={}));var DRAW_MODES$2;(function(o){o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$2||(DRAW_MODES$2={}));var FORMATS$2;(function(o){o[o.RGBA=6408]="RGBA",o[o.RGB=6407]="RGB",o[o.RG=33319]="RG",o[o.RED=6403]="RED",o[o.RGBA_INTEGER=36249]="RGBA_INTEGER",o[o.RGB_INTEGER=36248]="RGB_INTEGER",o[o.RG_INTEGER=33320]="RG_INTEGER",o[o.RED_INTEGER=36244]="RED_INTEGER",o[o.ALPHA=6406]="ALPHA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$2||(FORMATS$2={}));var TARGETS$2;(function(o){o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$2||(TARGETS$2={}));var TYPES$2;(function(o){o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",o[o.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",o[o.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",o[o.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",o[o.BYTE=5120]="BYTE",o[o.SHORT=5122]="SHORT",o[o.INT=5124]="INT",o[o.FLOAT=5126]="FLOAT",o[o.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",o[o.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$2||(TYPES$2={}));var SAMPLER_TYPES$2;(function(o){o[o.FLOAT=0]="FLOAT",o[o.INT=1]="INT",o[o.UINT=2]="UINT"})(SAMPLER_TYPES$2||(SAMPLER_TYPES$2={}));var SCALE_MODES$2;(function(o){o[o.NEAREST=0]="NEAREST",o[o.LINEAR=1]="LINEAR"})(SCALE_MODES$2||(SCALE_MODES$2={}));var WRAP_MODES$2;(function(o){o[o.CLAMP=33071]="CLAMP",o[o.REPEAT=10497]="REPEAT",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$2||(WRAP_MODES$2={}));var MIPMAP_MODES$2;(function(o){o[o.OFF=0]="OFF",o[o.POW2=1]="POW2",o[o.ON=2]="ON",o[o.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$2||(MIPMAP_MODES$2={}));var ALPHA_MODES$2;(function(o){o[o.NPM=0]="NPM",o[o.UNPACK=1]="UNPACK",o[o.PMA=2]="PMA",o[o.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",o[o.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",o[o.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",o[o.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$2||(ALPHA_MODES$2={}));var CLEAR_MODES$2;(function(o){o[o.NO=0]="NO",o[o.YES=1]="YES",o[o.AUTO=2]="AUTO",o[o.BLEND=0]="BLEND",o[o.CLEAR=1]="CLEAR",o[o.BLIT=2]="BLIT"})(CLEAR_MODES$2||(CLEAR_MODES$2={}));var GC_MODES$2;(function(o){o[o.AUTO=0]="AUTO",o[o.MANUAL=1]="MANUAL"})(GC_MODES$2||(GC_MODES$2={}));var PRECISION$2;(function(o){o.LOW="lowp",o.MEDIUM="mediump",o.HIGH="highp"})(PRECISION$2||(PRECISION$2={}));var MASK_TYPES$2;(function(o){o[o.NONE=0]="NONE",o[o.SCISSOR=1]="SCISSOR",o[o.STENCIL=2]="STENCIL",o[o.SPRITE=3]="SPRITE"})(MASK_TYPES$2||(MASK_TYPES$2={}));var MSAA_QUALITY$2;(function(o){o[o.NONE=0]="NONE",o[o.LOW=2]="LOW",o[o.MEDIUM=4]="MEDIUM",o[o.HIGH=8]="HIGH"})(MSAA_QUALITY$2||(MSAA_QUALITY$2={}));var BUFFER_TYPE$2;(function(o){o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$2||(BUFFER_TYPE$2={}));function sortChildren(o,e){return o.zIndex===e.zIndex?o._lastSortedIndex-e._lastSortedIndex:o.zIndex-e.zIndex}var Container=function(o){__extends$j(e,o);function e(){var h=o.call(this)||this;return h.children=[],h.sortableChildren=settings.SORTABLE_CHILDREN,h.sortDirty=!1,h}return e.prototype.onChildrenChange=function(h){},e.prototype.addChild=function(){for(var h=arguments,d=[],g=0;g<arguments.length;g++)d[g]=h[g];if(d.length>1)for(var _=0;_<d.length;_++)this.addChild(d[_]);else{var b=d[0];b.parent&&b.parent.removeChild(b),b.parent=this,this.sortDirty=!0,b.transform._parentID=-1,this.children.push(b),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",b,this,this.children.length-1),b.emit("added",this)}return d[0]},e.prototype.addChildAt=function(h,d){if(d<0||d>this.children.length)throw new Error(h+"addChildAt: The index "+d+" supplied is out of bounds "+this.children.length);return h.parent&&h.parent.removeChild(h),h.parent=this,this.sortDirty=!0,h.transform._parentID=-1,this.children.splice(d,0,h),this._boundsID++,this.onChildrenChange(d),h.emit("added",this),this.emit("childAdded",h,this,d),h},e.prototype.swapChildren=function(h,d){if(h!==d){var g=this.getChildIndex(h),_=this.getChildIndex(d);this.children[g]=d,this.children[_]=h,this.onChildrenChange(g<_?g:_)}},e.prototype.getChildIndex=function(h){var d=this.children.indexOf(h);if(d===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return d},e.prototype.setChildIndex=function(h,d){if(d<0||d>=this.children.length)throw new Error("The index "+d+" supplied is out of bounds "+this.children.length);var g=this.getChildIndex(h);removeItems(this.children,g,1),this.children.splice(d,0,h),this.onChildrenChange(d)},e.prototype.getChildAt=function(h){if(h<0||h>=this.children.length)throw new Error("getChildAt: Index ("+h+") does not exist.");return this.children[h]},e.prototype.removeChild=function(){for(var h=arguments,d=[],g=0;g<arguments.length;g++)d[g]=h[g];if(d.length>1)for(var _=0;_<d.length;_++)this.removeChild(d[_]);else{var b=d[0],$=this.children.indexOf(b);if($===-1)return null;b.parent=null,b.transform._parentID=-1,removeItems(this.children,$,1),this._boundsID++,this.onChildrenChange($),b.emit("removed",this),this.emit("childRemoved",b,this,$)}return d[0]},e.prototype.removeChildAt=function(h){var d=this.getChildAt(h);return d.parent=null,d.transform._parentID=-1,removeItems(this.children,h,1),this._boundsID++,this.onChildrenChange(h),d.emit("removed",this),this.emit("childRemoved",d,this,h),d},e.prototype.removeChildren=function(h,d){h===void 0&&(h=0),d===void 0&&(d=this.children.length);var g=h,_=d,b=_-g,$;if(b>0&&b<=_){$=this.children.splice(g,b);for(var j=0;j<$.length;++j)$[j].parent=null,$[j].transform&&($[j].transform._parentID=-1);this._boundsID++,this.onChildrenChange(h);for(var j=0;j<$.length;++j)$[j].emit("removed",this),this.emit("childRemoved",$[j],this,j);return $}else if(b===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var h=!1,d=0,g=this.children.length;d<g;++d){var _=this.children[d];_._lastSortedIndex=d,!h&&_.zIndex!==0&&(h=!0)}h&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var h=0,d=this.children.length;h<d;++h){var g=this.children[h];g.visible&&g.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var h=0;h<this.children.length;h++){var d=this.children[h];if(!(!d.visible||!d.renderable))if(d.calculateBounds(),d._mask){var g=d._mask.maskObject||d._mask;g.calculateBounds(),this._bounds.addBoundsMask(d._bounds,g._bounds)}else d.filterArea?this._bounds.addBoundsArea(d._bounds,d.filterArea):this._bounds.addBounds(d._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(h,d){d===void 0&&(d=!1);var g=o.prototype.getLocalBounds.call(this,h);if(!d)for(var _=0,b=this.children.length;_<b;++_){var $=this.children[_];$.visible&&$.updateTransform()}return g},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(h){var d=h.renderTexture.sourceFrame;if(d.width>0&&d.height>0){var g,_;if(this.cullArea?(g=this.cullArea,_=this.worldTransform):this._render!==e.prototype._render&&(g=this.getBounds(!0)),g&&d.intersects(g,_))this._render(h);else if(this.cullArea)return;for(var b=0,$=this.children.length;b<$;++b){var j=this.children[b],_e=j.cullable;j.cullable=_e||!this.cullArea,j.render(h),j.cullable=_e}}},e.prototype.render=function(h){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(h);else if(this.cullable)this._renderWithCulling(h);else{this._render(h);for(var d=0,g=this.children.length;d<g;++d)this.children[d].render(h)}},e.prototype.renderAdvanced=function(h){var d=this.filters,g=this._mask;if(d){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var _=0;_<d.length;_++)d[_].enabled&&this._enabledFilters.push(d[_])}var b=d&&this._enabledFilters&&this._enabledFilters.length||g&&(!g.isMaskData||g.enabled&&(g.autoDetect||g.type!==MASK_TYPES$2.NONE));if(b&&h.batch.flush(),d&&this._enabledFilters&&this._enabledFilters.length&&h.filter.push(this,this._enabledFilters),g&&h.mask.push(this,this._mask),this.cullable)this._renderWithCulling(h);else{this._render(h);for(var _=0,$=this.children.length;_<$;++_)this.children[_].render(h)}b&&h.batch.flush(),g&&h.mask.pop(this),d&&this._enabledFilters&&this._enabledFilters.length&&h.filter.pop()},e.prototype._render=function(h){},e.prototype.destroy=function(h){o.prototype.destroy.call(this),this.sortDirty=!1;var d=typeof h=="boolean"?h:h&&h.children,g=this.removeChildren(0,this.children.length);if(d)for(var _=0;_<g.length;++_)g[_].destroy(h)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(h){var d=this.getLocalBounds().width;d!==0?this.scale.x=h/d:this.scale.x=1,this._width=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(h){var d=this.getLocalBounds().height;d!==0?this.scale.y=h/d:this.scale.y=1,this._height=h},enumerable:!1,configurable:!0}),e}(DisplayObject);Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);var KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2,AccessibilityManager=function(){function o(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile.tablet||isMobile.phone)&&this.createTouchHook();var h=document.createElement("div");h.style.width=DIV_TOUCH_SIZE+"px",h.style.height=DIV_TOUCH_SIZE+"px",h.style.position="absolute",h.style.top=DIV_TOUCH_POS_X+"px",h.style.left=DIV_TOUCH_POS_Y+"px",h.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=h,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(o.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),o.prototype.createTouchHook=function(){var e=this,h=document.createElement("button");h.style.width=DIV_HOOK_SIZE+"px",h.style.height=DIV_HOOK_SIZE+"px",h.style.position="absolute",h.style.top=DIV_HOOK_POS_X+"px",h.style.left=DIV_HOOK_POS_Y+"px",h.style.zIndex=DIV_HOOK_ZINDEX.toString(),h.style.backgroundColor="#FF0000",h.title="select to enable accessibility for this content",h.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(h),this._hookDiv=h},o.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},o.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},o.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},o.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var h=e.children;if(h)for(var d=0;d<h.length;d++)this.updateAccessibleObjects(h[d])}},o.prototype.update=function(){var e=performance.now();if(!(isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var h=this.renderer.view.getBoundingClientRect(),d=h.left,g=h.top,_=h.width,b=h.height,$=this.renderer,j=$.width,_e=$.height,et=$.resolution,rt=_/j*et,tt=b/_e*et,nt=this.div;nt.style.left=d+"px",nt.style.top=g+"px",nt.style.width=j+"px",nt.style.height=_e+"px";for(var st=0;st<this.children.length;st++){var at=this.children[st];if(at.renderId!==this.renderId)at._accessibleActive=!1,removeItems(this.children,st,1),this.div.removeChild(at._accessibleDiv),this.pool.push(at._accessibleDiv),at._accessibleDiv=null,st--;else{nt=at._accessibleDiv;var ct=at.hitArea,it=at.worldTransform;at.hitArea?(nt.style.left=(it.tx+ct.x*it.a)*rt+"px",nt.style.top=(it.ty+ct.y*it.d)*tt+"px",nt.style.width=ct.width*it.a*rt+"px",nt.style.height=ct.height*it.d*tt+"px"):(ct=at.getBounds(),this.capHitArea(ct),nt.style.left=ct.x*rt+"px",nt.style.top=ct.y*tt+"px",nt.style.width=ct.width*rt+"px",nt.style.height=ct.height*tt+"px",nt.title!==at.accessibleTitle&&at.accessibleTitle!==null&&(nt.title=at.accessibleTitle),nt.getAttribute("aria-label")!==at.accessibleHint&&at.accessibleHint!==null&&nt.setAttribute("aria-label",at.accessibleHint)),(at.accessibleTitle!==nt.title||at.tabIndex!==nt.tabIndex)&&(nt.title=at.accessibleTitle,nt.tabIndex=at.tabIndex,this.debug&&this.updateDebugHTML(nt))}}this.renderId++}},o.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},o.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var h=this.renderer,d=h.width,g=h.height;e.x+e.width>d&&(e.width=d-e.x),e.y+e.height>g&&(e.height=g-e.y)},o.prototype.addChild=function(e){var h=this.pool.pop();h||(h=document.createElement("button"),h.style.width=DIV_TOUCH_SIZE+"px",h.style.height=DIV_TOUCH_SIZE+"px",h.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",h.style.position="absolute",h.style.zIndex=DIV_TOUCH_ZINDEX.toString(),h.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?h.setAttribute("aria-live","off"):h.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?h.setAttribute("aria-relevant","additions"):h.setAttribute("aria-relevant","text"),h.addEventListener("click",this._onClick.bind(this)),h.addEventListener("focus",this._onFocus.bind(this)),h.addEventListener("focusout",this._onFocusOut.bind(this))),h.style.pointerEvents=e.accessiblePointerEvents,h.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?h.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(h.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&h.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(h),e._accessibleActive=!0,e._accessibleDiv=h,h.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},o.prototype._onClick=function(e){var h=this.renderer.plugins.interaction,d=e.target.displayObject,g=h.eventData;h.dispatchEvent(d,"click",g),h.dispatchEvent(d,"pointertap",g),h.dispatchEvent(d,"tap",g)},o.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var h=this.renderer.plugins.interaction,d=e.target.displayObject,g=h.eventData;h.dispatchEvent(d,"mouseover",g)},o.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var h=this.renderer.plugins.interaction,d=e.target.displayObject,g=h.eventData;h.dispatchEvent(d,"mouseout",g)},o.prototype._onKeyDown=function(e){e.keyCode===KEY_CODE_TAB&&this.activate()},o.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},o.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},o}();/*!
 * @pixi/ticker - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.TARGET_FPMS=.06;var UPDATE_PRIORITY;(function(o){o[o.INTERACTION=50]="INTERACTION",o[o.HIGH=25]="HIGH",o[o.NORMAL=0]="NORMAL",o[o.LOW=-25]="LOW",o[o.UTILITY=-50]="UTILITY"})(UPDATE_PRIORITY||(UPDATE_PRIORITY={}));var TickerListener=function(){function o(e,h,d,g){h===void 0&&(h=null),d===void 0&&(d=0),g===void 0&&(g=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=h,this.priority=d,this.once=g}return o.prototype.match=function(e,h){return h===void 0&&(h=null),this.fn===e&&this.context===h},o.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var h=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),h},o.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},o.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var h=this.next;return this.next=e?null:h,this.previous=null,h},o}(),Ticker=function(){function o(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/settings.TARGET_FPMS,this.elapsedMS=1/settings.TARGET_FPMS,this._tick=function(h){e._requestId=null,e.started&&(e.update(h),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return o.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},o.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},o.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},o.prototype.add=function(e,h,d){return d===void 0&&(d=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,h,d))},o.prototype.addOnce=function(e,h,d){return d===void 0&&(d=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,h,d,!0))},o.prototype._addListener=function(e){var h=this._head.next,d=this._head;if(!h)e.connect(d);else{for(;h;){if(e.priority>h.priority){e.connect(d);break}d=h,h=h.next}e.previous||e.connect(d)}return this._startIfPossible(),this},o.prototype.remove=function(e,h){for(var d=this._head.next;d;)d.match(e,h)?d=d.destroy():d=d.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(o.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,h=this._head;h=h.next;)e++;return e},enumerable:!1,configurable:!0}),o.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},o.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},o.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},o.prototype.update=function(e){e===void 0&&(e=performance.now());var h;if(e>this.lastTime){if(h=this.elapsedMS=e-this.lastTime,h>this._maxElapsedMS&&(h=this._maxElapsedMS),h*=this.speed,this._minElapsedMS){var d=e-this._lastFrame|0;if(d<this._minElapsedMS)return;this._lastFrame=e-d%this._minElapsedMS}this.deltaMS=h,this.deltaTime=this.deltaMS*settings.TARGET_FPMS;for(var g=this._head,_=g.next;_;)_=_.emit(this.deltaTime);g.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(o.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var h=Math.min(this.maxFPS,e),d=Math.min(Math.max(0,h)/1e3,settings.TARGET_FPMS);this._maxElapsedMS=1/d},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var h=Math.max(this.minFPS,e);this._minElapsedMS=1/(h/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"shared",{get:function(){if(!o._shared){var e=o._shared=new o;e.autoStart=!0,e._protected=!0}return o._shared},enumerable:!1,configurable:!0}),Object.defineProperty(o,"system",{get:function(){if(!o._system){var e=o._system=new o;e.autoStart=!0,e._protected=!0}return o._system},enumerable:!1,configurable:!0}),o}(),TickerPlugin=function(){function o(){}return o.init=function(e){var h=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(d){this._ticker&&this._ticker.remove(this.render,this),this._ticker=d,d&&d.add(this.render,this,UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){h._ticker.stop()},this.start=function(){h._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()},o.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},o}();/*!
 * @pixi/interaction - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var InteractionData=function(){function o(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(o.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),o.prototype.getLocalPosition=function(e,h,d){return e.worldTransform.applyInverse(d||this.global,h)},o.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var h="buttons"in e&&e.buttons;this.buttons=Number.isInteger(h)?h:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},o.prototype.reset=function(){this.isPrimary=!1},o}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$i=function(o,e){return extendStatics$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$i(o,e)};function __extends$i(o,e){extendStatics$i(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var InteractionEvent=function(){function o(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return o.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},o.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},o}(),InteractionTrackingData=function(){function o(e){this._pointerId=e,this._flags=o.FLAGS.NONE}return o.prototype._doSet=function(e,h){h?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(o.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"none",{get:function(){return this._flags===o.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"over",{get:function(){return(this._flags&o.FLAGS.OVER)!=0},set:function(e){this._doSet(o.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rightDown",{get:function(){return(this._flags&o.FLAGS.RIGHT_DOWN)!=0},set:function(e){this._doSet(o.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leftDown",{get:function(){return(this._flags&o.FLAGS.LEFT_DOWN)!=0},set:function(e){this._doSet(o.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),o.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),o}(),TreeSearch=function(){function o(){this._tempPoint=new Point}return o.prototype.recursiveFindHit=function(e,h,d,g,_){if(!h||!h.visible)return!1;var b=e.data.global;_=h.interactive||_;var $=!1,j=_,_e=!0;if(h.hitArea?(g&&(h.worldTransform.applyInverse(b,this._tempPoint),h.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?$=!0:(g=!1,_e=!1)),j=!1):h._mask&&g&&(h._mask.containsPoint&&h._mask.containsPoint(b)||(g=!1)),_e&&h.interactiveChildren&&h.children)for(var et=h.children,rt=et.length-1;rt>=0;rt--){var tt=et[rt],nt=this.recursiveFindHit(e,tt,d,g,j);if(nt){if(!tt.parent)continue;j=!1,nt&&(e.target&&(g=!1),$=!0)}}return _&&(g&&!e.target&&!h.hitArea&&h.containsPoint&&h.containsPoint(b)&&($=!0),h.interactive&&($&&!e.target&&(e.target=h),d&&d(e,h,!!$))),$},o.prototype.findHit=function(e,h,d,g){this.recursiveFindHit(e,h,d,g,!1)},o}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(o){o?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject.mixin(interactiveTarget);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(o){__extends$i(e,o);function e(h,d){var g=o.call(this)||this;return d=d||{},g.renderer=h,g.autoPreventDefault=d.autoPreventDefault!==void 0?d.autoPreventDefault:!0,g.interactionFrequency=d.interactionFrequency||10,g.mouse=new InteractionData,g.mouse.identifier=MOUSE_POINTER_ID,g.mouse.global.set(-999999),g.activeInteractionData={},g.activeInteractionData[MOUSE_POINTER_ID]=g.mouse,g.interactionDataPool=[],g.eventData=new InteractionEvent,g.interactionDOMElement=null,g.moveWhenInside=!1,g.eventsAdded=!1,g.tickerAdded=!1,g.mouseOverRenderer=!("PointerEvent"in globalThis),g.supportsTouchEvents="ontouchstart"in globalThis,g.supportsPointerEvents=!!globalThis.PointerEvent,g.onPointerUp=g.onPointerUp.bind(g),g.processPointerUp=g.processPointerUp.bind(g),g.onPointerCancel=g.onPointerCancel.bind(g),g.processPointerCancel=g.processPointerCancel.bind(g),g.onPointerDown=g.onPointerDown.bind(g),g.processPointerDown=g.processPointerDown.bind(g),g.onPointerMove=g.onPointerMove.bind(g),g.processPointerMove=g.processPointerMove.bind(g),g.onPointerOut=g.onPointerOut.bind(g),g.processPointerOverOut=g.processPointerOverOut.bind(g),g.onPointerOver=g.onPointerOver.bind(g),g.cursorStyles={default:"inherit",pointer:"pointer"},g.currentCursorMode=null,g.cursor=null,g.resolution=1,g.delayedEvents=[],g.search=new TreeSearch,g._tempDisplayObject=new TemporaryDisplayObject,g._eventListenerOptions={capture:!0,passive:!1},g._useSystemTicker=d.useSystemTicker!==void 0?d.useSystemTicker:!0,g.setTargetElement(g.renderer.view,g.renderer.resolution),g}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(h){this._useSystemTicker=h,h?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(h,d){return hitTestEvent.target=null,hitTestEvent.data.global=h,d||(d=this.lastObjectRendered),this.processInteractive(hitTestEvent,d,null,!0),hitTestEvent.target},e.prototype.setTargetElement=function(h,d){d===void 0&&(d=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=h,this.resolution=d,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){!this.tickerAdded||(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var h=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(h.msContentZooming="none",h.msTouchAction="none"):this.supportsPointerEvents&&(h.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var h=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(h.msContentZooming="",h.msTouchAction=""):this.supportsPointerEvents&&(h.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(h){this._deltaTime+=h,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var h in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(h)){var d=this.activeInteractionData[h];if(d.originalEvent&&d.pointerType!=="touch"){var g=this.configureInteractionEventForDOMEvent(this.eventData,d.originalEvent,d);this.processInteractive(g,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(h){h=h||"default";var d=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(d=!1),this.currentCursorMode!==h){this.currentCursorMode=h;var g=this.cursorStyles[h];if(g)switch(typeof g){case"string":d&&(this.interactionDOMElement.style.cursor=g);break;case"function":g(h);break;case"object":d&&Object.assign(this.interactionDOMElement.style,g);break}else d&&typeof h=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,h)&&(this.interactionDOMElement.style.cursor=h)}},e.prototype.dispatchEvent=function(h,d,g){(!g.stopPropagationHint||h===g.stopsPropagatingAt)&&(g.currentTarget=h,g.type=d,h.emit(d,g),h[d]&&h[d](g))},e.prototype.delayDispatchEvent=function(h,d,g){this.delayedEvents.push({displayObject:h,eventString:d,eventData:g})},e.prototype.mapPositionToPoint=function(h,d,g){var _;this.interactionDOMElement.parentElement?_=this.interactionDOMElement.getBoundingClientRect():_={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var b=1/this.resolution;h.x=(d-_.left)*(this.interactionDOMElement.width/_.width)*b,h.y=(g-_.top)*(this.interactionDOMElement.height/_.height)*b},e.prototype.processInteractive=function(h,d,g,_){var b=this.search.findHit(h,d,g,_),$=this.delayedEvents;if(!$.length)return b;h.stopPropagationHint=!1;var j=$.length;this.delayedEvents=[];for(var _e=0;_e<j;_e++){var et=$[_e],rt=et.displayObject,tt=et.eventString,nt=et.eventData;nt.stopsPropagatingAt===rt&&(nt.stopPropagationHint=!0),this.dispatchEvent(rt,tt,nt)}return b},e.prototype.onPointerDown=function(h){if(!(this.supportsTouchEvents&&h.pointerType==="touch")){var d=this.normalizeToPointerData(h);if(this.autoPreventDefault&&d[0].isNormalized){var g=h.cancelable||!("cancelable"in h);g&&h.preventDefault()}for(var _=d.length,b=0;b<_;b++){var $=d[b],j=this.getInteractionDataForPointerId($),_e=this.configureInteractionEventForDOMEvent(this.eventData,$,j);if(_e.data.originalEvent=h,this.processInteractive(_e,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",_e),$.pointerType==="touch")this.emit("touchstart",_e);else if($.pointerType==="mouse"||$.pointerType==="pen"){var et=$.button===2;this.emit(et?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(h,d,g){var _=h.data,b=h.data.identifier;if(g){if(d.trackedPointers[b]||(d.trackedPointers[b]=new InteractionTrackingData(b)),this.dispatchEvent(d,"pointerdown",h),_.pointerType==="touch")this.dispatchEvent(d,"touchstart",h);else if(_.pointerType==="mouse"||_.pointerType==="pen"){var $=_.button===2;$?d.trackedPointers[b].rightDown=!0:d.trackedPointers[b].leftDown=!0,this.dispatchEvent(d,$?"rightdown":"mousedown",h)}}},e.prototype.onPointerComplete=function(h,d,g){for(var _=this.normalizeToPointerData(h),b=_.length,$=h.target!==this.interactionDOMElement?"outside":"",j=0;j<b;j++){var _e=_[j],et=this.getInteractionDataForPointerId(_e),rt=this.configureInteractionEventForDOMEvent(this.eventData,_e,et);if(rt.data.originalEvent=h,this.processInteractive(rt,this.lastObjectRendered,g,d||!$),this.emit(d?"pointercancel":"pointerup"+$,rt),_e.pointerType==="mouse"||_e.pointerType==="pen"){var tt=_e.button===2;this.emit(tt?"rightup"+$:"mouseup"+$,rt)}else _e.pointerType==="touch"&&(this.emit(d?"touchcancel":"touchend"+$,rt),this.releaseInteractionDataForPointerId(_e.pointerId))}},e.prototype.onPointerCancel=function(h){this.supportsTouchEvents&&h.pointerType==="touch"||this.onPointerComplete(h,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(h,d){var g=h.data,_=h.data.identifier;d.trackedPointers[_]!==void 0&&(delete d.trackedPointers[_],this.dispatchEvent(d,"pointercancel",h),g.pointerType==="touch"&&this.dispatchEvent(d,"touchcancel",h))},e.prototype.onPointerUp=function(h){this.supportsTouchEvents&&h.pointerType==="touch"||this.onPointerComplete(h,!1,this.processPointerUp)},e.prototype.processPointerUp=function(h,d,g){var _=h.data,b=h.data.identifier,$=d.trackedPointers[b],j=_.pointerType==="touch",_e=_.pointerType==="mouse"||_.pointerType==="pen",et=!1;if(_e){var rt=_.button===2,tt=InteractionTrackingData.FLAGS,nt=rt?tt.RIGHT_DOWN:tt.LEFT_DOWN,st=$!==void 0&&$.flags&nt;g?(this.dispatchEvent(d,rt?"rightup":"mouseup",h),st&&(this.dispatchEvent(d,rt?"rightclick":"click",h),et=!0)):st&&this.dispatchEvent(d,rt?"rightupoutside":"mouseupoutside",h),$&&(rt?$.rightDown=!1:$.leftDown=!1)}g?(this.dispatchEvent(d,"pointerup",h),j&&this.dispatchEvent(d,"touchend",h),$&&((!_e||et)&&this.dispatchEvent(d,"pointertap",h),j&&(this.dispatchEvent(d,"tap",h),$.over=!1))):$&&(this.dispatchEvent(d,"pointerupoutside",h),j&&this.dispatchEvent(d,"touchendoutside",h)),$&&$.none&&delete d.trackedPointers[b]},e.prototype.onPointerMove=function(h){if(!(this.supportsTouchEvents&&h.pointerType==="touch")){var d=this.normalizeToPointerData(h);(d[0].pointerType==="mouse"||d[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var g=d.length,_=0;_<g;_++){var b=d[_],$=this.getInteractionDataForPointerId(b),j=this.configureInteractionEventForDOMEvent(this.eventData,b,$);j.data.originalEvent=h,this.processInteractive(j,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",j),b.pointerType==="touch"&&this.emit("touchmove",j),(b.pointerType==="mouse"||b.pointerType==="pen")&&this.emit("mousemove",j)}d[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(h,d,g){var _=h.data,b=_.pointerType==="touch",$=_.pointerType==="mouse"||_.pointerType==="pen";$&&this.processPointerOverOut(h,d,g),(!this.moveWhenInside||g)&&(this.dispatchEvent(d,"pointermove",h),b&&this.dispatchEvent(d,"touchmove",h),$&&this.dispatchEvent(d,"mousemove",h))},e.prototype.onPointerOut=function(h){if(!(this.supportsTouchEvents&&h.pointerType==="touch")){var d=this.normalizeToPointerData(h),g=d[0];g.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var _=this.getInteractionDataForPointerId(g),b=this.configureInteractionEventForDOMEvent(this.eventData,g,_);b.data.originalEvent=g,this.processInteractive(b,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",b),g.pointerType==="mouse"||g.pointerType==="pen"?this.emit("mouseout",b):this.releaseInteractionDataForPointerId(_.identifier)}},e.prototype.processPointerOverOut=function(h,d,g){var _=h.data,b=h.data.identifier,$=_.pointerType==="mouse"||_.pointerType==="pen",j=d.trackedPointers[b];g&&!j&&(j=d.trackedPointers[b]=new InteractionTrackingData(b)),j!==void 0&&(g&&this.mouseOverRenderer?(j.over||(j.over=!0,this.delayDispatchEvent(d,"pointerover",h),$&&this.delayDispatchEvent(d,"mouseover",h)),$&&this.cursor===null&&(this.cursor=d.cursor)):j.over&&(j.over=!1,this.dispatchEvent(d,"pointerout",this.eventData),$&&this.dispatchEvent(d,"mouseout",h),j.none&&delete d.trackedPointers[b]))},e.prototype.onPointerOver=function(h){var d=this.normalizeToPointerData(h),g=d[0],_=this.getInteractionDataForPointerId(g),b=this.configureInteractionEventForDOMEvent(this.eventData,g,_);b.data.originalEvent=g,g.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",b),(g.pointerType==="mouse"||g.pointerType==="pen")&&this.emit("mouseover",b)},e.prototype.getInteractionDataForPointerId=function(h){var d=h.pointerId,g;return d===MOUSE_POINTER_ID||h.pointerType==="mouse"?g=this.mouse:this.activeInteractionData[d]?g=this.activeInteractionData[d]:(g=this.interactionDataPool.pop()||new InteractionData,g.identifier=d,this.activeInteractionData[d]=g),g.copyEvent(h),g},e.prototype.releaseInteractionDataForPointerId=function(h){var d=this.activeInteractionData[h];d&&(delete this.activeInteractionData[h],d.reset(),this.interactionDataPool.push(d))},e.prototype.configureInteractionEventForDOMEvent=function(h,d,g){return h.data=g,this.mapPositionToPoint(g.global,d.clientX,d.clientY),d.pointerType==="touch"&&(d.globalX=g.global.x,d.globalY=g.global.y),g.originalEvent=d,h.reset(),h},e.prototype.normalizeToPointerData=function(h){var d=[];if(this.supportsTouchEvents&&h instanceof TouchEvent)for(var g=0,_=h.changedTouches.length;g<_;g++){var b=h.changedTouches[g];typeof b.button=="undefined"&&(b.button=h.touches.length?1:0),typeof b.buttons=="undefined"&&(b.buttons=h.touches.length?1:0),typeof b.isPrimary=="undefined"&&(b.isPrimary=h.touches.length===1&&h.type==="touchstart"),typeof b.width=="undefined"&&(b.width=b.radiusX||1),typeof b.height=="undefined"&&(b.height=b.radiusY||1),typeof b.tiltX=="undefined"&&(b.tiltX=0),typeof b.tiltY=="undefined"&&(b.tiltY=0),typeof b.pointerType=="undefined"&&(b.pointerType="touch"),typeof b.pointerId=="undefined"&&(b.pointerId=b.identifier||0),typeof b.pressure=="undefined"&&(b.pressure=b.force||.5),typeof b.twist=="undefined"&&(b.twist=0),typeof b.tangentialPressure=="undefined"&&(b.tangentialPressure=0),typeof b.layerX=="undefined"&&(b.layerX=b.offsetX=b.clientX),typeof b.layerY=="undefined"&&(b.layerY=b.offsetY=b.clientY),b.isNormalized=!0,d.push(b)}else if(!globalThis.MouseEvent||h instanceof MouseEvent&&(!this.supportsPointerEvents||!(h instanceof globalThis.PointerEvent))){var $=h;typeof $.isPrimary=="undefined"&&($.isPrimary=!0),typeof $.width=="undefined"&&($.width=1),typeof $.height=="undefined"&&($.height=1),typeof $.tiltX=="undefined"&&($.tiltX=0),typeof $.tiltY=="undefined"&&($.tiltY=0),typeof $.pointerType=="undefined"&&($.pointerType="mouse"),typeof $.pointerId=="undefined"&&($.pointerId=MOUSE_POINTER_ID),typeof $.pressure=="undefined"&&($.pressure=.5),typeof $.twist=="undefined"&&($.twist=0),typeof $.tangentialPressure=="undefined"&&($.tangentialPressure=0),$.isNormalized=!0,d.push($)}else d.push(h);return d},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(EventEmitter);/*!
 * @pixi/runner - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Runner=function(){function o(e){this.items=[],this._name=e,this._aliasCount=0}return o.prototype.emit=function(e,h,d,g,_,b,$,j){if(arguments.length>8)throw new Error("max arguments reached");var _e=this,et=_e.name,rt=_e.items;this._aliasCount++;for(var tt=0,nt=rt.length;tt<nt;tt++)rt[tt][et](e,h,d,g,_,b,$,j);return rt===this.items&&this._aliasCount--,this},o.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},o.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},o.prototype.remove=function(e){var h=this.items.indexOf(e);return h!==-1&&(this.ensureNonAliasedItems(),this.items.splice(h,1)),this},o.prototype.contains=function(e){return this.items.indexOf(e)!==-1},o.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},o.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(o.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o}();Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});/*!
 * @pixi/core - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.PREFER_ENV=isMobile.any?ENV$3.WEBGL:ENV$3.WEBGL2;settings.STRICT_TEXTURE_CACHE=!1;var INSTALLED=[];function autoDetectResource(o,e){if(!o)return null;var h="";if(typeof o=="string"){var d=/\.(\w{3,4})(?:$|\?|#)/i.exec(o);d&&(h=d[1].toLowerCase())}for(var g=INSTALLED.length-1;g>=0;--g){var _=INSTALLED[g];if(_.test&&_.test(o,h))return new _(o,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$h=function(o,e){return extendStatics$h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$h(o,e)};function __extends$h(o,e){extendStatics$h(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var h=arguments,d,g=1,_=arguments.length;g<_;g++){d=h[g];for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(e[b]=d[b])}return e},__assign$1.apply(this,arguments)};function __rest(o,e){var h={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&e.indexOf(d)<0&&(h[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,d=Object.getOwnPropertySymbols(o);g<d.length;g++)e.indexOf(d[g])<0&&(h[d[g]]=o[d[g]]);return h}var Resource=function(){function o(e,h){e===void 0&&(e=0),h===void 0&&(h=0),this._width=e,this._height=h,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}return o.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},o.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},o.prototype.resize=function(e,h){(e!==this._width||h!==this._height)&&(this._width=e,this._height=h,this.onResize.emit(e,h))},Object.defineProperty(o.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),o.prototype.update=function(){this.destroyed||this.onUpdate.emit()},o.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),o.prototype.style=function(e,h,d){return!1},o.prototype.dispose=function(){},o.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},o.test=function(e,h){return!1},o}(),BufferResource=function(o){__extends$h(e,o);function e(h,d){var g=this,_=d||{},b=_.width,$=_.height;if(!b||!$)throw new Error("BufferResource width or height invalid");return g=o.call(this,b,$)||this,g.data=h,g}return e.prototype.upload=function(h,d,g){var _=h.gl;_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===ALPHA_MODES$3.UNPACK);var b=d.realWidth,$=d.realHeight;return g.width===b&&g.height===$?_.texSubImage2D(d.target,0,0,0,b,$,d.format,g.type,this.data):(g.width=b,g.height=$,_.texImage2D(d.target,0,g.internalFormat,b,$,0,d.format,g.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(h){return h instanceof Float32Array||h instanceof Uint8Array||h instanceof Uint32Array},e}(Resource),defaultBufferOptions={scaleMode:SCALE_MODES$3.NEAREST,format:FORMATS$3.RGBA,alphaMode:ALPHA_MODES$3.NPM},BaseTexture=function(o){__extends$h(e,o);function e(h,d){h===void 0&&(h=null),d===void 0&&(d=null);var g=o.call(this)||this;d=d||{};var _=d.alphaMode,b=d.mipmap,$=d.anisotropicLevel,j=d.scaleMode,_e=d.width,et=d.height,rt=d.wrapMode,tt=d.format,nt=d.type,st=d.target,at=d.resolution,ct=d.resourceOptions;return h&&!(h instanceof Resource)&&(h=autoDetectResource(h,ct),h.internal=!0),g.resolution=at||settings.RESOLUTION,g.width=Math.round((_e||0)*g.resolution)/g.resolution,g.height=Math.round((et||0)*g.resolution)/g.resolution,g._mipmap=b!==void 0?b:settings.MIPMAP_TEXTURES,g.anisotropicLevel=$!==void 0?$:settings.ANISOTROPIC_LEVEL,g._wrapMode=rt||settings.WRAP_MODE,g._scaleMode=j!==void 0?j:settings.SCALE_MODE,g.format=tt||FORMATS$3.RGBA,g.type=nt||TYPES$3.UNSIGNED_BYTE,g.target=st||TARGETS$3.TEXTURE_2D,g.alphaMode=_!==void 0?_:ALPHA_MODES$3.UNPACK,g.uid=uid(),g.touched=0,g.isPowerOfTwo=!1,g._refreshPOT(),g._glTextures={},g.dirtyId=0,g.dirtyStyleId=0,g.cacheId=null,g.valid=_e>0&&et>0,g.textureCacheIds=[],g.destroyed=!1,g.resource=null,g._batchEnabled=0,g._batchLocation=0,g.parentTextureArray=null,g.setResource(h),g}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(h){this._mipmap!==h&&(this._mipmap=h,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(h){this._scaleMode!==h&&(this._scaleMode=h,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(h){this._wrapMode!==h&&(this._wrapMode=h,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(h,d){var g;return h!==void 0&&h!==this.scaleMode&&(this.scaleMode=h,g=!0),d!==void 0&&d!==this.mipmap&&(this.mipmap=d,g=!0),g&&this.dirtyStyleId++,this},e.prototype.setSize=function(h,d,g){return g=g||this.resolution,this.setRealSize(h*g,d*g,g)},e.prototype.setRealSize=function(h,d,g){return this.resolution=g||this.resolution,this.width=Math.round(h)/this.resolution,this.height=Math.round(d)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},e.prototype.setResolution=function(h){var d=this.resolution;return d===h?this:(this.resolution=h,this.valid&&(this.width=Math.round(this.width*d)/h,this.height=Math.round(this.height*d)/h,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(h){if(this.resource===h)return this;if(this.resource)throw new Error("Resource can be set only once");return h.bind(this),this.resource=h,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(h){this.emit("error",this,h)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(h,d,g){g===void 0&&(g=settings.STRICT_TEXTURE_CACHE);var _=typeof h=="string",b=null;if(_)b=h;else{if(!h._pixiId){var $=d&&d.pixiIdPrefix||"pixiid";h._pixiId=$+"_"+uid()}b=h._pixiId}var j=BaseTextureCache[b];if(_&&g&&!j)throw new Error('The cacheId "'+b+'" does not exist in BaseTextureCache.');return j||(j=new e(h,d),j.cacheId=b,e.addToCache(j,b)),j},e.fromBuffer=function(h,d,g,_){h=h||new Float32Array(d*g*4);var b=new BufferResource(h,{width:d,height:g}),$=h instanceof Float32Array?TYPES$3.FLOAT:TYPES$3.UNSIGNED_BYTE;return new e(b,Object.assign(defaultBufferOptions,_||{width:d,height:g,type:$}))},e.addToCache=function(h,d){d&&(h.textureCacheIds.indexOf(d)===-1&&h.textureCacheIds.push(d),BaseTextureCache[d]&&console.warn("BaseTexture added to the cache with an id ["+d+"] that already had an entry"),BaseTextureCache[d]=h)},e.removeFromCache=function(h){if(typeof h=="string"){var d=BaseTextureCache[h];if(d){var g=d.textureCacheIds.indexOf(h);return g>-1&&d.textureCacheIds.splice(g,1),delete BaseTextureCache[h],d}}else if(h&&h.textureCacheIds){for(var _=0;_<h.textureCacheIds.length;++_)delete BaseTextureCache[h.textureCacheIds[_]];return h.textureCacheIds.length=0,h}return null},e._globalBatch=0,e}(EventEmitter),AbstractMultiResource=function(o){__extends$h(e,o);function e(h,d){var g=this,_=d||{},b=_.width,$=_.height;g=o.call(this,b,$)||this,g.items=[],g.itemDirtyIds=[];for(var j=0;j<h;j++){var _e=new BaseTexture;g.items.push(_e),g.itemDirtyIds.push(-2)}return g.length=h,g._load=null,g.baseTexture=null,g}return e.prototype.initFromArray=function(h,d){for(var g=0;g<this.length;g++)!h[g]||(h[g].castToBaseTexture?this.addBaseTextureAt(h[g].castToBaseTexture(),g):h[g]instanceof Resource?this.addResourceAt(h[g],g):this.addResourceAt(autoDetectResource(h[g],d),g))},e.prototype.dispose=function(){for(var h=0,d=this.length;h<d;h++)this.items[h].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(h,d){if(!this.items[d])throw new Error("Index "+d+" is out of bounds");return h.valid&&!this.valid&&this.resize(h.width,h.height),this.items[d].setResource(h),this},e.prototype.bind=function(h){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");o.prototype.bind.call(this,h);for(var d=0;d<this.length;d++)this.items[d].parentTextureArray=h,this.items[d].on("update",h.update,h)},e.prototype.unbind=function(h){o.prototype.unbind.call(this,h);for(var d=0;d<this.length;d++)this.items[d].parentTextureArray=null,this.items[d].off("update",h.update,h)},e.prototype.load=function(){var h=this;if(this._load)return this._load;var d=this.items.map(function(_){return _.resource}).filter(function(_){return _}),g=d.map(function(_){return _.load()});return this._load=Promise.all(g).then(function(){var _=h.items[0],b=_.realWidth,$=_.realHeight;return h.resize(b,$),Promise.resolve(h)}),this._load},e}(Resource),ArrayResource=function(o){__extends$h(e,o);function e(h,d){var g=this,_=d||{},b=_.width,$=_.height,j,_e;return Array.isArray(h)?(j=h,_e=h.length):_e=h,g=o.call(this,_e,{width:b,height:$})||this,j&&g.initFromArray(j,d),g}return e.prototype.addBaseTextureAt=function(h,d){if(h.resource)this.addResourceAt(h.resource,d);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(h){o.prototype.bind.call(this,h),h.target=TARGETS$3.TEXTURE_2D_ARRAY},e.prototype.upload=function(h,d,g){var _=this,b=_.length,$=_.itemDirtyIds,j=_.items,_e=h.gl;g.dirtyId<0&&_e.texImage3D(_e.TEXTURE_2D_ARRAY,0,g.internalFormat,this._width,this._height,b,0,d.format,g.type,null);for(var et=0;et<b;et++){var rt=j[et];$[et]<rt.dirtyId&&($[et]=rt.dirtyId,rt.valid&&_e.texSubImage3D(_e.TEXTURE_2D_ARRAY,0,0,0,et,rt.resource.width,rt.resource.height,1,d.format,g.type,rt.resource.source))}return!0},e}(AbstractMultiResource),BaseImageResource=function(o){__extends$h(e,o);function e(h){var d=this,g=h,_=g.naturalWidth||g.videoWidth||g.width,b=g.naturalHeight||g.videoHeight||g.height;return d=o.call(this,_,b)||this,d.source=h,d.noSubImage=!1,d}return e.crossOrigin=function(h,d,g){g===void 0&&d.indexOf("data:")!==0?h.crossOrigin=determineCrossOrigin(d):g!==!1&&(h.crossOrigin=typeof g=="string"?g:"anonymous")},e.prototype.upload=function(h,d,g,_){var b=h.gl,$=d.realWidth,j=d.realHeight;if(_=_||this.source,_ instanceof HTMLImageElement){if(!_.complete||_.naturalWidth===0)return!1}else if(_ instanceof HTMLVideoElement&&_.readyState<=1)return!1;return b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===ALPHA_MODES$3.UNPACK),!this.noSubImage&&d.target===b.TEXTURE_2D&&g.width===$&&g.height===j?b.texSubImage2D(b.TEXTURE_2D,0,0,0,d.format,g.type,_):(g.width=$,g.height=j,b.texImage2D(d.target,0,g.internalFormat,d.format,g.type,_)),!0},e.prototype.update=function(){if(!this.destroyed){var h=this.source,d=h.naturalWidth||h.videoWidth||h.width,g=h.naturalHeight||h.videoHeight||h.height;this.resize(d,g),o.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Resource),CanvasResource=function(o){__extends$h(e,o);function e(h){return o.call(this,h)||this}return e.test=function(h){var d=globalThis.OffscreenCanvas;return d&&h instanceof d?!0:globalThis.HTMLCanvasElement&&h instanceof HTMLCanvasElement},e}(BaseImageResource),CubeResource=function(o){__extends$h(e,o);function e(h,d){var g=this,_=d||{},b=_.width,$=_.height,j=_.autoLoad,_e=_.linkBaseTexture;if(h&&h.length!==e.SIDES)throw new Error("Invalid length. Got "+h.length+", expected 6");g=o.call(this,6,{width:b,height:$})||this;for(var et=0;et<e.SIDES;et++)g.items[et].target=TARGETS$3.TEXTURE_CUBE_MAP_POSITIVE_X+et;return g.linkBaseTexture=_e!==!1,h&&g.initFromArray(h,d),j!==!1&&g.load(),g}return e.prototype.bind=function(h){o.prototype.bind.call(this,h),h.target=TARGETS$3.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(h,d,g){if(!this.items[d])throw new Error("Index "+d+" is out of bounds");if(!this.linkBaseTexture||h.parentTextureArray||Object.keys(h._glTextures).length>0)if(h.resource)this.addResourceAt(h.resource,d);else throw new Error("CubeResource does not support copying of renderTexture.");else h.target=TARGETS$3.TEXTURE_CUBE_MAP_POSITIVE_X+d,h.parentTextureArray=this.baseTexture,this.items[d]=h;return h.valid&&!this.valid&&this.resize(h.realWidth,h.realHeight),this.items[d]=h,this},e.prototype.upload=function(h,d,g){for(var _=this.itemDirtyIds,b=0;b<e.SIDES;b++){var $=this.items[b];_[b]<$.dirtyId&&($.valid&&$.resource?($.resource.upload(h,$,g),_[b]=$.dirtyId):_[b]<-1&&(h.gl.texImage2D($.target,0,g.internalFormat,d.realWidth,d.realHeight,0,d.format,g.type,null),_[b]=-1))}return!0},e.test=function(h){return Array.isArray(h)&&h.length===e.SIDES},e.SIDES=6,e}(AbstractMultiResource),ImageResource=function(o){__extends$h(e,o);function e(h,d){var g=this;if(d=d||{},!(h instanceof HTMLImageElement)){var _=new Image;BaseImageResource.crossOrigin(_,h,d.crossorigin),_.src=h,h=_}return g=o.call(this,h)||this,!h.complete&&!!g._width&&!!g._height&&(g._width=0,g._height=0),g.url=h.src,g._process=null,g.preserveBitmap=!1,g.createBitmap=(d.createBitmap!==void 0?d.createBitmap:settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,g.alphaMode=typeof d.alphaMode=="number"?d.alphaMode:null,g.bitmap=null,g._load=null,d.autoLoad!==!1&&g.load(),g}return e.prototype.load=function(h){var d=this;return this._load?this._load:(h!==void 0&&(this.createBitmap=h),this._load=new Promise(function(g,_){var b=d.source;d.url=b.src;var $=function(){d.destroyed||(b.onload=null,b.onerror=null,d.resize(b.width,b.height),d._load=null,d.createBitmap?g(d.process()):g(d))};b.complete&&b.src?$():(b.onload=$,b.onerror=function(j){_(j),d.onError.emit(j)})}),this._load)},e.prototype.process=function(){var h=this,d=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var g=globalThis.createImageBitmap,_=!d.crossOrigin||d.crossOrigin==="anonymous";return this._process=fetch(d.src,{mode:_?"cors":"no-cors"}).then(function(b){return b.blob()}).then(function(b){return g(b,0,0,d.width,d.height,{premultiplyAlpha:h.alphaMode===ALPHA_MODES$3.UNPACK?"premultiply":"none"})}).then(function(b){return h.destroyed?Promise.reject():(h.bitmap=b,h.update(),h._process=null,Promise.resolve(h))}),this._process},e.prototype.upload=function(h,d,g){if(typeof this.alphaMode=="number"&&(d.alphaMode=this.alphaMode),!this.createBitmap)return o.prototype.upload.call(this,h,d,g);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(o.prototype.upload.call(this,h,d,g,this.bitmap),!this.preserveBitmap){var _=!0,b=d._glTextures;for(var $ in b){var j=b[$];if(j!==g&&j.dirtyId!==d.dirtyId){_=!1;break}}_&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,o.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(h){return typeof h=="string"||h instanceof HTMLImageElement},e}(BaseImageResource),SVGResource=function(o){__extends$h(e,o);function e(h,d){var g=this;return d=d||{},g=o.call(this,document.createElement("canvas"))||this,g._width=0,g._height=0,g.svg=h,g.scale=d.scale||1,g._overrideWidth=d.width,g._overrideHeight=d.height,g._resolve=null,g._crossorigin=d.crossorigin,g._load=null,d.autoLoad!==!1&&g.load(),g}return e.prototype.load=function(){var h=this;return this._load?this._load:(this._load=new Promise(function(d){if(h._resolve=function(){h.resize(h.source.width,h.source.height),d(h)},e.SVG_XML.test(h.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");h.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(h.svg)))}h._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var h=this,d=new Image;BaseImageResource.crossOrigin(d,this.svg,this._crossorigin),d.src=this.svg,d.onerror=function(g){!h._resolve||(d.onerror=null,h.onError.emit(g))},d.onload=function(){if(!!h._resolve){var g=d.width,_=d.height;if(!g||!_)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var b=g*h.scale,$=_*h.scale;(h._overrideWidth||h._overrideHeight)&&(b=h._overrideWidth||h._overrideHeight/_*g,$=h._overrideHeight||h._overrideWidth/g*_),b=Math.round(b),$=Math.round($);var j=h.source;j.width=b,j.height=$,j._pixiId="canvas_"+uid(),j.getContext("2d").drawImage(d,0,0,g,_,0,0,b,$),h._resolve(),h._resolve=null}}},e.getSize=function(h){var d=e.SVG_SIZE.exec(h),g={};return d&&(g[d[1]]=Math.round(parseFloat(d[3])),g[d[5]]=Math.round(parseFloat(d[7]))),g},e.prototype.dispose=function(){o.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(h,d){return d==="svg"||typeof h=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(h)||typeof h=="string"&&e.SVG_XML.test(h)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(BaseImageResource),VideoResource=function(o){__extends$h(e,o);function e(h,d){var g=this;if(d=d||{},!(h instanceof HTMLVideoElement)){var _=document.createElement("video");_.setAttribute("preload","auto"),_.setAttribute("webkit-playsinline",""),_.setAttribute("playsinline",""),typeof h=="string"&&(h=[h]);var b=h[0].src||h[0];BaseImageResource.crossOrigin(_,b,d.crossorigin);for(var $=0;$<h.length;++$){var j=document.createElement("source"),_e=h[$],et=_e.src,rt=_e.mime;et=et||h[$];var tt=et.split("?").shift().toLowerCase(),nt=tt.slice(tt.lastIndexOf(".")+1);rt=rt||e.MIME_TYPES[nt]||"video/"+nt,j.src=et,j.type=rt,_.appendChild(j)}h=_}return g=o.call(this,h)||this,g.noSubImage=!0,g._autoUpdate=!0,g._isConnectedToTicker=!1,g._updateFPS=d.updateFPS||0,g._msToNextUpdate=0,g.autoPlay=d.autoPlay!==!1,g._load=null,g._resolve=null,g._onCanPlay=g._onCanPlay.bind(g),g._onError=g._onError.bind(g),d.autoLoad!==!1&&g.load(),g}return e.prototype.update=function(h){if(!this.destroyed){var d=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-d),(!this._updateFPS||this._msToNextUpdate<=0)&&(o.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var h=this;if(this._load)return this._load;var d=this.source;return(d.readyState===d.HAVE_ENOUGH_DATA||d.readyState===d.HAVE_FUTURE_DATA)&&d.width&&d.height&&(d.complete=!0),d.addEventListener("play",this._onPlayStart.bind(this)),d.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(d.addEventListener("canplay",this._onCanPlay),d.addEventListener("canplaythrough",this._onCanPlay),d.addEventListener("error",this._onError,!0)),this._load=new Promise(function(g){h.valid?g(h):(h._resolve=g,d.load())}),this._load},e.prototype._onError=function(h){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(h)},e.prototype._isSourcePlaying=function(){var h=this.source;return h.currentTime>0&&h.paused===!1&&h.ended===!1&&h.readyState>2},e.prototype._isSourceReady=function(){var h=this.source;return h.readyState===3||h.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var h=this.source;h.removeEventListener("canplay",this._onCanPlay),h.removeEventListener("canplaythrough",this._onCanPlay);var d=this.valid;this.resize(h.videoWidth,h.videoHeight),!d&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&h.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var h=this.source;h&&(h.removeEventListener("error",this._onError,!0),h.pause(),h.src="",h.load()),o.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(h){h!==this._autoUpdate&&(this._autoUpdate=h,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(h){h!==this._updateFPS&&(this._updateFPS=h)},enumerable:!1,configurable:!0}),e.test=function(h,d){return globalThis.HTMLVideoElement&&h instanceof HTMLVideoElement||e.TYPES.indexOf(d)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(BaseImageResource),ImageBitmapResource=function(o){__extends$h(e,o);function e(h){return o.call(this,h)||this}return e.test=function(h){return!!globalThis.createImageBitmap&&h instanceof ImageBitmap},e}(BaseImageResource);INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);var DepthResource=function(o){__extends$h(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.upload=function(h,d,g){var _=h.gl;_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===ALPHA_MODES$3.UNPACK);var b=d.realWidth,$=d.realHeight;return g.width===b&&g.height===$?_.texSubImage2D(d.target,0,0,0,b,$,d.format,g.type,this.data):(g.width=b,g.height=$,_.texImage2D(d.target,0,g.internalFormat,b,$,0,d.format,g.type,this.data)),!0},e}(BufferResource),Framebuffer=function(){function o(e,h){this.width=Math.round(e||100),this.height=Math.round(h||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY$3.NONE}return Object.defineProperty(o.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),o.prototype.addColorTexture=function(e,h){return e===void 0&&(e=0),this.colorTextures[e]=h||new BaseTexture(null,{scaleMode:SCALE_MODES$3.NEAREST,resolution:1,mipmap:MIPMAP_MODES$3.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},o.prototype.addDepthTexture=function(e){return this.depthTexture=e||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$3.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$3.OFF,format:FORMATS$3.DEPTH_COMPONENT,type:TYPES$3.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},o.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},o.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},o.prototype.resize=function(e,h){if(e=Math.round(e),h=Math.round(h),!(e===this.width&&h===this.height)){this.width=e,this.height=h,this.dirtyId++,this.dirtySize++;for(var d=0;d<this.colorTextures.length;d++){var g=this.colorTextures[d],_=g.resolution;g.setSize(e/_,h/_)}if(this.depthTexture){var _=this.depthTexture.resolution;this.depthTexture.setSize(e/_,h/_)}}},o.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},o.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},o}(),BaseRenderTexture=function(o){__extends$h(e,o);function e(h){h===void 0&&(h={});var d=this;if(typeof h=="number"){var g=arguments[0],_=arguments[1],b=arguments[2],$=arguments[3];h={width:g,height:_,scaleMode:b,resolution:$}}return h.width=h.width||100,h.height=h.height||100,h.multisample=h.multisample!==void 0?h.multisample:MSAA_QUALITY$3.NONE,d=o.call(this,null,h)||this,d.mipmap=MIPMAP_MODES$3.OFF,d.valid=!0,d.clearColor=[0,0,0,0],d.framebuffer=new Framebuffer(d.realWidth,d.realHeight).addColorTexture(0,d),d.framebuffer.multisample=h.multisample,d.maskStack=[],d.filterStack=[{}],d}return e.prototype.resize=function(h,d){this.framebuffer.resize(h*this.resolution,d*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),o.prototype.dispose.call(this)},e.prototype.destroy=function(){o.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(BaseTexture),TextureUvs=function(){function o(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return o.prototype.set=function(e,h,d){var g=h.width,_=h.height;if(d){var b=e.width/2/g,$=e.height/2/_,j=e.x/g+b,_e=e.y/_+$;d=groupD8.add(d,groupD8.NW),this.x0=j+b*groupD8.uX(d),this.y0=_e+$*groupD8.uY(d),d=groupD8.add(d,2),this.x1=j+b*groupD8.uX(d),this.y1=_e+$*groupD8.uY(d),d=groupD8.add(d,2),this.x2=j+b*groupD8.uX(d),this.y2=_e+$*groupD8.uY(d),d=groupD8.add(d,2),this.x3=j+b*groupD8.uX(d),this.y3=_e+$*groupD8.uY(d)}else this.x0=e.x/g,this.y0=e.y/_,this.x1=(e.x+e.width)/g,this.y1=e.y/_,this.x2=(e.x+e.width)/g,this.y2=(e.y+e.height)/_,this.x3=e.x/g,this.y3=(e.y+e.height)/_;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},o.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},o}(),DEFAULT_UVS=new TextureUvs;function removeAllHandlers(o){o.destroy=function(){},o.on=function(){},o.once=function(){},o.emit=function(){}}var Texture$1=function(o){__extends$h(e,o);function e(h,d,g,_,b,$){var j=o.call(this)||this;if(j.noFrame=!1,d||(j.noFrame=!0,d=new Rectangle(0,0,1,1)),h instanceof e&&(h=h.baseTexture),j.baseTexture=h,j._frame=d,j.trim=_,j.valid=!1,j._uvs=DEFAULT_UVS,j.uvMatrix=null,j.orig=g||d,j._rotate=Number(b||0),b===!0)j._rotate=2;else if(j._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return j.defaultAnchor=$?new Point($.x,$.y):new Point(0,0),j._updateID=0,j.textureCacheIds=[],h.valid?j.noFrame?h.valid&&j.onBaseTextureUpdated(h):j.frame=d:h.once("loaded",j.onBaseTextureUpdated,j),j.noFrame&&h.on("update",j.onBaseTextureUpdated,j),j}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(h){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=h.width,this._frame.height=h.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(h){if(this.baseTexture){if(h){var d=this.baseTexture.resource;d&&d.url&&TextureCache[d.url]&&e.removeFromCache(d.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var h=this._frame.clone(),d=this._frame===this.orig?h:this.orig.clone(),g=new e(this.baseTexture,!this.noFrame&&h,d,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(g._frame=h),g},e.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(h,d,g){d===void 0&&(d={}),g===void 0&&(g=settings.STRICT_TEXTURE_CACHE);var _=typeof h=="string",b=null;if(_)b=h;else if(h instanceof BaseTexture){if(!h.cacheId){var $=d&&d.pixiIdPrefix||"pixiid";h.cacheId=$+"-"+uid(),BaseTexture.addToCache(h,h.cacheId)}b=h.cacheId}else{if(!h._pixiId){var $=d&&d.pixiIdPrefix||"pixiid";h._pixiId=$+"_"+uid()}b=h._pixiId}var j=TextureCache[b];if(_&&g&&!j)throw new Error('The cacheId "'+b+'" does not exist in TextureCache.');return!j&&!(h instanceof BaseTexture)?(d.resolution||(d.resolution=getResolutionOfUrl(h)),j=new e(new BaseTexture(h,d)),j.baseTexture.cacheId=b,BaseTexture.addToCache(j.baseTexture,b),e.addToCache(j,b)):!j&&h instanceof BaseTexture&&(j=new e(h),e.addToCache(j,b)),j},e.fromURL=function(h,d){var g=Object.assign({autoLoad:!1},d==null?void 0:d.resourceOptions),_=e.from(h,Object.assign({resourceOptions:g},d),!1),b=_.baseTexture.resource;return _.baseTexture.valid?Promise.resolve(_):b.load().then(function(){return Promise.resolve(_)})},e.fromBuffer=function(h,d,g,_){return new e(BaseTexture.fromBuffer(h,d,g,_))},e.fromLoader=function(h,d,g,_){var b=new BaseTexture(h,Object.assign({scaleMode:settings.SCALE_MODE,resolution:getResolutionOfUrl(d)},_)),$=b.resource;$ instanceof ImageResource&&($.url=d);var j=new e(b);return g||(g=d),BaseTexture.addToCache(j.baseTexture,g),e.addToCache(j,g),g!==d&&(BaseTexture.addToCache(j.baseTexture,d),e.addToCache(j,d)),j.baseTexture.valid?Promise.resolve(j):new Promise(function(_e){j.baseTexture.once("loaded",function(){return _e(j)})})},e.addToCache=function(h,d){d&&(h.textureCacheIds.indexOf(d)===-1&&h.textureCacheIds.push(d),TextureCache[d]&&console.warn("Texture added to the cache with an id ["+d+"] that already had an entry"),TextureCache[d]=h)},e.removeFromCache=function(h){if(typeof h=="string"){var d=TextureCache[h];if(d){var g=d.textureCacheIds.indexOf(h);return g>-1&&d.textureCacheIds.splice(g,1),delete TextureCache[h],d}}else if(h&&h.textureCacheIds){for(var _=0;_<h.textureCacheIds.length;++_)TextureCache[h.textureCacheIds[_]]===h&&delete TextureCache[h.textureCacheIds[_]];return h.textureCacheIds.length=0,h}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(h){this._frame=h,this.noFrame=!1;var d=h.x,g=h.y,_=h.width,b=h.height,$=d+_>this.baseTexture.width,j=g+b>this.baseTexture.height;if($||j){var _e=$&&j?"and":"or",et="X: "+d+" + "+_+" = "+(d+_)+" > "+this.baseTexture.width,rt="Y: "+g+" + "+b+" = "+(g+b)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(et+" "+_e+" "+rt))}this.valid=_&&b&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=h),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(h){this._rotate=h,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new BaseTexture),removeAllHandlers(e._EMPTY),removeAllHandlers(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var h=document.createElement("canvas"),d=h.getContext("2d");h.width=16,h.height=16,d.fillStyle="white",d.fillRect(0,0,16,16),e._WHITE=new e(new BaseTexture(new CanvasResource(h))),removeAllHandlers(e._WHITE),removeAllHandlers(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(EventEmitter),RenderTexture=function(o){__extends$h(e,o);function e(h,d){var g=o.call(this,h,d)||this;return g.valid=!0,g.filterFrame=null,g.filterPoolKey=null,g.updateUvs(),g}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(h){this.framebuffer.multisample=h},enumerable:!1,configurable:!0}),e.prototype.resize=function(h,d,g){g===void 0&&(g=!0);var _=this.baseTexture.resolution,b=Math.round(h*_)/_,$=Math.round(d*_)/_;this.valid=b>0&&$>0,this._frame.width=this.orig.width=b,this._frame.height=this.orig.height=$,g&&this.baseTexture.resize(b,$),this.updateUvs()},e.prototype.setResolution=function(h){var d=this.baseTexture;d.resolution!==h&&(d.setResolution(h),this.resize(d.width,d.height,!1))},e.create=function(h){for(var d=arguments,g=[],_=1;_<arguments.length;_++)g[_-1]=d[_];return typeof h=="number"&&(deprecation("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),h={width:h,height:g[0],scaleMode:g[1],resolution:g[2]}),new e(new BaseRenderTexture(h))},e}(Texture$1),RenderTexturePool=function(){function o(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return o.prototype.createTexture=function(e,h,d){d===void 0&&(d=MSAA_QUALITY$3.NONE);var g=new BaseRenderTexture(Object.assign({width:e,height:h,resolution:1,multisample:d},this.textureOptions));return new RenderTexture(g)},o.prototype.getOptimalTexture=function(e,h,d,g){d===void 0&&(d=1),g===void 0&&(g=MSAA_QUALITY$3.NONE);var _;e=Math.ceil(e*d-1e-6),h=Math.ceil(h*d-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||h!==this._pixelsHeight?(e=nextPow2(e),h=nextPow2(h),_=((e&65535)<<16|h&65535)>>>0,g>1&&(_+=g*4294967296)):_=g>1?-g:-1,this.texturePool[_]||(this.texturePool[_]=[]);var b=this.texturePool[_].pop();return b||(b=this.createTexture(e,h,g)),b.filterPoolKey=_,b.setResolution(d),b},o.prototype.getFilterTexture=function(e,h,d){var g=this.getOptimalTexture(e.width,e.height,h||e.resolution,d||MSAA_QUALITY$3.NONE);return g.filterFrame=e.filterFrame,g},o.prototype.returnTexture=function(e){var h=e.filterPoolKey;e.filterFrame=null,this.texturePool[h].push(e)},o.prototype.returnFilterTexture=function(e){this.returnTexture(e)},o.prototype.clear=function(e){if(e=e!==!1,e)for(var h in this.texturePool){var d=this.texturePool[h];if(d)for(var g=0;g<d.length;g++)d[g].destroy(!0)}this.texturePool={}},o.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var h in this.texturePool)if(Number(h)<0){var d=this.texturePool[h];if(d)for(var g=0;g<d.length;g++)d[g].destroy(!0);this.texturePool[h]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},o.SCREEN_KEY=-1,o}(),Attribute=function(){function o(e,h,d,g,_,b,$){h===void 0&&(h=0),d===void 0&&(d=!1),g===void 0&&(g=TYPES$3.FLOAT),this.buffer=e,this.size=h,this.normalized=d,this.type=g,this.stride=_,this.start=b,this.instance=$}return o.prototype.destroy=function(){this.buffer=null},o.from=function(e,h,d,g,_){return new o(e,h,d,g,_)},o}(),UID$4=0,Buffer=function(){function o(e,h,d){h===void 0&&(h=!0),d===void 0&&(d=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=d,this.static=h,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}return o.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},o.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},o.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(o.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$3.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?BUFFER_TYPE$3.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$3.ARRAY_BUFFER},enumerable:!1,configurable:!0}),o.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new o(e)},o}(),map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(o,e){for(var h=0,d=0,g={},_=0;_<o.length;_++)d+=e[_],h+=o[_].length;for(var b=new ArrayBuffer(h*4),$=null,j=0,_=0;_<o.length;_++){var _e=e[_],et=o[_],rt=getBufferType(et);g[rt]||(g[rt]=new map$1[rt](b)),$=g[rt];for(var tt=0;tt<et.length;tt++){var nt=(tt/_e|0)*d+j,st=tt%_e;$[nt+st]=et[tt]}j+=_e}return new Float32Array(b)}var byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map$2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Geometry=function(){function o(e,h){e===void 0&&(e=[]),h===void 0&&(h={}),this.buffers=e,this.indexBuffer=null,this.attributes=h,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}return o.prototype.addAttribute=function(e,h,d,g,_,b,$,j){if(d===void 0&&(d=0),g===void 0&&(g=!1),j===void 0&&(j=!1),!h)throw new Error("You must pass a buffer when creating an attribute");h instanceof Buffer||(h instanceof Array&&(h=new Float32Array(h)),h=new Buffer(h));var _e=e.split("|");if(_e.length>1){for(var et=0;et<_e.length;et++)this.addAttribute(_e[et],h,d,g,_);return this}var rt=this.buffers.indexOf(h);return rt===-1&&(this.buffers.push(h),rt=this.buffers.length-1),this.attributes[e]=new Attribute(rt,d,g,_,b,$,j),this.instanced=this.instanced||j,this},o.prototype.getAttribute=function(e){return this.attributes[e]},o.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},o.prototype.addIndex=function(e){return e instanceof Buffer||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer(e)),e.type=BUFFER_TYPE$3.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},o.prototype.getIndex=function(){return this.indexBuffer},o.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],h=[],d=new Buffer,g;for(g in this.attributes){var _=this.attributes[g],b=this.buffers[_.buffer];e.push(b.data),h.push(_.size*byteSizeMap$1[_.type]/4),_.buffer=0}for(d.data=interleaveTypedArrays(e,h),g=0;g<this.buffers.length;g++)this.buffers[g]!==this.indexBuffer&&this.buffers[g].destroy();return this.buffers=[d],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},o.prototype.getSize=function(){for(var e in this.attributes){var h=this.attributes[e],d=this.buffers[h.buffer];return d.data.length/(h.stride/4||h.size)}return 0},o.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},o.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},o.prototype.clone=function(){for(var e=new o,h=0;h<this.buffers.length;h++)e.buffers[h]=new Buffer(this.buffers[h].data.slice(0));for(var h in this.attributes){var d=this.attributes[h];e.attributes[h]=new Attribute(d.buffer,d.size,d.normalized,d.type,d.stride,d.start,d.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=BUFFER_TYPE$3.ELEMENT_ARRAY_BUFFER),e},o.merge=function(e){for(var h=new o,d=[],g=[],_=[],b,$=0;$<e.length;$++){b=e[$];for(var j=0;j<b.buffers.length;j++)g[j]=g[j]||0,g[j]+=b.buffers[j].data.length,_[j]=0}for(var $=0;$<b.buffers.length;$++)d[$]=new map$2[getBufferType(b.buffers[$].data)](g[$]),h.buffers[$]=new Buffer(d[$]);for(var $=0;$<e.length;$++){b=e[$];for(var j=0;j<b.buffers.length;j++)d[j].set(b.buffers[j].data,_[j]),_[j]+=b.buffers[j].data.length}if(h.attributes=b.attributes,b.indexBuffer){h.indexBuffer=h.buffers[b.buffers.indexOf(b.indexBuffer)],h.indexBuffer.type=BUFFER_TYPE$3.ELEMENT_ARRAY_BUFFER;for(var _e=0,et=0,rt=0,tt=0,$=0;$<b.buffers.length;$++)if(b.buffers[$]!==b.indexBuffer){tt=$;break}for(var $ in b.attributes){var nt=b.attributes[$];(nt.buffer|0)===tt&&(et+=nt.size*byteSizeMap$1[nt.type]/4)}for(var $=0;$<e.length;$++){for(var st=e[$].indexBuffer.data,j=0;j<st.length;j++)h.indexBuffer.data[j+rt]+=_e;_e+=e[$].buffers[tt].data.length/et,rt+=st.length}}return h},o}(),Quad=function(o){__extends$h(e,o);function e(){var h=o.call(this)||this;return h.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),h}return e}(Geometry),QuadUv=function(o){__extends$h(e,o);function e(){var h=o.call(this)||this;return h.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),h.uvs=new Float32Array([0,0,1,0,1,1,0,1]),h.vertexBuffer=new Buffer(h.vertices),h.uvBuffer=new Buffer(h.uvs),h.addAttribute("aVertexPosition",h.vertexBuffer).addAttribute("aTextureCoord",h.uvBuffer).addIndex([0,1,2,0,2,3]),h}return e.prototype.map=function(h,d){var g=0,_=0;return this.uvs[0]=g,this.uvs[1]=_,this.uvs[2]=g+d.width/h.width,this.uvs[3]=_,this.uvs[4]=g+d.width/h.width,this.uvs[5]=_+d.height/h.height,this.uvs[6]=g,this.uvs[7]=_+d.height/h.height,g=d.x,_=d.y,this.vertices[0]=g,this.vertices[1]=_,this.vertices[2]=g+d.width,this.vertices[3]=_,this.vertices[4]=g+d.width,this.vertices[5]=_+d.height,this.vertices[6]=g,this.vertices[7]=_+d.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Geometry),UID$2=0,UniformGroup=function(){function o(e,h,d){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this.static=!!h,this.ubo=!!d,e instanceof Buffer?(this.buffer=e,this.buffer.type=BUFFER_TYPE$3.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$3.UNIFORM_BUFFER,this.autoManage=!0))}return o.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},o.prototype.add=function(e,h,d){if(!this.ubo)this.uniforms[e]=new o(h,d);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},o.from=function(e,h,d){return new o(e,h,d)},o.uboFrom=function(e,h){return new o(e,h!=null?h:!0,!0)},o}(),FilterState=function(){function o(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$3.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}return o.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},o}(),tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix,FilterSystem=function(){function o(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return o.prototype.push=function(e,h){for(var d,g,_=this.renderer,b=this.defaultFilterStack,$=this.statePool.pop()||new FilterState,j=this.renderer.renderTexture,_e=h[0].resolution,et=h[0].multisample,rt=h[0].padding,tt=h[0].autoFit,nt=(d=h[0].legacy)!==null&&d!==void 0?d:!0,st=1;st<h.length;st++){var at=h[st];_e=Math.min(_e,at.resolution),et=Math.min(et,at.multisample),rt=this.useMaxPadding?Math.max(rt,at.padding):rt+at.padding,tt=tt&&at.autoFit,nt=nt||((g=at.legacy)!==null&&g!==void 0?g:!0)}b.length===1&&(this.defaultFilterStack[0].renderTexture=j.current),b.push($),$.resolution=_e,$.multisample=et,$.legacy=nt,$.target=e,$.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),$.sourceFrame.pad(rt);var ct=this.tempRect.copyFrom(j.sourceFrame);_.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(_.projection.transform).invert(),ct),tt?($.sourceFrame.fit(ct),($.sourceFrame.width<=0||$.sourceFrame.height<=0)&&($.sourceFrame.width=0,$.sourceFrame.height=0)):$.sourceFrame.intersects(ct)||($.sourceFrame.width=0,$.sourceFrame.height=0),this.roundFrame($.sourceFrame,j.current?j.current.resolution:_.resolution,j.sourceFrame,j.destinationFrame,_.projection.transform),$.renderTexture=this.getOptimalFilterTexture($.sourceFrame.width,$.sourceFrame.height,_e,et),$.filters=h,$.destinationFrame.width=$.renderTexture.width,$.destinationFrame.height=$.renderTexture.height;var it=this.tempRect;it.x=0,it.y=0,it.width=$.sourceFrame.width,it.height=$.sourceFrame.height,$.renderTexture.filterFrame=$.sourceFrame,$.bindingSourceFrame.copyFrom(j.sourceFrame),$.bindingDestinationFrame.copyFrom(j.destinationFrame),$.transform=_.projection.transform,_.projection.transform=null,j.bind($.renderTexture,$.sourceFrame,it),_.framebuffer.clear(0,0,0,0)},o.prototype.pop=function(){var e=this.defaultFilterStack,h=e.pop(),d=h.filters;this.activeState=h;var g=this.globalUniforms.uniforms;g.outputFrame=h.sourceFrame,g.resolution=h.resolution;var _=g.inputSize,b=g.inputPixel,$=g.inputClamp;if(_[0]=h.destinationFrame.width,_[1]=h.destinationFrame.height,_[2]=1/_[0],_[3]=1/_[1],b[0]=Math.round(_[0]*h.resolution),b[1]=Math.round(_[1]*h.resolution),b[2]=1/b[0],b[3]=1/b[1],$[0]=.5*b[2],$[1]=.5*b[3],$[2]=h.sourceFrame.width*_[2]-.5*b[2],$[3]=h.sourceFrame.height*_[3]-.5*b[3],h.legacy){var j=g.filterArea;j[0]=h.destinationFrame.width,j[1]=h.destinationFrame.height,j[2]=h.sourceFrame.x,j[3]=h.sourceFrame.y,g.filterClamp=g.inputClamp}this.globalUniforms.update();var _e=e[e.length-1];if(this.renderer.framebuffer.blit(),d.length===1)d[0].apply(this,h.renderTexture,_e.renderTexture,CLEAR_MODES$3.BLEND,h),this.returnFilterTexture(h.renderTexture);else{var et=h.renderTexture,rt=this.getOptimalFilterTexture(et.width,et.height,h.resolution);rt.filterFrame=et.filterFrame;var tt=0;for(tt=0;tt<d.length-1;++tt){tt===1&&h.multisample>1&&(rt=this.getOptimalFilterTexture(et.width,et.height,h.resolution),rt.filterFrame=et.filterFrame),d[tt].apply(this,et,rt,CLEAR_MODES$3.CLEAR,h);var nt=et;et=rt,rt=nt}d[tt].apply(this,et,_e.renderTexture,CLEAR_MODES$3.BLEND,h),tt>1&&h.multisample>1&&this.returnFilterTexture(h.renderTexture),this.returnFilterTexture(et),this.returnFilterTexture(rt)}h.clear(),this.statePool.push(h)},o.prototype.bindAndClear=function(e,h){h===void 0&&(h=CLEAR_MODES$3.CLEAR);var d=this.renderer,g=d.renderTexture,_=d.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var b=this.tempRect;b.x=0,b.y=0,b.width=e.filterFrame.width,b.height=e.filterFrame.height,g.bind(e,e.filterFrame,b)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?g.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var $=_.stateId&1||this.forceClear;(h===CLEAR_MODES$3.CLEAR||h===CLEAR_MODES$3.BLIT&&$)&&this.renderer.framebuffer.clear(0,0,0,0)},o.prototype.applyFilter=function(e,h,d,g){var _=this.renderer;_.state.set(e.state),this.bindAndClear(d,g),e.uniforms.uSampler=h,e.uniforms.filterGlobals=this.globalUniforms,_.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(h._frame,h.filterFrame),_.geometry.bind(this.quadUv),_.geometry.draw(DRAW_MODES$3.TRIANGLES)):(_.geometry.bind(this.quad),_.geometry.draw(DRAW_MODES$3.TRIANGLE_STRIP))},o.prototype.calculateSpriteMatrix=function(e,h){var d=this.activeState,g=d.sourceFrame,_=d.destinationFrame,b=h._texture.orig,$=e.set(_.width,0,0,_.height,g.x,g.y),j=h.worldTransform.copyTo(Matrix.TEMP_MATRIX);return j.invert(),$.prepend(j),$.scale(1/b.width,1/b.height),$.translate(h.anchor.x,h.anchor.y),$},o.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},o.prototype.getOptimalFilterTexture=function(e,h,d,g){return d===void 0&&(d=1),g===void 0&&(g=MSAA_QUALITY$3.NONE),this.texturePool.getOptimalTexture(e,h,d,g)},o.prototype.getFilterTexture=function(e,h,d){if(typeof e=="number"){var g=e;e=h,h=g}e=e||this.activeState.renderTexture;var _=this.texturePool.getOptimalTexture(e.width,e.height,h||e.resolution,d||MSAA_QUALITY$3.NONE);return _.filterFrame=e.filterFrame,_},o.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},o.prototype.emptyPool=function(){this.texturePool.clear(!0)},o.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},o.prototype.transformAABB=function(e,h){var d=tempPoints[0],g=tempPoints[1],_=tempPoints[2],b=tempPoints[3];d.set(h.left,h.top),g.set(h.left,h.bottom),_.set(h.right,h.top),b.set(h.right,h.bottom),e.apply(d,d),e.apply(g,g),e.apply(_,_),e.apply(b,b);var $=Math.min(d.x,g.x,_.x,b.x),j=Math.min(d.y,g.y,_.y,b.y),_e=Math.max(d.x,g.x,_.x,b.x),et=Math.max(d.y,g.y,_.y,b.y);h.x=$,h.y=j,h.width=_e-$,h.height=et-j},o.prototype.roundFrame=function(e,h,d,g,_){if(!(e.width<=0||e.height<=0||d.width<=0||d.height<=0)){if(_){var b=_.a,$=_.b,j=_.c,_e=_.d;if((Math.abs($)>1e-4||Math.abs(j)>1e-4)&&(Math.abs(b)>1e-4||Math.abs(_e)>1e-4))return}_=_?tempMatrix$2.copyFrom(_):tempMatrix$2.identity(),_.translate(-d.x,-d.y).scale(g.width/d.width,g.height/d.height).translate(g.x,g.y),this.transformAABB(_,e),e.ceil(h),this.transformAABB(_.invert(),e)}},o}(),ObjectRenderer=function(){function o(e){this.renderer=e}return o.prototype.flush=function(){},o.prototype.destroy=function(){this.renderer=null},o.prototype.start=function(){},o.prototype.stop=function(){this.flush()},o.prototype.render=function(e){},o}(),BatchSystem=function(){function o(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}return o.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},o.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.copyBoundTextures=function(e,h){for(var d=this.renderer.texture.boundTextures,g=h-1;g>=0;--g)e[g]=d[g]||null,e[g]&&(e[g]._batchLocation=g)},o.prototype.boundArray=function(e,h,d,g){for(var _=e.elements,b=e.ids,$=e.count,j=0,_e=0;_e<$;_e++){var et=_[_e],rt=et._batchLocation;if(rt>=0&&rt<g&&h[rt]===et){b[_e]=rt;continue}for(;j<g;){var tt=h[j];if(tt&&tt._batchEnabled===d&&tt._batchLocation===j){j++;continue}b[_e]=j,et._batchLocation=j,h[j]=et;break}}},o.prototype.destroy=function(){this.renderer=null},o}(),CONTEXT_UID_COUNTER=0,ContextSystem=function(){function o(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(o.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),o.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},o.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e)},o.prototype.initFromOptions=function(e){var h=this.createContext(this.renderer.view,e);this.initFromContext(h)},o.prototype.createContext=function(e,h){var d;if(settings.PREFER_ENV>=ENV$3.WEBGL2&&(d=e.getContext("webgl2",h)),d)this.webGLVersion=2;else if(this.webGLVersion=1,d=e.getContext("webgl",h)||e.getContext("experimental-webgl",h),!d)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=d,this.getExtensions(),this.gl},o.prototype.getExtensions=function(){var e=this.gl,h={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,h,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,h,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},o.prototype.handleContextLost=function(e){e.preventDefault()},o.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},o.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},o.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},o.prototype.validateContext=function(e){var h=e.getContextAttributes(),d="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;d&&(this.webGLVersion=2),h.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var g=d||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=g,g||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},o}(),GLFramebuffer=function(){function o(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$3.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return o}(),tempRectangle=new Rectangle,FramebufferSystem=function(){function o(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}return o.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var h=this.renderer.context.extensions.drawBuffers,d=this.renderer.context.extensions.depthTexture;settings.PREFER_ENV===ENV$3.WEBGL_LEGACY&&(h=null,d=null),h?e.drawBuffers=function(g){return h.drawBuffersWEBGL(g)}:(this.hasMRT=!1,e.drawBuffers=function(){}),d||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},o.prototype.bind=function(e,h,d){d===void 0&&(d=0);var g=this.gl;if(e){var _=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,g.bindFramebuffer(g.FRAMEBUFFER,_.framebuffer)),_.mipLevel!==d&&(e.dirtyId++,e.dirtyFormat++,_.mipLevel=d),_.dirtyId!==e.dirtyId&&(_.dirtyId=e.dirtyId,_.dirtyFormat!==e.dirtyFormat?(_.dirtyFormat=e.dirtyFormat,_.dirtySize=e.dirtySize,this.updateFramebuffer(e,d)):_.dirtySize!==e.dirtySize&&(_.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var b=0;b<e.colorTextures.length;b++){var $=e.colorTextures[b];this.renderer.texture.unbind($.parentTextureArray||$)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),h){var j=h.width>>d,_e=h.height>>d,et=j/h.width;this.setViewport(h.x*et,h.y*et,j,_e)}else{var j=e.width>>d,_e=e.height>>d;this.setViewport(0,0,j,_e)}}else this.current&&(this.current=null,g.bindFramebuffer(g.FRAMEBUFFER,null)),h?this.setViewport(h.x,h.y,h.width,h.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},o.prototype.setViewport=function(e,h,d,g){var _=this.viewport;e=Math.round(e),h=Math.round(h),d=Math.round(d),g=Math.round(g),(_.width!==d||_.height!==g||_.x!==e||_.y!==h)&&(_.x=e,_.y=h,_.width=d,_.height=g,this.gl.viewport(e,h,d,g))},Object.defineProperty(o.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),o.prototype.clear=function(e,h,d,g,_){_===void 0&&(_=BUFFER_BITS$3.COLOR|BUFFER_BITS$3.DEPTH);var b=this.gl;b.clearColor(e,h,d,g),b.clear(_)},o.prototype.initFramebuffer=function(e){var h=this.gl,d=new GLFramebuffer(h.createFramebuffer());return d.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=d,this.managedFramebuffers.push(e),e.disposeRunner.add(this),d},o.prototype.resizeFramebuffer=function(e){var h=this.gl,d=e.glFramebuffers[this.CONTEXT_UID];d.msaaBuffer&&(h.bindRenderbuffer(h.RENDERBUFFER,d.msaaBuffer),h.renderbufferStorageMultisample(h.RENDERBUFFER,d.multisample,h.RGBA8,e.width,e.height)),d.stencil&&(h.bindRenderbuffer(h.RENDERBUFFER,d.stencil),d.msaaBuffer?h.renderbufferStorageMultisample(h.RENDERBUFFER,d.multisample,h.DEPTH24_STENCIL8,e.width,e.height):h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,e.width,e.height));var g=e.colorTextures,_=g.length;h.drawBuffers||(_=Math.min(_,1));for(var b=0;b<_;b++){var $=g[b],j=$.parentTextureArray||$;this.renderer.texture.bind(j,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},o.prototype.updateFramebuffer=function(e,h){var d=this.gl,g=e.glFramebuffers[this.CONTEXT_UID],_=e.colorTextures,b=_.length;d.drawBuffers||(b=Math.min(b,1)),g.multisample>1&&this.canMultisampleFramebuffer(e)?(g.msaaBuffer=g.msaaBuffer||d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,g.msaaBuffer),d.renderbufferStorageMultisample(d.RENDERBUFFER,g.multisample,d.RGBA8,e.width,e.height),d.framebufferRenderbuffer(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.RENDERBUFFER,g.msaaBuffer)):g.msaaBuffer&&(d.deleteRenderbuffer(g.msaaBuffer),g.msaaBuffer=null,g.blitFramebuffer&&(g.blitFramebuffer.dispose(),g.blitFramebuffer=null));for(var $=[],j=0;j<b;j++){var _e=_[j],et=_e.parentTextureArray||_e;this.renderer.texture.bind(et,0),!(j===0&&g.msaaBuffer)&&(d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0+j,_e.target,et._glTextures[this.CONTEXT_UID].texture,h),$.push(d.COLOR_ATTACHMENT0+j))}if($.length>1&&d.drawBuffers($),e.depthTexture){var rt=this.writeDepthTexture;if(rt){var tt=e.depthTexture;this.renderer.texture.bind(tt,0),d.framebufferTexture2D(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.TEXTURE_2D,tt._glTextures[this.CONTEXT_UID].texture,h)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(g.stencil=g.stencil||d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,g.stencil),g.msaaBuffer?d.renderbufferStorageMultisample(d.RENDERBUFFER,g.multisample,d.DEPTH24_STENCIL8,e.width,e.height):d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,e.width,e.height),d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,g.stencil)):g.stencil&&(d.deleteRenderbuffer(g.stencil),g.stencil=null)},o.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},o.prototype.detectSamples=function(e){var h=this.msaaSamples,d=MSAA_QUALITY$3.NONE;if(e<=1||h===null)return d;for(var g=0;g<h.length;g++)if(h[g]<=e){d=h[g];break}return d===1&&(d=MSAA_QUALITY$3.NONE),d},o.prototype.blit=function(e,h,d){var g=this,_=g.current,b=g.renderer,$=g.gl,j=g.CONTEXT_UID;if(b.context.webGLVersion===2&&!!_){var _e=_.glFramebuffers[j];if(!!_e){if(!e){if(!_e.msaaBuffer)return;var et=_.colorTextures[0];if(!et)return;_e.blitFramebuffer||(_e.blitFramebuffer=new Framebuffer(_.width,_.height),_e.blitFramebuffer.addColorTexture(0,et)),e=_e.blitFramebuffer,e.colorTextures[0]!==et&&(e.colorTextures[0]=et,e.dirtyId++,e.dirtyFormat++),(e.width!==_.width||e.height!==_.height)&&(e.width=_.width,e.height=_.height,e.dirtyId++,e.dirtySize++)}h||(h=tempRectangle,h.width=_.width,h.height=_.height),d||(d=h);var rt=h.width===d.width&&h.height===d.height;this.bind(e),$.bindFramebuffer($.READ_FRAMEBUFFER,_e.framebuffer),$.blitFramebuffer(h.left,h.top,h.right,h.bottom,d.left,d.top,d.right,d.bottom,$.COLOR_BUFFER_BIT,rt?$.NEAREST:$.LINEAR)}}},o.prototype.disposeFramebuffer=function(e,h){var d=e.glFramebuffers[this.CONTEXT_UID],g=this.gl;if(!!d){delete e.glFramebuffers[this.CONTEXT_UID];var _=this.managedFramebuffers.indexOf(e);_>=0&&this.managedFramebuffers.splice(_,1),e.disposeRunner.remove(this),h||(g.deleteFramebuffer(d.framebuffer),d.msaaBuffer&&g.deleteRenderbuffer(d.msaaBuffer),d.stencil&&g.deleteRenderbuffer(d.stencil)),d.blitFramebuffer&&d.blitFramebuffer.dispose()}},o.prototype.disposeAll=function(e){var h=this.managedFramebuffers;this.managedFramebuffers=[];for(var d=0;d<h.length;d++)this.disposeFramebuffer(h[d],e)},o.prototype.forceStencil=function(){var e=this.current;if(!!e){var h=e.glFramebuffers[this.CONTEXT_UID];if(!(!h||h.stencil)){e.stencil=!0;var d=e.width,g=e.height,_=this.gl,b=_.createRenderbuffer();_.bindRenderbuffer(_.RENDERBUFFER,b),h.msaaBuffer?_.renderbufferStorageMultisample(_.RENDERBUFFER,h.multisample,_.DEPTH24_STENCIL8,d,g):_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_STENCIL,d,g),h.stencil=b,_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,_.RENDERBUFFER,b)}}},o.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},o.prototype.destroy=function(){this.renderer=null},o}(),byteSizeMap={5126:4,5123:2,5121:1},GeometrySystem=function(){function o(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return o.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,h=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,h.webGLVersion!==2){var d=this.renderer.context.extensions.vertexArrayObject;settings.PREFER_ENV===ENV$3.WEBGL_LEGACY&&(d=null),d?(e.createVertexArray=function(){return d.createVertexArrayOES()},e.bindVertexArray=function(_){return d.bindVertexArrayOES(_)},e.deleteVertexArray=function(_){return d.deleteVertexArrayOES(_)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(h.webGLVersion!==2){var g=e.getExtension("ANGLE_instanced_arrays");g?(e.vertexAttribDivisor=function(_,b){return g.vertexAttribDivisorANGLE(_,b)},e.drawElementsInstanced=function(_,b,$,j,_e){return g.drawElementsInstancedANGLE(_,b,$,j,_e)},e.drawArraysInstanced=function(_,b,$,j){return g.drawArraysInstancedANGLE(_,b,$,j)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=h.webGLVersion===2||!!h.extensions.uint32ElementIndex},o.prototype.bind=function(e,h){h=h||this.renderer.shader.shader;var d=this.gl,g=e.glVertexArrayObjects[this.CONTEXT_UID],_=!1;g||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=g={},_=!0);var b=g[h.program.id]||this.initGeometryVao(e,h,_);this._activeGeometry=e,this._activeVao!==b&&(this._activeVao=b,this.hasVao?d.bindVertexArray(b):this.activateVao(e,h.program)),this.updateBuffers()},o.prototype.reset=function(){this.unbind()},o.prototype.updateBuffers=function(){for(var e=this._activeGeometry,h=this.renderer.buffer,d=0;d<e.buffers.length;d++){var g=e.buffers[d];h.update(g)}},o.prototype.checkCompatibility=function(e,h){var d=e.attributes,g=h.attributeData;for(var _ in g)if(!d[_])throw new Error('shader and geometry incompatible, geometry missing the "'+_+'" attribute')},o.prototype.getSignature=function(e,h){var d=e.attributes,g=h.attributeData,_=["g",e.id];for(var b in d)g[b]&&_.push(b,g[b].location);return _.join("-")},o.prototype.initGeometryVao=function(e,h,d){d===void 0&&(d=!0);var g=this.gl,_=this.CONTEXT_UID,b=this.renderer.buffer,$=h.program;$.glPrograms[_]||this.renderer.shader.generateProgram(h),this.checkCompatibility(e,$);var j=this.getSignature(e,$),_e=e.glVertexArrayObjects[this.CONTEXT_UID],et=_e[j];if(et)return _e[$.id]=et,et;var rt=e.buffers,tt=e.attributes,nt={},st={};for(var at in rt)nt[at]=0,st[at]=0;for(var at in tt)!tt[at].size&&$.attributeData[at]?tt[at].size=$.attributeData[at].size:tt[at].size||console.warn("PIXI Geometry attribute '"+at+"' size cannot be determined (likely the bound shader does not have the attribute)"),nt[tt[at].buffer]+=tt[at].size*byteSizeMap[tt[at].type];for(var at in tt){var ct=tt[at],it=ct.size;ct.stride===void 0&&(nt[ct.buffer]===it*byteSizeMap[ct.type]?ct.stride=0:ct.stride=nt[ct.buffer]),ct.start===void 0&&(ct.start=st[ct.buffer],st[ct.buffer]+=it*byteSizeMap[ct.type])}et=g.createVertexArray(),g.bindVertexArray(et);for(var lt=0;lt<rt.length;lt++){var ht=rt[lt];b.bind(ht),d&&ht._glBuffers[_].refCount++}return this.activateVao(e,$),this._activeVao=et,_e[$.id]=et,_e[j]=et,et},o.prototype.disposeGeometry=function(e,h){var d;if(!!this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var g=e.glVertexArrayObjects[this.CONTEXT_UID],_=this.gl,b=e.buffers,$=(d=this.renderer)===null||d===void 0?void 0:d.buffer;if(e.disposeRunner.remove(this),!!g){if($)for(var j=0;j<b.length;j++){var _e=b[j]._glBuffers[this.CONTEXT_UID];_e&&(_e.refCount--,_e.refCount===0&&!h&&$.dispose(b[j],h))}if(!h){for(var et in g)if(et[0]==="g"){var rt=g[et];this._activeVao===rt&&this.unbind(),_.deleteVertexArray(rt)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},o.prototype.disposeAll=function(e){for(var h=Object.keys(this.managedGeometries),d=0;d<h.length;d++)this.disposeGeometry(this.managedGeometries[h[d]],e)},o.prototype.activateVao=function(e,h){var d=this.gl,g=this.CONTEXT_UID,_=this.renderer.buffer,b=e.buffers,$=e.attributes;e.indexBuffer&&_.bind(e.indexBuffer);var j=null;for(var _e in $){var et=$[_e],rt=b[et.buffer],tt=rt._glBuffers[g];if(h.attributeData[_e]){j!==tt&&(_.bind(rt),j=tt);var nt=h.attributeData[_e].location;if(d.enableVertexAttribArray(nt),d.vertexAttribPointer(nt,et.size,et.type||d.FLOAT,et.normalized,et.stride,et.start),et.instance)if(this.hasInstance)d.vertexAttribDivisor(nt,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},o.prototype.draw=function(e,h,d,g){var _=this.gl,b=this._activeGeometry;if(b.indexBuffer){var $=b.indexBuffer.data.BYTES_PER_ELEMENT,j=$===2?_.UNSIGNED_SHORT:_.UNSIGNED_INT;$===2||$===4&&this.canUseUInt32ElementIndex?b.instanced?_.drawElementsInstanced(e,h||b.indexBuffer.data.length,j,(d||0)*$,g||1):_.drawElements(e,h||b.indexBuffer.data.length,j,(d||0)*$):console.warn("unsupported index buffer type: uint32")}else b.instanced?_.drawArraysInstanced(e,d,h||b.getSize(),g||1):_.drawArrays(e,d,h||b.getSize());return this},o.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},o.prototype.destroy=function(){this.renderer=null},o}(),MaskData=function(){function o(e){e===void 0&&(e=null),this.type=MASK_TYPES$3.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(o.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),o.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$3.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},o.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},o}();function compileShader(o,e,h){var d=o.createShader(e);return o.shaderSource(d,h),o.compileShader(d),d}function logPrettyShaderError(o,e){var h=o.getShaderSource(e).split(`
`).map(function(_e,et){return et+": "+_e}),d=o.getShaderInfoLog(e),g=d.split(`
`),_={},b=g.map(function(_e){return parseFloat(_e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(_e){return _e&&!_[_e]?(_[_e]=!0,!0):!1}),$=[""];b.forEach(function(_e){h[_e-1]="%c"+h[_e-1]+"%c",$.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var j=h.join(`
`);$[0]=j,console.error(d),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,$),console.groupEnd()}function logProgramError(o,e,h,d){o.getProgramParameter(e,o.LINK_STATUS)||(o.getShaderParameter(h,o.COMPILE_STATUS)||logPrettyShaderError(o,h),o.getShaderParameter(d,o.COMPILE_STATUS)||logPrettyShaderError(o,d),console.error("PixiJS Error: Could not initialize shader."),o.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",o.getProgramInfoLog(e)))}function booleanArray(o){for(var e=new Array(o),h=0;h<e.length;h++)e[h]=!1;return e}function defaultValue(o,e){switch(o){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return booleanArray(2*e);case"bvec3":return booleanArray(3*e);case"bvec4":return booleanArray(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext={},context=unknownContext;function getTestContext(){if(context===unknownContext||context&&context.isContextLost()){var o=document.createElement("canvas"),e=void 0;settings.PREFER_ENV>=ENV$3.WEBGL2&&(e=o.getContext("webgl2",{})),e||(e=o.getContext("webgl",{})||o.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),context=e}return context}var maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION$3.MEDIUM;var o=getTestContext();if(o&&o.getShaderPrecisionFormat){var e=o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.HIGH_FLOAT);maxFragmentPrecision=e.precision?PRECISION$3.HIGH:PRECISION$3.MEDIUM}}return maxFragmentPrecision}function setPrecision(o,e,h){if(o.substring(0,9)!=="precision"){var d=e;return e===PRECISION$3.HIGH&&h!==PRECISION$3.HIGH&&(d=PRECISION$3.MEDIUM),"precision "+d+` float;
`+o}else if(h!==PRECISION$3.HIGH&&o.substring(0,15)==="precision highp")return o.replace("precision highp","precision mediump");return o}var GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(o){return GLSL_TO_SIZE[o]}var GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(o,e){if(!GL_TABLE){var h=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var d=0;d<h.length;++d){var g=h[d];GL_TABLE[o[g]]=GL_TO_GLSL_TYPES[g]}}return GL_TABLE[e]}var uniformParsers=[{test:function(o){return o.type==="float"&&o.size===1},code:function(o){return`
            if(uv["`+o+'"] !== ud["'+o+`"].value)
            {
                ud["`+o+'"].value = uv["'+o+`"]
                gl.uniform1f(ud["`+o+'"].location, uv["'+o+`"])
            }
            `}},{test:function(o){return(o.type==="sampler2D"||o.type==="samplerCube"||o.type==="sampler2DArray")&&o.size===1&&!o.isArray},code:function(o){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+o+`"], t);

            if(ud["`+o+`"].value !== t)
            {
                ud["`+o+`"].value = t;
                gl.uniform1i(ud["`+o+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(o,e){return o.type==="mat3"&&o.size===1&&e.a!==void 0},code:function(o){return`
            gl.uniformMatrix3fv(ud["`+o+'"].location, false, uv["'+o+`"].toArray(true));
            `},codeUbo:function(o){return`
                var `+o+"_matrix = uv."+o+`.toArray(true);

                data[offset] = `+o+`_matrix[0];
                data[offset+1] = `+o+`_matrix[1];
                data[offset+2] = `+o+`_matrix[2];
        
                data[offset + 4] = `+o+`_matrix[3];
                data[offset + 5] = `+o+`_matrix[4];
                data[offset + 6] = `+o+`_matrix[5];
        
                data[offset + 8] = `+o+`_matrix[6];
                data[offset + 9] = `+o+`_matrix[7];
                data[offset + 10] = `+o+`_matrix[8];
            `}},{test:function(o,e){return o.type==="vec2"&&o.size===1&&e.x!==void 0},code:function(o){return`
                cv = ud["`+o+`"].value;
                v = uv["`+o+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+o+`"].location, v.x, v.y);
                }`},codeUbo:function(o){return`
                v = uv.`+o+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(o){return o.type==="vec2"&&o.size===1},code:function(o){return`
                cv = ud["`+o+`"].value;
                v = uv["`+o+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+o+`"].location, v[0], v[1]);
                }
            `}},{test:function(o,e){return o.type==="vec4"&&o.size===1&&e.width!==void 0},code:function(o){return`
                cv = ud["`+o+`"].value;
                v = uv["`+o+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+o+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(o){return`
                    v = uv.`+o+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(o){return o.type==="vec4"&&o.size===1},code:function(o){return`
                cv = ud["`+o+`"].value;
                v = uv["`+o+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+o+`"].location, v[0], v[1], v[2], v[3])
                }`}}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(o,e){var h,d=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var g in o.uniforms){var _=e[g];if(!_){((h=o.uniforms[g])===null||h===void 0?void 0:h.group)&&(o.uniforms[g].ubo?d.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+g+", '"+g+`');
                    `):d.push(`
                        renderer.shader.syncUniformGroup(uv.`+g+`, syncData);
                    `));continue}for(var b=o.uniforms[g],$=!1,j=0;j<uniformParsers.length;j++)if(uniformParsers[j].test(_,b)){d.push(uniformParsers[j].code(g,b)),$=!0;break}if(!$){var _e=_.size===1?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS,et=_e[_.type].replace("location",'ud["'+g+'"].location');d.push(`
            cu = ud["`+g+`"];
            cv = cu.value;
            v = uv["`+g+`"];
            `+et+";")}}return new Function("ud","uv","renderer","syncData",d.join(`
`))}var fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(o){for(var e="",h=0;h<o;++h)h>0&&(e+=`
else `),h<o-1&&(e+="if(test == "+h+".0){}");return e}function checkMaxIfStatementsInShader(o,e){if(o===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var h=e.createShader(e.FRAGMENT_SHADER);;){var d=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(o));if(e.shaderSource(h,d),e.compileShader(h),!e.getShaderParameter(h,e.COMPILE_STATUS))o=o/2|0;else break}return o}var unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{var o=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval=o({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,UID$1=0,nameCache={},Program=function(){function o(e,h,d){d===void 0&&(d="pixi-shader"),this.id=UID$1++,this.vertexSrc=e||o.defaultVertexSrc,this.fragmentSrc=h||o.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(d=d.replace(/\s+/g,"-"),nameCache[d]?(nameCache[d]++,d+="-"+nameCache[d]):nameCache[d]=1,this.vertexSrc="#define SHADER_NAME "+d+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+d+`
`+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings.PRECISION_VERTEX,PRECISION$3.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(o,"defaultVertexSrc",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultFragmentSrc",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),o.from=function(e,h,d){var g=e+h,_=ProgramCache[g];return _||(ProgramCache[g]=_=new o(e,h,d)),_},o}(),Shader=function(){function o(e,h){this.uniformBindCount=0,this.program=e,h?h instanceof UniformGroup?this.uniformGroup=h:this.uniformGroup=new UniformGroup(h):this.uniformGroup=new UniformGroup({})}return o.prototype.checkUniformExists=function(e,h){if(h.uniforms[e])return!0;for(var d in h.uniforms){var g=h.uniforms[d];if(g.group&&this.checkUniformExists(e,g))return!0}return!1},o.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(o.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),o.from=function(e,h,d){var g=Program.from(e,h);return new o(g,d)},o}(),BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,State=function(){function o(){this.data=0,this.blendMode=BLEND_MODES$3.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(o.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1)},set:function(e){!!(this.data&1<<BLEND$1)!==e&&(this.data^=1<<BLEND$1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1)},set:function(e){!!(this.data&1<<OFFSET$1)!==e&&(this.data^=1<<OFFSET$1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1)},set:function(e){!!(this.data&1<<CULLING$1)!==e&&(this.data^=1<<CULLING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1)},set:function(e){!!(this.data&1<<DEPTH_TEST$1)!==e&&(this.data^=1<<DEPTH_TEST$1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1)},set:function(e){!!(this.data&1<<DEPTH_MASK$1)!==e&&(this.data^=1<<DEPTH_MASK$1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1)},set:function(e){!!(this.data&1<<WINDING$1)!==e&&(this.data^=1<<WINDING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==BLEND_MODES$3.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),o.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},o.for2d=function(){var e=new o;return e.depthTest=!1,e.blend=!0,e},o}(),defaultVertex$2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultFragment$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Filter=function(o){__extends$h(e,o);function e(h,d,g){var _=this,b=Program.from(h||e.defaultVertexSrc,d||e.defaultFragmentSrc);return _=o.call(this,b,g)||this,_.padding=0,_.resolution=settings.FILTER_RESOLUTION,_.multisample=settings.FILTER_MULTISAMPLE,_.enabled=!0,_.autoFit=!0,_.state=new State,_}return e.prototype.apply=function(h,d,g,_,b){h.applyFilter(this,d,g,_)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(h){this.state.blendMode=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(h){this._resolution=h},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),e}(Shader),vertex$l=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fragment$o=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tempMat$1=new Matrix,TextureMatrix=function(){function o(e,h){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof h=="undefined"?.5:h,this.isSimple=!1}return Object.defineProperty(o.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),o.prototype.multiplyUvs=function(e,h){h===void 0&&(h=e);for(var d=this.mapCoord,g=0;g<e.length;g+=2){var _=e[g],b=e[g+1];h[g]=_*d.a+b*d.c+d.tx,h[g+1]=_*d.b+b*d.d+d.ty}return h},o.prototype.update=function(e){var h=this._texture;if(!h||!h.valid||!e&&this._textureID===h._updateID)return!1;this._textureID=h._updateID,this._updateID++;var d=h._uvs;this.mapCoord.set(d.x1-d.x0,d.y1-d.y0,d.x3-d.x0,d.y3-d.y0,d.x0,d.y0);var g=h.orig,_=h.trim;_&&(tempMat$1.set(g.width/_.width,0,0,g.height/_.height,-_.x/_.width,-_.y/_.height),this.mapCoord.append(tempMat$1));var b=h.baseTexture,$=this.uClampFrame,j=this.clampMargin/b.resolution,_e=this.clampOffset;return $[0]=(h._frame.x+j+_e)/b.width,$[1]=(h._frame.y+j+_e)/b.height,$[2]=(h._frame.x+h._frame.width-j+_e)/b.width,$[3]=(h._frame.y+h._frame.height-j+_e)/b.height,this.uClampOffset[0]=_e/b.realWidth,this.uClampOffset[1]=_e/b.realHeight,this.isSimple=h._frame.width===b.width&&h._frame.height===b.height&&h.rotate===0,!0},o}(),SpriteMaskFilter=function(o){__extends$h(e,o);function e(h,d,g){var _=this,b=null;return typeof h!="string"&&d===void 0&&g===void 0&&(b=h,h=void 0,d=void 0,g=void 0),_=o.call(this,h||vertex$l,d||fragment$o,g)||this,_.maskSprite=b,_.maskMatrix=new Matrix,_}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(h){this._maskSprite=h,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(h,d,g,_){var b=this._maskSprite,$=b._texture;!$.valid||($.uvMatrix||($.uvMatrix=new TextureMatrix($,0)),$.uvMatrix.update(),this.uniforms.npmAlpha=$.baseTexture.alphaMode?0:1,this.uniforms.mask=$,this.uniforms.otherMatrix=h.calculateSpriteMatrix(this.maskMatrix,b).prepend($.uvMatrix.mapCoord),this.uniforms.alpha=b.worldAlpha,this.uniforms.maskClamp=$.uvMatrix.uClampFrame,h.applyFilter(this,d,g,_))},e}(Filter),MaskSystem=function(){function o(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return o.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},o.prototype.push=function(e,h){var d=h;if(!d.isMaskData){var g=this.maskDataPool.pop()||new MaskData;g.pooled=!0,g.maskObject=h,d=g}var _=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(d.copyCountersOrReset(_),d.autoDetect&&this.detect(d),d._target=e,d.type!==MASK_TYPES$3.SPRITE&&this.maskStack.push(d),d.enabled)switch(d.type){case MASK_TYPES$3.SCISSOR:this.renderer.scissor.push(d);break;case MASK_TYPES$3.STENCIL:this.renderer.stencil.push(d);break;case MASK_TYPES$3.SPRITE:d.copyCountersOrReset(null),this.pushSpriteMask(d);break}d.type===MASK_TYPES$3.SPRITE&&this.maskStack.push(d)},o.prototype.pop=function(e){var h=this.maskStack.pop();if(!(!h||h._target!==e)){if(h.enabled)switch(h.type){case MASK_TYPES$3.SCISSOR:this.renderer.scissor.pop();break;case MASK_TYPES$3.STENCIL:this.renderer.stencil.pop(h.maskObject);break;case MASK_TYPES$3.SPRITE:this.popSpriteMask(h);break}if(h.reset(),h.pooled&&this.maskDataPool.push(h),this.maskStack.length!==0){var d=this.maskStack[this.maskStack.length-1];d.type===MASK_TYPES$3.SPRITE&&d._filters&&(d._filters[0].maskSprite=d.maskObject)}}},o.prototype.detect=function(e){var h=e.maskObject;h.isSprite?e.type=MASK_TYPES$3.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES$3.SCISSOR:e.type=MASK_TYPES$3.STENCIL},o.prototype.pushSpriteMask=function(e){var h,d,g=e.maskObject,_=e._target,b=e._filters;b||(b=this.alphaMaskPool[this.alphaMaskIndex],b||(b=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));var $=this.renderer,j=$.renderTexture,_e,et;if(j.current){var rt=j.current;_e=e.resolution||rt.resolution,et=(h=e.multisample)!==null&&h!==void 0?h:rt.multisample}else _e=e.resolution||$.resolution,et=(d=e.multisample)!==null&&d!==void 0?d:$.multisample;b[0].resolution=_e,b[0].multisample=et,b[0].maskSprite=g;var tt=_.filterArea;_.filterArea=g.getBounds(!0),$.filter.push(_,b),_.filterArea=tt,e._filters||this.alphaMaskIndex++},o.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},o.prototype.destroy=function(){this.renderer=null},o}(),AbstractMaskSystem=function(){function o(e){this.renderer=e,this.maskStack=[],this.glConst=0}return o.prototype.getStackLength=function(){return this.maskStack.length},o.prototype.setMaskStack=function(e){var h=this.renderer.gl,d=this.getStackLength();this.maskStack=e;var g=this.getStackLength();g!==d&&(g===0?h.disable(this.glConst):(h.enable(this.glConst),this._useCurrent()))},o.prototype._useCurrent=function(){},o.prototype.destroy=function(){this.renderer=null,this.maskStack=null},o}(),tempMatrix$1=new Matrix,ScissorSystem=function(o){__extends$h(e,o);function e(h){var d=o.call(this,h)||this;return d.glConst=WebGLRenderingContext.SCISSOR_TEST,d}return e.prototype.getStackLength=function(){var h=this.maskStack[this.maskStack.length-1];return h?h._scissorCounter:0},e.prototype.calcScissorRect=function(h){if(!h._scissorRectLocal){var d=h._scissorRect,g=h.maskObject,_=this.renderer,b=_.renderTexture;g.renderable=!0;var $=g.getBounds();this.roundFrameToPixels($,b.current?b.current.resolution:_.resolution,b.sourceFrame,b.destinationFrame,_.projection.transform),g.renderable=!1,d&&$.fit(d),h._scissorRectLocal=$}},e.isMatrixRotated=function(h){if(!h)return!1;var d=h.a,g=h.b,_=h.c,b=h.d;return(Math.abs(g)>1e-4||Math.abs(_)>1e-4)&&(Math.abs(d)>1e-4||Math.abs(b)>1e-4)},e.prototype.testScissor=function(h){var d=h.maskObject;if(!d.isFastRect||!d.isFastRect()||e.isMatrixRotated(d.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(h);var g=h._scissorRectLocal;return g.width>0&&g.height>0},e.prototype.roundFrameToPixels=function(h,d,g,_,b){e.isMatrixRotated(b)||(b=b?tempMatrix$1.copyFrom(b):tempMatrix$1.identity(),b.translate(-g.x,-g.y).scale(_.width/g.width,_.height/g.height).translate(_.x,_.y),this.renderer.filter.transformAABB(b,h),h.fit(_),h.x=Math.round(h.x*d),h.y=Math.round(h.y*d),h.width=Math.round(h.width*d),h.height=Math.round(h.height*d))},e.prototype.push=function(h){h._scissorRectLocal||this.calcScissorRect(h);var d=this.renderer.gl;h._scissorRect||d.enable(d.SCISSOR_TEST),h._scissorCounter++,h._scissorRect=h._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var h=this.renderer.gl;this.getStackLength()>0?this._useCurrent():h.disable(h.SCISSOR_TEST)},e.prototype._useCurrent=function(){var h=this.maskStack[this.maskStack.length-1]._scissorRect,d;this.renderer.renderTexture.current?d=h.y:d=this.renderer.height-h.height-h.y,this.renderer.gl.scissor(h.x,d,h.width,h.height)},e}(AbstractMaskSystem),StencilSystem=function(o){__extends$h(e,o);function e(h){var d=o.call(this,h)||this;return d.glConst=WebGLRenderingContext.STENCIL_TEST,d}return e.prototype.getStackLength=function(){var h=this.maskStack[this.maskStack.length-1];return h?h._stencilCounter:0},e.prototype.push=function(h){var d=h.maskObject,g=this.renderer.gl,_=h._stencilCounter;_===0&&(this.renderer.framebuffer.forceStencil(),g.clearStencil(0),g.clear(g.STENCIL_BUFFER_BIT),g.enable(g.STENCIL_TEST)),h._stencilCounter++,g.colorMask(!1,!1,!1,!1),g.stencilFunc(g.EQUAL,_,4294967295),g.stencilOp(g.KEEP,g.KEEP,g.INCR),d.renderable=!0,d.render(this.renderer),this.renderer.batch.flush(),d.renderable=!1,this._useCurrent()},e.prototype.pop=function(h){var d=this.renderer.gl;this.getStackLength()===0?d.disable(d.STENCIL_TEST):(d.colorMask(!1,!1,!1,!1),d.stencilOp(d.KEEP,d.KEEP,d.DECR),h.renderable=!0,h.render(this.renderer),this.renderer.batch.flush(),h.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var h=this.renderer.gl;h.colorMask(!0,!0,!0,!0),h.stencilFunc(h.EQUAL,this.getStackLength(),4294967295),h.stencilOp(h.KEEP,h.KEEP,h.KEEP)},e}(AbstractMaskSystem),ProjectionSystem=function(){function o(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}return o.prototype.update=function(e,h,d,g){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=h||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,d,g),this.transform&&this.projectionMatrix.append(this.transform);var _=this.renderer;_.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,_.globalUniforms.update(),_.shader.shader&&_.shader.syncUniformGroup(_.shader.shader.uniforms.globals)},o.prototype.calculateProjection=function(e,h,d,g){var _=this.projectionMatrix,b=g?-1:1;_.identity(),_.a=1/h.width*2,_.d=b*(1/h.height*2),_.tx=-1-h.x*_.a,_.ty=-b-h.y*_.d},o.prototype.setTransform=function(e){},o.prototype.destroy=function(){this.renderer=null},o}(),tempRect=new Rectangle,tempRect2=new Rectangle,RenderTextureSystem=function(){function o(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}return o.prototype.bind=function(e,h,d){e===void 0&&(e=null);var g=this.renderer;this.current=e;var _,b,$;e?(_=e.baseTexture,$=_.resolution,h||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,h=tempRect),d||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=h.width,tempRect2.height=h.height,d=tempRect2),b=_.framebuffer):($=g.resolution,h||(tempRect.width=g.screen.width,tempRect.height=g.screen.height,h=tempRect),d||(d=tempRect,d.width=h.width,d.height=h.height));var j=this.viewportFrame;j.x=d.x*$,j.y=d.y*$,j.width=d.width*$,j.height=d.height*$,e||(j.y=g.view.height-(j.y+j.height)),j.ceil(),this.renderer.framebuffer.bind(b,j),this.renderer.projection.update(d,h,$,!b),e?this.renderer.mask.setMaskStack(_.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(h),this.destinationFrame.copyFrom(d)},o.prototype.clear=function(e,h){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var d=this.destinationFrame,g=this.current?this.current.baseTexture:this.renderer.screen,_=d.width!==g.width||d.height!==g.height;if(_){var b=this.viewportFrame,$=b.x,j=b.y,_e=b.width,et=b.height;$=Math.round($),j=Math.round(j),_e=Math.round(_e),et=Math.round(et),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor($,j,_e,et)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],h),_&&this.renderer.scissor.pop()},o.prototype.resize=function(){this.bind(null)},o.prototype.reset=function(){this.bind(null)},o.prototype.destroy=function(){this.renderer=null},o}();function uboUpdate(o,e,h,d,g){h.buffer.update(g)}var UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(o){for(var e=o.map(function(j){return{data:j,offset:0,dataLen:0,dirty:0}}),h=0,d=0,g=0,_=0;_<e.length;_++){var b=e[_];if(h=GLSL_TO_STD40_SIZE[b.data.type],b.data.size>1&&(h=Math.max(h,16)*b.data.size),b.dataLen=h,d%h!=0&&d<16){var $=d%h%16;d+=$,g+=$}d+h>16?(g=Math.ceil(g/16)*16,b.offset=g,g+=h,d=h):(b.offset=g,d+=h,g+=h)}return g=Math.ceil(g/16)*16,{uboElements:e,size:g}}function getUBOData(o,e){var h=[];for(var d in o)e[d]&&h.push(e[d]);return h.sort(function(g,_){return g.index-_.index}),h}function generateUniformBufferSync(o,e){if(!o.autoManage)return{size:0,syncFunc:uboUpdate};for(var h=getUBOData(o.uniforms,e),d=createUBOElements(h),g=d.uboElements,_=d.size,b=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],$=0;$<g.length;$++){for(var j=g[$],_e=o.uniforms[j.data.name],et=j.data.name,rt=!1,tt=0;tt<uniformParsers.length;tt++){var nt=uniformParsers[tt];if(nt.codeUbo&&nt.test(j.data,_e)){b.push("offset = "+j.offset/4+";",uniformParsers[tt].codeUbo(j.data.name,_e)),rt=!0;break}}if(!rt)if(j.data.size>1){var st=mapSize(j.data.type),at=Math.max(GLSL_TO_STD40_SIZE[j.data.type]/16,1),ct=st/at,it=(4-ct%4)%4;b.push(`
                cv = ud.`+et+`.value;
                v = uv.`+et+`;
                offset = `+j.offset/4+`;

                t = 0;

                for(var i=0; i < `+j.data.size*at+`; i++)
                {
                    for(var j = 0; j < `+ct+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+it+`;
                }

                `)}else{var lt=UBO_TO_SINGLE_SETTERS[j.data.type];b.push(`
                cv = ud.`+et+`.value;
                v = uv.`+et+`;
                offset = `+j.offset/4+`;
                `+lt+`;
                `)}}return b.push(`
       renderer.buffer.update(buffer);
    `),{size:_,syncFunc:new Function("ud","uv","renderer","syncData","buffer",b.join(`
`))}}var GLProgram=function(){function o(e,h){this.program=e,this.uniformData=h,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return o.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},o}();function getAttributeData(o,e){for(var h={},d=e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES),g=0;g<d;g++){var _=e.getActiveAttrib(o,g);if(_.name.indexOf("gl_")!==0){var b=mapType(e,_.type),$={type:b,name:_.name,size:mapSize(b),location:e.getAttribLocation(o,_.name)};h[_.name]=$}}return h}function getUniformData(o,e){for(var h={},d=e.getProgramParameter(o,e.ACTIVE_UNIFORMS),g=0;g<d;g++){var _=e.getActiveUniform(o,g),b=_.name.replace(/\[.*?\]$/,""),$=!!_.name.match(/\[.*?\]$/),j=mapType(e,_.type);h[b]={name:b,index:g,type:j,size:_.size,isArray:$,value:defaultValue(j,_.size)}}return h}function generateProgram(o,e){var h=compileShader(o,o.VERTEX_SHADER,e.vertexSrc),d=compileShader(o,o.FRAGMENT_SHADER,e.fragmentSrc),g=o.createProgram();if(o.attachShader(g,h),o.attachShader(g,d),o.linkProgram(g),o.getProgramParameter(g,o.LINK_STATUS)||logProgramError(o,g,h,d),e.attributeData=getAttributeData(g,o),e.uniformData=getUniformData(g,o),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var _=Object.keys(e.attributeData);_.sort(function(et,rt){return et>rt?1:-1});for(var b=0;b<_.length;b++)e.attributeData[_[b]].location=b,o.bindAttribLocation(g,b,_[b]);o.linkProgram(g)}o.deleteShader(h),o.deleteShader(d);var $={};for(var b in e.uniformData){var j=e.uniformData[b];$[b]={location:o.getUniformLocation(g,b),value:defaultValue(j.type,j.size)}}var _e=new GLProgram(g,$);return _e}var UID=0,defaultSyncData={textureCount:0,uboCount:0},ShaderSystem=function(){function o(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}return o.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},o.prototype.contextChange=function(e){this.gl=e,this.reset()},o.prototype.bind=function(e,h){e.uniforms.globals=this.renderer.globalUniforms;var d=e.program,g=d.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==d&&(this.program=d,this.gl.useProgram(g.program)),h||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),g},o.prototype.setUniforms=function(e){var h=this.shader.program,d=h.glPrograms[this.renderer.CONTEXT_UID];h.syncUniforms(d.uniformData,e,this.renderer)},o.prototype.syncUniformGroup=function(e,h){var d=this.getGlProgram();(!e.static||e.dirtyId!==d.uniformDirtyGroups[e.id])&&(d.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,d,h))},o.prototype.syncUniforms=function(e,h,d){var g=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);g(h.uniformData,e.uniforms,this.renderer,d)},o.prototype.createSyncGroups=function(e){var h=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[h]||(this.cache[h]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[h],e.syncUniforms[this.shader.program.id]},o.prototype.syncUniformBufferGroup=function(e,h){var d=this.getGlProgram();if(!e.static||e.dirtyId!==0||!d.uniformGroups[e.id]){e.dirtyId=0;var g=d.uniformGroups[e.id]||this.createSyncBufferGroup(e,d,h);e.buffer.update(),g(d.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,d.uniformBufferBindings[h])},o.prototype.createSyncBufferGroup=function(e,h,d){var g=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var _=this.gl.getUniformBlockIndex(h.program,d);h.uniformBufferBindings[d]=this.shader.uniformBindCount,g.uniformBlockBinding(h.program,_,this.shader.uniformBindCount),this.shader.uniformBindCount++;var b=this.getSignature(e,this.shader.program.uniformData,"ubo"),$=this._uboCache[b];if($||($=this._uboCache[b]=generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage){var j=new Float32Array($.size/4);e.buffer.update(j)}return h.uniformGroups[e.id]=$.syncFunc,h.uniformGroups[e.id]},o.prototype.getSignature=function(e,h,d){var g=e.uniforms,_=[d+"-"];for(var b in g)_.push(b),h[b]&&_.push(h[b].type);return _.join("-")},o.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},o.prototype.generateProgram=function(e){var h=this.gl,d=e.program,g=generateProgram(h,d);return d.glPrograms[this.renderer.CONTEXT_UID]=g,g},o.prototype.reset=function(){this.program=null,this.shader=null},o.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},o}();function mapWebGLBlendModesToPixi(o,e){return e===void 0&&(e=[]),e[BLEND_MODES$3.NORMAL]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.ADD]=[o.ONE,o.ONE],e[BLEND_MODES$3.MULTIPLY]=[o.DST_COLOR,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.SCREEN]=[o.ONE,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.OVERLAY]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.DARKEN]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.LIGHTEN]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.COLOR_DODGE]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.COLOR_BURN]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.HARD_LIGHT]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.SOFT_LIGHT]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.DIFFERENCE]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.EXCLUSION]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.HUE]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.SATURATION]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.COLOR]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.LUMINOSITY]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.NONE]=[0,0],e[BLEND_MODES$3.NORMAL_NPM]=[o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.ADD_NPM]=[o.SRC_ALPHA,o.ONE,o.ONE,o.ONE],e[BLEND_MODES$3.SCREEN_NPM]=[o.SRC_ALPHA,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.SRC_IN]=[o.DST_ALPHA,o.ZERO],e[BLEND_MODES$3.SRC_OUT]=[o.ONE_MINUS_DST_ALPHA,o.ZERO],e[BLEND_MODES$3.SRC_ATOP]=[o.DST_ALPHA,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.DST_OVER]=[o.ONE_MINUS_DST_ALPHA,o.ONE],e[BLEND_MODES$3.DST_IN]=[o.ZERO,o.SRC_ALPHA],e[BLEND_MODES$3.DST_OUT]=[o.ZERO,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.DST_ATOP]=[o.ONE_MINUS_DST_ALPHA,o.SRC_ALPHA],e[BLEND_MODES$3.XOR]=[o.ONE_MINUS_DST_ALPHA,o.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES$3.SUBTRACT]=[o.ONE,o.ONE,o.ONE,o.ONE,o.FUNC_REVERSE_SUBTRACT,o.FUNC_ADD],e}var BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,StateSystem=function(){function o(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$3.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}return o.prototype.contextChange=function(e){this.gl=e,this.blendModes=mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()},o.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var h=this.stateId^e.data,d=0;h;)h&1&&this.map[d].call(this,!!(e.data&1<<d)),h=h>>1,d++;this.stateId=e.data}for(var d=0;d<this.checks.length;d++)this.checks[d](this,e)},o.prototype.forceState=function(e){e=e||this.defaultState;for(var h=0;h<this.map.length;h++)this.map[h].call(this,!!(e.data&1<<h));for(var h=0;h<this.checks.length;h++)this.checks[h](this,e);this.stateId=e.data},o.prototype.setBlend=function(e){this.updateCheck(o.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},o.prototype.setOffset=function(e){this.updateCheck(o.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},o.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},o.prototype.setDepthMask=function(e){this.gl.depthMask(e)},o.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},o.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},o.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var h=this.blendModes[e],d=this.gl;h.length===2?d.blendFunc(h[0],h[1]):d.blendFuncSeparate(h[0],h[1],h[2],h[3]),h.length===6?(this._blendEq=!0,d.blendEquationSeparate(h[4],h[5])):this._blendEq&&(this._blendEq=!1,d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD))}},o.prototype.setPolygonOffset=function(e,h){this.gl.polygonOffset(e,h)},o.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},o.prototype.updateCheck=function(e,h){var d=this.checks.indexOf(e);h&&d===-1?this.checks.push(e):!h&&d!==-1&&this.checks.splice(d,1)},o.checkBlendMode=function(e,h){e.setBlendMode(h.blendMode)},o.checkPolygonOffset=function(e,h){e.setPolygonOffset(1,h.polygonOffset)},o.prototype.destroy=function(){this.gl=null},o}(),TextureGCSystem=function(){function o(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=settings.GC_MAX_IDLE,this.checkCountMax=settings.GC_MAX_CHECK_COUNT,this.mode=settings.GC_MODE}return o.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==GC_MODES$3.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},o.prototype.run=function(){for(var e=this.renderer.texture,h=e.managedTextures,d=!1,g=0;g<h.length;g++){var _=h[g];!_.framebuffer&&this.count-_.touched>this.maxIdle&&(e.destroyTexture(_,!0),h[g]=null,d=!0)}if(d){for(var b=0,g=0;g<h.length;g++)h[g]!==null&&(h[b++]=h[g]);h.length=b}},o.prototype.unload=function(e){var h=this.renderer.texture,d=e._texture;d&&!d.framebuffer&&h.destroyTexture(d);for(var g=e.children.length-1;g>=0;g--)this.unload(e.children[g])},o.prototype.destroy=function(){this.renderer=null},o}();function mapTypeAndFormatToInternalFormat(o){var e,h,d,g,_,b,$,j,_e,et,rt,tt,nt,st,at,ct,it,lt,ht,ut,dt,pt,mt;return"WebGL2RenderingContext"in globalThis&&o instanceof globalThis.WebGL2RenderingContext?mt=(e={},e[TYPES$3.UNSIGNED_BYTE]=(h={},h[FORMATS$3.RGBA]=o.RGBA8,h[FORMATS$3.RGB]=o.RGB8,h[FORMATS$3.RG]=o.RG8,h[FORMATS$3.RED]=o.R8,h[FORMATS$3.RGBA_INTEGER]=o.RGBA8UI,h[FORMATS$3.RGB_INTEGER]=o.RGB8UI,h[FORMATS$3.RG_INTEGER]=o.RG8UI,h[FORMATS$3.RED_INTEGER]=o.R8UI,h[FORMATS$3.ALPHA]=o.ALPHA,h[FORMATS$3.LUMINANCE]=o.LUMINANCE,h[FORMATS$3.LUMINANCE_ALPHA]=o.LUMINANCE_ALPHA,h),e[TYPES$3.BYTE]=(d={},d[FORMATS$3.RGBA]=o.RGBA8_SNORM,d[FORMATS$3.RGB]=o.RGB8_SNORM,d[FORMATS$3.RG]=o.RG8_SNORM,d[FORMATS$3.RED]=o.R8_SNORM,d[FORMATS$3.RGBA_INTEGER]=o.RGBA8I,d[FORMATS$3.RGB_INTEGER]=o.RGB8I,d[FORMATS$3.RG_INTEGER]=o.RG8I,d[FORMATS$3.RED_INTEGER]=o.R8I,d),e[TYPES$3.UNSIGNED_SHORT]=(g={},g[FORMATS$3.RGBA_INTEGER]=o.RGBA16UI,g[FORMATS$3.RGB_INTEGER]=o.RGB16UI,g[FORMATS$3.RG_INTEGER]=o.RG16UI,g[FORMATS$3.RED_INTEGER]=o.R16UI,g[FORMATS$3.DEPTH_COMPONENT]=o.DEPTH_COMPONENT16,g),e[TYPES$3.SHORT]=(_={},_[FORMATS$3.RGBA_INTEGER]=o.RGBA16I,_[FORMATS$3.RGB_INTEGER]=o.RGB16I,_[FORMATS$3.RG_INTEGER]=o.RG16I,_[FORMATS$3.RED_INTEGER]=o.R16I,_),e[TYPES$3.UNSIGNED_INT]=(b={},b[FORMATS$3.RGBA_INTEGER]=o.RGBA32UI,b[FORMATS$3.RGB_INTEGER]=o.RGB32UI,b[FORMATS$3.RG_INTEGER]=o.RG32UI,b[FORMATS$3.RED_INTEGER]=o.R32UI,b[FORMATS$3.DEPTH_COMPONENT]=o.DEPTH_COMPONENT24,b),e[TYPES$3.INT]=($={},$[FORMATS$3.RGBA_INTEGER]=o.RGBA32I,$[FORMATS$3.RGB_INTEGER]=o.RGB32I,$[FORMATS$3.RG_INTEGER]=o.RG32I,$[FORMATS$3.RED_INTEGER]=o.R32I,$),e[TYPES$3.FLOAT]=(j={},j[FORMATS$3.RGBA]=o.RGBA32F,j[FORMATS$3.RGB]=o.RGB32F,j[FORMATS$3.RG]=o.RG32F,j[FORMATS$3.RED]=o.R32F,j[FORMATS$3.DEPTH_COMPONENT]=o.DEPTH_COMPONENT32F,j),e[TYPES$3.HALF_FLOAT]=(_e={},_e[FORMATS$3.RGBA]=o.RGBA16F,_e[FORMATS$3.RGB]=o.RGB16F,_e[FORMATS$3.RG]=o.RG16F,_e[FORMATS$3.RED]=o.R16F,_e),e[TYPES$3.UNSIGNED_SHORT_5_6_5]=(et={},et[FORMATS$3.RGB]=o.RGB565,et),e[TYPES$3.UNSIGNED_SHORT_4_4_4_4]=(rt={},rt[FORMATS$3.RGBA]=o.RGBA4,rt),e[TYPES$3.UNSIGNED_SHORT_5_5_5_1]=(tt={},tt[FORMATS$3.RGBA]=o.RGB5_A1,tt),e[TYPES$3.UNSIGNED_INT_2_10_10_10_REV]=(nt={},nt[FORMATS$3.RGBA]=o.RGB10_A2,nt[FORMATS$3.RGBA_INTEGER]=o.RGB10_A2UI,nt),e[TYPES$3.UNSIGNED_INT_10F_11F_11F_REV]=(st={},st[FORMATS$3.RGB]=o.R11F_G11F_B10F,st),e[TYPES$3.UNSIGNED_INT_5_9_9_9_REV]=(at={},at[FORMATS$3.RGB]=o.RGB9_E5,at),e[TYPES$3.UNSIGNED_INT_24_8]=(ct={},ct[FORMATS$3.DEPTH_STENCIL]=o.DEPTH24_STENCIL8,ct),e[TYPES$3.FLOAT_32_UNSIGNED_INT_24_8_REV]=(it={},it[FORMATS$3.DEPTH_STENCIL]=o.DEPTH32F_STENCIL8,it),e):mt=(lt={},lt[TYPES$3.UNSIGNED_BYTE]=(ht={},ht[FORMATS$3.RGBA]=o.RGBA,ht[FORMATS$3.RGB]=o.RGB,ht[FORMATS$3.ALPHA]=o.ALPHA,ht[FORMATS$3.LUMINANCE]=o.LUMINANCE,ht[FORMATS$3.LUMINANCE_ALPHA]=o.LUMINANCE_ALPHA,ht),lt[TYPES$3.UNSIGNED_SHORT_5_6_5]=(ut={},ut[FORMATS$3.RGB]=o.RGB,ut),lt[TYPES$3.UNSIGNED_SHORT_4_4_4_4]=(dt={},dt[FORMATS$3.RGBA]=o.RGBA,dt),lt[TYPES$3.UNSIGNED_SHORT_5_5_5_1]=(pt={},pt[FORMATS$3.RGBA]=o.RGBA,pt),lt),mt}var GLTexture=function(){function o(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$3.UNSIGNED_BYTE,this.internalFormat=FORMATS$3.RGBA,this.samplerType=0}return o}(),TextureSystem=function(){function o(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}return o.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e);var h=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=h;for(var d=0;d<h;d++)this.boundTextures[d]=null;this.emptyTextures={};var g=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,g.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=g,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var d=0;d<6;d++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+d,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var d=0;d<this.boundTextures.length;d++)this.bind(null,d)},o.prototype.bind=function(e,h){h===void 0&&(h=0);var d=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var g=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[h]!==e&&(this.currentLocation!==h&&(this.currentLocation=h,d.activeTexture(d.TEXTURE0+h)),d.bindTexture(e.target,g.texture)),g.dirtyId!==e.dirtyId&&(this.currentLocation!==h&&(this.currentLocation=h,d.activeTexture(d.TEXTURE0+h)),this.updateTexture(e)),this.boundTextures[h]=e}else this.currentLocation!==h&&(this.currentLocation=h,d.activeTexture(d.TEXTURE0+h)),d.bindTexture(d.TEXTURE_2D,this.emptyTextures[d.TEXTURE_2D].texture),this.boundTextures[h]=null},o.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},o.prototype.unbind=function(e){var h=this,d=h.gl,g=h.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var _=0;_<g.length;_++)g[_]===this.unknownTexture&&this.bind(null,_)}for(var _=0;_<g.length;_++)g[_]===e&&(this.currentLocation!==_&&(d.activeTexture(d.TEXTURE0+_),this.currentLocation=_),d.bindTexture(e.target,this.emptyTextures[e.target].texture),g[_]=null)},o.prototype.ensureSamplerType=function(e){var h=this,d=h.boundTextures,g=h.hasIntegerTextures,_=h.CONTEXT_UID;if(!!g)for(var b=e-1;b>=0;--b){var $=d[b];if($){var j=$._glTextures[_];j.samplerType!==SAMPLER_TYPES$3.FLOAT&&this.renderer.texture.unbind($)}}},o.prototype.initTexture=function(e){var h=new GLTexture(this.gl.createTexture());return h.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=h,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),h},o.prototype.initTextureType=function(e,h){var d,g;h.internalFormat=(g=(d=this.internalFormats[e.type])===null||d===void 0?void 0:d[e.format])!==null&&g!==void 0?g:e.format,this.webGLVersion===2&&e.type===TYPES$3.HALF_FLOAT?h.type=this.gl.HALF_FLOAT:h.type=e.type},o.prototype.updateTexture=function(e){var h=e._glTextures[this.CONTEXT_UID];if(!!h){var d=this.renderer;if(this.initTextureType(e,h),e.resource&&e.resource.upload(d,e,h))h.samplerType!==SAMPLER_TYPES$3.FLOAT&&(this.hasIntegerTextures=!0);else{var g=e.realWidth,_=e.realHeight,b=d.gl;(h.width!==g||h.height!==_||h.dirtyId<0)&&(h.width=g,h.height=_,b.texImage2D(e.target,0,h.internalFormat,g,_,0,e.format,h.type,null))}e.dirtyStyleId!==h.dirtyStyleId&&this.updateTextureStyle(e),h.dirtyId=e.dirtyId}},o.prototype.destroyTexture=function(e,h){var d=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),d.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!h)){var g=this.managedTextures.indexOf(e);g!==-1&&removeItems(this.managedTextures,g,1)}},o.prototype.updateTextureStyle=function(e){var h=e._glTextures[this.CONTEXT_UID];!h||((e.mipmap===MIPMAP_MODES$3.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?h.mipmap=!1:h.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?h.wrapMode=WRAP_MODES$3.CLAMP:h.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,h)||this.setStyle(e,h),h.dirtyStyleId=e.dirtyStyleId)},o.prototype.setStyle=function(e,h){var d=this.gl;if(h.mipmap&&e.mipmap!==MIPMAP_MODES$3.ON_MANUAL&&d.generateMipmap(e.target),d.texParameteri(e.target,d.TEXTURE_WRAP_S,h.wrapMode),d.texParameteri(e.target,d.TEXTURE_WRAP_T,h.wrapMode),h.mipmap){d.texParameteri(e.target,d.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES$3.LINEAR?d.LINEAR_MIPMAP_LINEAR:d.NEAREST_MIPMAP_NEAREST);var g=this.renderer.context.extensions.anisotropicFiltering;if(g&&e.anisotropicLevel>0&&e.scaleMode===SCALE_MODES$3.LINEAR){var _=Math.min(e.anisotropicLevel,d.getParameter(g.MAX_TEXTURE_MAX_ANISOTROPY_EXT));d.texParameterf(e.target,g.TEXTURE_MAX_ANISOTROPY_EXT,_)}}else d.texParameteri(e.target,d.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES$3.LINEAR?d.LINEAR:d.NEAREST);d.texParameteri(e.target,d.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES$3.LINEAR?d.LINEAR:d.NEAREST)},o.prototype.destroy=function(){this.renderer=null},o}(),tempMatrix=new Matrix,AbstractRenderer=function(o){__extends$h(e,o);function e(h,d){h===void 0&&(h=RENDERER_TYPE$3.UNKNOWN);var g=o.call(this)||this;return d=Object.assign({},settings.RENDER_OPTIONS,d),g.options=d,g.type=h,g.screen=new Rectangle(0,0,d.width,d.height),g.view=d.view||document.createElement("canvas"),g.resolution=d.resolution||settings.RESOLUTION,g.useContextAlpha=d.useContextAlpha,g.autoDensity=!!d.autoDensity,g.preserveDrawingBuffer=d.preserveDrawingBuffer,g.clearBeforeRender=d.clearBeforeRender,g._backgroundColor=0,g._backgroundColorRgba=[0,0,0,1],g._backgroundColorString="#000000",g.backgroundColor=d.backgroundColor||g._backgroundColor,g.backgroundAlpha=d.backgroundAlpha,d.transparent!==void 0&&(deprecation("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),g.useContextAlpha=d.transparent,g.backgroundAlpha=d.transparent?0:1),g._lastObjectRendered=null,g.plugins={},g}return e.prototype.initPlugins=function(h){for(var d in h)this.plugins[d]=new h[d](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(h,d){this.view.width=Math.round(h*this.resolution),this.view.height=Math.round(d*this.resolution);var g=this.view.width/this.resolution,_=this.view.height/this.resolution;this.screen.width=g,this.screen.height=_,this.autoDensity&&(this.view.style.width=g+"px",this.view.style.height=_+"px"),this.emit("resize",g,_)},e.prototype.generateTexture=function(h,d,g,_){d===void 0&&(d={}),typeof d=="number"&&(deprecation("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),d={scaleMode:d,resolution:g,region:_});var b=d.region,$=__rest(d,["region"]);_=b||h.getLocalBounds(null,!0),_.width===0&&(_.width=1),_.height===0&&(_.height=1);var j=RenderTexture.create(__assign$1({width:_.width,height:_.height},$));return tempMatrix.tx=-_.x,tempMatrix.ty=-_.y,this.render(h,{renderTexture:j,clear:!1,transform:tempMatrix,skipUpdateTransform:!!h.parent}),j},e.prototype.destroy=function(h){for(var d in this.plugins)this.plugins[d].destroy(),this.plugins[d]=null;h&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var g=this;g.plugins=null,g.type=RENDERER_TYPE$3.UNKNOWN,g.view=null,g.screen=null,g._tempDisplayObjectParent=null,g.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(h){this._backgroundColor=h,this._backgroundColorString=hex2string(h),hex2rgb(h,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(h){this._backgroundColorRgba[3]=h},enumerable:!1,configurable:!0}),e}(EventEmitter),GLBuffer=function(){function o(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return o}(),BufferSystem=function(){function o(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return o.prototype.destroy=function(){this.renderer=null},o.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},o.prototype.bind=function(e){var h=this,d=h.gl,g=h.CONTEXT_UID,_=e._glBuffers[g]||this.createGLBuffer(e);d.bindBuffer(e.type,_.buffer)},o.prototype.bindBufferBase=function(e,h){var d=this,g=d.gl,_=d.CONTEXT_UID;if(this.boundBufferBases[h]!==e){var b=e._glBuffers[_]||this.createGLBuffer(e);this.boundBufferBases[h]=e,g.bindBufferBase(g.UNIFORM_BUFFER,h,b.buffer)}},o.prototype.bindBufferRange=function(e,h,d){var g=this,_=g.gl,b=g.CONTEXT_UID;d=d||0;var $=e._glBuffers[b]||this.createGLBuffer(e);_.bindBufferRange(_.UNIFORM_BUFFER,h||0,$.buffer,d*256,256)},o.prototype.update=function(e){var h=this,d=h.gl,g=h.CONTEXT_UID,_=e._glBuffers[g];if(e._updateID!==_.updateID)if(_.updateID=e._updateID,d.bindBuffer(e.type,_.buffer),_.byteLength>=e.data.byteLength)d.bufferSubData(e.type,0,e.data);else{var b=e.static?d.STATIC_DRAW:d.DYNAMIC_DRAW;_.byteLength=e.data.byteLength,d.bufferData(e.type,e.data,b)}},o.prototype.dispose=function(e,h){if(!!this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var d=e._glBuffers[this.CONTEXT_UID],g=this.gl;e.disposeRunner.remove(this),!!d&&(h||g.deleteBuffer(d.buffer),delete e._glBuffers[this.CONTEXT_UID])}},o.prototype.disposeAll=function(e){for(var h=Object.keys(this.managedBuffers),d=0;d<h.length;d++)this.dispose(this.managedBuffers[h[d]],e)},o.prototype.createGLBuffer=function(e){var h=this,d=h.CONTEXT_UID,g=h.gl;return e._glBuffers[d]=new GLBuffer(g.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[d]},o}(),Renderer=function(o){__extends$h(e,o);function e(h){var d=o.call(this,RENDERER_TYPE$3.WEBGL,h)||this;return h=d.options,d.gl=null,d.CONTEXT_UID=0,d.runners={destroy:new Runner("destroy"),contextChange:new Runner("contextChange"),reset:new Runner("reset"),update:new Runner("update"),postrender:new Runner("postrender"),prerender:new Runner("prerender"),resize:new Runner("resize")},d.runners.contextChange.add(d),d.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),d.addSystem(MaskSystem,"mask").addSystem(ContextSystem,"context").addSystem(StateSystem,"state").addSystem(ShaderSystem,"shader").addSystem(TextureSystem,"texture").addSystem(BufferSystem,"buffer").addSystem(GeometrySystem,"geometry").addSystem(FramebufferSystem,"framebuffer").addSystem(ScissorSystem,"scissor").addSystem(StencilSystem,"stencil").addSystem(ProjectionSystem,"projection").addSystem(TextureGCSystem,"textureGC").addSystem(FilterSystem,"filter").addSystem(RenderTextureSystem,"renderTexture").addSystem(BatchSystem,"batch"),d.initPlugins(e.__plugins),d.multisample=void 0,h.context?d.context.initFromContext(h.context):d.context.initFromOptions({alpha:!!d.useContextAlpha,antialias:h.antialias,premultipliedAlpha:d.useContextAlpha&&d.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:h.preserveDrawingBuffer,powerPreference:d.options.powerPreference}),d.renderingToScreen=!0,sayHello(d.context.webGLVersion===2?"WebGL 2":"WebGL 1"),d.resize(d.options.width,d.options.height),d}return e.create=function(h){if(isWebGLSupported())return new e(h);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var h=this.gl,d;if(this.context.webGLVersion===1){var g=h.getParameter(h.FRAMEBUFFER_BINDING);h.bindFramebuffer(h.FRAMEBUFFER,null),d=h.getParameter(h.SAMPLES),h.bindFramebuffer(h.FRAMEBUFFER,g)}else{var g=h.getParameter(h.DRAW_FRAMEBUFFER_BINDING);h.bindFramebuffer(h.DRAW_FRAMEBUFFER,null),d=h.getParameter(h.SAMPLES),h.bindFramebuffer(h.DRAW_FRAMEBUFFER,g)}d>=MSAA_QUALITY$3.HIGH?this.multisample=MSAA_QUALITY$3.HIGH:d>=MSAA_QUALITY$3.MEDIUM?this.multisample=MSAA_QUALITY$3.MEDIUM:d>=MSAA_QUALITY$3.LOW?this.multisample=MSAA_QUALITY$3.LOW:this.multisample=MSAA_QUALITY$3.NONE},e.prototype.addSystem=function(h,d){var g=new h(this);if(this[d])throw new Error('Whoops! The name "'+d+'" is already in use');this[d]=g;for(var _ in this.runners)this.runners[_].add(g);return this},e.prototype.render=function(h,d){var g,_,b,$;if(d&&(d instanceof RenderTexture?(deprecation("6.0.0","Renderer#render arguments changed, use options instead."),g=d,_=arguments[2],b=arguments[3],$=arguments[4]):(g=d.renderTexture,_=d.clear,b=d.transform,$=d.skipUpdateTransform)),this.renderingToScreen=!g,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=b,!this.context.isLost){if(g||(this._lastObjectRendered=h),!$){var j=h.enableTempParent();h.updateTransform(),h.disableTempParent(j)}this.renderTexture.bind(g),this.batch.currentRenderer.start(),(_!==void 0?_:this.clearBeforeRender)&&this.renderTexture.clear(),h.render(this),this.batch.currentRenderer.flush(),g&&g.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(h,d,g,_){d===void 0&&(d={});var b=o.prototype.generateTexture.call(this,h,d,g,_);return this.framebuffer.blit(),b},e.prototype.resize=function(h,d){o.prototype.resize.call(this,h,d),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(h){this.runners.destroy.emit();for(var d in this.runners)this.runners[d].destroy();o.prototype.destroy.call(this,h),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return deprecation("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(h,d){e.__plugins=e.__plugins||{},e.__plugins[h]=d},e}(AbstractRenderer);function autoDetectRenderer(o){return Renderer.create(o)}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultVertex$1=$defaultVertex,defaultFilterVertex=$defaultFilterVertex,BatchDrawCall=function(){function o(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$3.TRIANGLES,this.start=0,this.size=0,this.data=null}return o}(),BatchTextureArray=function(){function o(){this.elements=[],this.ids=[],this.count=0}return o.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},o}(),ViewableBuffer=function(){function o(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(o.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),o.prototype.view=function(e){return this[e+"View"]},o.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},o.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},o}(),AbstractBatchRenderer=function(o){__extends$h(e,o);function e(h){var d=o.call(this,h)||this;return d.shaderGenerator=null,d.geometryClass=null,d.vertexSize=null,d.state=State.for2d(),d.size=settings.SPRITE_BATCH_SIZE*4,d._vertexCount=0,d._indexCount=0,d._bufferedElements=[],d._bufferedTextures=[],d._bufferSize=0,d._shader=null,d._packedGeometries=[],d._packedGeometryPoolSize=2,d._flushId=0,d._aBuffers={},d._iBuffers={},d.MAX_TEXTURES=1,d.renderer.on("prerender",d.onPrerender,d),h.runners.contextChange.add(d),d._dcIndex=0,d._aIndex=0,d._iIndex=0,d._attributeBuffer=null,d._indexBuffer=null,d._tempBoundTextures=[],d}return e.prototype.contextChange=function(){var h=this.renderer.gl;settings.PREFER_ENV===ENV$3.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(h.getParameter(h.MAX_TEXTURE_IMAGE_UNITS),settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,h)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var d=0;d<this._packedGeometryPoolSize;d++)this._packedGeometries[d]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var h=e._drawCallPool,d=e._textureArrayPool,g=this.size/4,_=Math.floor(g/this.MAX_TEXTURES)+1;h.length<g;)h.push(new BatchDrawCall);for(;d.length<_;)d.push(new BatchTextureArray);for(var b=0;b<this.MAX_TEXTURES;b++)this._tempBoundTextures[b]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(h){!h._texture.valid||(this._vertexCount+h.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=h.vertexData.length/2,this._indexCount+=h.indices.length,this._bufferedTextures[this._bufferSize]=h._texture.baseTexture,this._bufferedElements[this._bufferSize++]=h)},e.prototype.buildTexturesAndDrawCalls=function(){var h=this,d=h._bufferedTextures,g=h.MAX_TEXTURES,_=e._textureArrayPool,b=this.renderer.batch,$=this._tempBoundTextures,j=this.renderer.textureGC.count,_e=++BaseTexture._globalBatch,et=0,rt=_[0],tt=0;b.copyBoundTextures($,g);for(var nt=0;nt<this._bufferSize;++nt){var st=d[nt];d[nt]=null,st._batchEnabled!==_e&&(rt.count>=g&&(b.boundArray(rt,$,_e,g),this.buildDrawCalls(rt,tt,nt),tt=nt,rt=_[++et],++_e),st._batchEnabled=_e,st.touched=j,rt.elements[rt.count++]=st)}rt.count>0&&(b.boundArray(rt,$,_e,g),this.buildDrawCalls(rt,tt,this._bufferSize),++et,++_e);for(var nt=0;nt<$.length;nt++)$[nt]=null;BaseTexture._globalBatch=_e},e.prototype.buildDrawCalls=function(h,d,g){var _=this,b=_._bufferedElements,$=_._attributeBuffer,j=_._indexBuffer,_e=_.vertexSize,et=e._drawCallPool,rt=this._dcIndex,tt=this._aIndex,nt=this._iIndex,st=et[rt];st.start=this._iIndex,st.texArray=h;for(var at=d;at<g;++at){var ct=b[at],it=ct._texture.baseTexture,lt=premultiplyBlendMode[it.alphaMode?1:0][ct.blendMode];b[at]=null,d<at&&st.blend!==lt&&(st.size=nt-st.start,d=at,st=et[++rt],st.texArray=h,st.start=nt),this.packInterleavedGeometry(ct,$,j,tt,nt),tt+=ct.vertexData.length/2*_e,nt+=ct.indices.length,st.blend=lt}d<g&&(st.size=nt-st.start,++rt),this._dcIndex=rt,this._aIndex=tt,this._iIndex=nt},e.prototype.bindAndClearTexArray=function(h){for(var d=this.renderer.texture,g=0;g<h.count;g++)d.bind(h.elements[g],h.ids[g]),h.elements[g]=null;h.count=0},e.prototype.updateGeometry=function(){var h=this,d=h._packedGeometries,g=h._attributeBuffer,_=h._indexBuffer;settings.CAN_UPLOAD_SAME_BUFFER?(d[this._flushId]._buffer.update(g.rawBinaryData),d[this._flushId]._indexBuffer.update(_),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,d[this._flushId]=new this.geometryClass),d[this._flushId]._buffer.update(g.rawBinaryData),d[this._flushId]._indexBuffer.update(_),this.renderer.geometry.bind(d[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var h=this._dcIndex,d=this.renderer,g=d.gl,_=d.state,b=e._drawCallPool,$=null,j=0;j<h;j++){var _e=b[j],et=_e.texArray,rt=_e.type,tt=_e.size,nt=_e.start,st=_e.blend;$!==et&&($=et,this.bindAndClearTexArray(et)),this.state.blendMode=st,_.set(this.state),g.drawElements(rt,tt,g.UNSIGNED_SHORT,nt*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var h=0;h<this._packedGeometryPoolSize;h++)this._packedGeometries[h]&&this._packedGeometries[h].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),o.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(h){var d=nextPow2(Math.ceil(h/8)),g=log2(d),_=d*8;this._aBuffers.length<=g&&(this._iBuffers.length=g+1);var b=this._aBuffers[_];return b||(this._aBuffers[_]=b=new ViewableBuffer(_*this.vertexSize*4)),b},e.prototype.getIndexBuffer=function(h){var d=nextPow2(Math.ceil(h/12)),g=log2(d),_=d*12;this._iBuffers.length<=g&&(this._iBuffers.length=g+1);var b=this._iBuffers[g];return b||(this._iBuffers[g]=b=new Uint16Array(_)),b},e.prototype.packInterleavedGeometry=function(h,d,g,_,b){for(var $=d.uint32View,j=d.float32View,_e=_/this.vertexSize,et=h.uvs,rt=h.indices,tt=h.vertexData,nt=h._texture.baseTexture._batchLocation,st=Math.min(h.worldAlpha,1),at=st<1&&h._texture.baseTexture.alphaMode?premultiplyTint(h._tintRGB,st):h._tintRGB+(st*255<<24),ct=0;ct<tt.length;ct+=2)j[_++]=tt[ct],j[_++]=tt[ct+1],j[_++]=et[ct],j[_++]=et[ct+1],$[_++]=at,j[_++]=nt;for(var ct=0;ct<rt.length;ct++)g[b++]=_e+rt[ct]},e._drawCallPool=[],e._textureArrayPool=[],e}(ObjectRenderer),BatchShaderGenerator=function(){function o(e,h){if(this.vertexSrc=e,this.fragTemplate=h,this.programCache={},this.defaultGroupCache={},h.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(h.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return o.prototype.generateShader=function(e){if(!this.programCache[e]){for(var h=new Int32Array(e),d=0;d<e;d++)h[d]=d;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:h},!0);var g=this.fragTemplate;g=g.replace(/%count%/gi,""+e),g=g.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,g)}var _={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[e]};return new Shader(this.programCache[e],_)},o.prototype.generateSampleSrc=function(e){var h="";h+=`
`,h+=`
`;for(var d=0;d<e;d++)d>0&&(h+=`
else `),d<e-1&&(h+="if(vTextureId < "+d+".5)"),h+=`
{`,h+=`
	color = texture2D(uSamplers[`+d+"], vTextureCoord);",h+=`
}`;return h+=`
`,h+=`
`,h},o}(),BatchGeometry=function(o){__extends$h(e,o);function e(h){h===void 0&&(h=!1);var d=o.call(this)||this;return d._buffer=new Buffer(null,h,!1),d._indexBuffer=new Buffer(null,h,!0),d.addAttribute("aVertexPosition",d._buffer,2,!1,TYPES$3.FLOAT).addAttribute("aTextureCoord",d._buffer,2,!1,TYPES$3.FLOAT).addAttribute("aColor",d._buffer,4,!0,TYPES$3.UNSIGNED_BYTE).addAttribute("aTextureId",d._buffer,1,!0,TYPES$3.FLOAT).addIndex(d._indexBuffer),d}return e}(Geometry),defaultVertex=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,defaultFragment=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BatchPluginFactory=function(){function o(){}return o.create=function(e){var h=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry,vertexSize:6},e),d=h.vertex,g=h.fragment,_=h.vertexSize,b=h.geometryClass;return function($){__extends$h(j,$);function j(_e){var et=$.call(this,_e)||this;return et.shaderGenerator=new BatchShaderGenerator(d,g),et.geometryClass=b,et.vertexSize=_,et}return j}(AbstractBatchRenderer)},Object.defineProperty(o,"defaultVertexSrc",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultFragmentTemplate",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),o}(),BatchRenderer=BatchPluginFactory.create();/*!
 * @pixi/app - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Application=function(){function o(e){var h=this;this.stage=new Container,e=Object.assign({forceCanvas:!1},e),this.renderer=autoDetectRenderer(e),o._plugins.forEach(function(d){d.init.call(h,e)})}return o.registerPlugin=function(e){o._plugins.push(e)},o.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(o.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),o.prototype.destroy=function(e,h){var d=this,g=o._plugins.slice(0);g.reverse(),g.forEach(function(_){_.destroy.call(d)}),this.stage.destroy(h),this.stage=null,this.renderer.destroy(e),this.renderer=null},o._plugins=[],o}(),ResizePlugin=function(){function o(){}return o.init=function(e){var h=this;Object.defineProperty(this,"resizeTo",{set:function(d){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=d,d&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!h._resizeTo||(h.cancelResize(),h._resizeId=requestAnimationFrame(function(){return h.resize()}))},this.cancelResize=function(){h._resizeId&&(cancelAnimationFrame(h._resizeId),h._resizeId=null)},this.resize=function(){if(!!h._resizeTo){h.cancelResize();var d,g;if(h._resizeTo===globalThis.window)d=globalThis.innerWidth,g=globalThis.innerHeight;else{var _=h._resizeTo,b=_.clientWidth,$=_.clientHeight;d=b,g=$}h.renderer.resize(d,g)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},o.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},o}();Application.registerPlugin(ResizePlugin);/*!
 * @pixi/extract - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,Extract=function(){function o(e){this.renderer=e}return o.prototype.image=function(e,h,d){var g=new Image;return g.src=this.base64(e,h,d),g},o.prototype.base64=function(e,h,d){return this.canvas(e).toDataURL(h,d)},o.prototype.canvas=function(e){var h=this.renderer,d,g,_=!1,b,$=!1;e&&(e instanceof RenderTexture?b=e:(b=this.renderer.generateTexture(e),$=!0)),b?(d=b.baseTexture.resolution,g=b.frame,_=!1,h.renderTexture.bind(b)):(d=this.renderer.resolution,_=!0,g=TEMP_RECT,g.width=this.renderer.width,g.height=this.renderer.height,h.renderTexture.bind(null));var j=Math.floor(g.width*d+1e-4),_e=Math.floor(g.height*d+1e-4),et=new CanvasRenderTarget(j,_e,1),rt=new Uint8Array(BYTES_PER_PIXEL*j*_e),tt=h.gl;tt.readPixels(g.x*d,g.y*d,j,_e,tt.RGBA,tt.UNSIGNED_BYTE,rt);var nt=et.context.getImageData(0,0,j,_e);if(o.arrayPostDivide(rt,nt.data),et.context.putImageData(nt,0,0),_){var st=new CanvasRenderTarget(et.width,et.height,1);st.context.scale(1,-1),st.context.drawImage(et.canvas,0,-_e),et.destroy(),et=st}return $&&b.destroy(!0),et.canvas},o.prototype.pixels=function(e){var h=this.renderer,d,g,_,b=!1;e&&(e instanceof RenderTexture?_=e:(_=this.renderer.generateTexture(e),b=!0)),_?(d=_.baseTexture.resolution,g=_.frame,h.renderTexture.bind(_)):(d=h.resolution,g=TEMP_RECT,g.width=h.width,g.height=h.height,h.renderTexture.bind(null));var $=g.width*d,j=g.height*d,_e=new Uint8Array(BYTES_PER_PIXEL*$*j),et=h.gl;return et.readPixels(g.x*d,g.y*d,$,j,et.RGBA,et.UNSIGNED_BYTE,_e),b&&_.destroy(!0),o.arrayPostDivide(_e,_e),_e},o.prototype.destroy=function(){this.renderer=null},o.arrayPostDivide=function(e,h){for(var d=0;d<e.length;d+=4){var g=h[d+3]=e[d+3];g!==0?(h[d]=Math.round(Math.min(e[d]*255/g,255)),h[d+1]=Math.round(Math.min(e[d+1]*255/g,255)),h[d+2]=Math.round(Math.min(e[d+2]*255/g,255))):(h[d]=e[d],h[d+1]=e[d+1],h[d+2]=e[d+2])}},o}();/*!
 * @pixi/loaders - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SignalBinding=function(){function o(e,h,d){h===void 0&&(h=!1),this._fn=e,this._once=h,this._thisArg=d,this._next=this._prev=this._owner=null}return o.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},o}();function _addSignalBinding(o,e){return o._head?(o._tail._next=e,e._prev=o._tail,o._tail=e):(o._head=e,o._tail=e),e._owner=o,e}var Signal=function(){function o(){this._head=this._tail=void 0}return o.prototype.handlers=function(e){e===void 0&&(e=!1);var h=this._head;if(e)return!!h;for(var d=[];h;)d.push(h),h=h._next;return d},o.prototype.has=function(e){if(!(e instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},o.prototype.dispatch=function(){for(var e=arguments,h=[],d=0;d<arguments.length;d++)h[d]=e[d];var g=this._head;if(!g)return!1;for(;g;)g._once&&this.detach(g),g._fn.apply(g._thisArg,h),g=g._next;return!0},o.prototype.add=function(e,h){if(h===void 0&&(h=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(e,!1,h))},o.prototype.once=function(e,h){if(h===void 0&&(h=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(e,!0,h))},o.prototype.detach=function(e){if(!(e instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},o.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},o}();function parseUri(o,e){e=e||{};for(var h={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=h.parser[e.strictMode?"strict":"loose"].exec(o),g={},_=14;_--;)g[h.key[_]]=d[_]||"";return g[h.q.name]={},g[h.key[12]].replace(h.q.parser,function(b,$,j){$&&(g[h.q.name][$]=j)}),g}var useXdr,tempAnchor=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop$1(){}function setExtMap(o,e,h){e&&e.indexOf(".")===0&&(e=e.substring(1)),!!e&&(o[e]=h)}function reqType(o){return o.toString().replace("object ","")}var LoaderResource=function(){function o(e,h,d){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof h!="string")throw new Error("Both name and url are required for constructing a resource.");d=d||{},this._flags=0,this._setFlag(o.STATUS_FLAGS.DATA_URL,h.indexOf("data:")===0),this.name=e,this.url=h,this.extension=this._getExtension(),this.data=null,this.crossOrigin=d.crossOrigin===!0?"anonymous":d.crossOrigin,this.timeout=d.timeout||0,this.loadType=d.loadType||this._determineLoadType(),this.xhrType=d.xhrType,this.metadata=d.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=o.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return o.setExtensionLoadType=function(e,h){setExtMap(o._loadTypeMap,e,h)},o.setExtensionXhrType=function(e,h){setExtMap(o._xhrTypeMap,e,h)},Object.defineProperty(o.prototype,"isDataUrl",{get:function(){return this._hasFlag(o.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isComplete",{get:function(){return this._hasFlag(o.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isLoading",{get:function(){return this._hasFlag(o.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),o.prototype.complete=function(){this._clearEvents(),this._finish()},o.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=o.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},o.prototype.load=function(e){var h=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(h)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(o.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this.type=o.TYPE.IMAGE,this._loadElement("image");break;case o.LOAD_TYPE.AUDIO:this.type=o.TYPE.AUDIO,this._loadSourceElement("audio");break;case o.LOAD_TYPE.VIDEO:this.type=o.TYPE.VIDEO,this._loadSourceElement("video");break;case o.LOAD_TYPE.XHR:default:typeof useXdr=="undefined"&&(useXdr=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},o.prototype._hasFlag=function(e){return(this._flags&e)!=0},o.prototype._setFlag=function(e,h){this._flags=h?this._flags|e:this._flags&~e},o.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},o.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(o.STATUS_FLAGS.COMPLETE,!0),this._setFlag(o.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var h=this.metadata.mimeType,d=0;d<this.url.length;++d)this.data.appendChild(this._createSource(e,this.url[d],Array.isArray(h)?h[d]:h));else{var h=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(h)?h[0]:h))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=o.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},o.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},o.prototype._createSource=function(e,h,d){d||(d=e+"/"+this._getExtension(h));var g=document.createElement("source");return g.src=h,g.type=d,g},o.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},o.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},o.prototype._onTimeout=function(){this.abort("Load timed out.")},o.prototype._xhrOnError=function(){var e=this.xhr;this.abort(reqType(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},o.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(reqType(e)+" Request timed out.")},o.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(reqType(e)+" Request was aborted by the user.")},o.prototype._xhrOnLoad=function(){var e=this.xhr,h="",d=typeof e.status=="undefined"?STATUS_OK:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType=="undefined")&&(h=e.responseText),d===STATUS_NONE&&(h.length>0||e.responseType===o.XHR_RESPONSE_TYPE.BUFFER)?d=STATUS_OK:d===STATUS_IE_BUG_EMPTY&&(d=STATUS_EMPTY);var g=d/100|0;if(g===STATUS_TYPE_OK)if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=h,this.type=o.TYPE.TEXT;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(h),this.type=o.TYPE.JSON}catch($){this.abort("Error trying to parse loaded json: "+$);return}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var _=new DOMParser;this.data=_.parseFromString(h,"text/xml")}else{var b=document.createElement("div");b.innerHTML=h,this.data=b}this.type=o.TYPE.XML}catch($){this.abort("Error trying to parse loaded xml: "+$);return}else this.data=e.response||h;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},o.prototype._determineCrossOrigin=function(e,h){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";h=h||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=e;var d=parseUri(tempAnchor.href,{strictMode:!0}),g=!d.port&&h.port===""||d.port===h.port,_=d.protocol?d.protocol+":":"";return d.host!==h.hostname||!g||_!==h.protocol?"anonymous":""},o.prototype._determineXhrType=function(){return o._xhrTypeMap[this.extension]||o.XHR_RESPONSE_TYPE.TEXT},o.prototype._determineLoadType=function(){return o._loadTypeMap[this.extension]||o.LOAD_TYPE.XHR},o.prototype._getExtension=function(e){e===void 0&&(e=this.url);var h="";if(this.isDataUrl){var d=e.indexOf("/");h=e.substring(d+1,e.indexOf(";",d))}else{var g=e.indexOf("?"),_=e.indexOf("#"),b=Math.min(g>-1?g:e.length,_>-1?_:e.length);e=e.substring(0,b),h=e.substring(e.lastIndexOf(".")+1)}return h.toLowerCase()},o.prototype._getMimeFromXhrType=function(e){switch(e){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},o}();(function(o){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(o.STATUS_FLAGS||(o.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(o.TYPE||(o.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(o.LOAD_TYPE||(o.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(o.XHR_RESPONSE_TYPE||(o.XHR_RESPONSE_TYPE={})),o._loadTypeMap={gif:o.LOAD_TYPE.IMAGE,png:o.LOAD_TYPE.IMAGE,bmp:o.LOAD_TYPE.IMAGE,jpg:o.LOAD_TYPE.IMAGE,jpeg:o.LOAD_TYPE.IMAGE,tif:o.LOAD_TYPE.IMAGE,tiff:o.LOAD_TYPE.IMAGE,webp:o.LOAD_TYPE.IMAGE,tga:o.LOAD_TYPE.IMAGE,svg:o.LOAD_TYPE.IMAGE,"svg+xml":o.LOAD_TYPE.IMAGE,mp3:o.LOAD_TYPE.AUDIO,ogg:o.LOAD_TYPE.AUDIO,wav:o.LOAD_TYPE.AUDIO,mp4:o.LOAD_TYPE.VIDEO,webm:o.LOAD_TYPE.VIDEO},o._xhrTypeMap={xhtml:o.XHR_RESPONSE_TYPE.DOCUMENT,html:o.XHR_RESPONSE_TYPE.DOCUMENT,htm:o.XHR_RESPONSE_TYPE.DOCUMENT,xml:o.XHR_RESPONSE_TYPE.DOCUMENT,tmx:o.XHR_RESPONSE_TYPE.DOCUMENT,svg:o.XHR_RESPONSE_TYPE.DOCUMENT,tsx:o.XHR_RESPONSE_TYPE.DOCUMENT,gif:o.XHR_RESPONSE_TYPE.BLOB,png:o.XHR_RESPONSE_TYPE.BLOB,bmp:o.XHR_RESPONSE_TYPE.BLOB,jpg:o.XHR_RESPONSE_TYPE.BLOB,jpeg:o.XHR_RESPONSE_TYPE.BLOB,tif:o.XHR_RESPONSE_TYPE.BLOB,tiff:o.XHR_RESPONSE_TYPE.BLOB,webp:o.XHR_RESPONSE_TYPE.BLOB,tga:o.XHR_RESPONSE_TYPE.BLOB,json:o.XHR_RESPONSE_TYPE.JSON,text:o.XHR_RESPONSE_TYPE.TEXT,txt:o.XHR_RESPONSE_TYPE.TEXT,ttf:o.XHR_RESPONSE_TYPE.BUFFER,otf:o.XHR_RESPONSE_TYPE.BUFFER},o.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(LoaderResource||(LoaderResource={}));function _noop(){}function onlyOnce(o){return function(){for(var h=arguments,d=[],g=0;g<arguments.length;g++)d[g]=h[g];if(o===null)throw new Error("Callback was already called.");var _=o;o=null,_.apply(this,d)}}var AsyncQueueItem=function(){function o(e,h){this.data=e,this.callback=h}return o}(),AsyncQueue=function(){function o(e,h){var d=this;if(h===void 0&&(h=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(g,_,b){if(b&&typeof b!="function")throw new Error("task callback must be a function");if(d.started=!0,g==null&&d.idle()){setTimeout(function(){return d.drain()},1);return}var $=new AsyncQueueItem(g,typeof b=="function"?b:_noop);_?d._tasks.unshift($):d._tasks.push($),setTimeout(d.process,1)},this.process=function(){for(;!d.paused&&d.workers<d.concurrency&&d._tasks.length;){var g=d._tasks.shift();d._tasks.length===0&&d.empty(),d.workers+=1,d.workers===d.concurrency&&d.saturated(),d._worker(g.data,onlyOnce(d._next(g)))}},this._worker=e,h===0)throw new Error("Concurrency must not be zero");this.concurrency=h,this.buffer=h/4}return o.prototype._next=function(e){var h=this;return function(){for(var d=arguments,g=[],_=0;_<arguments.length;_++)g[_]=d[_];h.workers-=1,e.callback.apply(e,g),g[0]!=null&&h.error(g[0],e.data),h.workers<=h.concurrency-h.buffer&&h.unsaturated(),h.idle()&&h.drain(),h.process()}},o.prototype.push=function(e,h){this._insert(e,!1,h)},o.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},o.prototype.unshift=function(e,h){this._insert(e,!0,h)},o.prototype.length=function(){return this._tasks.length},o.prototype.running=function(){return this.workers},o.prototype.idle=function(){return this._tasks.length+this.workers===0},o.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},o.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},o.eachSeries=function(e,h,d,g){var _=0,b=e.length;function $(j){if(j||_===b){d&&d(j);return}g?setTimeout(function(){h(e[_++],$)},1):h(e[_++],$)}$()},o.queue=function(e,h){return new o(e,h)},o}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader$1=function(){function o(e,h){var d=this;e===void 0&&(e=""),h===void 0&&(h=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(j,_e){return d._loadResource(j,_e)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(j,_e){return d._loadResource(j,_e)},this._queue=AsyncQueue.queue(this._boundLoadResource,h),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var g=0;g<o._plugins.length;++g){var _=o._plugins[g],b=_.pre,$=_.use;b&&this.pre(b),$&&this.use($)}this._protected=!1}return o.prototype._add=function(e,h,d,g){if(this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(h=this._prepareUrl(h),this.resources[e]=new LoaderResource(e,h,d),typeof g=="function"&&this.resources[e].onAfterMiddleware.once(g),this.loading){for(var _=d.parentResource,b=[],$=0;$<_.children.length;++$)_.children[$].isComplete||b.push(_.children[$]);var j=_.progressChunk*(b.length+1),_e=j/(b.length+2);_.children.push(this.resources[e]),_.progressChunk=_e;for(var $=0;$<b.length;++$)b[$].progressChunk=_e;this.resources[e].progressChunk=_e}return this._queue.push(this.resources[e]),this},o.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},o.prototype.use=function(e){return this._afterMiddleware.push(e),this},o.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var h=this.resources[e];h._onLoadBinding&&h._onLoadBinding.detach(),h.isLoading&&h.abort("loader reset")}return this.resources={},this},o.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var h=this._queue._tasks.length,d=MAX_PROGRESS/h,g=0;g<this._queue._tasks.length;++g)this._queue._tasks[g].data.progressChunk=d;this._onStart(),this._queue.resume()}return this},Object.defineProperty(o.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),o.prototype._prepareUrl=function(e){var h=parseUri(e,{strictMode:!0}),d;if(h.protocol||!h.path||e.indexOf("//")===0?d=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?d=this.baseUrl+"/"+e:d=this.baseUrl+e,this.defaultQueryString){var g=rgxExtractUrlHash.exec(d)[0];d=d.slice(0,d.length-g.length),d.indexOf("?")!==-1?d+="&"+this.defaultQueryString:d+="?"+this.defaultQueryString,d+=g}return d},o.prototype._loadResource=function(e,h){var d=this;e._dequeue=h,AsyncQueue.eachSeries(this._beforeMiddleware,function(g,_){g.call(d,e,function(){_(e.isComplete?{}:null)})},function(){e.isComplete?d._onLoad(e):(e._onLoadBinding=e.onComplete.once(d._onLoad,d),e.load())},!0)},o.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},o.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},o.prototype._onLoad=function(e){var h=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function(d,g){d.call(h,e,g)},function(){e.onAfterMiddleware.dispatch(e),h.progress=Math.min(MAX_PROGRESS,h.progress+e.progressChunk),h.onProgress.dispatch(h,e),e.error?h.onError.dispatch(e.error,h,e):h.onLoad.dispatch(h,e),h._resourcesParsing.splice(h._resourcesParsing.indexOf(e),1),h._queue.idle()&&h._resourcesParsing.length===0&&h._onComplete()},!0)},o.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(o,"shared",{get:function(){var e=o._shared;return e||(e=new o,e._protected=!0,o._shared=e),e},enumerable:!1,configurable:!0}),o.registerPlugin=function(e){return o._plugins.push(e),e.add&&e.add(),o},o._plugins=[],o}();Loader$1.prototype.add=function o(e,h,d,g){if(Array.isArray(e)){for(var _=0;_<e.length;++_)this.add(e[_]);return this}if(typeof e=="object"&&(d=e,g=h||d.callback||d.onComplete,h=d.url,e=d.name||d.key||d.url),typeof h!="string"&&(g=d,d=h,h=e),typeof h!="string")throw new Error("No url passed to add resource to loader.");return typeof d=="function"&&(g=d,d=null),this._add(e,h,d,g)};var AppLoaderPlugin=function(){function o(){}return o.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Loader$1.shared:new Loader$1},o.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},o}(),TextureLoader$1=function(){function o(){}return o.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},o.use=function(e,h){if(e.data&&(e.type===LoaderResource.TYPE.IMAGE||e.extension==="svg")){var d=e.data,g=e.url,_=e.name,b=e.metadata;Texture$1.fromLoader(d,g,_,b).then(function($){e.texture=$,h()}).catch(h)}else h()},o}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(o){for(var e="",h=0;h<o.length;){for(var d=[0,0,0],g=[0,0,0,0],_=0;_<d.length;++_)h<o.length?d[_]=o.charCodeAt(h++)&255:d[_]=0;g[0]=d[0]>>2,g[1]=(d[0]&3)<<4|d[1]>>4,g[2]=(d[1]&15)<<2|d[2]>>6,g[3]=d[2]&63;var b=h-(o.length-1);switch(b){case 2:g[3]=64,g[2]=64;break;case 1:g[3]=64;break}for(var _=0;_<g.length;++_)e+=_keyStr.charAt(g[_])}return e}function parsing(o,e){if(!o.data){e();return}if(o.xhr&&o.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof o.data=="string"){var h=o.xhr.getResponseHeader("content-type");if(h&&h.indexOf("image")===0){o.data=new Image,o.data.src="data:"+h+";base64,"+encodeBinary(o.xhr.responseText),o.type=LoaderResource.TYPE.IMAGE,o.data.onload=function(){o.data.onload=null,e()};return}}else if(o.data.type.indexOf("image")===0){var d=globalThis.URL||globalThis.webkitURL,g=d.createObjectURL(o.data);o.blob=o.data,o.data=new Image,o.data.src=g,o.type=LoaderResource.TYPE.IMAGE,o.data.onload=function(){d.revokeObjectURL(g),o.data.onload=null,e()};return}}e()}Loader$1.registerPlugin({use:parsing});Loader$1.registerPlugin(TextureLoader$1);/*!
 * @pixi/compressed-textures - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _a$2,INTERNAL_FORMATS;(function(o){o[o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",o[o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",o[o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",o[o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",o[o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",o[o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",o[o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",o[o.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",o[o.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",o[o.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",o[o.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",o[o.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",o[o.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",o[o.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",o[o.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",o[o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",o[o.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",o[o.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",o[o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",o[o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",o[o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",o[o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",o[o.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",o[o.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",o[o.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",o[o.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(INTERNAL_FORMATS||(INTERNAL_FORMATS={}));var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=(_a$2={},_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$g=function(o,e){return extendStatics$g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$g(o,e)};function __extends$g(o,e){extendStatics$g(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}function __awaiter(o,e,h,d){return new(h||(h=Promise))(function(g,_){function b(_e){try{j(d.next(_e))}catch(et){_(et)}}function $(_e){try{j(d.throw(_e))}catch(et){_(et)}}function j(_e){_e.done?g(_e.value):new h(function(et){et(_e.value)}).then(b,$)}j((d=d.apply(o,e||[])).next())})}function __generator(o,e){var h={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},d,g,_,b;return b={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function $(_e){return function(et){return j([_e,et])}}function j(_e){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,g&&(_=_e[0]&2?g.return:_e[0]?g.throw||((_=g.return)&&_.call(g),0):g.next)&&!(_=_.call(g,_e[1])).done)return _;switch(g=0,_&&(_e=[_e[0]&2,_.value]),_e[0]){case 0:case 1:_=_e;break;case 4:return h.label++,{value:_e[1],done:!1};case 5:h.label++,g=_e[1],_e=[0];continue;case 7:_e=h.ops.pop(),h.trys.pop();continue;default:if(_=h.trys,!(_=_.length>0&&_[_.length-1])&&(_e[0]===6||_e[0]===2)){h=0;continue}if(_e[0]===3&&(!_||_e[1]>_[0]&&_e[1]<_[3])){h.label=_e[1];break}if(_e[0]===6&&h.label<_[1]){h.label=_[1],_=_e;break}if(_&&h.label<_[2]){h.label=_[2],h.ops.push(_e);break}_[2]&&h.ops.pop(),h.trys.pop();continue}_e=e.call(o,h)}catch(et){_e=[6,et],g=0}finally{d=_=0}if(_e[0]&5)throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}}var BlobResource=function(o){__extends$g(e,o);function e(h,d){d===void 0&&(d={width:1,height:1,autoLoad:!0});var g=this,_,b;return typeof h=="string"?(_=h,b=new Uint8Array):(_=null,b=h),g=o.call(this,b,d)||this,g.origin=_,g.buffer=b?new ViewableBuffer(b):null,g.origin&&d.autoLoad!==!1&&g.load(),b&&b.length&&(g.loaded=!0,g.onBlobLoaded(g.buffer.rawBinaryData)),g}return e.prototype.onBlobLoaded=function(h){},e.prototype.load=function(){return __awaiter(this,void 0,Promise,function(){var h,d,g;return __generator(this,function(_){switch(_.label){case 0:return[4,fetch(this.origin)];case 1:return h=_.sent(),[4,h.blob()];case 2:return d=_.sent(),[4,d.arrayBuffer()];case 3:return g=_.sent(),this.data=new Uint32Array(g),this.buffer=new ViewableBuffer(g),this.loaded=!0,this.onBlobLoaded(g),this.update(),[2,this]}})})},e}(BufferResource),CompressedTextureResource=function(o){__extends$g(e,o);function e(h,d){var g=o.call(this,h,d)||this;return g.format=d.format,g.levels=d.levels||1,g._width=d.width,g._height=d.height,g._extension=e._formatToExtension(g.format),(d.levelBuffers||g.buffer)&&(g._levelBuffers=d.levelBuffers||e._createLevelBuffers(h instanceof Uint8Array?h:g.buffer.uint8View,g.format,g.levels,4,4,g.width,g.height)),g}return e.prototype.upload=function(h,d,g){var _=h.gl,b=h.context.extensions[this._extension];if(!b)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var $=0,j=this.levels;$<j;$++){var _e=this._levelBuffers[$],et=_e.levelID,rt=_e.levelWidth,tt=_e.levelHeight,nt=_e.levelBuffer;_.compressedTexImage2D(_.TEXTURE_2D,et,this.format,rt,tt,0,nt)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(h){if(h>=33776&&h<=33779)return"s3tc";if(h>=37488&&h<=37497)return"etc";if(h>=35840&&h<=35843)return"pvrtc";if(h>=36196)return"etc1";if(h>=35986&&h<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(h,d,g,_,b,$,j){for(var _e=new Array(g),et=h.byteOffset,rt=$,tt=j,nt=rt+_-1&~(_-1),st=tt+b-1&~(b-1),at=nt*st*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[d],ct=0;ct<g;ct++)_e[ct]={levelID:ct,levelWidth:g>1?rt:nt,levelHeight:g>1?tt:st,levelBuffer:new Uint8Array(h.buffer,et,at)},et+=at,rt=rt>>1||1,tt=tt>>1||1,nt=rt+_-1&~(_-1),st=tt+b-1&~(b-1),at=nt*st*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[d];return _e},e}(BlobResource),CompressedTextureLoader=function(){function o(){}return o.use=function(e,h){var d=e.data,g=this;if(e.type===LoaderResource.TYPE.JSON&&d&&d.cacheID&&d.textures){for(var _=d.textures,b=void 0,$=void 0,j=0,_e=_.length;j<_e;j++){var et=_[j],rt=et.src,tt=et.format;if(tt||($=rt),o.textureFormats[tt]){b=rt;break}}if(b=b||$,!b){h(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(b===e.url){h(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var nt={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},st=url$1.resolve(e.url.replace(g.baseUrl,""),b),at=d.cacheID;g.add(at,st,nt,function(ct){if(ct.error){h(ct.error);return}var it=ct.texture,lt=it===void 0?null:it,ht=ct.textures,ut=ht===void 0?{}:ht;Object.assign(e,{texture:lt,textures:ut}),h()})}else h()},Object.defineProperty(o,"textureExtensions",{get:function(){if(!o._textureExtensions){var e=document.createElement("canvas"),h=e.getContext("webgl");if(!h)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var d={s3tc:h.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:h.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:h.getExtension("WEBGL_compressed_texture_etc"),etc1:h.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:h.getExtension("WEBGL_compressed_texture_pvrtc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:h.getExtension("WEBGL_compressed_texture_atc"),astc:h.getExtension("WEBGL_compressed_texture_astc")};o._textureExtensions=d}return o._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(o,"textureFormats",{get:function(){if(!o._textureFormats){var e=o.textureExtensions;o._textureFormats={};for(var h in e){var d=e[h];!d||Object.assign(o._textureFormats,Object.getPrototypeOf(d))}}return o._textureFormats},enumerable:!1,configurable:!0}),o}();function registerCompressedTextures(o,e,h){var d={textures:{},texture:null};if(!e)return d;var g=e.map(function(_){return new Texture$1(new BaseTexture(_,Object.assign({mipmap:MIPMAP_MODES$3.OFF,alphaMode:ALPHA_MODES$3.NO_PREMULTIPLIED_ALPHA},h)))});return g.forEach(function(_,b){var $=_.baseTexture,j=o+"-"+(b+1);BaseTexture.addToCache($,j),Texture$1.addToCache(_,j),b===0&&(BaseTexture.addToCache($,o),Texture$1.addToCache(_,o),d.texture=_),d.textures[j]=_}),d}var _a$1,_b$1;LoaderResource.setExtensionXhrType("dds",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT;(function(o){o[o.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",o[o.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",o[o.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",o[o.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",o[o.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",o[o.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",o[o.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",o[o.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",o[o.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",o[o.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",o[o.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",o[o.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",o[o.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",o[o.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",o[o.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",o[o.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",o[o.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",o[o.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",o[o.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",o[o.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",o[o.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",o[o.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",o[o.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",o[o.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",o[o.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",o[o.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",o[o.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",o[o.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",o[o.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",o[o.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",o[o.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",o[o.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",o[o.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",o[o.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",o[o.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",o[o.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",o[o.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",o[o.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",o[o.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",o[o.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",o[o.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",o[o.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",o[o.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",o[o.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",o[o.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",o[o.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",o[o.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",o[o.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",o[o.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",o[o.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",o[o.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",o[o.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",o[o.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",o[o.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",o[o.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",o[o.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",o[o.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",o[o.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",o[o.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",o[o.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",o[o.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",o[o.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",o[o.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",o[o.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",o[o.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",o[o.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",o[o.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",o[o.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",o[o.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",o[o.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",o[o.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",o[o.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",o[o.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",o[o.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",o[o.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",o[o.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",o[o.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",o[o.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",o[o.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",o[o.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",o[o.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",o[o.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",o[o.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",o[o.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",o[o.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",o[o.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",o[o.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",o[o.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",o[o.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",o[o.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",o[o.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",o[o.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",o[o.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",o[o.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",o[o.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",o[o.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",o[o.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",o[o.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",o[o.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",o[o.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",o[o.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",o[o.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",o[o.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",o[o.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",o[o.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",o[o.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",o[o.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",o[o.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",o[o.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",o[o.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",o[o.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",o[o.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",o[o.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",o[o.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",o[o.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",o[o.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",o[o.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",o[o.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",o[o.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",o[o.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",o[o.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",o[o.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(DXGI_FORMAT||(DXGI_FORMAT={}));var D3D10_RESOURCE_DIMENSION;(function(o){o[o.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",o[o.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",o[o.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(D3D10_RESOURCE_DIMENSION||(D3D10_RESOURCE_DIMENSION={}));var PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT=(_a$1={},_a$1[FOURCC_DXT1]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a$1),DXGI_TO_FORMAT=(_b$1={},_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,_b$1),DDSLoader=function(){function o(){}return o.use=function(e,h){if(e.extension==="dds"&&e.data)try{Object.assign(e,registerCompressedTextures(e.name||e.url,o.parse(e.data),e.metadata))}catch(d){h(d);return}h()},o.parse=function(e){var h=new Uint32Array(e),d=h[0];if(d!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");var g=new Uint32Array(e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),_=g[DDS_FIELDS.HEIGHT],b=g[DDS_FIELDS.WIDTH],$=g[DDS_FIELDS.MIPMAP_COUNT],j=new Uint32Array(e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),_e=j[PF_FLAGS];if(_e&DDPF_FOURCC){var et=j[DDS_PF_FIELDS.FOURCC];if(et!==FOURCC_DX10){var rt=FOURCC_TO_FORMAT[et],tt=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,nt=new Uint8Array(e,tt),st=new CompressedTextureResource(nt,{format:rt,width:b,height:_,levels:$});return[st]}var at=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,ct=new Uint32Array(h.buffer,at,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),it=ct[DDS_DX10_FIELDS.DXGI_FORMAT],lt=ct[DDS_DX10_FIELDS.RESOURCE_DIMENSION],ht=ct[DDS_DX10_FIELDS.MISC_FLAG],ut=ct[DDS_DX10_FIELDS.ARRAY_SIZE],dt=DXGI_TO_FORMAT[it];if(dt===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+it);if(ht===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSLoader does not support cubemap textures");if(lt===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var pt=new Array,mt=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(ut===1)pt.push(new Uint8Array(e,mt));else{for(var yt=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[dt],xt=0,Tt=b,_t=_,Mt=0;Mt<$;Mt++){var Lt=Math.max(1,Tt+3&~3),Pt=Math.max(1,_t+3&~3),It=Lt*Pt*yt;xt+=It,Tt=Tt>>>1,_t=_t>>>1}for(var Et=mt,Mt=0;Mt<ut;Mt++)pt.push(new Uint8Array(e,Et,xt)),Et+=xt}return pt.map(function(Ct){return new CompressedTextureResource(Ct,{format:dt,width:b,height:_,levels:$})})}throw _e&DDPF_RGB?new Error("DDSLoader does not support uncompressed texture data."):_e&DDPF_YUV?new Error("DDSLoader does not supported YUV uncompressed texture data."):_e&DDPF_LUMINANCE?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):_e&DDPF_ALPHA?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},o}(),_a$3,_b,_c;LoaderResource.setExtensionXhrType("ktx",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT=(_a$3={},_a$3[TYPES$3.UNSIGNED_BYTE]=1,_a$3[TYPES$3.UNSIGNED_SHORT]=2,_a$3[TYPES$3.INT]=4,_a$3[TYPES$3.UNSIGNED_INT]=4,_a$3[TYPES$3.FLOAT]=4,_a$3[TYPES$3.HALF_FLOAT]=8,_a$3),FORMATS_TO_COMPONENTS=(_b={},_b[FORMATS$3.RGBA]=4,_b[FORMATS$3.RGB]=3,_b[FORMATS$3.RG]=2,_b[FORMATS$3.RED]=1,_b[FORMATS$3.LUMINANCE]=1,_b[FORMATS$3.LUMINANCE_ALPHA]=2,_b[FORMATS$3.ALPHA]=1,_b),TYPES_TO_BYTES_PER_PIXEL=(_c={},_c[TYPES$3.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES$3.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES$3.UNSIGNED_SHORT_5_6_5]=2,_c),KTXLoader=function(){function o(){}return o.use=function(e,h){if(e.extension==="ktx"&&e.data)try{var d=e.name||e.url,g=o.parse(d,e.data),_=g.compressed,b=g.uncompressed;if(_)Object.assign(e,registerCompressedTextures(d,_,e.metadata));else if(b){var $={};b.forEach(function(j,_e){var et=new Texture$1(new BaseTexture(j.resource,{mipmap:MIPMAP_MODES$3.OFF,alphaMode:ALPHA_MODES$3.NO_PREMULTIPLIED_ALPHA,type:j.type,format:j.format})),rt=d+"-"+(_e+1);BaseTexture.addToCache(et.baseTexture,rt),Texture$1.addToCache(et,rt),_e===0&&($[d]=et,BaseTexture.addToCache(et.baseTexture,d),Texture$1.addToCache(et,d)),$[rt]=et}),Object.assign(e,{textures:$})}}catch(j){h(j);return}h()},o.parse=function(e,h){var d=new DataView(h);if(!o.validate(e,d))return null;var g=d.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,_=d.getUint32(KTX_FIELDS.GL_TYPE,g),b=d.getUint32(KTX_FIELDS.GL_FORMAT,g),$=d.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,g),j=d.getUint32(KTX_FIELDS.PIXEL_WIDTH,g),_e=d.getUint32(KTX_FIELDS.PIXEL_HEIGHT,g)||1,et=d.getUint32(KTX_FIELDS.PIXEL_DEPTH,g)||1,rt=d.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,g)||1,tt=d.getUint32(KTX_FIELDS.NUMBER_OF_FACES,g),nt=d.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,g),st=d.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,g);if(_e===0||et!==1)throw new Error("Only 2D textures are supported");if(tt!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(rt!==1)throw new Error("WebGL does not support array textures");var at=4,ct=4,it=j+3&~3,lt=_e+3&~3,ht=new Array(rt),ut=j*_e;_===0&&(ut=it*lt);var dt;if(_!==0?TYPES_TO_BYTES_PER_COMPONENT[_]?dt=TYPES_TO_BYTES_PER_COMPONENT[_]*FORMATS_TO_COMPONENTS[b]:dt=TYPES_TO_BYTES_PER_PIXEL[_]:dt=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[$],dt===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var pt=ut*dt,mt=pt,yt=j,xt=_e,Tt=it,_t=lt,Mt=FILE_HEADER_SIZE+st,Lt=0;Lt<nt;Lt++){for(var Pt=d.getUint32(Mt,g),It=Mt+4,Et=0;Et<rt;Et++){var Ct=ht[Et];Ct||(Ct=ht[Et]=new Array(nt)),Ct[Lt]={levelID:Lt,levelWidth:nt>1||_!==0?yt:Tt,levelHeight:nt>1||_!==0?xt:_t,levelBuffer:new Uint8Array(h,It,mt)},It+=mt}Mt+=Pt+4,Mt=Mt%4!=0?Mt+4-Mt%4:Mt,yt=yt>>1||1,xt=xt>>1||1,Tt=yt+at-1&~(at-1),_t=xt+ct-1&~(ct-1),mt=Tt*_t*dt}return _!==0?{uncompressed:ht.map(function(St){var At=St[0].levelBuffer,Rt=!1;return _===TYPES$3.FLOAT?At=new Float32Array(St[0].levelBuffer.buffer,St[0].levelBuffer.byteOffset,St[0].levelBuffer.byteLength/4):_===TYPES$3.UNSIGNED_INT?(Rt=!0,At=new Uint32Array(St[0].levelBuffer.buffer,St[0].levelBuffer.byteOffset,St[0].levelBuffer.byteLength/4)):_===TYPES$3.INT&&(Rt=!0,At=new Int32Array(St[0].levelBuffer.buffer,St[0].levelBuffer.byteOffset,St[0].levelBuffer.byteLength/4)),{resource:new BufferResource(At,{width:St[0].levelWidth,height:St[0].levelHeight}),type:_,format:Rt?o.convertFormatToInteger(b):b}})}:{compressed:ht.map(function(St){return new CompressedTextureResource(null,{format:$,width:j,height:_e,levels:nt,levelBuffers:St})})}},o.validate=function(e,h){for(var d=0;d<FILE_IDENTIFIER.length;d++)if(h.getUint8(d)!==FILE_IDENTIFIER[d])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},o.convertFormatToInteger=function(e){switch(e){case FORMATS$3.RGBA:return FORMATS$3.RGBA_INTEGER;case FORMATS$3.RGB:return FORMATS$3.RGB_INTEGER;case FORMATS$3.RG:return FORMATS$3.RG_INTEGER;case FORMATS$3.RED:return FORMATS$3.RED_INTEGER;default:return e}},o}();/*!
 * @pixi/particle-container - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$f=function(o,e){return extendStatics$f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$f(o,e)};function __extends$f(o,e){extendStatics$f(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}(function(o){__extends$f(e,o);function e(h,d,g,_){h===void 0&&(h=1500),g===void 0&&(g=16384),_===void 0&&(_=!1);var b=o.call(this)||this,$=16384;return g>$&&(g=$),b._properties=[!1,!0,!1,!1,!1],b._maxSize=h,b._batchSize=g,b._buffers=null,b._bufferUpdateIDs=[],b._updateID=0,b.interactiveChildren=!1,b.blendMode=BLEND_MODES$3.NORMAL,b.autoResize=_,b.roundPixels=!0,b.baseTexture=null,b.setProperties(d),b._tint=0,b.tintRgb=new Float32Array(4),b.tint=16777215,b}return e.prototype.setProperties=function(h){h&&(this._properties[0]="vertices"in h||"scale"in h?!!h.vertices||!!h.scale:this._properties[0],this._properties[1]="position"in h?!!h.position:this._properties[1],this._properties[2]="rotation"in h?!!h.rotation:this._properties[2],this._properties[3]="uvs"in h?!!h.uvs:this._properties[3],this._properties[4]="tint"in h||"alpha"in h?!!h.tint||!!h.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(h){this._tint=h,hex2rgb(h,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(h){var d=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return d.onChildrenChange(0)})),h.batch.setObjectRenderer(h.plugins.particle),h.plugins.particle.render(this))},e.prototype.onChildrenChange=function(h){for(var d=Math.floor(h/this._batchSize);this._bufferUpdateIDs.length<d;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[d]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var h=0;h<this._buffers.length;++h)this._buffers[h].destroy();this._buffers=null}},e.prototype.destroy=function(h){o.prototype.destroy.call(this,h),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e})(Container);var ParticleBuffer=function(){function o(e,h,d){this.geometry=new Geometry,this.indexBuffer=null,this.size=d,this.dynamicProperties=[],this.staticProperties=[];for(var g=0;g<e.length;++g){var _=e[g];_={attributeName:_.attributeName,size:_.size,uploadFunction:_.uploadFunction,type:_.type||TYPES$3.FLOAT,offset:_.offset},h[g]?this.dynamicProperties.push(_):this.staticProperties.push(_)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return o.prototype.initBuffers=function(){var e=this.geometry,h=0;this.indexBuffer=new Buffer(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var d=0;d<this.dynamicProperties.length;++d){var g=this.dynamicProperties[d];g.offset=h,h+=g.size,this.dynamicStride+=g.size}var _=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(_),this.dynamicDataUint32=new Uint32Array(_),this.dynamicBuffer=new Buffer(this.dynamicData,!1,!1);var b=0;this.staticStride=0;for(var d=0;d<this.staticProperties.length;++d){var g=this.staticProperties[d];g.offset=b,b+=g.size,this.staticStride+=g.size}var $=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array($),this.staticDataUint32=new Uint32Array($),this.staticBuffer=new Buffer(this.staticData,!0,!1);for(var d=0;d<this.dynamicProperties.length;++d){var g=this.dynamicProperties[d];e.addAttribute(g.attributeName,this.dynamicBuffer,0,g.type===TYPES$3.UNSIGNED_BYTE,g.type,this.dynamicStride*4,g.offset*4)}for(var d=0;d<this.staticProperties.length;++d){var g=this.staticProperties[d];e.addAttribute(g.attributeName,this.staticBuffer,0,g.type===TYPES$3.UNSIGNED_BYTE,g.type,this.staticStride*4,g.offset*4)}},o.prototype.uploadDynamic=function(e,h,d){for(var g=0;g<this.dynamicProperties.length;g++){var _=this.dynamicProperties[g];_.uploadFunction(e,h,d,_.type===TYPES$3.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,_.offset)}this.dynamicBuffer._updateID++},o.prototype.uploadStatic=function(e,h,d){for(var g=0;g<this.staticProperties.length;g++){var _=this.staticProperties[g];_.uploadFunction(e,h,d,_.type===TYPES$3.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,_.offset)}this.staticBuffer._updateID++},o.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},o}(),fragment$n=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex$k=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,ParticleRenderer=function(o){__extends$f(e,o);function e(h){var d=o.call(this,h)||this;return d.shader=null,d.properties=null,d.tempMatrix=new Matrix,d.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:d.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:d.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:d.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:d.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES$3.UNSIGNED_BYTE,uploadFunction:d.uploadTint,offset:0}],d.shader=Shader.from(vertex$k,fragment$n,{}),d.state=State.for2d(),d}return e.prototype.render=function(h){var d=h.children,g=h._maxSize,_=h._batchSize,b=this.renderer,$=d.length;if($!==0){$>g&&!h.autoResize&&($=g);var j=h._buffers;j||(j=h._buffers=this.generateBuffers(h));var _e=d[0]._texture.baseTexture;this.state.blendMode=correctBlendMode(h.blendMode,_e.alphaMode),b.state.set(this.state);var et=b.gl,rt=h.worldTransform.copyTo(this.tempMatrix);rt.prepend(b.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=rt.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(h.tintRgb,h.worldAlpha,this.shader.uniforms.uColor,_e.alphaMode),this.shader.uniforms.uSampler=_e,this.renderer.shader.bind(this.shader);for(var tt=!1,nt=0,st=0;nt<$;nt+=_,st+=1){var at=$-nt;at>_&&(at=_),st>=j.length&&j.push(this._generateOneMoreBuffer(h));var ct=j[st];ct.uploadDynamic(d,nt,at);var it=h._bufferUpdateIDs[st]||0;tt=tt||ct._updateID<it,tt&&(ct._updateID=h._updateID,ct.uploadStatic(d,nt,at)),b.geometry.bind(ct.geometry),et.drawElements(et.TRIANGLES,at*6,et.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(h){for(var d=[],g=h._maxSize,_=h._batchSize,b=h._properties,$=0;$<g;$+=_)d.push(new ParticleBuffer(this.properties,b,_));return d},e.prototype._generateOneMoreBuffer=function(h){var d=h._batchSize,g=h._properties;return new ParticleBuffer(this.properties,g,d)},e.prototype.uploadVertices=function(h,d,g,_,b,$){for(var j=0,_e=0,et=0,rt=0,tt=0;tt<g;++tt){var nt=h[d+tt],st=nt._texture,at=nt.scale.x,ct=nt.scale.y,it=st.trim,lt=st.orig;it?(_e=it.x-nt.anchor.x*lt.width,j=_e+it.width,rt=it.y-nt.anchor.y*lt.height,et=rt+it.height):(j=lt.width*(1-nt.anchor.x),_e=lt.width*-nt.anchor.x,et=lt.height*(1-nt.anchor.y),rt=lt.height*-nt.anchor.y),_[$]=_e*at,_[$+1]=rt*ct,_[$+b]=j*at,_[$+b+1]=rt*ct,_[$+b*2]=j*at,_[$+b*2+1]=et*ct,_[$+b*3]=_e*at,_[$+b*3+1]=et*ct,$+=b*4}},e.prototype.uploadPosition=function(h,d,g,_,b,$){for(var j=0;j<g;j++){var _e=h[d+j].position;_[$]=_e.x,_[$+1]=_e.y,_[$+b]=_e.x,_[$+b+1]=_e.y,_[$+b*2]=_e.x,_[$+b*2+1]=_e.y,_[$+b*3]=_e.x,_[$+b*3+1]=_e.y,$+=b*4}},e.prototype.uploadRotation=function(h,d,g,_,b,$){for(var j=0;j<g;j++){var _e=h[d+j].rotation;_[$]=_e,_[$+b]=_e,_[$+b*2]=_e,_[$+b*3]=_e,$+=b*4}},e.prototype.uploadUvs=function(h,d,g,_,b,$){for(var j=0;j<g;++j){var _e=h[d+j]._texture._uvs;_e?(_[$]=_e.x0,_[$+1]=_e.y0,_[$+b]=_e.x1,_[$+b+1]=_e.y1,_[$+b*2]=_e.x2,_[$+b*2+1]=_e.y2,_[$+b*3]=_e.x3,_[$+b*3+1]=_e.y3,$+=b*4):(_[$]=0,_[$+1]=0,_[$+b]=0,_[$+b+1]=0,_[$+b*2]=0,_[$+b*2+1]=0,_[$+b*3]=0,_[$+b*3+1]=0,$+=b*4)}},e.prototype.uploadTint=function(h,d,g,_,b,$){for(var j=0;j<g;++j){var _e=h[d+j],et=_e._texture.baseTexture.alphaMode>0,rt=_e.alpha,tt=rt<1&&et?premultiplyTint(_e._tintRGB,rt):_e._tintRGB+(rt*255<<24);_[$]=tt,_[$+b]=tt,_[$+b*2]=tt,_[$+b*3]=tt,$+=b*4}},e.prototype.destroy=function(){o.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(ObjectRenderer);/*!
 * @pixi/graphics - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LINE_JOIN;(function(o){o.MITER="miter",o.BEVEL="bevel",o.ROUND="round"})(LINE_JOIN||(LINE_JOIN={}));var LINE_CAP;(function(o){o.BUTT="butt",o.ROUND="round",o.SQUARE="square"})(LINE_CAP||(LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(o,e){if(e===void 0&&(e=20),!this.adaptive||!o||isNaN(o))return e;var h=Math.ceil(o/this.maxLength);return h<this.minSegments?h=this.minSegments:h>this.maxSegments&&(h=this.maxSegments),h}},FillStyle=function(){function o(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1,this.reset()}return o.prototype.clone=function(){var e=new o;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},o.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1},o.prototype.destroy=function(){this.texture=null,this.matrix=null},o}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$e=function(o,e){return extendStatics$e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$e(o,e)};function __extends$e(o,e){extendStatics$e(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}function fixOrientation(o,e){var h,d;e===void 0&&(e=!1);var g=o.length;if(!(g<6)){for(var _=0,b=0,$=o[g-2],j=o[g-1];b<g;b+=2){var _e=o[b],et=o[b+1];_+=(_e-$)*(et+j),$=_e,j=et}if(!e&&_>0||e&&_<=0)for(var rt=g/2,b=rt+rt%2;b<g;b+=2){var tt=g-b-2,nt=g-b-1,st=b,at=b+1;h=[o[st],o[tt]],o[tt]=h[0],o[st]=h[1],d=[o[at],o[nt]],o[nt]=d[0],o[at]=d[1]}}}var buildPoly={build:function(o){o.points=o.shape.points.slice()},triangulate:function(o,e){var h=o.points,d=o.holes,g=e.points,_=e.indices;if(h.length>=6){fixOrientation(h,!1);for(var b=[],$=0;$<d.length;$++){var j=d[$];fixOrientation(j.points,!0),b.push(h.length/2),h=h.concat(j.points)}var _e=earcut$1(h,b,2);if(!_e)return;for(var et=g.length/2,$=0;$<_e.length;$+=3)_.push(_e[$]+et),_.push(_e[$+1]+et),_.push(_e[$+2]+et);for(var $=0;$<h.length;$++)g.push(h[$])}}},buildCircle={build:function(o){var e=o.points,h,d,g,_,b,$;if(o.type===SHAPES.CIRC){var j=o.shape;h=j.x,d=j.y,b=$=j.radius,g=_=0}else if(o.type===SHAPES.ELIP){var _e=o.shape;h=_e.x,d=_e.y,b=_e.width,$=_e.height,g=_=0}else{var et=o.shape,rt=et.width/2,tt=et.height/2;h=et.x+rt,d=et.y+tt,b=$=Math.max(0,Math.min(et.radius,Math.min(rt,tt))),g=rt-b,_=tt-$}var nt=Math.ceil(2.3*Math.sqrt(b+$)),st=nt*8+(g?4:0)+(_?4:0);if(e.length=st,st!==0){if(nt===0){e.length=8,e[0]=e[6]=h+g,e[1]=e[3]=d+_,e[2]=e[4]=h-g,e[5]=e[7]=d-_;return}var at=0,ct=nt*4+(g?2:0)+2,it=ct,lt=st;{var ht=g+b,ut=_,dt=h+ht,pt=h-ht,mt=d+ut;if(e[at++]=dt,e[at++]=mt,e[--ct]=mt,e[--ct]=pt,_){var yt=d-ut;e[it++]=pt,e[it++]=yt,e[--lt]=yt,e[--lt]=dt}}for(var xt=1;xt<nt;xt++){var Tt=Math.PI/2*(xt/nt),ht=g+Math.cos(Tt)*b,ut=_+Math.sin(Tt)*$,dt=h+ht,pt=h-ht,mt=d+ut,yt=d-ut;e[at++]=dt,e[at++]=mt,e[--ct]=mt,e[--ct]=pt,e[it++]=pt,e[it++]=yt,e[--lt]=yt,e[--lt]=dt}{var ht=g,ut=_+$,dt=h+ht,pt=h-ht,mt=d+ut,yt=d-ut;e[at++]=dt,e[at++]=mt,e[--lt]=yt,e[--lt]=dt,g&&(e[at++]=pt,e[at++]=mt,e[--lt]=yt,e[--lt]=pt)}}},triangulate:function(o,e){var h=o.points,d=e.points,g=e.indices,_=d.length/2,b=_,$,j;if(o.type!==SHAPES.RREC){var _e=o.shape;$=_e.x,j=_e.y}else{var et=o.shape;$=et.x+et.width/2,j=et.y+et.height/2}var rt=o.matrix;d.push(o.matrix?rt.a*$+rt.c*j+rt.tx:$,o.matrix?rt.b*$+rt.d*j+rt.ty:j),_++,d.push(h[0],h[1]);for(var tt=2;tt<h.length;tt+=2)d.push(h[tt],h[tt+1]),g.push(_++,b,_);g.push(b+1,b,_)}},buildRectangle={build:function(o){var e=o.shape,h=e.x,d=e.y,g=e.width,_=e.height,b=o.points;b.length=0,b.push(h,d,h+g,d,h+g,d+_,h,d+_)},triangulate:function(o,e){var h=o.points,d=e.points,g=d.length/2;d.push(h[0],h[1],h[2],h[3],h[6],h[7],h[4],h[5]),e.indices.push(g,g+1,g+2,g+1,g+2,g+3)}};function getPt(o,e,h){var d=e-o;return o+d*h}function quadraticBezierCurve(o,e,h,d,g,_,b){b===void 0&&(b=[]);for(var $=20,j=b,_e=0,et=0,rt=0,tt=0,nt=0,st=0,at=0,ct=0;at<=$;++at)ct=at/$,_e=getPt(o,h,ct),et=getPt(e,d,ct),rt=getPt(h,g,ct),tt=getPt(d,_,ct),nt=getPt(_e,rt,ct),st=getPt(et,tt,ct),!(at===0&&j[j.length-2]===nt&&j[j.length-1]===st)&&j.push(nt,st);return j}var buildRoundedRectangle={build:function(o){if(Graphics.nextRoundedRectBehavior){buildCircle.build(o);return}var e=o.shape,h=o.points,d=e.x,g=e.y,_=e.width,b=e.height,$=Math.max(0,Math.min(e.radius,Math.min(_,b)/2));h.length=0,$?(quadraticBezierCurve(d,g+$,d,g,d+$,g,h),quadraticBezierCurve(d+_-$,g,d+_,g,d+_,g+$,h),quadraticBezierCurve(d+_,g+b-$,d+_,g+b,d+_-$,g+b,h),quadraticBezierCurve(d+$,g+b,d,g+b,d,g+b-$,h)):h.push(d,g,d+_,g,d+_,g+b,d,g+b)},triangulate:function(o,e){if(Graphics.nextRoundedRectBehavior){buildCircle.triangulate(o,e);return}for(var h=o.points,d=e.points,g=e.indices,_=d.length/2,b=earcut$1(h,null,2),$=0,j=b.length;$<j;$+=3)g.push(b[$]+_),g.push(b[$+1]+_),g.push(b[$+2]+_);for(var $=0,j=h.length;$<j;$++)d.push(h[$],h[++$])}};function square(o,e,h,d,g,_,b,$){var j=o-h*g,_e=e-d*g,et=o+h*_,rt=e+d*_,tt,nt;b?(tt=d,nt=-h):(tt=-d,nt=h);var st=j+tt,at=_e+nt,ct=et+tt,it=rt+nt;return $.push(st,at),$.push(ct,it),2}function round(o,e,h,d,g,_,b,$){var j=h-o,_e=d-e,et=Math.atan2(j,_e),rt=Math.atan2(g-o,_-e);$&&et<rt?et+=Math.PI*2:!$&&et>rt&&(rt+=Math.PI*2);var tt=et,nt=rt-et,st=Math.abs(nt),at=Math.sqrt(j*j+_e*_e),ct=(15*st*Math.sqrt(at)/Math.PI>>0)+1,it=nt/ct;if(tt+=it,$){b.push(o,e),b.push(h,d);for(var lt=1,ht=tt;lt<ct;lt++,ht+=it)b.push(o,e),b.push(o+Math.sin(ht)*at,e+Math.cos(ht)*at);b.push(o,e),b.push(g,_)}else{b.push(h,d),b.push(o,e);for(var lt=1,ht=tt;lt<ct;lt++,ht+=it)b.push(o+Math.sin(ht)*at,e+Math.cos(ht)*at),b.push(o,e);b.push(g,_),b.push(o,e)}return ct*2}function buildNonNativeLine(o,e){var h=o.shape,d=o.points||h.points.slice(),g=e.closePointEps;if(d.length!==0){var _=o.lineStyle,b=new Point(d[0],d[1]),$=new Point(d[d.length-2],d[d.length-1]),j=h.type!==SHAPES.POLY||h.closeStroke,_e=Math.abs(b.x-$.x)<g&&Math.abs(b.y-$.y)<g;if(j){d=d.slice(),_e&&(d.pop(),d.pop(),$.set(d[d.length-2],d[d.length-1]));var et=(b.x+$.x)*.5,rt=($.y+b.y)*.5;d.unshift(et,rt),d.push(et,rt)}var tt=e.points,nt=d.length/2,st=d.length,at=tt.length/2,ct=_.width/2,it=ct*ct,lt=_.miterLimit*_.miterLimit,ht=d[0],ut=d[1],dt=d[2],pt=d[3],mt=0,yt=0,xt=-(ut-pt),Tt=ht-dt,_t=0,Mt=0,Lt=Math.sqrt(xt*xt+Tt*Tt);xt/=Lt,Tt/=Lt,xt*=ct,Tt*=ct;var Pt=_.alignment,It=(1-Pt)*2,Et=Pt*2;j||(_.cap===LINE_CAP.ROUND?st+=round(ht-xt*(It-Et)*.5,ut-Tt*(It-Et)*.5,ht-xt*It,ut-Tt*It,ht+xt*Et,ut+Tt*Et,tt,!0)+2:_.cap===LINE_CAP.SQUARE&&(st+=square(ht,ut,xt,Tt,It,Et,!0,tt))),tt.push(ht-xt*It,ut-Tt*It),tt.push(ht+xt*Et,ut+Tt*Et);for(var Ct=1;Ct<nt-1;++Ct){ht=d[(Ct-1)*2],ut=d[(Ct-1)*2+1],dt=d[Ct*2],pt=d[Ct*2+1],mt=d[(Ct+1)*2],yt=d[(Ct+1)*2+1],xt=-(ut-pt),Tt=ht-dt,Lt=Math.sqrt(xt*xt+Tt*Tt),xt/=Lt,Tt/=Lt,xt*=ct,Tt*=ct,_t=-(pt-yt),Mt=dt-mt,Lt=Math.sqrt(_t*_t+Mt*Mt),_t/=Lt,Mt/=Lt,_t*=ct,Mt*=ct;var St=dt-ht,At=ut-pt,Rt=dt-mt,Ot=yt-pt,Gt=At*Rt-Ot*St,Qt=Gt<0;if(Math.abs(Gt)<.1){tt.push(dt-xt*It,pt-Tt*It),tt.push(dt+xt*Et,pt+Tt*Et);continue}var ir=(-xt+ht)*(-Tt+pt)-(-xt+dt)*(-Tt+ut),tr=(-_t+mt)*(-Mt+pt)-(-_t+dt)*(-Mt+yt),Wt=(St*tr-Rt*ir)/Gt,wr=(Ot*ir-At*tr)/Gt,Lr=(Wt-dt)*(Wt-dt)+(wr-pt)*(wr-pt),Er=dt+(Wt-dt)*It,Ar=pt+(wr-pt)*It,yr=dt-(Wt-dt)*Et,Yt=pt-(wr-pt)*Et,Xt=Math.min(St*St+At*At,Rt*Rt+Ot*Ot),ur=Qt?It:Et,br=Xt+ur*ur*it,_r=Lr<=br;_r?_.join===LINE_JOIN.BEVEL||Lr/it>lt?(Qt?(tt.push(Er,Ar),tt.push(dt+xt*Et,pt+Tt*Et),tt.push(Er,Ar),tt.push(dt+_t*Et,pt+Mt*Et)):(tt.push(dt-xt*It,pt-Tt*It),tt.push(yr,Yt),tt.push(dt-_t*It,pt-Mt*It),tt.push(yr,Yt)),st+=2):_.join===LINE_JOIN.ROUND?Qt?(tt.push(Er,Ar),tt.push(dt+xt*Et,pt+Tt*Et),st+=round(dt,pt,dt+xt*Et,pt+Tt*Et,dt+_t*Et,pt+Mt*Et,tt,!0)+4,tt.push(Er,Ar),tt.push(dt+_t*Et,pt+Mt*Et)):(tt.push(dt-xt*It,pt-Tt*It),tt.push(yr,Yt),st+=round(dt,pt,dt-xt*It,pt-Tt*It,dt-_t*It,pt-Mt*It,tt,!1)+4,tt.push(dt-_t*It,pt-Mt*It),tt.push(yr,Yt)):(tt.push(Er,Ar),tt.push(yr,Yt)):(tt.push(dt-xt*It,pt-Tt*It),tt.push(dt+xt*Et,pt+Tt*Et),_.join===LINE_JOIN.BEVEL||Lr/it>lt||(_.join===LINE_JOIN.ROUND?Qt?st+=round(dt,pt,dt+xt*Et,pt+Tt*Et,dt+_t*Et,pt+Mt*Et,tt,!0)+2:st+=round(dt,pt,dt-xt*It,pt-Tt*It,dt-_t*It,pt-Mt*It,tt,!1)+2:(Qt?(tt.push(yr,Yt),tt.push(yr,Yt)):(tt.push(Er,Ar),tt.push(Er,Ar)),st+=2)),tt.push(dt-_t*It,pt-Mt*It),tt.push(dt+_t*Et,pt+Mt*Et),st+=2)}ht=d[(nt-2)*2],ut=d[(nt-2)*2+1],dt=d[(nt-1)*2],pt=d[(nt-1)*2+1],xt=-(ut-pt),Tt=ht-dt,Lt=Math.sqrt(xt*xt+Tt*Tt),xt/=Lt,Tt/=Lt,xt*=ct,Tt*=ct,tt.push(dt-xt*It,pt-Tt*It),tt.push(dt+xt*Et,pt+Tt*Et),j||(_.cap===LINE_CAP.ROUND?st+=round(dt-xt*(It-Et)*.5,pt-Tt*(It-Et)*.5,dt-xt*It,pt-Tt*It,dt+xt*Et,pt+Tt*Et,tt,!1)+2:_.cap===LINE_CAP.SQUARE&&(st+=square(dt,pt,xt,Tt,It,Et,!1,tt)));for(var Pr=e.indices,Or=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,Ct=at;Ct<st+at-2;++Ct)ht=tt[Ct*2],ut=tt[Ct*2+1],dt=tt[(Ct+1)*2],pt=tt[(Ct+1)*2+1],mt=tt[(Ct+2)*2],yt=tt[(Ct+2)*2+1],!(Math.abs(ht*(pt-yt)+dt*(yt-ut)+mt*(ut-pt))<Or)&&Pr.push(Ct,Ct+1,Ct+2)}}function buildNativeLine(o,e){var h=0,d=o.shape,g=o.points||d.points,_=d.type!==SHAPES.POLY||d.closeStroke;if(g.length!==0){var b=e.points,$=e.indices,j=g.length/2,_e=b.length/2,et=_e;for(b.push(g[0],g[1]),h=1;h<j;h++)b.push(g[h*2],g[h*2+1]),$.push(et,et+1),et++;_&&$.push(et,_e)}}function buildLine(o,e){o.lineStyle.native?buildNativeLine(o,e):buildNonNativeLine(o,e)}var ArcUtils=function(){function o(){}return o.curveTo=function(e,h,d,g,_,b){var $=b[b.length-2],j=b[b.length-1],_e=j-h,et=$-e,rt=g-h,tt=d-e,nt=Math.abs(_e*tt-et*rt);if(nt<1e-8||_===0)return(b[b.length-2]!==e||b[b.length-1]!==h)&&b.push(e,h),null;var st=_e*_e+et*et,at=rt*rt+tt*tt,ct=_e*rt+et*tt,it=_*Math.sqrt(st)/nt,lt=_*Math.sqrt(at)/nt,ht=it*ct/st,ut=lt*ct/at,dt=it*tt+lt*et,pt=it*rt+lt*_e,mt=et*(lt+ht),yt=_e*(lt+ht),xt=tt*(it+ut),Tt=rt*(it+ut),_t=Math.atan2(yt-pt,mt-dt),Mt=Math.atan2(Tt-pt,xt-dt);return{cx:dt+e,cy:pt+h,radius:_,startAngle:_t,endAngle:Mt,anticlockwise:et*rt>tt*_e}},o.arc=function(e,h,d,g,_,b,$,j,_e){for(var et=$-b,rt=GRAPHICS_CURVES._segmentsCount(Math.abs(et)*_,Math.ceil(Math.abs(et)/PI_2)*40),tt=et/(rt*2),nt=tt*2,st=Math.cos(tt),at=Math.sin(tt),ct=rt-1,it=ct%1/ct,lt=0;lt<=ct;++lt){var ht=lt+it*lt,ut=tt+b+nt*ht,dt=Math.cos(ut),pt=-Math.sin(ut);_e.push((st*dt+at*pt)*_+d,(st*-pt+at*dt)*_+g)}},o}(),BezierUtils=function(){function o(){}return o.curveLength=function(e,h,d,g,_,b,$,j){for(var _e=10,et=0,rt=0,tt=0,nt=0,st=0,at=0,ct=0,it=0,lt=0,ht=0,ut=0,dt=e,pt=h,mt=1;mt<=_e;++mt)rt=mt/_e,tt=rt*rt,nt=tt*rt,st=1-rt,at=st*st,ct=at*st,it=ct*e+3*at*rt*d+3*st*tt*_+nt*$,lt=ct*h+3*at*rt*g+3*st*tt*b+nt*j,ht=dt-it,ut=pt-lt,dt=it,pt=lt,et+=Math.sqrt(ht*ht+ut*ut);return et},o.curveTo=function(e,h,d,g,_,b,$){var j=$[$.length-2],_e=$[$.length-1];$.length-=2;var et=GRAPHICS_CURVES._segmentsCount(o.curveLength(j,_e,e,h,d,g,_,b)),rt=0,tt=0,nt=0,st=0,at=0;$.push(j,_e);for(var ct=1,it=0;ct<=et;++ct)it=ct/et,rt=1-it,tt=rt*rt,nt=tt*rt,st=it*it,at=st*it,$.push(nt*j+3*tt*it*e+3*rt*st*d+at*_,nt*_e+3*tt*it*h+3*rt*st*g+at*b)},o}(),QuadraticUtils=function(){function o(){}return o.curveLength=function(e,h,d,g,_,b){var $=e-2*d+_,j=h-2*g+b,_e=2*d-2*e,et=2*g-2*h,rt=4*($*$+j*j),tt=4*($*_e+j*et),nt=_e*_e+et*et,st=2*Math.sqrt(rt+tt+nt),at=Math.sqrt(rt),ct=2*rt*at,it=2*Math.sqrt(nt),lt=tt/at;return(ct*st+at*tt*(st-it)+(4*nt*rt-tt*tt)*Math.log((2*at+lt+st)/(lt+it)))/(4*ct)},o.curveTo=function(e,h,d,g,_){for(var b=_[_.length-2],$=_[_.length-1],j=GRAPHICS_CURVES._segmentsCount(o.curveLength(b,$,e,h,d,g)),_e=0,et=0,rt=1;rt<=j;++rt){var tt=rt/j;_e=b+(e-b)*tt,et=$+(h-$)*tt,_.push(_e+(e+(d-e)*tt-_e)*tt,et+(h+(g-h)*tt-et)*tt)}},o}(),BatchPart=function(){function o(){this.reset()}return o.prototype.begin=function(e,h,d){this.reset(),this.style=e,this.start=h,this.attribStart=d},o.prototype.end=function(e,h){this.attribSize=h-this.attribStart,this.size=e-this.start},o.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},o}(),_a,FILL_COMMANDS=(_a={},_a[SHAPES.POLY]=buildPoly,_a[SHAPES.CIRC]=buildCircle,_a[SHAPES.ELIP]=buildCircle,_a[SHAPES.RECT]=buildRectangle,_a[SHAPES.RREC]=buildRoundedRectangle,_a),BATCH_POOL=[],DRAW_CALL_POOL=[],GraphicsData=function(){function o(e,h,d,g){h===void 0&&(h=null),d===void 0&&(d=null),g===void 0&&(g=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=d,this.fillStyle=h,this.matrix=g,this.type=e.type}return o.prototype.clone=function(){return new o(this.shape,this.fillStyle,this.lineStyle,this.matrix)},o.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},o}(),tmpPoint=new Point,tmpBounds=new Bounds,GraphicsGeometry=function(o){__extends$e(e,o);function e(){var h=o.call(this)||this;return h.closePointEps=1e-4,h.boundsPadding=0,h.uvsFloat32=null,h.indicesUint16=null,h.batchable=!1,h.points=[],h.colors=[],h.uvs=[],h.indices=[],h.textureIds=[],h.graphicsData=[],h.drawCalls=[],h.batchDirty=-1,h.batches=[],h.dirty=0,h.cacheDirty=-1,h.clearDirty=0,h.shapeIndex=0,h._bounds=new Bounds,h.boundsDirty=-1,h}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[h]);this.drawCalls.length=0;for(var h=0;h<this.batches.length;h++){var d=this.batches[h];d.reset(),BATCH_POOL.push(d)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(h,d,g,_){d===void 0&&(d=null),g===void 0&&(g=null),_===void 0&&(_=null);var b=new GraphicsData(h,d,g,_);return this.graphicsData.push(b),this.dirty++,this},e.prototype.drawHole=function(h,d){if(d===void 0&&(d=null),!this.graphicsData.length)return null;var g=new GraphicsData(h,null,null,d),_=this.graphicsData[this.graphicsData.length-1];return g.lineStyle=_.lineStyle,_.holes.push(g),this.dirty++,this},e.prototype.destroy=function(){o.prototype.destroy.call(this);for(var h=0;h<this.graphicsData.length;++h)this.graphicsData[h].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(h){for(var d=this.graphicsData,g=0;g<d.length;++g){var _=d[g];if(!!_.fillStyle.visible&&_.shape&&(_.matrix?_.matrix.applyInverse(h,tmpPoint):tmpPoint.copyFrom(h),_.shape.contains(tmpPoint.x,tmpPoint.y))){var b=!1;if(_.holes)for(var $=0;$<_.holes.length;$++){var j=_.holes[$];if(j.shape.contains(tmpPoint.x,tmpPoint.y)){b=!0;break}}if(!b)return!0}}return!1},e.prototype.updateBatches=function(h){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var d=this.uvs,g=this.graphicsData,_=null,b=null;this.batches.length>0&&(_=this.batches[this.batches.length-1],b=_.style);for(var $=this.shapeIndex;$<g.length;$++){this.shapeIndex++;var j=g[$],_e=j.fillStyle,et=j.lineStyle,rt=FILL_COMMANDS[j.type];rt.build(j),j.matrix&&this.transformPoints(j.points,j.matrix),(_e.visible||et.visible)&&this.processHoles(j.holes);for(var tt=0;tt<2;tt++){var nt=tt===0?_e:et;if(!!nt.visible){var st=nt.texture.baseTexture,at=this.indices.length,ct=this.points.length/2;st.wrapMode=WRAP_MODES$3.REPEAT,tt===0?this.processFill(j):this.processLine(j);var it=this.points.length/2-ct;it!==0&&(_&&!this._compareStyles(b,nt)&&(_.end(at,ct),_=null),_||(_=BATCH_POOL.pop()||new BatchPart,_.begin(nt,at,ct),this.batches.push(_),b=nt),this.addUvs(this.points,d,nt.texture,ct,it,nt.matrix))}}}var lt=this.indices.length,ht=this.points.length/2;if(_&&_.end(lt,ht),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var ut=ht>65535&&h;this.indicesUint16=ut?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(h,d){return!(!h||!d||h.texture.baseTexture!==d.texture.baseTexture||h.color+h.alpha!==d.color+d.alpha||!!h.native!=!!d.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var h=0,d=this.graphicsData.length;h<d;h++){var g=this.graphicsData[h],_=g.fillStyle,b=g.lineStyle;if(_&&!_.texture.baseTexture.valid||b&&!b.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var h=this.batches,d=0,g=h.length;d<g;d++)for(var _=h[d],b=0;b<_.size;b++){var $=_.start+b;this.indicesUint16[$]=this.indicesUint16[$]-_.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var h=this.batches,d=0;d<h.length;d++)if(h[d].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var h=++BaseTexture._globalBatch,d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[d]);this.drawCalls.length=0;var g=this.colors,_=this.textureIds,b=DRAW_CALL_POOL.pop();b||(b=new BatchDrawCall,b.texArray=new BatchTextureArray),b.texArray.count=0,b.start=0,b.size=0,b.type=DRAW_MODES$3.TRIANGLES;var $=0,j=null,_e=0,et=!1,rt=DRAW_MODES$3.TRIANGLES,tt=0;this.drawCalls.push(b);for(var d=0;d<this.batches.length;d++){var nt=this.batches[d],st=8,at=nt.style,ct=at.texture.baseTexture;et!==!!at.native&&(et=!!at.native,rt=et?DRAW_MODES$3.LINES:DRAW_MODES$3.TRIANGLES,j=null,$=st,h++),j!==ct&&(j=ct,ct._batchEnabled!==h&&($===st&&(h++,$=0,b.size>0&&(b=DRAW_CALL_POOL.pop(),b||(b=new BatchDrawCall,b.texArray=new BatchTextureArray),this.drawCalls.push(b)),b.start=tt,b.size=0,b.texArray.count=0,b.type=rt),ct.touched=1,ct._batchEnabled=h,ct._batchLocation=$,ct.wrapMode=WRAP_MODES$3.REPEAT,b.texArray.elements[b.texArray.count++]=ct,$++)),b.size+=nt.size,tt+=nt.size,_e=ct._batchLocation,this.addColors(g,at.color,at.alpha,nt.attribSize,nt.attribStart),this.addTextureIds(_,_e,nt.attribSize,nt.attribStart)}BaseTexture._globalBatch=h,this.packAttributes()},e.prototype.packAttributes=function(){for(var h=this.points,d=this.uvs,g=this.colors,_=this.textureIds,b=new ArrayBuffer(h.length*3*4),$=new Float32Array(b),j=new Uint32Array(b),_e=0,et=0;et<h.length/2;et++)$[_e++]=h[et*2],$[_e++]=h[et*2+1],$[_e++]=d[et*2],$[_e++]=d[et*2+1],j[_e++]=g[et],$[_e++]=_[et];this._buffer.update(b),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(h){if(h.holes.length)buildPoly.triangulate(h,this);else{var d=FILL_COMMANDS[h.type];d.triangulate(h,this)}},e.prototype.processLine=function(h){buildLine(h,this);for(var d=0;d<h.holes.length;d++)buildLine(h.holes[d],this)},e.prototype.processHoles=function(h){for(var d=0;d<h.length;d++){var g=h[d],_=FILL_COMMANDS[g.type];_.build(g),g.matrix&&this.transformPoints(g.points,g.matrix)}},e.prototype.calculateBounds=function(){var h=this._bounds,d=tmpBounds,g=Matrix.IDENTITY;this._bounds.clear(),d.clear();for(var _=0;_<this.graphicsData.length;_++){var b=this.graphicsData[_],$=b.shape,j=b.type,_e=b.lineStyle,et=b.matrix||Matrix.IDENTITY,rt=0;if(_e&&_e.visible&&(rt=_e.width,j!==SHAPES.POLY||b.fillStyle.visible?rt*=Math.max(0,_e.alignment):rt*=Math.max(_e.alignment,1-_e.alignment)),g!==et&&(d.isEmpty()||(h.addBoundsMatrix(d,g),d.clear()),g=et),j===SHAPES.RECT||j===SHAPES.RREC){var tt=$;d.addFramePad(tt.x,tt.y,tt.x+tt.width,tt.y+tt.height,rt,rt)}else if(j===SHAPES.CIRC){var nt=$;d.addFramePad(nt.x,nt.y,nt.x,nt.y,nt.radius+rt,nt.radius+rt)}else if(j===SHAPES.ELIP){var st=$;d.addFramePad(st.x,st.y,st.x,st.y,st.width+rt,st.height+rt)}else{var at=$;h.addVerticesMatrix(g,at.points,0,at.points.length,rt,rt)}}d.isEmpty()||h.addBoundsMatrix(d,g),h.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(h,d){for(var g=0;g<h.length/2;g++){var _=h[g*2],b=h[g*2+1];h[g*2]=d.a*_+d.c*b+d.tx,h[g*2+1]=d.b*_+d.d*b+d.ty}},e.prototype.addColors=function(h,d,g,_,b){b===void 0&&(b=0);var $=(d>>16)+(d&65280)+((d&255)<<16),j=premultiplyTint($,g);h.length=Math.max(h.length,b+_);for(var _e=0;_e<_;_e++)h[b+_e]=j},e.prototype.addTextureIds=function(h,d,g,_){_===void 0&&(_=0),h.length=Math.max(h.length,_+g);for(var b=0;b<g;b++)h[_+b]=d},e.prototype.addUvs=function(h,d,g,_,b,$){$===void 0&&($=null);for(var j=0,_e=d.length,et=g.frame;j<b;){var rt=h[(_+j)*2],tt=h[(_+j)*2+1];if($){var nt=$.a*rt+$.c*tt+$.tx;tt=$.b*rt+$.d*tt+$.ty,rt=nt}j++,d.push(rt/et.width,tt/et.height)}var st=g.baseTexture;(et.width<st.width||et.height<st.height)&&this.adjustUvs(d,g,_e,b)},e.prototype.adjustUvs=function(h,d,g,_){for(var b=d.baseTexture,$=1e-6,j=g+_*2,_e=d.frame,et=_e.width/b.width,rt=_e.height/b.height,tt=_e.x/_e.width,nt=_e.y/_e.height,st=Math.floor(h[g]+$),at=Math.floor(h[g+1]+$),ct=g+2;ct<j;ct+=2)st=Math.min(st,Math.floor(h[ct]+$)),at=Math.min(at,Math.floor(h[ct+1]+$));tt-=st,nt-=at;for(var ct=g;ct<j;ct+=2)h[ct]=(h[ct]+tt)*et,h[ct+1]=(h[ct+1]+nt)*rt},e.BATCHABLE_SIZE=100,e}(BatchGeometry),LineStyle=function(o){__extends$e(e,o);function e(){var h=o!==null&&o.apply(this,arguments)||this;return h.width=0,h.alignment=.5,h.native=!1,h.cap=LINE_CAP.BUTT,h.join=LINE_JOIN.MITER,h.miterLimit=10,h}return e.prototype.clone=function(){var h=new e;return h.color=this.color,h.alpha=this.alpha,h.texture=this.texture,h.matrix=this.matrix,h.visible=this.visible,h.width=this.width,h.alignment=this.alignment,h.native=this.native,h.cap=this.cap,h.join=this.join,h.miterLimit=this.miterLimit,h},e.prototype.reset=function(){o.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics=function(o){__extends$e(e,o);function e(h){h===void 0&&(h=null);var d=o.call(this)||this;return d.shader=null,d.pluginName="batch",d.currentPath=null,d.batches=[],d.batchTint=-1,d.batchDirty=-1,d.vertexData=null,d._fillStyle=new FillStyle,d._lineStyle=new LineStyle,d._matrix=null,d._holeMode=!1,d.state=State.for2d(),d._geometry=h||new GraphicsGeometry,d._geometry.refCount++,d._transformID=-1,d.tint=16777215,d.blendMode=BLEND_MODES$3.NORMAL,d}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(h){this.state.blendMode=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(h){this._tint=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(h,d,g,_,b){return h===void 0&&(h=null),d===void 0&&(d=0),g===void 0&&(g=1),_===void 0&&(_=.5),b===void 0&&(b=!1),typeof h=="number"&&(h={width:h,color:d,alpha:g,alignment:_,native:b}),this.lineTextureStyle(h)},e.prototype.lineTextureStyle=function(h){h=Object.assign({width:0,texture:Texture$1.WHITE,color:h&&h.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},h),this.currentPath&&this.startPoly();var d=h.width>0&&h.alpha>0;return d?(h.matrix&&(h.matrix=h.matrix.clone(),h.matrix.invert()),Object.assign(this._lineStyle,{visible:d},h)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var h=this.currentPath.points,d=this.currentPath.points.length;d>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(h[d-2],h[d-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(h,d){return this.startPoly(),this.currentPath.points[0]=h,this.currentPath.points[1]=d,this},e.prototype.lineTo=function(h,d){this.currentPath||this.moveTo(0,0);var g=this.currentPath.points,_=g[g.length-2],b=g[g.length-1];return(_!==h||b!==d)&&g.push(h,d),this},e.prototype._initCurve=function(h,d){h===void 0&&(h=0),d===void 0&&(d=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[h,d]):this.moveTo(h,d)},e.prototype.quadraticCurveTo=function(h,d,g,_){this._initCurve();var b=this.currentPath.points;return b.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(h,d,g,_,b),this},e.prototype.bezierCurveTo=function(h,d,g,_,b,$){return this._initCurve(),BezierUtils.curveTo(h,d,g,_,b,$,this.currentPath.points),this},e.prototype.arcTo=function(h,d,g,_,b){this._initCurve(h,d);var $=this.currentPath.points,j=ArcUtils.curveTo(h,d,g,_,b,$);if(j){var _e=j.cx,et=j.cy,rt=j.radius,tt=j.startAngle,nt=j.endAngle,st=j.anticlockwise;this.arc(_e,et,rt,tt,nt,st)}return this},e.prototype.arc=function(h,d,g,_,b,$){if($===void 0&&($=!1),_===b)return this;!$&&b<=_?b+=PI_2:$&&_<=b&&(_+=PI_2);var j=b-_;if(j===0)return this;var _e=h+Math.cos(_)*g,et=d+Math.sin(_)*g,rt=this._geometry.closePointEps,tt=this.currentPath?this.currentPath.points:null;if(tt){var nt=Math.abs(tt[tt.length-2]-_e),st=Math.abs(tt[tt.length-1]-et);nt<rt&&st<rt||tt.push(_e,et)}else this.moveTo(_e,et),tt=this.currentPath.points;return ArcUtils.arc(_e,et,h,d,g,_,b,$,tt),this},e.prototype.beginFill=function(h,d){return h===void 0&&(h=0),d===void 0&&(d=1),this.beginTextureFill({texture:Texture$1.WHITE,color:h,alpha:d})},e.prototype.beginTextureFill=function(h){h=Object.assign({texture:Texture$1.WHITE,color:16777215,alpha:1,matrix:null},h),this.currentPath&&this.startPoly();var d=h.alpha>0;return d?(h.matrix&&(h.matrix=h.matrix.clone(),h.matrix.invert()),Object.assign(this._fillStyle,{visible:d},h)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(h,d,g,_){return this.drawShape(new Rectangle(h,d,g,_))},e.prototype.drawRoundedRect=function(h,d,g,_,b){return this.drawShape(new RoundedRectangle(h,d,g,_,b))},e.prototype.drawCircle=function(h,d,g){return this.drawShape(new Circle(h,d,g))},e.prototype.drawEllipse=function(h,d,g,_){return this.drawShape(new Ellipse(h,d,g,_))},e.prototype.drawPolygon=function(){for(var h=arguments,d=[],g=0;g<arguments.length;g++)d[g]=h[g];var _,b=!0,$=d[0];$.points?(b=$.closeStroke,_=$.points):Array.isArray(d[0])?_=d[0]:_=d;var j=new Polygon(_);return j.closeStroke=b,this.drawShape(j),this},e.prototype.drawShape=function(h){return this._holeMode?this._geometry.drawHole(h,this._matrix):this._geometry.drawShape(h,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var h=this._geometry.graphicsData;return h.length===1&&h[0].shape.type===SHAPES.RECT&&!h[0].matrix&&!h[0].holes.length&&!(h[0].lineStyle.visible&&h[0].lineStyle.width)},e.prototype._render=function(h){this.finishPoly();var d=this._geometry,g=h.context.supports.uint32Indices;d.updateBatches(g),d.batchable?(this.batchDirty!==d.batchDirty&&this._populateBatches(),this._renderBatched(h)):(h.batch.flush(),this._renderDirect(h))},e.prototype._populateBatches=function(){var h=this._geometry,d=this.blendMode,g=h.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=h.batchDirty,this.batches.length=g,this.vertexData=new Float32Array(h.points);for(var _=0;_<g;_++){var b=h.batches[_],$=b.style.color,j=new Float32Array(this.vertexData.buffer,b.attribStart*4*2,b.attribSize*2),_e=new Float32Array(h.uvsFloat32.buffer,b.attribStart*4*2,b.attribSize*2),et=new Uint16Array(h.indicesUint16.buffer,b.start*2,b.size),rt={vertexData:j,blendMode:d,indices:et,uvs:_e,_batchRGB:hex2rgb($),_tintRGB:$,_texture:b.style.texture,alpha:b.style.alpha,worldAlpha:1};this.batches[_]=rt}},e.prototype._renderBatched=function(h){if(!!this.batches.length){h.batch.setObjectRenderer(h.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var d=0,g=this.batches.length;d<g;d++){var _=this.batches[d];_.worldAlpha=this.worldAlpha*_.alpha,h.plugins[this.pluginName].render(_)}}},e.prototype._renderDirect=function(h){var d=this._resolveDirectShader(h),g=this._geometry,_=this.tint,b=this.worldAlpha,$=d.uniforms,j=g.drawCalls;$.translationMatrix=this.transform.worldTransform,$.tint[0]=(_>>16&255)/255*b,$.tint[1]=(_>>8&255)/255*b,$.tint[2]=(_&255)/255*b,$.tint[3]=b,h.shader.bind(d),h.geometry.bind(g,d),h.state.set(this.state);for(var _e=0,et=j.length;_e<et;_e++)this._renderDrawCallDirect(h,g.drawCalls[_e])},e.prototype._renderDrawCallDirect=function(h,d){for(var g=d.texArray,_=d.type,b=d.size,$=d.start,j=g.count,_e=0;_e<j;_e++)h.texture.bind(g.elements[_e],_e);h.geometry.draw(_,b,$)},e.prototype._resolveDirectShader=function(h){var d=this.shader,g=this.pluginName;if(!d){if(!DEFAULT_SHADERS[g]){for(var _=h.plugins[g].MAX_TEXTURES,b=new Int32Array(_),$=0;$<_;$++)b[$]=$;var j={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:b},!0)},_e=h.plugins[g]._shader.program;DEFAULT_SHADERS[g]=new Shader(_e,j)}d=DEFAULT_SHADERS[g]}return d},e.prototype._calculateBounds=function(){this.finishPoly();var h=this._geometry;if(!!h.graphicsData.length){var d=h.bounds,g=d.minX,_=d.minY,b=d.maxX,$=d.maxY;this._bounds.addFrame(this.transform,g,_,b,$)}},e.prototype.containsPoint=function(h){return this.worldTransform.applyInverse(h,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var h=hex2rgb(this.tint,temp),d=0;d<this.batches.length;d++){var g=this.batches[d],_=g._batchRGB,b=h[0]*_[0]*255,$=h[1]*_[1]*255,j=h[2]*_[2]*255,_e=(b<<16)+($<<8)+(j|0);g._tintRGB=(_e>>16)+(_e&65280)+((_e&255)<<16)}}},e.prototype.calculateVertices=function(){var h=this.transform._worldID;if(this._transformID!==h){this._transformID=h;for(var d=this.transform.worldTransform,g=d.a,_=d.b,b=d.c,$=d.d,j=d.tx,_e=d.ty,et=this._geometry.points,rt=this.vertexData,tt=0,nt=0;nt<et.length;nt+=2){var st=et[nt],at=et[nt+1];rt[tt++]=g*st+b*at+j,rt[tt++]=$*at+_*st+_e}}},e.prototype.closePath=function(){var h=this.currentPath;return h&&(h.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(h){return this._matrix=h,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(h){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,o.prototype.destroy.call(this,h)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new Point,e}(Container);/*!
 * @pixi/sprite - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$d=function(o,e){return extendStatics$d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$d(o,e)};function __extends$d(o,e){extendStatics$d(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var tempPoint$2=new Point,indices=new Uint16Array([0,1,2,0,2,3]),Sprite$1=function(o){__extends$d(e,o);function e(h){var d=o.call(this)||this;return d._anchor=new ObservablePoint(d._onAnchorUpdate,d,h?h.defaultAnchor.x:0,h?h.defaultAnchor.y:0),d._texture=null,d._width=0,d._height=0,d._tint=null,d._tintRGB=null,d.tint=16777215,d.blendMode=BLEND_MODES$3.NORMAL,d._cachedTint=16777215,d.uvs=null,d.texture=h||Texture$1.EMPTY,d.vertexData=new Float32Array(8),d.vertexTrimmedData=null,d._transformID=-1,d._textureID=-1,d._transformTrimmedID=-1,d._textureTrimmedID=-1,d.indices=indices,d.pluginName="batch",d.isSprite=!0,d._roundPixels=settings.ROUND_PIXELS,d}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign$1(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign$1(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var h=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===h._updateID)){this._textureID!==h._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=h._updateID;var d=this.transform.worldTransform,g=d.a,_=d.b,b=d.c,$=d.d,j=d.tx,_e=d.ty,et=this.vertexData,rt=h.trim,tt=h.orig,nt=this._anchor,st=0,at=0,ct=0,it=0;if(rt?(at=rt.x-nt._x*tt.width,st=at+rt.width,it=rt.y-nt._y*tt.height,ct=it+rt.height):(at=-nt._x*tt.width,st=at+tt.width,it=-nt._y*tt.height,ct=it+tt.height),et[0]=g*at+b*it+j,et[1]=$*it+_*at+_e,et[2]=g*st+b*it+j,et[3]=$*it+_*st+_e,et[4]=g*st+b*ct+j,et[5]=$*ct+_*st+_e,et[6]=g*at+b*ct+j,et[7]=$*ct+_*at+_e,this._roundPixels)for(var lt=settings.RESOLUTION,ht=0;ht<et.length;++ht)et[ht]=Math.round((et[ht]*lt|0)/lt)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var h=this._texture,d=this.vertexTrimmedData,g=h.orig,_=this._anchor,b=this.transform.worldTransform,$=b.a,j=b.b,_e=b.c,et=b.d,rt=b.tx,tt=b.ty,nt=-_._x*g.width,st=nt+g.width,at=-_._y*g.height,ct=at+g.height;d[0]=$*nt+_e*at+rt,d[1]=et*at+j*nt+tt,d[2]=$*st+_e*at+rt,d[3]=et*at+j*st+tt,d[4]=$*st+_e*ct+rt,d[5]=et*ct+j*st+tt,d[6]=$*nt+_e*ct+rt,d[7]=et*ct+j*nt+tt},e.prototype._render=function(h){this.calculateVertices(),h.batch.setObjectRenderer(h.plugins[this.pluginName]),h.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var h=this._texture.trim,d=this._texture.orig;!h||h.width===d.width&&h.height===d.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(h){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),h||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),h=this._localBoundsRect),this._localBounds.getRectangle(h)):o.prototype.getLocalBounds.call(this,h)},e.prototype.containsPoint=function(h){this.worldTransform.applyInverse(h,tempPoint$2);var d=this._texture.orig.width,g=this._texture.orig.height,_=-d*this.anchor.x,b=0;return!!(tempPoint$2.x>=_&&tempPoint$2.x<_+d&&(b=-g*this.anchor.y,tempPoint$2.y>=b&&tempPoint$2.y<b+g))},e.prototype.destroy=function(h){o.prototype.destroy.call(this,h),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var d=typeof h=="boolean"?h:h&&h.texture;if(d){var g=typeof h=="boolean"?h:h&&h.baseTexture;this._texture.destroy(!!g)}this._texture=null},e.from=function(h,d){var g=h instanceof Texture$1?h:Texture$1.from(h,d);return new e(g)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(h){this._roundPixels!==h&&(this._transformID=-1),this._roundPixels=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(h){var d=sign$1(this.scale.x)||1;this.scale.x=d*h/this._texture.orig.width,this._width=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(h){var d=sign$1(this.scale.y)||1;this.scale.y=d*h/this._texture.orig.height,this._height=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(h){this._anchor.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(h){this._tint=h,this._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(h){this._texture!==h&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=h||Texture$1.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,h&&(h.baseTexture.valid?this._onTextureUpdate():h.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Container);/*!
 * @pixi/text - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$c=function(o,e){return extendStatics$c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$c(o,e)};function __extends$c(o,e){extendStatics$c(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var TEXT_GRADIENT;(function(o){o[o.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",o[o.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(TEXT_GRADIENT||(TEXT_GRADIENT={}));var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle=function(){function o(e){this.styleID=0,this.reset(),deepCopyProperties(this,e,e)}return o.prototype.clone=function(){var e={};return deepCopyProperties(e,this,defaultStyle),new o(e)},o.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var h=getColor(e);this._dropShadowColor!==h&&(this._dropShadowColor=h,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fill",{get:function(){return this._fill},set:function(e){var h=getColor(e);this._fill!==h&&(this._fill=h,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){areArraysEqual(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var h=getColor(e);this._stroke!==h&&(this._stroke=h,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),o.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,h=this.fontFamily;Array.isArray(this.fontFamily)||(h=this.fontFamily.split(","));for(var d=h.length-1;d>=0;d--){var g=h[d].trim();!/([\"\'])[^\'\"]+\1/.test(g)&&genericFontFamilies.indexOf(g)<0&&(g='"'+g+'"'),h[d]=g}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+h.join(",")},o}();function getSingleColor(o){return typeof o=="number"?hex2string(o):(typeof o=="string"&&o.indexOf("0x")===0&&(o=o.replace("0x","#")),o)}function getColor(o){if(Array.isArray(o)){for(var e=0;e<o.length;++e)o[e]=getSingleColor(o[e]);return o}else return getSingleColor(o)}function areArraysEqual(o,e){if(!Array.isArray(o)||!Array.isArray(e)||o.length!==e.length)return!1;for(var h=0;h<o.length;++h)if(o[h]!==e[h])return!1;return!0}function deepCopyProperties(o,e,h){for(var d in h)Array.isArray(e[d])?o[d]=e[d].slice():o[d]=e[d]}var TextMetrics=function(){function o(e,h,d,g,_,b,$,j,_e){this.text=e,this.style=h,this.width=d,this.height=g,this.lines=_,this.lineWidths=b,this.lineHeight=$,this.maxLineWidth=j,this.fontProperties=_e}return o.measureText=function(e,h,d,g){g===void 0&&(g=o._canvas),d=d==null?h.wordWrap:d;var _=h.toFontString(),b=o.measureFont(_);b.fontSize===0&&(b.fontSize=h.fontSize,b.ascent=h.fontSize);var $=g.getContext("2d");$.font=_;for(var j=d?o.wordWrap(e,h,g):e,_e=j.split(/(?:\r\n|\r|\n)/),et=new Array(_e.length),rt=0,tt=0;tt<_e.length;tt++){var nt=$.measureText(_e[tt]).width+(_e[tt].length-1)*h.letterSpacing;et[tt]=nt,rt=Math.max(rt,nt)}var st=rt+h.strokeThickness;h.dropShadow&&(st+=h.dropShadowDistance);var at=h.lineHeight||b.fontSize+h.strokeThickness,ct=Math.max(at,b.fontSize+h.strokeThickness)+(_e.length-1)*(at+h.leading);return h.dropShadow&&(ct+=h.dropShadowDistance),new o(e,h,st,ct,_e,et,at+h.leading,rt,b)},o.wordWrap=function(e,h,d){d===void 0&&(d=o._canvas);for(var g=d.getContext("2d"),_=0,b="",$="",j=Object.create(null),_e=h.letterSpacing,et=h.whiteSpace,rt=o.collapseSpaces(et),tt=o.collapseNewlines(et),nt=!rt,st=h.wordWrapWidth+_e,at=o.tokenize(e),ct=0;ct<at.length;ct++){var it=at[ct];if(o.isNewline(it)){if(!tt){$+=o.addLine(b),nt=!rt,b="",_=0;continue}it=" "}if(rt){var lt=o.isBreakingSpace(it),ht=o.isBreakingSpace(b[b.length-1]);if(lt&&ht)continue}var ut=o.getFromCache(it,_e,j,g);if(ut>st)if(b!==""&&($+=o.addLine(b),b="",_=0),o.canBreakWords(it,h.breakWords))for(var dt=o.wordWrapSplit(it),pt=0;pt<dt.length;pt++){for(var mt=dt[pt],yt=1;dt[pt+yt];){var xt=dt[pt+yt],Tt=mt[mt.length-1];if(!o.canBreakChars(Tt,xt,it,pt,h.breakWords))mt+=xt;else break;yt++}pt+=mt.length-1;var _t=o.getFromCache(mt,_e,j,g);_t+_>st&&($+=o.addLine(b),nt=!1,b="",_=0),b+=mt,_+=_t}else{b.length>0&&($+=o.addLine(b),b="",_=0);var Mt=ct===at.length-1;$+=o.addLine(it,!Mt),nt=!1,b="",_=0}else ut+_>st&&(nt=!1,$+=o.addLine(b),b="",_=0),(b.length>0||!o.isBreakingSpace(it)||nt)&&(b+=it,_+=ut)}return $+=o.addLine(b,!1),$},o.addLine=function(e,h){return h===void 0&&(h=!0),e=o.trimRight(e),e=h?e+`
`:e,e},o.getFromCache=function(e,h,d,g){var _=d[e];if(typeof _!="number"){var b=e.length*h;_=g.measureText(e).width+b,d[e]=_}return _},o.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},o.collapseNewlines=function(e){return e==="normal"},o.trimRight=function(e){if(typeof e!="string")return"";for(var h=e.length-1;h>=0;h--){var d=e[h];if(!o.isBreakingSpace(d))break;e=e.slice(0,-1)}return e},o.isNewline=function(e){return typeof e!="string"?!1:o._newlines.indexOf(e.charCodeAt(0))>=0},o.isBreakingSpace=function(e,h){return typeof e!="string"?!1:o._breakingSpaces.indexOf(e.charCodeAt(0))>=0},o.tokenize=function(e){var h=[],d="";if(typeof e!="string")return h;for(var g=0;g<e.length;g++){var _=e[g],b=e[g+1];if(o.isBreakingSpace(_,b)||o.isNewline(_)){d!==""&&(h.push(d),d=""),h.push(_);continue}d+=_}return d!==""&&h.push(d),h},o.canBreakWords=function(e,h){return h},o.canBreakChars=function(e,h,d,g,_){return!0},o.wordWrapSplit=function(e){return e.split("")},o.measureFont=function(e){if(o._fonts[e])return o._fonts[e];var h={ascent:0,descent:0,fontSize:0},d=o._canvas,g=o._context;g.font=e;var _=o.METRICS_STRING+o.BASELINE_SYMBOL,b=Math.ceil(g.measureText(_).width),$=Math.ceil(g.measureText(o.BASELINE_SYMBOL).width),j=Math.ceil(o.HEIGHT_MULTIPLIER*$);$=$*o.BASELINE_MULTIPLIER|0,d.width=b,d.height=j,g.fillStyle="#f00",g.fillRect(0,0,b,j),g.font=e,g.textBaseline="alphabetic",g.fillStyle="#000",g.fillText(_,0,$);var _e=g.getImageData(0,0,b,j).data,et=_e.length,rt=b*4,tt=0,nt=0,st=!1;for(tt=0;tt<$;++tt){for(var at=0;at<rt;at+=4)if(_e[nt+at]!==255){st=!0;break}if(!st)nt+=rt;else break}for(h.ascent=$-tt,nt=et-rt,st=!1,tt=j;tt>$;--tt){for(var at=0;at<rt;at+=4)if(_e[nt+at]!==255){st=!0;break}if(!st)nt-=rt;else break}return h.descent=tt-$,h.fontSize=h.ascent+h.descent,o._fonts[e]=h,h},o.clearMetrics=function(e){e===void 0&&(e=""),e?delete o._fonts[e]:o._fonts={}},Object.defineProperty(o,"_canvas",{get:function(){if(!o.__canvas){var e=void 0;try{var h=new OffscreenCanvas(0,0),d=h.getContext("2d");if(d&&d.measureText)return h;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,o.__canvas=e}return o.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o,"_context",{get:function(){return o.__context||(o.__context=o._canvas.getContext("2d")),o.__context},enumerable:!1,configurable:!0}),o}();TextMetrics._fonts={};TextMetrics.METRICS_STRING="|\xC9q\xC5";TextMetrics.BASELINE_SYMBOL="M";TextMetrics.BASELINE_MULTIPLIER=1.4;TextMetrics.HEIGHT_MULTIPLIER=2;TextMetrics._newlines=[10,13];TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text=function(o){__extends$c(e,o);function e(h,d,g){var _=this,b=!1;g||(g=document.createElement("canvas"),b=!0),g.width=3,g.height=3;var $=Texture$1.from(g);return $.orig=new Rectangle,$.trim=new Rectangle,_=o.call(this,$)||this,_._ownCanvas=b,_.canvas=g,_.context=_.canvas.getContext("2d"),_._resolution=settings.RESOLUTION,_._autoResolution=!0,_._text=null,_._style=null,_._styleListener=null,_._font="",_.text=h,_.style=d,_.localStyleID=-1,_}return e.prototype.updateText=function(h){var d=this._style;if(this.localStyleID!==d.styleID&&(this.dirty=!0,this.localStyleID=d.styleID),!(!this.dirty&&h)){this._font=this._style.toFontString();var g=this.context,_=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),b=_.width,$=_.height,j=_.lines,_e=_.lineHeight,et=_.lineWidths,rt=_.maxLineWidth,tt=_.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,b)+d.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,$)+d.padding*2)*this._resolution),g.scale(this._resolution,this._resolution),g.clearRect(0,0,this.canvas.width,this.canvas.height),g.font=this._font,g.lineWidth=d.strokeThickness,g.textBaseline=d.textBaseline,g.lineJoin=d.lineJoin,g.miterLimit=d.miterLimit;for(var nt,st,at=d.dropShadow?2:1,ct=0;ct<at;++ct){var it=d.dropShadow&&ct===0,lt=it?Math.ceil(Math.max(1,$)+d.padding*2):0,ht=lt*this._resolution;if(it){g.fillStyle="black",g.strokeStyle="black";var ut=d.dropShadowColor,dt=hex2rgb(typeof ut=="number"?ut:string2hex(ut)),pt=d.dropShadowBlur*this._resolution,mt=d.dropShadowDistance*this._resolution;g.shadowColor="rgba("+dt[0]*255+","+dt[1]*255+","+dt[2]*255+","+d.dropShadowAlpha+")",g.shadowBlur=pt,g.shadowOffsetX=Math.cos(d.dropShadowAngle)*mt,g.shadowOffsetY=Math.sin(d.dropShadowAngle)*mt+ht}else g.fillStyle=this._generateFillStyle(d,j,_),g.strokeStyle=d.stroke,g.shadowColor="black",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0;var yt=(_e-tt.fontSize)/2;(!e.nextLineHeightBehavior||_e-tt.fontSize<0)&&(yt=0);for(var xt=0;xt<j.length;xt++)nt=d.strokeThickness/2,st=d.strokeThickness/2+xt*_e+tt.ascent+yt,d.align==="right"?nt+=rt-et[xt]:d.align==="center"&&(nt+=(rt-et[xt])/2),d.stroke&&d.strokeThickness&&this.drawLetterSpacing(j[xt],nt+d.padding,st+d.padding-lt,!0),d.fill&&this.drawLetterSpacing(j[xt],nt+d.padding,st+d.padding-lt)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(h,d,g,_){_===void 0&&(_=!1);var b=this._style,$=b.letterSpacing,j=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if($===0||j){j&&(this.context.letterSpacing=$,this.context.textLetterSpacing=$),_?this.context.strokeText(h,d,g):this.context.fillText(h,d,g);return}for(var _e=d,et=Array.from?Array.from(h):h.split(""),rt=this.context.measureText(h).width,tt=0,nt=0;nt<et.length;++nt){var st=et[nt];_?this.context.strokeText(st,_e,g):this.context.fillText(st,_e,g);for(var at="",ct=nt+1;ct<et.length;++ct)at+=et[ct];tt=this.context.measureText(at).width,_e+=rt-tt+$,rt=tt}},e.prototype.updateTexture=function(){var h=this.canvas;if(this._style.trim){var d=trimCanvas(h);d.data&&(h.width=d.width,h.height=d.height,this.context.putImageData(d.data,0,0))}var g=this._texture,_=this._style,b=_.trim?0:_.padding,$=g.baseTexture;g.trim.width=g._frame.width=h.width/this._resolution,g.trim.height=g._frame.height=h.height/this._resolution,g.trim.x=-b,g.trim.y=-b,g.orig.width=g._frame.width-b*2,g.orig.height=g._frame.height-b*2,this._onTextureUpdate(),$.setRealSize(h.width,h.height,this._resolution),g.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(h){this._autoResolution&&this._resolution!==h.resolution&&(this._resolution=h.resolution,this.dirty=!0),this.updateText(!0),o.prototype._render.call(this,h)},e.prototype.getLocalBounds=function(h){return this.updateText(!0),o.prototype.getLocalBounds.call(this,h)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(h,d,g){var _=h.fill;if(Array.isArray(_)){if(_.length===1)return _[0]}else return _;var b,$=h.dropShadow?h.dropShadowDistance:0,j=h.padding||0,_e=this.canvas.width/this._resolution-$-j*2,et=this.canvas.height/this._resolution-$-j*2,rt=_.slice(),tt=h.fillGradientStops.slice();if(!tt.length)for(var nt=rt.length+1,st=1;st<nt;++st)tt.push(st/nt);if(rt.unshift(_[0]),tt.unshift(0),rt.push(_[_.length-1]),tt.push(1),h.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){b=this.context.createLinearGradient(_e/2,j,_e/2,et+j);for(var at=g.fontProperties.fontSize+h.strokeThickness,st=0;st<d.length;st++){var ct=g.lineHeight*(st-1)+at,it=g.lineHeight*st,lt=it;st>0&&ct>it&&(lt=(it+ct)/2);var ht=it+at,ut=g.lineHeight*(st+1),dt=ht;st+1<d.length&&ut<ht&&(dt=(ht+ut)/2);for(var pt=(dt-lt)/et,mt=0;mt<rt.length;mt++){var yt=0;typeof tt[mt]=="number"?yt=tt[mt]:yt=mt/rt.length;var xt=Math.min(1,Math.max(0,lt/et+yt*pt));xt=Number(xt.toFixed(5)),b.addColorStop(xt,rt[mt])}}}else{b=this.context.createLinearGradient(j,et/2,_e+j,et/2);for(var Tt=rt.length+1,_t=1,st=0;st<rt.length;st++){var Mt=void 0;typeof tt[st]=="number"?Mt=tt[st]:Mt=_t/Tt,b.addColorStop(Mt,rt[st]),_t++}}return b},e.prototype.destroy=function(h){typeof h=="boolean"&&(h={children:h}),h=Object.assign({},defaultDestroyOptions,h),o.prototype.destroy.call(this,h),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(h){this.updateText(!0);var d=sign$1(this.scale.x)||1;this.scale.x=d*h/this._texture.orig.width,this._width=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(h){this.updateText(!0);var d=sign$1(this.scale.y)||1;this.scale.y=d*h/this._texture.orig.height,this._height=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(h){h=h||{},h instanceof TextStyle?this._style=h:this._style=new TextStyle(h),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(h){h=String(h==null?"":h),this._text!==h&&(this._text=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(h){this._autoResolution=!1,this._resolution!==h&&(this._resolution=h,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Sprite$1);/*!
 * @pixi/prepare - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$b=function(o,e){return extendStatics$b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$b(o,e)};function __extends$b(o,e){extendStatics$b(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var CountLimiter=function(){function o(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return o.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},o.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},o}();function findMultipleBaseTextures(o,e){var h=!1;if(o&&o._textures&&o._textures.length){for(var d=0;d<o._textures.length;d++)if(o._textures[d]instanceof Texture$1){var g=o._textures[d].baseTexture;e.indexOf(g)===-1&&(e.push(g),h=!0)}}return h}function findBaseTexture(o,e){if(o.baseTexture instanceof BaseTexture){var h=o.baseTexture;return e.indexOf(h)===-1&&e.push(h),!0}return!1}function findTexture(o,e){if(o._texture&&o._texture instanceof Texture$1){var h=o._texture.baseTexture;return e.indexOf(h)===-1&&e.push(h),!0}return!1}function drawText(o,e){return e instanceof Text?(e.updateText(!0),!0):!1}function calculateTextStyle(o,e){if(e instanceof TextStyle){var h=e.toFontString();return TextMetrics.measureFont(h),!0}return!1}function findText(o,e){if(o instanceof Text){e.indexOf(o.style)===-1&&e.push(o.style),e.indexOf(o)===-1&&e.push(o);var h=o._texture.baseTexture;return e.indexOf(h)===-1&&e.push(h),!0}return!1}function findTextStyle(o,e){return o instanceof TextStyle?(e.indexOf(o)===-1&&e.push(o),!0):!1}var BasePrepare=function(){function o(e){var h=this;this.limiter=new CountLimiter(settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!h.queue||h.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return o.prototype.upload=function(e,h){typeof e=="function"&&(h=e,e=null),e&&this.add(e),this.queue.length?(h&&this.completes.push(h),this.ticking||(this.ticking=!0,Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY))):h&&h()},o.prototype.tick=function(){setTimeout(this.delayedTick,0)},o.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],h=!1;if(e&&!e._destroyed){for(var d=0,g=this.uploadHooks.length;d<g;d++)if(this.uploadHooks[d](this.uploadHookHelper,e)){this.queue.shift(),h=!0;break}}h||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var _=this.completes.slice(0);this.completes.length=0;for(var d=0,g=_.length;d<g;d++)_[d]()}},o.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},o.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},o.prototype.add=function(e){for(var h=0,d=this.addHooks.length;h<d&&!this.addHooks[h](e,this.queue);h++);if(e instanceof Container)for(var h=e.children.length-1;h>=0;h--)this.add(e.children[h]);return this},o.prototype.destroy=function(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},o}();function uploadBaseTextures(o,e){return e instanceof BaseTexture?(e._glTextures[o.CONTEXT_UID]||o.texture.bind(e),!0):!1}function uploadGraphics(o,e){if(!(e instanceof Graphics))return!1;var h=e.geometry;e.finishPoly(),h.updateBatches();for(var d=h.batches,g=0;g<d.length;g++){var _=d[g].style.texture;_&&uploadBaseTextures(o,_.baseTexture)}return h.batchable||o.geometry.bind(h,e._resolveDirectShader(o)),!0}function findGraphics(o,e){return o instanceof Graphics?(e.push(o),!0):!1}var Prepare=function(o){__extends$b(e,o);function e(h){var d=o.call(this,h)||this;return d.uploadHookHelper=d.renderer,d.registerFindHook(findGraphics),d.registerUploadHook(uploadBaseTextures),d.registerUploadHook(uploadGraphics),d}return e}(BasePrepare);/*!
 * @pixi/spritesheet - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Spritesheet=function(){function o(e,h,d){d===void 0&&(d=null),this._texture=e instanceof Texture$1?e:null,this.baseTexture=e instanceof BaseTexture?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=h;var g=this.baseTexture.resource;this.resolution=this._updateResolution(d||(g?g.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return o.prototype._updateResolution=function(e){e===void 0&&(e=null);var h=this.data.meta.scale,d=getResolutionOfUrl(e,null);return d===null&&(d=h!==void 0?parseFloat(h):1),d!==1&&this.baseTexture.setResolution(d),d},o.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=o.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},o.prototype._processFrames=function(e){for(var h=e,d=o.BATCH_SIZE;h-e<d&&h<this._frameKeys.length;){var g=this._frameKeys[h],_=this._frames[g],b=_.frame;if(b){var $=null,j=null,_e=_.trimmed!==!1&&_.sourceSize?_.sourceSize:_.frame,et=new Rectangle(0,0,Math.floor(_e.w)/this.resolution,Math.floor(_e.h)/this.resolution);_.rotated?$=new Rectangle(Math.floor(b.x)/this.resolution,Math.floor(b.y)/this.resolution,Math.floor(b.h)/this.resolution,Math.floor(b.w)/this.resolution):$=new Rectangle(Math.floor(b.x)/this.resolution,Math.floor(b.y)/this.resolution,Math.floor(b.w)/this.resolution,Math.floor(b.h)/this.resolution),_.trimmed!==!1&&_.spriteSourceSize&&(j=new Rectangle(Math.floor(_.spriteSourceSize.x)/this.resolution,Math.floor(_.spriteSourceSize.y)/this.resolution,Math.floor(b.w)/this.resolution,Math.floor(b.h)/this.resolution)),this.textures[g]=new Texture$1(this.baseTexture,$,et,j,_.rotated?2:0,_.anchor),Texture$1.addToCache(this.textures[g],g)}h++}},o.prototype._processAnimations=function(){var e=this.data.animations||{};for(var h in e){this.animations[h]=[];for(var d=0;d<e[h].length;d++){var g=e[h][d];this.animations[h].push(this.textures[g])}}},o.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},o.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*o.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*o.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},o.prototype.destroy=function(e){var h;e===void 0&&(e=!1);for(var d in this.textures)this.textures[d].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((h=this._texture)===null||h===void 0||h.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},o.BATCH_SIZE=1e3,o}(),SpritesheetLoader=function(){function o(){}return o.use=function(e,h){var d,g,_=this,b=e.name+"_image";if(!e.data||e.type!==LoaderResource.TYPE.JSON||!e.data.frames||_.resources[b]){h();return}var $=(g=(d=e.data)===null||d===void 0?void 0:d.meta)===null||g===void 0?void 0:g.related_multi_packs;if(Array.isArray($))for(var j=function(st){if(typeof st!="string")return"continue";var at=st.replace(".json",""),ct=url$1.resolve(e.url.replace(_.baseUrl,""),st);if(_.resources[at]||Object.values(_.resources).some(function(lt){return url$1.format(url$1.parse(lt.url))===ct}))return"continue";var it={crossOrigin:e.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};_.add(at,ct,it)},_e=0,et=$;_e<et.length;_e++){var rt=et[_e];j(rt)}var tt={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},nt=o.getResourcePath(e,_.baseUrl);_.add(b,nt,tt,function(at){if(at.error){h(at.error);return}var ct=new Spritesheet(at.texture,e.data,e.url);ct.parse(function(){e.spritesheet=ct,e.textures=ct.textures,h()})})},o.getResourcePath=function(e,h){return e.isDataUrl?e.data.meta.image:url$1.resolve(e.url.replace(h,""),e.data.meta.image)},o}();/*!
 * @pixi/sprite-tiling - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$a=function(o,e){return extendStatics$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$a(o,e)};function __extends$a(o,e){extendStatics$a(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var tempPoint$1=new Point;(function(o){__extends$a(e,o);function e(h,d,g){d===void 0&&(d=100),g===void 0&&(g=100);var _=o.call(this,h)||this;return _.tileTransform=new Transform,_._width=d,_._height=g,_.uvMatrix=_.texture.uvMatrix||new TextureMatrix(h),_.pluginName="tilingSprite",_.uvRespectAnchor=!1,_}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(h){this.uvMatrix.clampMargin=h,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(h){this.tileTransform.scale.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(h){this.tileTransform.position.copyFrom(h)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(h){var d=this._texture;!d||!d.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),h.batch.setObjectRenderer(h.plugins[this.pluginName]),h.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var h=this._width*-this._anchor._x,d=this._height*-this._anchor._y,g=this._width*(1-this._anchor._x),_=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,h,d,g,_)},e.prototype.getLocalBounds=function(h){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),h||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),h=this._localBoundsRect),this._bounds.getRectangle(h)):o.prototype.getLocalBounds.call(this,h)},e.prototype.containsPoint=function(h){this.worldTransform.applyInverse(h,tempPoint$1);var d=this._width,g=this._height,_=-d*this.anchor._x;if(tempPoint$1.x>=_&&tempPoint$1.x<_+d){var b=-g*this.anchor._y;if(tempPoint$1.y>=b&&tempPoint$1.y<b+g)return!0}return!1},e.prototype.destroy=function(h){o.prototype.destroy.call(this,h),this.tileTransform=null,this.uvMatrix=null},e.from=function(h,d){var g=h instanceof Texture$1?h:Texture$1.from(h,d);return new e(g,d.width,d.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(h){this._width=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(h){this._height=h},enumerable:!1,configurable:!0}),e})(Sprite$1);var fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tempMat=new Matrix,TilingSpriteRenderer=function(o){__extends$a(e,o);function e(h){var d=o.call(this,h)||this;return h.runners.contextChange.add(d),d.quad=new QuadUv,d.state=State.for2d(),d}return e.prototype.contextChange=function(){var h=this.renderer,d={globals:h.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,d),this.shader=h.context.webGLVersion>1?Shader.from(gl2VertexSrc,gl2FragmentSrc,d):Shader.from(gl1VertexSrc,gl1FragmentSrc,d)},e.prototype.render=function(h){var d=this.renderer,g=this.quad,_=g.vertices;_[0]=_[6]=h._width*-h.anchor.x,_[1]=_[3]=h._height*-h.anchor.y,_[2]=_[4]=h._width*(1-h.anchor.x),_[5]=_[7]=h._height*(1-h.anchor.y);var b=h.uvRespectAnchor?h.anchor.x:0,$=h.uvRespectAnchor?h.anchor.y:0;_=g.uvs,_[0]=_[6]=-b,_[1]=_[3]=-$,_[2]=_[4]=1-b,_[5]=_[7]=1-$,g.invalidate();var j=h._texture,_e=j.baseTexture,et=h.tileTransform.localTransform,rt=h.uvMatrix,tt=_e.isPowerOfTwo&&j.frame.width===_e.width&&j.frame.height===_e.height;tt&&(_e._glTextures[d.CONTEXT_UID]?tt=_e.wrapMode!==WRAP_MODES$3.CLAMP:_e.wrapMode===WRAP_MODES$3.CLAMP&&(_e.wrapMode=WRAP_MODES$3.REPEAT));var nt=tt?this.simpleShader:this.shader,st=j.width,at=j.height,ct=h._width,it=h._height;tempMat.set(et.a*st/ct,et.b*st/it,et.c*at/ct,et.d*at/it,et.tx/ct,et.ty/it),tempMat.invert(),tt?tempMat.prepend(rt.mapCoord):(nt.uniforms.uMapCoord=rt.mapCoord.toArray(!0),nt.uniforms.uClampFrame=rt.uClampFrame,nt.uniforms.uClampOffset=rt.uClampOffset),nt.uniforms.uTransform=tempMat.toArray(!0),nt.uniforms.uColor=premultiplyTintToRgba(h.tint,h.worldAlpha,nt.uniforms.uColor,_e.alphaMode),nt.uniforms.translationMatrix=h.transform.worldTransform.toArray(!0),nt.uniforms.uSampler=j,d.shader.bind(nt),d.geometry.bind(g),this.state.blendMode=correctBlendMode(h.blendMode,_e.alphaMode),d.state.set(this.state),d.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(ObjectRenderer);/*!
 * @pixi/mesh - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$9=function(o,e){return extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$9(o,e)};function __extends$9(o,e){extendStatics$9(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var MeshBatchUvs=function(){function o(e,h){this.uvBuffer=e,this.uvMatrix=h,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return o.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var h=this.uvBuffer.data;(!this.data||this.data.length!==h.length)&&(this.data=new Float32Array(h.length)),this.uvMatrix.multiplyUvs(h,this.data),this._updateID++}},o}(),tempPoint=new Point,tempPolygon=new Polygon,Mesh$1=function(o){__extends$9(e,o);function e(h,d,g,_){_===void 0&&(_=DRAW_MODES$3.TRIANGLES);var b=o.call(this)||this;return b.geometry=h,b.shader=d,b.state=g||State.for2d(),b.drawMode=_,b.start=0,b.size=0,b.uvs=null,b.indices=null,b.vertexData=new Float32Array(1),b.vertexDirty=-1,b._transformID=-1,b._roundPixels=settings.ROUND_PIXELS,b.batchUvs=null,b}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(h){this._geometry!==h&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=h,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(h){this.shader=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(h){this.state.blendMode=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(h){this._roundPixels!==h&&(this._transformID=-1),this._roundPixels=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(h){this.shader.tint=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(h){this.shader.texture=h},enumerable:!1,configurable:!0}),e.prototype._render=function(h){var d=this.geometry.buffers[0].data,g=this.shader;g.batchable&&this.drawMode===DRAW_MODES$3.TRIANGLES&&d.length<e.BATCHABLE_SIZE*2?this._renderToBatch(h):this._renderDefault(h)},e.prototype._renderDefault=function(h){var d=this.shader;d.alpha=this.worldAlpha,d.update&&d.update(),h.batch.flush(),d.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),h.shader.bind(d),h.state.set(this.state),h.geometry.bind(this.geometry,d),h.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(h){var d=this.geometry,g=this.shader;g.uvMatrix&&(g.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=d.indexBuffer.data,this._tintRGB=g._tintRGB,this._texture=g.texture;var _=this.material.pluginName;h.batch.setObjectRenderer(h.plugins[_]),h.plugins[_].render(this)},e.prototype.calculateVertices=function(){var h=this.geometry,d=h.buffers[0],g=d.data,_=d._updateID;if(!(_===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==g.length&&(this.vertexData=new Float32Array(g.length));for(var b=this.transform.worldTransform,$=b.a,j=b.b,_e=b.c,et=b.d,rt=b.tx,tt=b.ty,nt=this.vertexData,st=0;st<nt.length/2;st++){var at=g[st*2],ct=g[st*2+1];nt[st*2]=$*at+_e*ct+rt,nt[st*2+1]=j*at+et*ct+tt}if(this._roundPixels)for(var it=settings.RESOLUTION,st=0;st<nt.length;++st)nt[st]=Math.round((nt[st]*it|0)/it);this.vertexDirty=_}},e.prototype.calculateUvs=function(){var h=this.geometry.buffers[1],d=this.shader;d.uvMatrix.isSimple?this.uvs=h.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(h,d.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(h){if(!this.getBounds().contains(h.x,h.y))return!1;this.worldTransform.applyInverse(h,tempPoint);for(var d=this.geometry.getBuffer("aVertexPosition").data,g=tempPolygon.points,_=this.geometry.getIndex().data,b=_.length,$=this.drawMode===4?3:1,j=0;j+2<b;j+=$){var _e=_[j]*2,et=_[j+1]*2,rt=_[j+2]*2;if(g[0]=d[_e],g[1]=d[_e+1],g[2]=d[et],g[3]=d[et+1],g[4]=d[rt],g[5]=d[rt+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},e.prototype.destroy=function(h){o.prototype.destroy.call(this,h),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Container),fragment$m=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$j=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,MeshMaterial=function(o){__extends$9(e,o);function e(h,d){var g=this,_={uSampler:h,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return d=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},d),d.uniforms&&Object.assign(_,d.uniforms),g=o.call(this,d.program||Program.from(vertex$j,fragment$m),_)||this,g._colorDirty=!1,g.uvMatrix=new TextureMatrix(h),g.batchable=d.program===void 0,g.pluginName=d.pluginName,g.tint=d.tint,g.alpha=d.alpha,g}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(h){this.uniforms.uSampler!==h&&(this.uniforms.uSampler=h,this.uvMatrix.texture=h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(h){h!==this._alpha&&(this._alpha=h,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(h){h!==this._tint&&(this._tint=h,this._tintRGB=(h>>16)+(h&65280)+((h&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var h=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,h.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Shader),MeshGeometry=function(o){__extends$9(e,o);function e(h,d,g){var _=o.call(this)||this,b=new Buffer(h),$=new Buffer(d,!0),j=new Buffer(g,!0,!0);return _.addAttribute("aVertexPosition",b,2,!1,TYPES$3.FLOAT).addAttribute("aTextureCoord",$,2,!1,TYPES$3.FLOAT).addIndex(j),_._updateId=-1,_}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Geometry);/*!
 * @pixi/text-bitmap - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$8=function(o,e){return extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$8(o,e)};function __extends$8(o,e){extendStatics$8(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var BitmapFontData=function(){function o(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return o}(),TextFormat=function(){function o(){}return o.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},o.parse=function(e){var h=e.match(/^[a-z]+\s+.+$/gm),d={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var g in h){var _=h[g].match(/^[a-z]+/gm)[0],b=h[g].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),$={};for(var j in b){var _e=b[j].split("="),et=_e[0],rt=_e[1].replace(/"/gm,""),tt=parseFloat(rt),nt=isNaN(tt)?rt:tt;$[et]=nt}d[_].push($)}var st=new BitmapFontData;return d.info.forEach(function(at){return st.info.push({face:at.face,size:parseInt(at.size,10)})}),d.common.forEach(function(at){return st.common.push({lineHeight:parseInt(at.lineHeight,10)})}),d.page.forEach(function(at){return st.page.push({id:parseInt(at.id,10),file:at.file})}),d.char.forEach(function(at){return st.char.push({id:parseInt(at.id,10),page:parseInt(at.page,10),x:parseInt(at.x,10),y:parseInt(at.y,10),width:parseInt(at.width,10),height:parseInt(at.height,10),xoffset:parseInt(at.xoffset,10),yoffset:parseInt(at.yoffset,10),xadvance:parseInt(at.xadvance,10)})}),d.kerning.forEach(function(at){return st.kerning.push({first:parseInt(at.first,10),second:parseInt(at.second,10),amount:parseInt(at.amount,10)})}),d.distanceField.forEach(function(at){return st.distanceField.push({distanceRange:parseInt(at.distanceRange,10),fieldType:at.fieldType})}),st},o}(),XMLFormat=function(){function o(){}return o.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},o.parse=function(e){for(var h=new BitmapFontData,d=e.getElementsByTagName("info"),g=e.getElementsByTagName("common"),_=e.getElementsByTagName("page"),b=e.getElementsByTagName("char"),$=e.getElementsByTagName("kerning"),j=e.getElementsByTagName("distanceField"),_e=0;_e<d.length;_e++)h.info.push({face:d[_e].getAttribute("face"),size:parseInt(d[_e].getAttribute("size"),10)});for(var _e=0;_e<g.length;_e++)h.common.push({lineHeight:parseInt(g[_e].getAttribute("lineHeight"),10)});for(var _e=0;_e<_.length;_e++)h.page.push({id:parseInt(_[_e].getAttribute("id"),10)||0,file:_[_e].getAttribute("file")});for(var _e=0;_e<b.length;_e++){var et=b[_e];h.char.push({id:parseInt(et.getAttribute("id"),10),page:parseInt(et.getAttribute("page"),10)||0,x:parseInt(et.getAttribute("x"),10),y:parseInt(et.getAttribute("y"),10),width:parseInt(et.getAttribute("width"),10),height:parseInt(et.getAttribute("height"),10),xoffset:parseInt(et.getAttribute("xoffset"),10),yoffset:parseInt(et.getAttribute("yoffset"),10),xadvance:parseInt(et.getAttribute("xadvance"),10)})}for(var _e=0;_e<$.length;_e++)h.kerning.push({first:parseInt($[_e].getAttribute("first"),10),second:parseInt($[_e].getAttribute("second"),10),amount:parseInt($[_e].getAttribute("amount"),10)});for(var _e=0;_e<j.length;_e++)h.distanceField.push({fieldType:j[_e].getAttribute("fieldType"),distanceRange:parseInt(j[_e].getAttribute("distanceRange"),10)});return h},o}(),XMLStringFormat=function(){function o(){}return o.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var h=new globalThis.DOMParser().parseFromString(e,"text/xml");return XMLFormat.test(h)}return!1},o.parse=function(e){var h=new globalThis.DOMParser().parseFromString(e,"text/xml");return XMLFormat.parse(h)},o}(),formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(o){for(var e=0;e<formats.length;e++)if(formats[e].test(o))return formats[e];return null}function generateFillStyle(o,e,h,d,g,_){var b=h.fill;if(Array.isArray(b)){if(b.length===1)return b[0]}else return b;var $,j=h.dropShadow?h.dropShadowDistance:0,_e=h.padding||0,et=o.width/d-j-_e*2,rt=o.height/d-j-_e*2,tt=b.slice(),nt=h.fillGradientStops.slice();if(!nt.length)for(var st=tt.length+1,at=1;at<st;++at)nt.push(at/st);if(tt.unshift(b[0]),nt.unshift(0),tt.push(b[b.length-1]),nt.push(1),h.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){$=e.createLinearGradient(et/2,_e,et/2,rt+_e);for(var ct=0,it=_.fontProperties.fontSize+h.strokeThickness,lt=it/rt,at=0;at<g.length;at++)for(var ht=_.lineHeight*at,ut=0;ut<tt.length;ut++){var dt=0;typeof nt[ut]=="number"?dt=nt[ut]:dt=ut/tt.length;var pt=ht/rt+dt*lt,mt=Math.max(ct,pt);mt=Math.min(mt,1),$.addColorStop(mt,tt[ut]),ct=mt}}else{$=e.createLinearGradient(_e,rt/2,et+_e,rt/2);for(var yt=tt.length+1,xt=1,at=0;at<tt.length;at++){var Tt=void 0;typeof nt[at]=="number"?Tt=nt[at]:Tt=xt/yt,$.addColorStop(Tt,tt[at]),xt++}}return $}function drawGlyph(o,e,h,d,g,_,b){var $=h.text,j=h.fontProperties;e.translate(d,g),e.scale(_,_);var _e=b.strokeThickness/2,et=-(b.strokeThickness/2);if(e.font=b.toFontString(),e.lineWidth=b.strokeThickness,e.textBaseline=b.textBaseline,e.lineJoin=b.lineJoin,e.miterLimit=b.miterLimit,e.fillStyle=generateFillStyle(o,e,b,_,[$],h),e.strokeStyle=b.stroke,b.dropShadow){var rt=b.dropShadowColor,tt=hex2rgb(typeof rt=="number"?rt:string2hex(rt)),nt=b.dropShadowBlur*_,st=b.dropShadowDistance*_;e.shadowColor="rgba("+tt[0]*255+","+tt[1]*255+","+tt[2]*255+","+b.dropShadowAlpha+")",e.shadowBlur=nt,e.shadowOffsetX=Math.cos(b.dropShadowAngle)*st,e.shadowOffsetY=Math.sin(b.dropShadowAngle)*st}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;b.stroke&&b.strokeThickness&&e.strokeText($,_e,et+h.lineHeight-j.descent),b.fill&&e.fillText($,_e,et+h.lineHeight-j.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function splitTextToCharacters(o){return Array.from?Array.from(o):o.split("")}function resolveCharacters(o){typeof o=="string"&&(o=[o]);for(var e=[],h=0,d=o.length;h<d;h++){var g=o[h];if(Array.isArray(g)){if(g.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+g.length+".");var _=g[0].charCodeAt(0),b=g[1].charCodeAt(0);if(b<_)throw new Error("[BitmapFont]: Invalid character range.");for(var $=_,j=b;$<=j;$++)e.push(String.fromCharCode($))}else e.push.apply(e,splitTextToCharacters(g))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function extractCharCode(o){return o.codePointAt?o.codePointAt(0):o.charCodeAt(0)}var BitmapFont=function(){function o(e,h,d){var g,_,b=e.info[0],$=e.common[0],j=e.page[0],_e=e.distanceField[0],et=getResolutionOfUrl(j.file),rt={};this._ownsTextures=d,this.font=b.face,this.size=b.size,this.lineHeight=$.lineHeight/et,this.chars={},this.pageTextures=rt;for(var tt=0;tt<e.page.length;tt++){var nt=e.page[tt],st=nt.id,at=nt.file;rt[st]=h instanceof Array?h[tt]:h[at],(_e==null?void 0:_e.fieldType)&&_e.fieldType!=="none"&&(rt[st].baseTexture.alphaMode=ALPHA_MODES$3.NO_PREMULTIPLIED_ALPHA)}for(var tt=0;tt<e.char.length;tt++){var ct=e.char[tt],st=ct.id,it=ct.page,lt=e.char[tt],ht=lt.x,ut=lt.y,dt=lt.width,pt=lt.height,mt=lt.xoffset,yt=lt.yoffset,xt=lt.xadvance;ht/=et,ut/=et,dt/=et,pt/=et,mt/=et,yt/=et,xt/=et;var Tt=new Rectangle(ht+rt[it].frame.x/et,ut+rt[it].frame.y/et,dt,pt);this.chars[st]={xOffset:mt,yOffset:yt,xAdvance:xt,kerning:{},texture:new Texture$1(rt[it].baseTexture,Tt),page:it}}for(var tt=0;tt<e.kerning.length;tt++){var _t=e.kerning[tt],Mt=_t.first,Lt=_t.second,Pt=_t.amount;Mt/=et,Lt/=et,Pt/=et,this.chars[Lt]&&(this.chars[Lt].kerning[Mt]=Pt)}this.distanceFieldRange=_e==null?void 0:_e.distanceRange,this.distanceFieldType=(_=(g=_e==null?void 0:_e.fieldType)===null||g===void 0?void 0:g.toLowerCase())!==null&&_!==void 0?_:"none"}return o.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},o.install=function(e,h,d){var g;if(e instanceof BitmapFontData)g=e;else{var _=autoDetectFormat(e);if(!_)throw new Error("Unrecognized data format for font.");g=_.parse(e)}h instanceof Texture$1&&(h=[h]);var b=new o(g,h,d);return o.available[b.font]=b,b},o.uninstall=function(e){var h=o.available[e];if(!h)throw new Error("No font found named '"+e+"'");h.destroy(),delete o.available[e]},o.from=function(e,h,d){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var g=Object.assign({},o.defaultOptions,d),_=g.chars,b=g.padding,$=g.resolution,j=g.textureWidth,_e=g.textureHeight,et=resolveCharacters(_),rt=h instanceof TextStyle?h:new TextStyle(h),tt=j,nt=new BitmapFontData;nt.info[0]={face:rt.fontFamily,size:rt.fontSize},nt.common[0]={lineHeight:rt.fontSize};for(var st=0,at=0,ct,it,lt,ht=0,ut=[],dt=0;dt<et.length;dt++){ct||(ct=document.createElement("canvas"),ct.width=j,ct.height=_e,it=ct.getContext("2d"),lt=new BaseTexture(ct,{resolution:$}),ut.push(new Texture$1(lt)),nt.page.push({id:ut.length-1,file:""}));var pt=TextMetrics.measureText(et[dt],rt,!1,ct),mt=pt.width,yt=Math.ceil(pt.height),xt=Math.ceil((rt.fontStyle==="italic"?2:1)*mt);if(at>=_e-yt*$){if(at===0)throw new Error("[BitmapFont] textureHeight "+_e+"px is "+("too small for "+rt.fontSize+"px fonts"));--dt,ct=null,it=null,lt=null,at=0,st=0,ht=0;continue}if(ht=Math.max(yt+pt.fontProperties.descent,ht),xt*$+st>=tt){--dt,at+=ht*$,at=Math.ceil(at),st=0,ht=0;continue}drawGlyph(ct,it,pt,st,at,$,rt);var Tt=extractCharCode(pt.text);nt.char.push({id:Tt,page:ut.length-1,x:st/$,y:at/$,width:xt,height:yt,xoffset:0,yoffset:0,xadvance:Math.ceil(mt-(rt.dropShadow?rt.dropShadowDistance:0)-(rt.stroke?rt.strokeThickness:0))}),st+=(xt+2*b)*$,st=Math.ceil(st)}for(var dt=0,_t=et.length;dt<_t;dt++)for(var Mt=et[dt],Lt=0;Lt<_t;Lt++){var Pt=et[Lt],It=it.measureText(Mt).width,Et=it.measureText(Pt).width,Ct=it.measureText(Mt+Pt).width,St=Ct-(It+Et);St&&nt.kerning.push({first:extractCharCode(Mt),second:extractCharCode(Pt),amount:St})}var At=new o(nt,ut,!0);return o.available[e]!==void 0&&o.uninstall(e),o.available[e]=At,At},o.ALPHA=[["a","z"],["A","Z"]," "],o.NUMERIC=[["0","9"]],o.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],o.ASCII=[[" ","~"]],o.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:o.ALPHANUMERIC},o.available={},o}(),msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[];(function(o){__extends$8(e,o);function e(h,d){d===void 0&&(d={});var g=o.call(this)||this;g._tint=16777215;var _=Object.assign({},e.styleDefaults,d),b=_.align,$=_.tint,j=_.maxWidth,_e=_.letterSpacing,et=_.fontName,rt=_.fontSize;if(!BitmapFont.available[et])throw new Error('Missing BitmapFont "'+et+'"');return g._activePagesMeshData=[],g._textWidth=0,g._textHeight=0,g._align=b,g._tint=$,g._fontName=et,g._fontSize=rt||BitmapFont.available[et].size,g.text=h,g._maxWidth=j,g._maxLineHeight=0,g._letterSpacing=_e,g._anchor=new ObservablePoint(function(){g.dirty=!0},g,0,0),g._roundPixels=settings.ROUND_PIXELS,g.dirty=!0,g._textureCache={},g}return e.prototype.updateText=function(){for(var h,d=BitmapFont.available[this._fontName],g=this._fontSize/d.size,_=new Point,b=[],$=[],j=[],_e=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",et=splitTextToCharacters(_e),rt=this._maxWidth*d.size/this._fontSize,tt=d.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,nt=null,st=0,at=0,ct=0,it=-1,lt=0,ht=0,ut=0,dt=0,pt=0;pt<et.length;pt++){var mt=et[pt],yt=extractCharCode(mt);if(/(?:\s)/.test(mt)&&(it=pt,lt=st,dt++),mt==="\r"||mt===`
`){$.push(st),j.push(-1),at=Math.max(at,st),++ct,++ht,_.x=0,_.y+=d.lineHeight,nt=null,dt=0;continue}var xt=d.chars[yt];if(!!xt){nt&&xt.kerning[nt]&&(_.x+=xt.kerning[nt]);var Tt=charRenderDataPool.pop()||{texture:Texture$1.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};Tt.texture=xt.texture,Tt.line=ct,Tt.charCode=yt,Tt.position.x=_.x+xt.xOffset+this._letterSpacing/2,Tt.position.y=_.y+xt.yOffset,Tt.prevSpaces=dt,b.push(Tt),st=Tt.position.x+Math.max(xt.xAdvance,xt.texture.orig.width),_.x+=xt.xAdvance+this._letterSpacing,ut=Math.max(ut,xt.yOffset+xt.texture.height),nt=yt,it!==-1&&rt>0&&_.x>rt&&(++ht,removeItems(b,1+it-ht,1+pt-it),pt=it,it=-1,$.push(lt),j.push(b.length>0?b[b.length-1].prevSpaces:0),at=Math.max(at,lt),ct++,_.x=0,_.y+=d.lineHeight,nt=null,dt=0)}}var _t=et[et.length-1];_t!=="\r"&&_t!==`
`&&(/(?:\s)/.test(_t)&&(st=lt),$.push(st),at=Math.max(at,st),j.push(-1));for(var Mt=[],pt=0;pt<=ct;pt++){var Lt=0;this._align==="right"?Lt=at-$[pt]:this._align==="center"?Lt=(at-$[pt])/2:this._align==="justify"&&(Lt=j[pt]<0?0:(at-$[pt])/j[pt]),Mt.push(Lt)}for(var Pt=b.length,It={},Et=[],Ct=this._activePagesMeshData,pt=0;pt<Ct.length;pt++)tt.push(Ct[pt]);for(var pt=0;pt<Pt;pt++){var St=b[pt].texture,At=St.baseTexture.uid;if(!It[At]){var Rt=tt.pop();if(!Rt){var Ot=new MeshGeometry,Gt=void 0,Qt=void 0;d.distanceFieldType==="none"?(Gt=new MeshMaterial(Texture$1.EMPTY),Qt=BLEND_MODES$3.NORMAL):(Gt=new MeshMaterial(Texture$1.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),Qt=BLEND_MODES$3.NORMAL_NPM);var ir=new Mesh$1(Ot,Gt);ir.blendMode=Qt,Rt={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ir,vertices:null,uvs:null,indices:null}}Rt.index=0,Rt.indexCount=0,Rt.vertexCount=0,Rt.uvsCount=0,Rt.total=0;var tr=this._textureCache;tr[At]=tr[At]||new Texture$1(St.baseTexture),Rt.mesh.texture=tr[At],Rt.mesh.tint=this._tint,Et.push(Rt),It[At]=Rt}It[At].total++}for(var pt=0;pt<Ct.length;pt++)Et.indexOf(Ct[pt])===-1&&this.removeChild(Ct[pt].mesh);for(var pt=0;pt<Et.length;pt++)Et[pt].mesh.parent!==this&&this.addChild(Et[pt].mesh);this._activePagesMeshData=Et;for(var pt in It){var Rt=It[pt],Wt=Rt.total;if(!(((h=Rt.indices)===null||h===void 0?void 0:h.length)>6*Wt)||Rt.vertices.length<Mesh$1.BATCHABLE_SIZE*2)Rt.vertices=new Float32Array(4*2*Wt),Rt.uvs=new Float32Array(4*2*Wt),Rt.indices=new Uint16Array(6*Wt);else for(var wr=Rt.total,Lr=Rt.vertices,Er=wr*4*2;Er<Lr.length;Er++)Lr[Er]=0;Rt.mesh.size=6*Wt}for(var pt=0;pt<Pt;pt++){var mt=b[pt],Ar=mt.position.x+Mt[mt.line]*(this._align==="justify"?mt.prevSpaces:1);this._roundPixels&&(Ar=Math.round(Ar));var yr=Ar*g,Yt=mt.position.y*g,St=mt.texture,Xt=It[St.baseTexture.uid],ur=St.frame,br=St._uvs,_r=Xt.index++;Xt.indices[_r*6+0]=0+_r*4,Xt.indices[_r*6+1]=1+_r*4,Xt.indices[_r*6+2]=2+_r*4,Xt.indices[_r*6+3]=0+_r*4,Xt.indices[_r*6+4]=2+_r*4,Xt.indices[_r*6+5]=3+_r*4,Xt.vertices[_r*8+0]=yr,Xt.vertices[_r*8+1]=Yt,Xt.vertices[_r*8+2]=yr+ur.width*g,Xt.vertices[_r*8+3]=Yt,Xt.vertices[_r*8+4]=yr+ur.width*g,Xt.vertices[_r*8+5]=Yt+ur.height*g,Xt.vertices[_r*8+6]=yr,Xt.vertices[_r*8+7]=Yt+ur.height*g,Xt.uvs[_r*8+0]=br.x0,Xt.uvs[_r*8+1]=br.y0,Xt.uvs[_r*8+2]=br.x1,Xt.uvs[_r*8+3]=br.y1,Xt.uvs[_r*8+4]=br.x2,Xt.uvs[_r*8+5]=br.y2,Xt.uvs[_r*8+6]=br.x3,Xt.uvs[_r*8+7]=br.y3}this._textWidth=at*g,this._textHeight=(_.y+d.lineHeight)*g;for(var pt in It){var Rt=It[pt];if(this.anchor.x!==0||this.anchor.y!==0)for(var Pr=0,Or=this._textWidth*this.anchor.x,Nr=this._textHeight*this.anchor.y,an=0;an<Rt.total;an++)Rt.vertices[Pr++]-=Or,Rt.vertices[Pr++]-=Nr,Rt.vertices[Pr++]-=Or,Rt.vertices[Pr++]-=Nr,Rt.vertices[Pr++]-=Or,Rt.vertices[Pr++]-=Nr,Rt.vertices[Pr++]-=Or,Rt.vertices[Pr++]-=Nr;this._maxLineHeight=ut*g;var $t=Rt.mesh.geometry.getBuffer("aVertexPosition"),kt=Rt.mesh.geometry.getBuffer("aTextureCoord"),hr=Rt.mesh.geometry.getIndex();$t.data=Rt.vertices,kt.data=Rt.uvs,hr.data=Rt.indices,$t.update(),kt.update(),hr.update()}for(var pt=0;pt<b.length;pt++)charRenderDataPool.push(b[pt])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(h){var d=BitmapFont.available[this._fontName],g=d.distanceFieldRange,_=d.distanceFieldType,b=d.size;if(_!=="none")for(var $=this.worldTransform,j=$.a,_e=$.b,et=$.c,rt=$.d,tt=Math.sqrt(j*j+_e*_e),nt=Math.sqrt(et*et+rt*rt),st=(Math.abs(tt)+Math.abs(nt))/2,at=this._fontSize/b,ct=0,it=this._activePagesMeshData;ct<it.length;ct++){var lt=it[ct];lt.mesh.shader.uniforms.uFWidth=st*g*at*h.resolution}o.prototype._render.call(this,h)},e.prototype.getLocalBounds=function(){return this.validate(),o.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(h){if(this._tint!==h){this._tint=h;for(var d=0;d<this._activePagesMeshData.length;d++)this._activePagesMeshData[d].mesh.tint=h}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(h){this._align!==h&&(this._align=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(h){if(!BitmapFont.available[h])throw new Error('Missing BitmapFont "'+h+'"');this._fontName!==h&&(this._fontName=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(h){this._fontSize!==h&&(this._fontSize=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(h){typeof h=="number"?this._anchor.set(h):this._anchor.copyFrom(h)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(h){h=String(h==null?"":h),this._text!==h&&(this._text=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(h){this._maxWidth!==h&&(this._maxWidth=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(h){this._letterSpacing!==h&&(this._letterSpacing=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(h){h!==this._roundPixels&&(this._roundPixels=h,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(h){var d=this._textureCache;for(var g in d){var _=d[g];_.destroy(),delete d[g]}this._textureCache=null,o.prototype.destroy.call(this,h)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e})(Container);var BitmapFontLoader=function(){function o(){}return o.add=function(){LoaderResource.setExtensionXhrType("fnt",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},o.use=function(e,h){var d=autoDetectFormat(e.data);if(!d){h();return}for(var g=o.getBaseUrl(this,e),_=d.parse(e.data),b={},$=function(at){b[at.metadata.pageFile]=at.texture,Object.keys(b).length===_.page.length&&(e.bitmapFont=BitmapFont.install(_,b,!0),h())},j=0;j<_.page.length;++j){var _e=_.page[j].file,et=g+_e,rt=!1;for(var tt in this.resources){var nt=this.resources[tt];if(nt.url===et){nt.metadata.pageFile=_e,nt.texture?$(nt):nt.onAfterMiddleware.add($),rt=!0;break}}if(!rt){var st={crossOrigin:e.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:_e},e.metadata.imageMetadata),parentResource:e};this.add(et,st,$)}}},o.getBaseUrl=function(e,h){var d=h.isDataUrl?"":o.dirname(h.url);return h.isDataUrl&&(d==="."&&(d=""),e.baseUrl&&d&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(d+="/")),d=d.replace(e.baseUrl,""),d&&d.charAt(d.length-1)!=="/"&&(d+="/"),d},o.dirname=function(e){var h=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return h===e?".":h===""?"/":h},o}();/*!
 * @pixi/filter-alpha - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$7=function(o,e){return extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$7(o,e)};function __extends$7(o,e){extendStatics$7(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var fragment$l=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(o){__extends$7(e,o);function e(h){h===void 0&&(h=1);var d=o.call(this,defaultVertex$1,fragment$l,{uAlpha:1})||this;return d.alpha=h,d}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(h){this.uniforms.uAlpha=h},enumerable:!1,configurable:!0}),e})(Filter);/*!
 * @pixi/filter-blur - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$6=function(o,e){return extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$6(o,e)};function __extends$6(o,e){extendStatics$6(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(o,e){var h=Math.ceil(o/2),d=vertTemplate,g="",_;e?_="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":_="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var b=0;b<o;b++){var $=_.replace("%index%",b.toString());$=$.replace("%sampleIndex%",b-(h-1)+".0"),g+=$,g+=`
`}return d=d.replace("%blur%",g),d=d.replace("%size%",o.toString()),d}var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(o){for(var e=GAUSSIAN_VALUES[o],h=e.length,d=fragTemplate,g="",_="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",b,$=0;$<o;$++){var j=_.replace("%index%",$.toString());b=$,$>=h&&(b=o-$-1),j=j.replace("%value%",e[b].toString()),g+=j,g+=`
`}return d=d.replace("%blur%",g),d=d.replace("%size%",o.toString()),d}/*!
 * @pixi/constants - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$1;(function(o){o[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2"})(ENV$1||(ENV$1={}));var RENDERER_TYPE$1;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.WEBGL=1]="WEBGL",o[o.CANVAS=2]="CANVAS"})(RENDERER_TYPE$1||(RENDERER_TYPE$1={}));var BUFFER_BITS$1;(function(o){o[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL"})(BUFFER_BITS$1||(BUFFER_BITS$1={}));var BLEND_MODES$1;(function(o){o[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR"})(BLEND_MODES$1||(BLEND_MODES$1={}));var DRAW_MODES$1;(function(o){o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$1||(DRAW_MODES$1={}));var FORMATS$1;(function(o){o[o.RGBA=6408]="RGBA",o[o.RGB=6407]="RGB",o[o.RG=33319]="RG",o[o.RED=6403]="RED",o[o.RGBA_INTEGER=36249]="RGBA_INTEGER",o[o.RGB_INTEGER=36248]="RGB_INTEGER",o[o.RG_INTEGER=33320]="RG_INTEGER",o[o.RED_INTEGER=36244]="RED_INTEGER",o[o.ALPHA=6406]="ALPHA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$1||(FORMATS$1={}));var TARGETS$1;(function(o){o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$1||(TARGETS$1={}));var TYPES$1;(function(o){o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",o[o.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",o[o.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",o[o.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",o[o.BYTE=5120]="BYTE",o[o.SHORT=5122]="SHORT",o[o.INT=5124]="INT",o[o.FLOAT=5126]="FLOAT",o[o.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",o[o.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$1||(TYPES$1={}));var SAMPLER_TYPES$1;(function(o){o[o.FLOAT=0]="FLOAT",o[o.INT=1]="INT",o[o.UINT=2]="UINT"})(SAMPLER_TYPES$1||(SAMPLER_TYPES$1={}));var SCALE_MODES$1;(function(o){o[o.NEAREST=0]="NEAREST",o[o.LINEAR=1]="LINEAR"})(SCALE_MODES$1||(SCALE_MODES$1={}));var WRAP_MODES$1;(function(o){o[o.CLAMP=33071]="CLAMP",o[o.REPEAT=10497]="REPEAT",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$1||(WRAP_MODES$1={}));var MIPMAP_MODES$1;(function(o){o[o.OFF=0]="OFF",o[o.POW2=1]="POW2",o[o.ON=2]="ON",o[o.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$1||(MIPMAP_MODES$1={}));var ALPHA_MODES$1;(function(o){o[o.NPM=0]="NPM",o[o.UNPACK=1]="UNPACK",o[o.PMA=2]="PMA",o[o.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",o[o.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",o[o.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",o[o.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$1||(ALPHA_MODES$1={}));var CLEAR_MODES$1;(function(o){o[o.NO=0]="NO",o[o.YES=1]="YES",o[o.AUTO=2]="AUTO",o[o.BLEND=0]="BLEND",o[o.CLEAR=1]="CLEAR",o[o.BLIT=2]="BLIT"})(CLEAR_MODES$1||(CLEAR_MODES$1={}));var GC_MODES$1;(function(o){o[o.AUTO=0]="AUTO",o[o.MANUAL=1]="MANUAL"})(GC_MODES$1||(GC_MODES$1={}));var PRECISION$1;(function(o){o.LOW="lowp",o.MEDIUM="mediump",o.HIGH="highp"})(PRECISION$1||(PRECISION$1={}));var MASK_TYPES$1;(function(o){o[o.NONE=0]="NONE",o[o.SCISSOR=1]="SCISSOR",o[o.STENCIL=2]="STENCIL",o[o.SPRITE=3]="SPRITE"})(MASK_TYPES$1||(MASK_TYPES$1={}));var MSAA_QUALITY$1;(function(o){o[o.NONE=0]="NONE",o[o.LOW=2]="LOW",o[o.MEDIUM=4]="MEDIUM",o[o.HIGH=8]="HIGH"})(MSAA_QUALITY$1||(MSAA_QUALITY$1={}));var BUFFER_TYPE$1;(function(o){o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));var BlurFilterPass=function(o){__extends$6(e,o);function e(h,d,g,_,b){d===void 0&&(d=8),g===void 0&&(g=4),_===void 0&&(_=settings.FILTER_RESOLUTION),b===void 0&&(b=5);var $=this,j=generateBlurVertSource(b,h),_e=generateBlurFragSource(b);return $=o.call(this,j,_e)||this,$.horizontal=h,$.resolution=_,$._quality=0,$.quality=g,$.blur=d,$}return e.prototype.apply=function(h,d,g,_){if(g?this.horizontal?this.uniforms.strength=1/g.width*(g.width/d.width):this.uniforms.strength=1/g.height*(g.height/d.height):this.horizontal?this.uniforms.strength=1/h.renderer.width*(h.renderer.width/d.width):this.uniforms.strength=1/h.renderer.height*(h.renderer.height/d.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)h.applyFilter(this,d,g,_);else{var b=h.getFilterTexture(),$=h.renderer,j=d,_e=b;this.state.blend=!1,h.applyFilter(this,j,_e,CLEAR_MODES$1.CLEAR);for(var et=1;et<this.passes-1;et++){h.bindAndClear(j,CLEAR_MODES$1.BLIT),this.uniforms.uSampler=_e;var rt=_e;_e=j,j=rt,$.shader.bind(this),$.geometry.draw(5)}this.state.blend=!0,h.applyFilter(this,_e,g,_),h.returnFilterTexture(b)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(h){this.padding=1+Math.abs(h)*2,this.strength=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(h){this._quality=h,this.passes=h},enumerable:!1,configurable:!0}),e}(Filter);(function(o){__extends$6(e,o);function e(h,d,g,_){h===void 0&&(h=8),d===void 0&&(d=4),g===void 0&&(g=settings.FILTER_RESOLUTION),_===void 0&&(_=5);var b=o.call(this)||this;return b.blurXFilter=new BlurFilterPass(!0,h,d,g,_),b.blurYFilter=new BlurFilterPass(!1,h,d,g,_),b.resolution=g,b.quality=d,b.blur=h,b.repeatEdgePixels=!1,b}return e.prototype.apply=function(h,d,g,_){var b=Math.abs(this.blurXFilter.strength),$=Math.abs(this.blurYFilter.strength);if(b&&$){var j=h.getFilterTexture();this.blurXFilter.apply(h,d,j,CLEAR_MODES$1.CLEAR),this.blurYFilter.apply(h,j,g,_),h.returnFilterTexture(j)}else $?this.blurYFilter.apply(h,d,g,_):this.blurXFilter.apply(h,d,g,_)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(h){this.blurXFilter.blur=this.blurYFilter.blur=h,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(h){this.blurXFilter.quality=this.blurYFilter.quality=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(h){this.blurXFilter.blur=h,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(h){this.blurYFilter.blur=h,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(h){this.blurYFilter.blendMode=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(h){this._repeatEdgePixels=h,this.updatePadding()},enumerable:!1,configurable:!0}),e})(Filter);/*!
 * @pixi/filter-color-matrix - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$5=function(o,e){return extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$5(o,e)};function __extends$5(o,e){extendStatics$5(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var fragment$k=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ColorMatrixFilter=function(o){__extends$5(e,o);function e(){var h=this,d={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return h=o.call(this,defaultFilterVertex,fragment$k,d)||this,h.alpha=1,h}return e.prototype._loadMatrix=function(h,d){d===void 0&&(d=!1);var g=h;d&&(this._multiply(g,this.uniforms.m,h),g=this._colorMatrix(g)),this.uniforms.m=g},e.prototype._multiply=function(h,d,g){return h[0]=d[0]*g[0]+d[1]*g[5]+d[2]*g[10]+d[3]*g[15],h[1]=d[0]*g[1]+d[1]*g[6]+d[2]*g[11]+d[3]*g[16],h[2]=d[0]*g[2]+d[1]*g[7]+d[2]*g[12]+d[3]*g[17],h[3]=d[0]*g[3]+d[1]*g[8]+d[2]*g[13]+d[3]*g[18],h[4]=d[0]*g[4]+d[1]*g[9]+d[2]*g[14]+d[3]*g[19]+d[4],h[5]=d[5]*g[0]+d[6]*g[5]+d[7]*g[10]+d[8]*g[15],h[6]=d[5]*g[1]+d[6]*g[6]+d[7]*g[11]+d[8]*g[16],h[7]=d[5]*g[2]+d[6]*g[7]+d[7]*g[12]+d[8]*g[17],h[8]=d[5]*g[3]+d[6]*g[8]+d[7]*g[13]+d[8]*g[18],h[9]=d[5]*g[4]+d[6]*g[9]+d[7]*g[14]+d[8]*g[19]+d[9],h[10]=d[10]*g[0]+d[11]*g[5]+d[12]*g[10]+d[13]*g[15],h[11]=d[10]*g[1]+d[11]*g[6]+d[12]*g[11]+d[13]*g[16],h[12]=d[10]*g[2]+d[11]*g[7]+d[12]*g[12]+d[13]*g[17],h[13]=d[10]*g[3]+d[11]*g[8]+d[12]*g[13]+d[13]*g[18],h[14]=d[10]*g[4]+d[11]*g[9]+d[12]*g[14]+d[13]*g[19]+d[14],h[15]=d[15]*g[0]+d[16]*g[5]+d[17]*g[10]+d[18]*g[15],h[16]=d[15]*g[1]+d[16]*g[6]+d[17]*g[11]+d[18]*g[16],h[17]=d[15]*g[2]+d[16]*g[7]+d[17]*g[12]+d[18]*g[17],h[18]=d[15]*g[3]+d[16]*g[8]+d[17]*g[13]+d[18]*g[18],h[19]=d[15]*g[4]+d[16]*g[9]+d[17]*g[14]+d[18]*g[19]+d[19],h},e.prototype._colorMatrix=function(h){var d=new Float32Array(h);return d[4]/=255,d[9]/=255,d[14]/=255,d[19]/=255,d},e.prototype.brightness=function(h,d){var g=[h,0,0,0,0,0,h,0,0,0,0,0,h,0,0,0,0,0,1,0];this._loadMatrix(g,d)},e.prototype.tint=function(h,d){var g=h>>16&255,_=h>>8&255,b=h&255,$=[g/255,0,0,0,0,0,_/255,0,0,0,0,0,b/255,0,0,0,0,0,1,0];this._loadMatrix($,d)},e.prototype.greyscale=function(h,d){var g=[h,h,h,0,0,h,h,h,0,0,h,h,h,0,0,0,0,0,1,0];this._loadMatrix(g,d)},e.prototype.blackAndWhite=function(h){var d=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.hue=function(h,d){h=(h||0)/180*Math.PI;var g=Math.cos(h),_=Math.sin(h),b=Math.sqrt,$=1/3,j=b($),_e=g+(1-g)*$,et=$*(1-g)-j*_,rt=$*(1-g)+j*_,tt=$*(1-g)+j*_,nt=g+$*(1-g),st=$*(1-g)-j*_,at=$*(1-g)-j*_,ct=$*(1-g)+j*_,it=g+$*(1-g),lt=[_e,et,rt,0,0,tt,nt,st,0,0,at,ct,it,0,0,0,0,0,1,0];this._loadMatrix(lt,d)},e.prototype.contrast=function(h,d){var g=(h||0)+1,_=-.5*(g-1),b=[g,0,0,0,_,0,g,0,0,_,0,0,g,0,_,0,0,0,1,0];this._loadMatrix(b,d)},e.prototype.saturate=function(h,d){h===void 0&&(h=0);var g=h*2/3+1,_=(g-1)*-.5,b=[g,_,_,0,0,_,g,_,0,0,_,_,g,0,0,0,0,0,1,0];this._loadMatrix(b,d)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(h){var d=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.sepia=function(h){var d=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.technicolor=function(h){var d=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.polaroid=function(h){var d=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.toBGR=function(h){var d=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.kodachrome=function(h){var d=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.browni=function(h){var d=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.vintage=function(h){var d=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.colorTone=function(h,d,g,_,b){h=h||.2,d=d||.15,g=g||16770432,_=_||3375104;var $=(g>>16&255)/255,j=(g>>8&255)/255,_e=(g&255)/255,et=(_>>16&255)/255,rt=(_>>8&255)/255,tt=(_&255)/255,nt=[.3,.59,.11,0,0,$,j,_e,h,0,et,rt,tt,d,0,$-et,j-rt,_e-tt,0,0];this._loadMatrix(nt,b)},e.prototype.night=function(h,d){h=h||.1;var g=[h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0];this._loadMatrix(g,d)},e.prototype.predator=function(h,d){var g=[11.224130630493164*h,-4.794486999511719*h,-2.8746118545532227*h,0*h,.40342438220977783*h,-3.6330697536468506*h,9.193157196044922*h,-2.951810836791992*h,0*h,-1.316135048866272*h,-3.2184197902679443*h,-4.2375030517578125*h,7.476448059082031*h,0*h,.8044459223747253*h,0,0,0,1,0];this._loadMatrix(g,d)},e.prototype.lsd=function(h){var d=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(d,h)},e.prototype.reset=function(){var h=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(h,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(h){this.uniforms.m=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(h){this.uniforms.uAlpha=h},enumerable:!1,configurable:!0}),e}(Filter);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$4=function(o,e){return extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$4(o,e)};function __extends$4(o,e){extendStatics$4(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var fragment$j=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$i=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(o){__extends$4(e,o);function e(h,d){var g=this,_=new Matrix;return h.renderable=!1,g=o.call(this,vertex$i,fragment$j,{mapSampler:h._texture,filterMatrix:_,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,g.maskSprite=h,g.maskMatrix=_,d==null&&(d=20),g.scale=new Point(d,d),g}return e.prototype.apply=function(h,d,g,_){this.uniforms.filterMatrix=h.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var b=this.maskSprite.worldTransform,$=Math.sqrt(b.a*b.a+b.b*b.b),j=Math.sqrt(b.c*b.c+b.d*b.d);$!==0&&j!==0&&(this.uniforms.rotation[0]=b.a/$,this.uniforms.rotation[1]=b.b/$,this.uniforms.rotation[2]=b.c/j,this.uniforms.rotation[3]=b.d/j),h.applyFilter(this,d,g,_)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(h){this.uniforms.mapSampler=h},enumerable:!1,configurable:!0}),e})(Filter);/*!
 * @pixi/filter-fxaa - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$3=function(o,e){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$3(o,e)};function __extends$3(o,e){extendStatics$3(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var vertex$h=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fragment$i=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(o){__extends$3(e,o);function e(){return o.call(this,vertex$h,fragment$i)||this}return e})(Filter);/*!
 * @pixi/filter-noise - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(o,e){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$2(o,e)};function __extends$2(o,e){extendStatics$2(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var fragment$h=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(o){__extends$2(e,o);function e(h,d){h===void 0&&(h=.5),d===void 0&&(d=Math.random());var g=o.call(this,defaultFilterVertex,fragment$h,{uNoise:0,uSeed:0})||this;return g.noise=h,g.seed=d,g}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(h){this.uniforms.uNoise=h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(h){this.uniforms.uSeed=h},enumerable:!1,configurable:!0}),e})(Filter);/*!
 * @pixi/mixin-cache-as-bitmap - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV;(function(o){o[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2"})(ENV||(ENV={}));var RENDERER_TYPE;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.WEBGL=1]="WEBGL",o[o.CANVAS=2]="CANVAS"})(RENDERER_TYPE||(RENDERER_TYPE={}));var BUFFER_BITS;(function(o){o[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL"})(BUFFER_BITS||(BUFFER_BITS={}));var BLEND_MODES;(function(o){o[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR"})(BLEND_MODES||(BLEND_MODES={}));var DRAW_MODES;(function(o){o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES||(DRAW_MODES={}));var FORMATS;(function(o){o[o.RGBA=6408]="RGBA",o[o.RGB=6407]="RGB",o[o.RG=33319]="RG",o[o.RED=6403]="RED",o[o.RGBA_INTEGER=36249]="RGBA_INTEGER",o[o.RGB_INTEGER=36248]="RGB_INTEGER",o[o.RG_INTEGER=33320]="RG_INTEGER",o[o.RED_INTEGER=36244]="RED_INTEGER",o[o.ALPHA=6406]="ALPHA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS||(FORMATS={}));var TARGETS;(function(o){o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS||(TARGETS={}));var TYPES;(function(o){o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",o[o.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",o[o.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",o[o.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",o[o.BYTE=5120]="BYTE",o[o.SHORT=5122]="SHORT",o[o.INT=5124]="INT",o[o.FLOAT=5126]="FLOAT",o[o.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",o[o.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES||(TYPES={}));var SAMPLER_TYPES;(function(o){o[o.FLOAT=0]="FLOAT",o[o.INT=1]="INT",o[o.UINT=2]="UINT"})(SAMPLER_TYPES||(SAMPLER_TYPES={}));var SCALE_MODES;(function(o){o[o.NEAREST=0]="NEAREST",o[o.LINEAR=1]="LINEAR"})(SCALE_MODES||(SCALE_MODES={}));var WRAP_MODES;(function(o){o[o.CLAMP=33071]="CLAMP",o[o.REPEAT=10497]="REPEAT",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES||(WRAP_MODES={}));var MIPMAP_MODES;(function(o){o[o.OFF=0]="OFF",o[o.POW2=1]="POW2",o[o.ON=2]="ON",o[o.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES||(MIPMAP_MODES={}));var ALPHA_MODES;(function(o){o[o.NPM=0]="NPM",o[o.UNPACK=1]="UNPACK",o[o.PMA=2]="PMA",o[o.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",o[o.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",o[o.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",o[o.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES||(ALPHA_MODES={}));var CLEAR_MODES;(function(o){o[o.NO=0]="NO",o[o.YES=1]="YES",o[o.AUTO=2]="AUTO",o[o.BLEND=0]="BLEND",o[o.CLEAR=1]="CLEAR",o[o.BLIT=2]="BLIT"})(CLEAR_MODES||(CLEAR_MODES={}));var GC_MODES;(function(o){o[o.AUTO=0]="AUTO",o[o.MANUAL=1]="MANUAL"})(GC_MODES||(GC_MODES={}));var PRECISION;(function(o){o.LOW="lowp",o.MEDIUM="mediump",o.HIGH="highp"})(PRECISION||(PRECISION={}));var MASK_TYPES;(function(o){o[o.NONE=0]="NONE",o[o.SCISSOR=1]="SCISSOR",o[o.STENCIL=2]="STENCIL",o[o.SPRITE=3]="SPRITE"})(MASK_TYPES||(MASK_TYPES={}));var MSAA_QUALITY;(function(o){o[o.NONE=0]="NONE",o[o.LOW=2]="LOW",o[o.MEDIUM=4]="MEDIUM",o[o.HIGH=8]="HIGH"})(MSAA_QUALITY||(MSAA_QUALITY={}));var BUFFER_TYPE;(function(o){o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE||(BUFFER_TYPE={}));var _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1;DisplayObject.prototype._cacheData=null;DisplayObject.prototype._cacheAsBitmapResolution=null;DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY.NONE;var CacheData=function(){function o(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return o}();Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(o){o!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=o,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(o){o!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=o,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(o){if(this._cacheAsBitmap!==o){this._cacheAsBitmap=o;var e;o?(this._cacheData||(this._cacheData=new CacheData),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});DisplayObject.prototype._renderCached=function o(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};DisplayObject.prototype._initCachedDisplayObject=function o(e){var h;if(!(this._cacheData&&this._cacheData.sprite)){var d=this.alpha;this.alpha=1,e.batch.flush();var g=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var _=this.filters[0].padding;g.pad(_)}g.ceil(settings.RESOLUTION);var b=e.renderTexture.current,$=e.renderTexture.sourceFrame.clone(),j=e.renderTexture.destinationFrame.clone(),_e=e.projection.transform,et=RenderTexture.create({width:g.width,height:g.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(h=this.cacheAsBitmapMultisample)!==null&&h!==void 0?h:e.multisample}),rt="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=rt,BaseTexture.addToCache(et.baseTexture,rt),Texture$1.addToCache(et,rt);var tt=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-g.x,-g.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:et,clear:!0,transform:tt,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=_e,e.renderTexture.bind(b,$,j),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=d;var nt=new Sprite$1(et);nt.transform.worldTransform=this.transform.worldTransform,nt.anchor.x=-(g.x/g.width),nt.anchor.y=-(g.y/g.height),nt.alpha=d,nt._bounds=this._bounds,this._cacheData.sprite=nt,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=nt.containsPoint.bind(nt)}};DisplayObject.prototype._renderCachedCanvas=function o(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};DisplayObject.prototype._initCachedDisplayObjectCanvas=function o(e){if(!(this._cacheData&&this._cacheData.sprite)){var h=this.getLocalBounds(null,!0),d=this.alpha;this.alpha=1;var g=e.context,_=e._projTransform;h.ceil(settings.RESOLUTION);var b=RenderTexture.create({width:h.width,height:h.height}),$="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=$,BaseTexture.addToCache(b.baseTexture,$),Texture$1.addToCache(b,$);var j=_tempMatrix;this.transform.localTransform.copyTo(j),j.invert(),j.tx-=h.x,j.ty-=h.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:b,clear:!0,transform:j,skipUpdateTransform:!1}),e.context=g,e._projTransform=_,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=d;var _e=new Sprite$1(b);_e.transform.worldTransform=this.transform.worldTransform,_e.anchor.x=-(h.x/h.width),_e.anchor.y=-(h.y/h.height),_e.alpha=d,_e._bounds=this._bounds,this._cacheData.sprite=_e,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=_e.containsPoint.bind(_e)}};DisplayObject.prototype._calculateCachedBounds=function o(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject.prototype._getCachedLocalBounds=function o(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject.prototype._destroyCachedDisplayObject=function o(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture$1.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject.prototype._cacheAsBitmapDestroy=function o(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.name=null;Container.prototype.getChildByName=function o(e,h){for(var d=0,g=this.children.length;d<g;d++)if(this.children[d].name===e)return this.children[d];if(h)for(var d=0,g=this.children.length;d<g;d++){var _=this.children[d];if(!!_.getChildByName){var b=this.children[d].getChildByName(e,!0);if(b)return b}}return null};/*!
 * @pixi/mixin-get-global-position - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.getGlobalPosition=function o(e,h){return e===void 0&&(e=new Point),h===void 0&&(h=!1),this.parent?this.parent.toGlobal(this.position,e,h):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$1=function(o,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics$1(o,e)};function __extends$1(o,e){extendStatics$1(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}var PlaneGeometry$1=function(o){__extends$1(e,o);function e(h,d,g,_){h===void 0&&(h=100),d===void 0&&(d=100),g===void 0&&(g=10),_===void 0&&(_=10);var b=o.call(this)||this;return b.segWidth=g,b.segHeight=_,b.width=h,b.height=d,b.build(),b}return e.prototype.build=function(){for(var h=this.segWidth*this.segHeight,d=[],g=[],_=[],b=this.segWidth-1,$=this.segHeight-1,j=this.width/b,_e=this.height/$,et=0;et<h;et++){var rt=et%this.segWidth,tt=et/this.segWidth|0;d.push(rt*j,tt*_e),g.push(rt/b,tt/$)}for(var nt=b*$,et=0;et<nt;et++){var st=et%b,at=et/b|0,ct=at*this.segWidth+st,it=at*this.segWidth+st+1,lt=(at+1)*this.segWidth+st,ht=(at+1)*this.segWidth+st+1;_.push(ct,it,lt,it,ht,lt)}this.buffers[0].data=new Float32Array(d),this.buffers[1].data=new Float32Array(g),this.indexBuffer.data=new Uint16Array(_),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(MeshGeometry),RopeGeometry=function(o){__extends$1(e,o);function e(h,d,g){h===void 0&&(h=200),g===void 0&&(g=0);var _=o.call(this,new Float32Array(d.length*4),new Float32Array(d.length*4),new Uint16Array((d.length-1)*6))||this;return _.points=d,_._width=h,_.textureScale=g,_.build(),_}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var h=this.points;if(!!h){var d=this.getBuffer("aVertexPosition"),g=this.getBuffer("aTextureCoord"),_=this.getIndex();if(!(h.length<1)){d.data.length/4!==h.length&&(d.data=new Float32Array(h.length*4),g.data=new Float32Array(h.length*4),_.data=new Uint16Array((h.length-1)*6));var b=g.data,$=_.data;b[0]=0,b[1]=0,b[2]=0,b[3]=1;for(var j=0,_e=h[0],et=this._width*this.textureScale,rt=h.length,tt=0;tt<rt;tt++){var nt=tt*4;if(this.textureScale>0){var st=_e.x-h[tt].x,at=_e.y-h[tt].y,ct=Math.sqrt(st*st+at*at);_e=h[tt],j+=ct/et}else j=tt/(rt-1);b[nt]=j,b[nt+1]=0,b[nt+2]=j,b[nt+3]=1}for(var it=0,tt=0;tt<rt-1;tt++){var nt=tt*2;$[it++]=nt,$[it++]=nt+1,$[it++]=nt+2,$[it++]=nt+2,$[it++]=nt+1,$[it++]=nt+3}g.update(),_.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var h=this.points;if(!(h.length<1)){for(var d=h[0],g,_=0,b=0,$=this.buffers[0].data,j=h.length,_e=0;_e<j;_e++){var et=h[_e],rt=_e*4;_e<h.length-1?g=h[_e+1]:g=et,b=-(g.x-d.x),_=g.y-d.y;var tt=Math.sqrt(_*_+b*b),nt=this.textureScale>0?this.textureScale*this._width/2:this._width/2;_/=tt,b/=tt,_*=nt,b*=nt,$[rt]=et.x+_,$[rt+1]=et.y+b,$[rt+2]=et.x-_,$[rt+3]=et.y-b,d=et}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(MeshGeometry);(function(o){__extends$1(e,o);function e(h,d,g){g===void 0&&(g=0);var _=this,b=new RopeGeometry(h.height,d,g),$=new MeshMaterial(h);return g>0&&(h.baseTexture.wrapMode=WRAP_MODES$3.REPEAT),_=o.call(this,b,$)||this,_.autoUpdate=!0,_}return e.prototype._render=function(h){var d=this.geometry;(this.autoUpdate||d._width!==this.shader.texture.height)&&(d._width=this.shader.texture.height,d.update()),o.prototype._render.call(this,h)},e})(Mesh$1);var SimplePlane=function(o){__extends$1(e,o);function e(h,d,g){var _=this,b=new PlaneGeometry$1(h.width,h.height,d,g),$=new MeshMaterial(Texture$1.WHITE);return _=o.call(this,b,$)||this,_.texture=h,_.autoResize=!0,_}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var h=this.geometry,d=this.shader.texture,g=d.width,_=d.height;this.autoResize&&(h.width!==g||h.height!==_)&&(h.width=this.shader.texture.width,h.height=this.shader.texture.height,h.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(h){this.shader.texture!==h&&(this.shader.texture=h,this._textureID=-1,h.baseTexture.valid?this.textureUpdated():h.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(h){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),o.prototype._render.call(this,h)},e.prototype.destroy=function(h){this.shader.texture.off("update",this.textureUpdated,this),o.prototype.destroy.call(this,h)},e}(Mesh$1);(function(o){__extends$1(e,o);function e(h,d,g,_,b){h===void 0&&(h=Texture$1.EMPTY);var $=this,j=new MeshGeometry(d,g,_);j.getBuffer("aVertexPosition").static=!1;var _e=new MeshMaterial(h);return $=o.call(this,j,_e,null,b)||this,$.autoUpdate=!0,$}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(h){this.geometry.getBuffer("aVertexPosition").data=h},enumerable:!1,configurable:!0}),e.prototype._render=function(h){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),o.prototype._render.call(this,h)},e})(Mesh$1);var DEFAULT_BORDER_SIZE=10;(function(o){__extends$1(e,o);function e(h,d,g,_,b){d===void 0&&(d=DEFAULT_BORDER_SIZE),g===void 0&&(g=DEFAULT_BORDER_SIZE),_===void 0&&(_=DEFAULT_BORDER_SIZE),b===void 0&&(b=DEFAULT_BORDER_SIZE);var $=o.call(this,Texture$1.WHITE,4,4)||this;return $._origWidth=h.orig.width,$._origHeight=h.orig.height,$._width=$._origWidth,$._height=$._origHeight,$._leftWidth=d,$._rightWidth=_,$._topHeight=g,$._bottomHeight=b,$.texture=h,$}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(h){this.geometry.getBuffer("aVertexPosition").data=h},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var h=this.vertices,d=this._getMinScale();h[9]=h[11]=h[13]=h[15]=this._topHeight*d,h[17]=h[19]=h[21]=h[23]=this._height-this._bottomHeight*d,h[25]=h[27]=h[29]=h[31]=this._height},e.prototype.updateVerticalVertices=function(){var h=this.vertices,d=this._getMinScale();h[2]=h[10]=h[18]=h[26]=this._leftWidth*d,h[4]=h[12]=h[20]=h[28]=this._width-this._rightWidth*d,h[6]=h[14]=h[22]=h[30]=this._width},e.prototype._getMinScale=function(){var h=this._leftWidth+this._rightWidth,d=this._width>h?1:this._width/h,g=this._topHeight+this._bottomHeight,_=this._height>g?1:this._height/g,b=Math.min(d,_);return b},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(h){this._width=h,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(h){this._height=h,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(h){this._leftWidth=h,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(h){this._rightWidth=h,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(h){this._topHeight=h,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(h){this._bottomHeight=h,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var h=this.texture,d=this.geometry.buffers[1].data;this._origWidth=h.orig.width,this._origHeight=h.orig.height;var g=1/this._origWidth,_=1/this._origHeight;d[0]=d[8]=d[16]=d[24]=0,d[1]=d[3]=d[5]=d[7]=0,d[6]=d[14]=d[22]=d[30]=1,d[25]=d[27]=d[29]=d[31]=1,d[2]=d[10]=d[18]=d[26]=g*this._leftWidth,d[4]=d[12]=d[20]=d[28]=1-g*this._rightWidth,d[9]=d[11]=d[13]=d[15]=_*this._topHeight,d[17]=d[19]=d[21]=d[23]=1-_*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e})(SimplePlane);/*!
 * @pixi/sprite-animated - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(o,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},extendStatics(o,e)};function __extends(o,e){extendStatics(o,e);function h(){this.constructor=o}o.prototype=e===null?Object.create(e):(h.prototype=e.prototype,new h)}(function(o){__extends(e,o);function e(h,d){d===void 0&&(d=!0);var g=o.call(this,h[0]instanceof Texture$1?h[0]:h[0].texture)||this;return g._textures=null,g._durations=null,g._autoUpdate=d,g._isConnectedToTicker=!1,g.animationSpeed=1,g.loop=!0,g.updateAnchor=!1,g.onComplete=null,g.onFrameChange=null,g.onLoop=null,g._currentTime=0,g._playing=!1,g._previousFrame=null,g.textures=h,g}return e.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this,UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(h){this.stop();var d=this.currentFrame;this._currentTime=h,d!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(h){var d=this.currentFrame;this._currentTime=h,d!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(h){if(!!this._playing){var d=this.animationSpeed*h,g=this.currentFrame;if(this._durations!==null){var _=this._currentTime%1*this._durations[this.currentFrame];for(_+=d/60*1e3;_<0;)this._currentTime--,_+=this._durations[this.currentFrame];var b=Math.sign(this.animationSpeed*h);for(this._currentTime=Math.floor(this._currentTime);_>=this._durations[this.currentFrame];)_-=this._durations[this.currentFrame]*b,this._currentTime+=b;this._currentTime+=_/this._durations[this.currentFrame]}else this._currentTime+=d;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):g!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<g?this.onLoop():this.animationSpeed<0&&this.currentFrame>g&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var h=this.currentFrame;this._previousFrame!==h&&(this._previousFrame=h,this._texture=this._textures[h],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(h){this.stop(),o.prototype.destroy.call(this,h),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(h){for(var d=[],g=0;g<h.length;++g)d.push(Texture$1.from(h[g]));return new e(d)},e.fromImages=function(h){for(var d=[],g=0;g<h.length;++g)d.push(Texture$1.from(h[g]));return new e(d)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(h){if(h[0]instanceof Texture$1)this._textures=h,this._durations=null;else{this._textures=[],this._durations=[];for(var d=0;d<h.length;d++)this._textures.push(h[d].texture),this._durations.push(h[d].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var h=Math.floor(this._currentTime)%this._textures.length;return h<0&&(h+=this._textures.length),h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(h){h!==this._autoUpdate&&(this._autoUpdate=h,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e})(Sprite$1);/*!
 * pixi.js - v6.3.1
 * Compiled Tue, 03 May 2022 13:21:19 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Renderer.registerPlugin("accessibility",AccessibilityManager);Renderer.registerPlugin("extract",Extract);Renderer.registerPlugin("interaction",InteractionManager);Renderer.registerPlugin("particle",ParticleRenderer);Renderer.registerPlugin("prepare",Prepare);Renderer.registerPlugin("batch",BatchRenderer);Renderer.registerPlugin("tilingSprite",TilingSpriteRenderer);Loader$1.registerPlugin(BitmapFontLoader);Loader$1.registerPlugin(CompressedTextureLoader);Loader$1.registerPlugin(DDSLoader);Loader$1.registerPlugin(KTXLoader);Loader$1.registerPlugin(SpritesheetLoader);Application.registerPlugin(TickerPlugin);Application.registerPlugin(AppLoaderPlugin);function isObject$3(o){return o!==null&&typeof o=="object"&&"constructor"in o&&o.constructor===Object}function extend$2(o,e){o===void 0&&(o={}),e===void 0&&(e={}),Object.keys(e).forEach(h=>{typeof o[h]=="undefined"?o[h]=e[h]:isObject$3(e[h])&&isObject$3(o[h])&&Object.keys(e[h]).length>0&&extend$2(o[h],e[h])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const o=typeof document!="undefined"?document:{};return extend$2(o,ssrDocument),o}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function o(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(o){return typeof setTimeout=="undefined"?(o(),null):setTimeout(o,0)},cancelAnimationFrame(o){typeof setTimeout!="undefined"&&clearTimeout(o)}};function getWindow(){const o=typeof window!="undefined"?window:{};return extend$2(o,ssrWindow),o}function classesToTokens(o){return o===void 0&&(o=""),o.trim().split(" ").filter(e=>!!e.trim())}function deleteProps(o){const e=o;Object.keys(e).forEach(h=>{try{e[h]=null}catch{}try{delete e[h]}catch{}})}function nextTick$1(o,e){return e===void 0&&(e=0),setTimeout(o,e)}function now$2(){return Date.now()}function getComputedStyle$1(o){const e=getWindow();let h;return e.getComputedStyle&&(h=e.getComputedStyle(o,null)),!h&&o.currentStyle&&(h=o.currentStyle),h||(h=o.style),h}function getTranslate(o,e){e===void 0&&(e="x");const h=getWindow();let d,g,_;const b=getComputedStyle$1(o);return h.WebKitCSSMatrix?(g=b.transform||b.webkitTransform,g.split(",").length>6&&(g=g.split(", ").map($=>$.replace(",",".")).join(", ")),_=new h.WebKitCSSMatrix(g==="none"?"":g)):(_=b.MozTransform||b.OTransform||b.MsTransform||b.msTransform||b.transform||b.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),d=_.toString().split(",")),e==="x"&&(h.WebKitCSSMatrix?g=_.m41:d.length===16?g=parseFloat(d[12]):g=parseFloat(d[4])),e==="y"&&(h.WebKitCSSMatrix?g=_.m42:d.length===16?g=parseFloat(d[13]):g=parseFloat(d[5])),g||0}function isObject$2(o){return typeof o=="object"&&o!==null&&o.constructor&&Object.prototype.toString.call(o).slice(8,-1)==="Object"}function isNode(o){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?o instanceof HTMLElement:o&&(o.nodeType===1||o.nodeType===11)}function extend$1(){const o=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let h=1;h<arguments.length;h+=1){const d=h<0||arguments.length<=h?void 0:arguments[h];if(d!=null&&!isNode(d)){const g=Object.keys(Object(d)).filter(_=>e.indexOf(_)<0);for(let _=0,b=g.length;_<b;_+=1){const $=g[_],j=Object.getOwnPropertyDescriptor(d,$);j!==void 0&&j.enumerable&&(isObject$2(o[$])&&isObject$2(d[$])?d[$].__swiper__?o[$]=d[$]:extend$1(o[$],d[$]):!isObject$2(o[$])&&isObject$2(d[$])?(o[$]={},d[$].__swiper__?o[$]=d[$]:extend$1(o[$],d[$])):o[$]=d[$])}}}return o}function setCSSProperty(o,e,h){o.style.setProperty(e,h)}function animateCSSModeScroll(o){let{swiper:e,targetPosition:h,side:d}=o;const g=getWindow(),_=-e.translate;let b=null,$;const j=e.params.speed;e.wrapperEl.style.scrollSnapType="none",g.cancelAnimationFrame(e.cssModeFrameID);const _e=h>_?"next":"prev",et=(tt,nt)=>_e==="next"&&tt>=nt||_e==="prev"&&tt<=nt,rt=()=>{$=new Date().getTime(),b===null&&(b=$);const tt=Math.max(Math.min(($-b)/j,1),0),nt=.5-Math.cos(tt*Math.PI)/2;let st=_+nt*(h-_);if(et(st,h)&&(st=h),e.wrapperEl.scrollTo({[d]:st}),et(st,h)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[d]:st})}),g.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=g.requestAnimationFrame(rt)};rt()}function elementChildren(o,e){return e===void 0&&(e=""),[...o.children].filter(h=>h.matches(e))}function showWarning(o){try{console.warn(o);return}catch{}}function createElement(o,e){e===void 0&&(e=[]);const h=document.createElement(o);return h.classList.add(...Array.isArray(e)?e:classesToTokens(e)),h}function elementPrevAll(o,e){const h=[];for(;o.previousElementSibling;){const d=o.previousElementSibling;e?d.matches(e)&&h.push(d):h.push(d),o=d}return h}function elementNextAll(o,e){const h=[];for(;o.nextElementSibling;){const d=o.nextElementSibling;e?d.matches(e)&&h.push(d):h.push(d),o=d}return h}function elementStyle(o,e){return getWindow().getComputedStyle(o,null).getPropertyValue(e)}function elementIndex(o){let e=o,h;if(e){for(h=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(h+=1);return h}}function elementParents(o,e){const h=[];let d=o.parentElement;for(;d;)e?d.matches(e)&&h.push(d):h.push(d),d=d.parentElement;return h}function elementTransitionEnd(o,e){function h(d){d.target===o&&(e.call(o,d),o.removeEventListener("transitionend",h))}e&&o.addEventListener("transitionend",h)}function elementOuterSize(o,e,h){const d=getWindow();return h?o[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(d.getComputedStyle(o,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(d.getComputedStyle(o,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):o.offsetWidth}let support;function calcSupport(){const o=getWindow(),e=getDocument();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in o||o.DocumentTouch&&e instanceof o.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice(o){let{userAgent:e}=o===void 0?{}:o;const h=getSupport(),d=getWindow(),g=d.navigator.platform,_=e||d.navigator.userAgent,b={ios:!1,android:!1},$=d.screen.width,j=d.screen.height,_e=_.match(/(Android);?[\s\/]+([\d.]+)?/);let et=_.match(/(iPad).*OS\s([\d_]+)/);const rt=_.match(/(iPod)(.*OS\s([\d_]+))?/),tt=!et&&_.match(/(iPhone\sOS|iOS)\s([\d_]+)/),nt=g==="Win32";let st=g==="MacIntel";const at=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!et&&st&&h.touch&&at.indexOf(`${$}x${j}`)>=0&&(et=_.match(/(Version)\/([\d.]+)/),et||(et=[0,1,"13_0_0"]),st=!1),_e&&!nt&&(b.os="android",b.android=!0),(et||tt||rt)&&(b.os="ios",b.ios=!0),b}function getDevice(o){return o===void 0&&(o={}),deviceCached||(deviceCached=calcDevice(o)),deviceCached}let browser;function calcBrowser(){const o=getWindow();let e=!1;function h(){const d=o.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(h()){const d=String(o.navigator.userAgent);if(d.includes("Version/")){const[g,_]=d.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));e=g<16||g===16&&_<2}}return{isSafari:e||h(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(o.navigator.userAgent)}}function getBrowser(){return browser||(browser=calcBrowser()),browser}function Resize(o){let{swiper:e,on:h,emit:d}=o;const g=getWindow();let _=null,b=null;const $=()=>{!e||e.destroyed||!e.initialized||(d("beforeResize"),d("resize"))},j=()=>{!e||e.destroyed||!e.initialized||(_=new ResizeObserver(rt=>{b=g.requestAnimationFrame(()=>{const{width:tt,height:nt}=e;let st=tt,at=nt;rt.forEach(ct=>{let{contentBoxSize:it,contentRect:lt,target:ht}=ct;ht&&ht!==e.el||(st=lt?lt.width:(it[0]||it).inlineSize,at=lt?lt.height:(it[0]||it).blockSize)}),(st!==tt||at!==nt)&&$()})}),_.observe(e.el))},_e=()=>{b&&g.cancelAnimationFrame(b),_&&_.unobserve&&e.el&&(_.unobserve(e.el),_=null)},et=()=>{!e||e.destroyed||!e.initialized||d("orientationchange")};h("init",()=>{if(e.params.resizeObserver&&typeof g.ResizeObserver!="undefined"){j();return}g.addEventListener("resize",$),g.addEventListener("orientationchange",et)}),h("destroy",()=>{_e(),g.removeEventListener("resize",$),g.removeEventListener("orientationchange",et)})}function Observer(o){let{swiper:e,extendParams:h,on:d,emit:g}=o;const _=[],b=getWindow(),$=function(et,rt){rt===void 0&&(rt={});const tt=b.MutationObserver||b.WebkitMutationObserver,nt=new tt(st=>{if(e.__preventObserver__)return;if(st.length===1){g("observerUpdate",st[0]);return}const at=function(){g("observerUpdate",st[0])};b.requestAnimationFrame?b.requestAnimationFrame(at):b.setTimeout(at,0)});nt.observe(et,{attributes:typeof rt.attributes=="undefined"?!0:rt.attributes,childList:typeof rt.childList=="undefined"?!0:rt.childList,characterData:typeof rt.characterData=="undefined"?!0:rt.characterData}),_.push(nt)},j=()=>{if(!!e.params.observer){if(e.params.observeParents){const et=elementParents(e.hostEl);for(let rt=0;rt<et.length;rt+=1)$(et[rt])}$(e.hostEl,{childList:e.params.observeSlideChildren}),$(e.wrapperEl,{attributes:!1})}},_e=()=>{_.forEach(et=>{et.disconnect()}),_.splice(0,_.length)};h({observer:!1,observeParents:!1,observeSlideChildren:!1}),d("init",j),d("destroy",_e)}var eventsEmitter={on(o,e,h){const d=this;if(!d.eventsListeners||d.destroyed||typeof e!="function")return d;const g=h?"unshift":"push";return o.split(" ").forEach(_=>{d.eventsListeners[_]||(d.eventsListeners[_]=[]),d.eventsListeners[_][g](e)}),d},once(o,e,h){const d=this;if(!d.eventsListeners||d.destroyed||typeof e!="function")return d;function g(){d.off(o,g),g.__emitterProxy&&delete g.__emitterProxy;for(var _=arguments.length,b=new Array(_),$=0;$<_;$++)b[$]=arguments[$];e.apply(d,b)}return g.__emitterProxy=e,d.on(o,g,h)},onAny(o,e){const h=this;if(!h.eventsListeners||h.destroyed||typeof o!="function")return h;const d=e?"unshift":"push";return h.eventsAnyListeners.indexOf(o)<0&&h.eventsAnyListeners[d](o),h},offAny(o){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const h=e.eventsAnyListeners.indexOf(o);return h>=0&&e.eventsAnyListeners.splice(h,1),e},off(o,e){const h=this;return!h.eventsListeners||h.destroyed||!h.eventsListeners||o.split(" ").forEach(d=>{typeof e=="undefined"?h.eventsListeners[d]=[]:h.eventsListeners[d]&&h.eventsListeners[d].forEach((g,_)=>{(g===e||g.__emitterProxy&&g.__emitterProxy===e)&&h.eventsListeners[d].splice(_,1)})}),h},emit(){const o=this;if(!o.eventsListeners||o.destroyed||!o.eventsListeners)return o;let e,h,d;for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];return typeof _[0]=="string"||Array.isArray(_[0])?(e=_[0],h=_.slice(1,_.length),d=o):(e=_[0].events,h=_[0].data,d=_[0].context||o),h.unshift(d),(Array.isArray(e)?e:e.split(" ")).forEach(j=>{o.eventsAnyListeners&&o.eventsAnyListeners.length&&o.eventsAnyListeners.forEach(_e=>{_e.apply(d,[j,...h])}),o.eventsListeners&&o.eventsListeners[j]&&o.eventsListeners[j].forEach(_e=>{_e.apply(d,h)})}),o}};function updateSize(){const o=this;let e,h;const d=o.el;typeof o.params.width!="undefined"&&o.params.width!==null?e=o.params.width:e=d.clientWidth,typeof o.params.height!="undefined"&&o.params.height!==null?h=o.params.height:h=d.clientHeight,!(e===0&&o.isHorizontal()||h===0&&o.isVertical())&&(e=e-parseInt(elementStyle(d,"padding-left")||0,10)-parseInt(elementStyle(d,"padding-right")||0,10),h=h-parseInt(elementStyle(d,"padding-top")||0,10)-parseInt(elementStyle(d,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(h)&&(h=0),Object.assign(o,{width:e,height:h,size:o.isHorizontal()?e:h}))}function updateSlides(){const o=this;function e(Tt,_t){return parseFloat(Tt.getPropertyValue(o.getDirectionLabel(_t))||0)}const h=o.params,{wrapperEl:d,slidesEl:g,size:_,rtlTranslate:b,wrongRTL:$}=o,j=o.virtual&&h.virtual.enabled,_e=j?o.virtual.slides.length:o.slides.length,et=elementChildren(g,`.${o.params.slideClass}, swiper-slide`),rt=j?o.virtual.slides.length:et.length;let tt=[];const nt=[],st=[];let at=h.slidesOffsetBefore;typeof at=="function"&&(at=h.slidesOffsetBefore.call(o));let ct=h.slidesOffsetAfter;typeof ct=="function"&&(ct=h.slidesOffsetAfter.call(o));const it=o.snapGrid.length,lt=o.slidesGrid.length;let ht=h.spaceBetween,ut=-at,dt=0,pt=0;if(typeof _=="undefined")return;typeof ht=="string"&&ht.indexOf("%")>=0?ht=parseFloat(ht.replace("%",""))/100*_:typeof ht=="string"&&(ht=parseFloat(ht)),o.virtualSize=-ht,et.forEach(Tt=>{b?Tt.style.marginLeft="":Tt.style.marginRight="",Tt.style.marginBottom="",Tt.style.marginTop=""}),h.centeredSlides&&h.cssMode&&(setCSSProperty(d,"--swiper-centered-offset-before",""),setCSSProperty(d,"--swiper-centered-offset-after",""));const mt=h.grid&&h.grid.rows>1&&o.grid;mt?o.grid.initSlides(et):o.grid&&o.grid.unsetSlides();let yt;const xt=h.slidesPerView==="auto"&&h.breakpoints&&Object.keys(h.breakpoints).filter(Tt=>typeof h.breakpoints[Tt].slidesPerView!="undefined").length>0;for(let Tt=0;Tt<rt;Tt+=1){yt=0;let _t;if(et[Tt]&&(_t=et[Tt]),mt&&o.grid.updateSlide(Tt,_t,et),!(et[Tt]&&elementStyle(_t,"display")==="none")){if(h.slidesPerView==="auto"){xt&&(et[Tt].style[o.getDirectionLabel("width")]="");const Mt=getComputedStyle(_t),Lt=_t.style.transform,Pt=_t.style.webkitTransform;if(Lt&&(_t.style.transform="none"),Pt&&(_t.style.webkitTransform="none"),h.roundLengths)yt=o.isHorizontal()?elementOuterSize(_t,"width",!0):elementOuterSize(_t,"height",!0);else{const It=e(Mt,"width"),Et=e(Mt,"padding-left"),Ct=e(Mt,"padding-right"),St=e(Mt,"margin-left"),At=e(Mt,"margin-right"),Rt=Mt.getPropertyValue("box-sizing");if(Rt&&Rt==="border-box")yt=It+St+At;else{const{clientWidth:Ot,offsetWidth:Gt}=_t;yt=It+Et+Ct+St+At+(Gt-Ot)}}Lt&&(_t.style.transform=Lt),Pt&&(_t.style.webkitTransform=Pt),h.roundLengths&&(yt=Math.floor(yt))}else yt=(_-(h.slidesPerView-1)*ht)/h.slidesPerView,h.roundLengths&&(yt=Math.floor(yt)),et[Tt]&&(et[Tt].style[o.getDirectionLabel("width")]=`${yt}px`);et[Tt]&&(et[Tt].swiperSlideSize=yt),st.push(yt),h.centeredSlides?(ut=ut+yt/2+dt/2+ht,dt===0&&Tt!==0&&(ut=ut-_/2-ht),Tt===0&&(ut=ut-_/2-ht),Math.abs(ut)<1/1e3&&(ut=0),h.roundLengths&&(ut=Math.floor(ut)),pt%h.slidesPerGroup==0&&tt.push(ut),nt.push(ut)):(h.roundLengths&&(ut=Math.floor(ut)),(pt-Math.min(o.params.slidesPerGroupSkip,pt))%o.params.slidesPerGroup==0&&tt.push(ut),nt.push(ut),ut=ut+yt+ht),o.virtualSize+=yt+ht,dt=yt,pt+=1}}if(o.virtualSize=Math.max(o.virtualSize,_)+ct,b&&$&&(h.effect==="slide"||h.effect==="coverflow")&&(d.style.width=`${o.virtualSize+ht}px`),h.setWrapperSize&&(d.style[o.getDirectionLabel("width")]=`${o.virtualSize+ht}px`),mt&&o.grid.updateWrapperSize(yt,tt),!h.centeredSlides){const Tt=[];for(let _t=0;_t<tt.length;_t+=1){let Mt=tt[_t];h.roundLengths&&(Mt=Math.floor(Mt)),tt[_t]<=o.virtualSize-_&&Tt.push(Mt)}tt=Tt,Math.floor(o.virtualSize-_)-Math.floor(tt[tt.length-1])>1&&tt.push(o.virtualSize-_)}if(j&&h.loop){const Tt=st[0]+ht;if(h.slidesPerGroup>1){const _t=Math.ceil((o.virtual.slidesBefore+o.virtual.slidesAfter)/h.slidesPerGroup),Mt=Tt*h.slidesPerGroup;for(let Lt=0;Lt<_t;Lt+=1)tt.push(tt[tt.length-1]+Mt)}for(let _t=0;_t<o.virtual.slidesBefore+o.virtual.slidesAfter;_t+=1)h.slidesPerGroup===1&&tt.push(tt[tt.length-1]+Tt),nt.push(nt[nt.length-1]+Tt),o.virtualSize+=Tt}if(tt.length===0&&(tt=[0]),ht!==0){const Tt=o.isHorizontal()&&b?"marginLeft":o.getDirectionLabel("marginRight");et.filter((_t,Mt)=>!h.cssMode||h.loop?!0:Mt!==et.length-1).forEach(_t=>{_t.style[Tt]=`${ht}px`})}if(h.centeredSlides&&h.centeredSlidesBounds){let Tt=0;st.forEach(Mt=>{Tt+=Mt+(ht||0)}),Tt-=ht;const _t=Tt-_;tt=tt.map(Mt=>Mt<=0?-at:Mt>_t?_t+ct:Mt)}if(h.centerInsufficientSlides){let Tt=0;if(st.forEach(_t=>{Tt+=_t+(ht||0)}),Tt-=ht,Tt<_){const _t=(_-Tt)/2;tt.forEach((Mt,Lt)=>{tt[Lt]=Mt-_t}),nt.forEach((Mt,Lt)=>{nt[Lt]=Mt+_t})}}if(Object.assign(o,{slides:et,snapGrid:tt,slidesGrid:nt,slidesSizesGrid:st}),h.centeredSlides&&h.cssMode&&!h.centeredSlidesBounds){setCSSProperty(d,"--swiper-centered-offset-before",`${-tt[0]}px`),setCSSProperty(d,"--swiper-centered-offset-after",`${o.size/2-st[st.length-1]/2}px`);const Tt=-o.snapGrid[0],_t=-o.slidesGrid[0];o.snapGrid=o.snapGrid.map(Mt=>Mt+Tt),o.slidesGrid=o.slidesGrid.map(Mt=>Mt+_t)}if(rt!==_e&&o.emit("slidesLengthChange"),tt.length!==it&&(o.params.watchOverflow&&o.checkOverflow(),o.emit("snapGridLengthChange")),nt.length!==lt&&o.emit("slidesGridLengthChange"),h.watchSlidesProgress&&o.updateSlidesOffset(),!j&&!h.cssMode&&(h.effect==="slide"||h.effect==="fade")){const Tt=`${h.containerModifierClass}backface-hidden`,_t=o.el.classList.contains(Tt);rt<=h.maxBackfaceHiddenSlides?_t||o.el.classList.add(Tt):_t&&o.el.classList.remove(Tt)}}function updateAutoHeight(o){const e=this,h=[],d=e.virtual&&e.params.virtual.enabled;let g=0,_;typeof o=="number"?e.setTransition(o):o===!0&&e.setTransition(e.params.speed);const b=$=>d?e.slides[e.getSlideIndexByData($)]:e.slides[$];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach($=>{h.push($)});else for(_=0;_<Math.ceil(e.params.slidesPerView);_+=1){const $=e.activeIndex+_;if($>e.slides.length&&!d)break;h.push(b($))}else h.push(b(e.activeIndex));for(_=0;_<h.length;_+=1)if(typeof h[_]!="undefined"){const $=h[_].offsetHeight;g=$>g?$:g}(g||g===0)&&(e.wrapperEl.style.height=`${g}px`)}function updateSlidesOffset(){const o=this,e=o.slides,h=o.isElement?o.isHorizontal()?o.wrapperEl.offsetLeft:o.wrapperEl.offsetTop:0;for(let d=0;d<e.length;d+=1)e[d].swiperSlideOffset=(o.isHorizontal()?e[d].offsetLeft:e[d].offsetTop)-h-o.cssOverflowAdjustment()}function updateSlidesProgress(o){o===void 0&&(o=this&&this.translate||0);const e=this,h=e.params,{slides:d,rtlTranslate:g,snapGrid:_}=e;if(d.length===0)return;typeof d[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let b=-o;g&&(b=o),d.forEach(j=>{j.classList.remove(h.slideVisibleClass,h.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let $=h.spaceBetween;typeof $=="string"&&$.indexOf("%")>=0?$=parseFloat($.replace("%",""))/100*e.size:typeof $=="string"&&($=parseFloat($));for(let j=0;j<d.length;j+=1){const _e=d[j];let et=_e.swiperSlideOffset;h.cssMode&&h.centeredSlides&&(et-=d[0].swiperSlideOffset);const rt=(b+(h.centeredSlides?e.minTranslate():0)-et)/(_e.swiperSlideSize+$),tt=(b-_[0]+(h.centeredSlides?e.minTranslate():0)-et)/(_e.swiperSlideSize+$),nt=-(b-et),st=nt+e.slidesSizesGrid[j],at=nt>=0&&nt<=e.size-e.slidesSizesGrid[j];(nt>=0&&nt<e.size-1||st>1&&st<=e.size||nt<=0&&st>=e.size)&&(e.visibleSlides.push(_e),e.visibleSlidesIndexes.push(j),d[j].classList.add(h.slideVisibleClass)),at&&d[j].classList.add(h.slideFullyVisibleClass),_e.progress=g?-rt:rt,_e.originalProgress=g?-tt:tt}}function updateProgress(o){const e=this;if(typeof o=="undefined"){const et=e.rtlTranslate?-1:1;o=e&&e.translate&&e.translate*et||0}const h=e.params,d=e.maxTranslate()-e.minTranslate();let{progress:g,isBeginning:_,isEnd:b,progressLoop:$}=e;const j=_,_e=b;if(d===0)g=0,_=!0,b=!0;else{g=(o-e.minTranslate())/d;const et=Math.abs(o-e.minTranslate())<1,rt=Math.abs(o-e.maxTranslate())<1;_=et||g<=0,b=rt||g>=1,et&&(g=0),rt&&(g=1)}if(h.loop){const et=e.getSlideIndexByData(0),rt=e.getSlideIndexByData(e.slides.length-1),tt=e.slidesGrid[et],nt=e.slidesGrid[rt],st=e.slidesGrid[e.slidesGrid.length-1],at=Math.abs(o);at>=tt?$=(at-tt)/st:$=(at+st-nt)/st,$>1&&($-=1)}Object.assign(e,{progress:g,progressLoop:$,isBeginning:_,isEnd:b}),(h.watchSlidesProgress||h.centeredSlides&&h.autoHeight)&&e.updateSlidesProgress(o),_&&!j&&e.emit("reachBeginning toEdge"),b&&!_e&&e.emit("reachEnd toEdge"),(j&&!_||_e&&!b)&&e.emit("fromEdge"),e.emit("progress",g)}function updateSlidesClasses(){const o=this,{slides:e,params:h,slidesEl:d,activeIndex:g}=o,_=o.virtual&&h.virtual.enabled,b=o.grid&&h.grid&&h.grid.rows>1,$=rt=>elementChildren(d,`.${h.slideClass}${rt}, swiper-slide${rt}`)[0];e.forEach(rt=>{rt.classList.remove(h.slideActiveClass,h.slideNextClass,h.slidePrevClass)});let j,_e,et;if(_)if(h.loop){let rt=g-o.virtual.slidesBefore;rt<0&&(rt=o.virtual.slides.length+rt),rt>=o.virtual.slides.length&&(rt-=o.virtual.slides.length),j=$(`[data-swiper-slide-index="${rt}"]`)}else j=$(`[data-swiper-slide-index="${g}"]`);else b?(j=e.filter(rt=>rt.column===g)[0],et=e.filter(rt=>rt.column===g+1)[0],_e=e.filter(rt=>rt.column===g-1)[0]):j=e[g];j&&(j.classList.add(h.slideActiveClass),b?(et&&et.classList.add(h.slideNextClass),_e&&_e.classList.add(h.slidePrevClass)):(et=elementNextAll(j,`.${h.slideClass}, swiper-slide`)[0],h.loop&&!et&&(et=e[0]),et&&et.classList.add(h.slideNextClass),_e=elementPrevAll(j,`.${h.slideClass}, swiper-slide`)[0],h.loop&&!_e===0&&(_e=e[e.length-1]),_e&&_e.classList.add(h.slidePrevClass))),o.emitSlidesClasses()}const processLazyPreloader=(o,e)=>{if(!o||o.destroyed||!o.params)return;const h=()=>o.isElement?"swiper-slide":`.${o.params.slideClass}`,d=e.closest(h());if(d){let g=d.querySelector(`.${o.params.lazyPreloaderClass}`);!g&&o.isElement&&(d.shadowRoot?g=d.shadowRoot.querySelector(`.${o.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{d.shadowRoot&&(g=d.shadowRoot.querySelector(`.${o.params.lazyPreloaderClass}`),g&&g.remove())})),g&&g.remove()}},unlazy=(o,e)=>{if(!o.slides[e])return;const h=o.slides[e].querySelector('[loading="lazy"]');h&&h.removeAttribute("loading")},preload=o=>{if(!o||o.destroyed||!o.params)return;let e=o.params.lazyPreloadPrevNext;const h=o.slides.length;if(!h||!e||e<0)return;e=Math.min(e,h);const d=o.params.slidesPerView==="auto"?o.slidesPerViewDynamic():Math.ceil(o.params.slidesPerView),g=o.activeIndex;if(o.params.grid&&o.params.grid.rows>1){const b=g,$=[b-e];$.push(...Array.from({length:e}).map((j,_e)=>b+d+_e)),o.slides.forEach((j,_e)=>{$.includes(j.column)&&unlazy(o,_e)});return}const _=g+d-1;if(o.params.rewind||o.params.loop)for(let b=g-e;b<=_+e;b+=1){const $=(b%h+h)%h;($<g||$>_)&&unlazy(o,$)}else for(let b=Math.max(g-e,0);b<=Math.min(_+e,h-1);b+=1)b!==g&&(b>_||b<g)&&unlazy(o,b)};function getActiveIndexByTranslate(o){const{slidesGrid:e,params:h}=o,d=o.rtlTranslate?o.translate:-o.translate;let g;for(let _=0;_<e.length;_+=1)typeof e[_+1]!="undefined"?d>=e[_]&&d<e[_+1]-(e[_+1]-e[_])/2?g=_:d>=e[_]&&d<e[_+1]&&(g=_+1):d>=e[_]&&(g=_);return h.normalizeSlideIndex&&(g<0||typeof g=="undefined")&&(g=0),g}function updateActiveIndex(o){const e=this,h=e.rtlTranslate?e.translate:-e.translate,{snapGrid:d,params:g,activeIndex:_,realIndex:b,snapIndex:$}=e;let j=o,_e;const et=nt=>{let st=nt-e.virtual.slidesBefore;return st<0&&(st=e.virtual.slides.length+st),st>=e.virtual.slides.length&&(st-=e.virtual.slides.length),st};if(typeof j=="undefined"&&(j=getActiveIndexByTranslate(e)),d.indexOf(h)>=0)_e=d.indexOf(h);else{const nt=Math.min(g.slidesPerGroupSkip,j);_e=nt+Math.floor((j-nt)/g.slidesPerGroup)}if(_e>=d.length&&(_e=d.length-1),j===_&&!e.params.loop){_e!==$&&(e.snapIndex=_e,e.emit("snapIndexChange"));return}if(j===_&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=et(j);return}const rt=e.grid&&g.grid&&g.grid.rows>1;let tt;if(e.virtual&&g.virtual.enabled&&g.loop)tt=et(j);else if(rt){const nt=e.slides.filter(at=>at.column===j)[0];let st=parseInt(nt.getAttribute("data-swiper-slide-index"),10);Number.isNaN(st)&&(st=Math.max(e.slides.indexOf(nt),0)),tt=Math.floor(st/g.grid.rows)}else if(e.slides[j]){const nt=e.slides[j].getAttribute("data-swiper-slide-index");nt?tt=parseInt(nt,10):tt=j}else tt=j;Object.assign(e,{previousSnapIndex:$,snapIndex:_e,previousRealIndex:b,realIndex:tt,previousIndex:_,activeIndex:j}),e.initialized&&preload(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(b!==tt&&e.emit("realIndexChange"),e.emit("slideChange"))}function updateClickedSlide(o,e){const h=this,d=h.params;let g=o.closest(`.${d.slideClass}, swiper-slide`);!g&&h.isElement&&e&&e.length>1&&e.includes(o)&&[...e.slice(e.indexOf(o)+1,e.length)].forEach($=>{!g&&$.matches&&$.matches(`.${d.slideClass}, swiper-slide`)&&(g=$)});let _=!1,b;if(g){for(let $=0;$<h.slides.length;$+=1)if(h.slides[$]===g){_=!0,b=$;break}}if(g&&_)h.clickedSlide=g,h.virtual&&h.params.virtual.enabled?h.clickedIndex=parseInt(g.getAttribute("data-swiper-slide-index"),10):h.clickedIndex=b;else{h.clickedSlide=void 0,h.clickedIndex=void 0;return}d.slideToClickedSlide&&h.clickedIndex!==void 0&&h.clickedIndex!==h.activeIndex&&h.slideToClickedSlide()}var update$1={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(o){o===void 0&&(o=this.isHorizontal()?"x":"y");const e=this,{params:h,rtlTranslate:d,translate:g,wrapperEl:_}=e;if(h.virtualTranslate)return d?-g:g;if(h.cssMode)return g;let b=getTranslate(_,o);return b+=e.cssOverflowAdjustment(),d&&(b=-b),b||0}function setTranslate(o,e){const h=this,{rtlTranslate:d,params:g,wrapperEl:_,progress:b}=h;let $=0,j=0;const _e=0;h.isHorizontal()?$=d?-o:o:j=o,g.roundLengths&&($=Math.floor($),j=Math.floor(j)),h.previousTranslate=h.translate,h.translate=h.isHorizontal()?$:j,g.cssMode?_[h.isHorizontal()?"scrollLeft":"scrollTop"]=h.isHorizontal()?-$:-j:g.virtualTranslate||(h.isHorizontal()?$-=h.cssOverflowAdjustment():j-=h.cssOverflowAdjustment(),_.style.transform=`translate3d(${$}px, ${j}px, ${_e}px)`);let et;const rt=h.maxTranslate()-h.minTranslate();rt===0?et=0:et=(o-h.minTranslate())/rt,et!==b&&h.updateProgress(o),h.emit("setTranslate",h.translate,e)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(o,e,h,d,g){o===void 0&&(o=0),e===void 0&&(e=this.params.speed),h===void 0&&(h=!0),d===void 0&&(d=!0);const _=this,{params:b,wrapperEl:$}=_;if(_.animating&&b.preventInteractionOnTransition)return!1;const j=_.minTranslate(),_e=_.maxTranslate();let et;if(d&&o>j?et=j:d&&o<_e?et=_e:et=o,_.updateProgress(et),b.cssMode){const rt=_.isHorizontal();if(e===0)$[rt?"scrollLeft":"scrollTop"]=-et;else{if(!_.support.smoothScroll)return animateCSSModeScroll({swiper:_,targetPosition:-et,side:rt?"left":"top"}),!0;$.scrollTo({[rt?"left":"top"]:-et,behavior:"smooth"})}return!0}return e===0?(_.setTransition(0),_.setTranslate(et),h&&(_.emit("beforeTransitionStart",e,g),_.emit("transitionEnd"))):(_.setTransition(e),_.setTranslate(et),h&&(_.emit("beforeTransitionStart",e,g),_.emit("transitionStart")),_.animating||(_.animating=!0,_.onTranslateToWrapperTransitionEnd||(_.onTranslateToWrapperTransitionEnd=function(tt){!_||_.destroyed||tt.target===this&&(_.wrapperEl.removeEventListener("transitionend",_.onTranslateToWrapperTransitionEnd),_.onTranslateToWrapperTransitionEnd=null,delete _.onTranslateToWrapperTransitionEnd,h&&_.emit("transitionEnd"))}),_.wrapperEl.addEventListener("transitionend",_.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(o,e){const h=this;h.params.cssMode||(h.wrapperEl.style.transitionDuration=`${o}ms`,h.wrapperEl.style.transitionDelay=o===0?"0ms":""),h.emit("setTransition",o,e)}function transitionEmit(o){let{swiper:e,runCallbacks:h,direction:d,step:g}=o;const{activeIndex:_,previousIndex:b}=e;let $=d;if($||(_>b?$="next":_<b?$="prev":$="reset"),e.emit(`transition${g}`),h&&_!==b){if($==="reset"){e.emit(`slideResetTransition${g}`);return}e.emit(`slideChangeTransition${g}`),$==="next"?e.emit(`slideNextTransition${g}`):e.emit(`slidePrevTransition${g}`)}}function transitionStart(o,e){o===void 0&&(o=!0);const h=this,{params:d}=h;d.cssMode||(d.autoHeight&&h.updateAutoHeight(),transitionEmit({swiper:h,runCallbacks:o,direction:e,step:"Start"}))}function transitionEnd(o,e){o===void 0&&(o=!0);const h=this,{params:d}=h;h.animating=!1,!d.cssMode&&(h.setTransition(0),transitionEmit({swiper:h,runCallbacks:o,direction:e,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(o,e,h,d,g){o===void 0&&(o=0),e===void 0&&(e=this.params.speed),h===void 0&&(h=!0),typeof o=="string"&&(o=parseInt(o,10));const _=this;let b=o;b<0&&(b=0);const{params:$,snapGrid:j,slidesGrid:_e,previousIndex:et,activeIndex:rt,rtlTranslate:tt,wrapperEl:nt,enabled:st}=_;if(_.animating&&$.preventInteractionOnTransition||!st&&!d&&!g)return!1;const at=Math.min(_.params.slidesPerGroupSkip,b);let ct=at+Math.floor((b-at)/_.params.slidesPerGroup);ct>=j.length&&(ct=j.length-1);const it=-j[ct];if($.normalizeSlideIndex)for(let ht=0;ht<_e.length;ht+=1){const ut=-Math.floor(it*100),dt=Math.floor(_e[ht]*100),pt=Math.floor(_e[ht+1]*100);typeof _e[ht+1]!="undefined"?ut>=dt&&ut<pt-(pt-dt)/2?b=ht:ut>=dt&&ut<pt&&(b=ht+1):ut>=dt&&(b=ht)}if(_.initialized&&b!==rt&&(!_.allowSlideNext&&(tt?it>_.translate&&it>_.minTranslate():it<_.translate&&it<_.minTranslate())||!_.allowSlidePrev&&it>_.translate&&it>_.maxTranslate()&&(rt||0)!==b))return!1;b!==(et||0)&&h&&_.emit("beforeSlideChangeStart"),_.updateProgress(it);let lt;if(b>rt?lt="next":b<rt?lt="prev":lt="reset",tt&&-it===_.translate||!tt&&it===_.translate)return _.updateActiveIndex(b),$.autoHeight&&_.updateAutoHeight(),_.updateSlidesClasses(),$.effect!=="slide"&&_.setTranslate(it),lt!=="reset"&&(_.transitionStart(h,lt),_.transitionEnd(h,lt)),!1;if($.cssMode){const ht=_.isHorizontal(),ut=tt?it:-it;if(e===0){const dt=_.virtual&&_.params.virtual.enabled;dt&&(_.wrapperEl.style.scrollSnapType="none",_._immediateVirtual=!0),dt&&!_._cssModeVirtualInitialSet&&_.params.initialSlide>0?(_._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{nt[ht?"scrollLeft":"scrollTop"]=ut})):nt[ht?"scrollLeft":"scrollTop"]=ut,dt&&requestAnimationFrame(()=>{_.wrapperEl.style.scrollSnapType="",_._immediateVirtual=!1})}else{if(!_.support.smoothScroll)return animateCSSModeScroll({swiper:_,targetPosition:ut,side:ht?"left":"top"}),!0;nt.scrollTo({[ht?"left":"top"]:ut,behavior:"smooth"})}return!0}return _.setTransition(e),_.setTranslate(it),_.updateActiveIndex(b),_.updateSlidesClasses(),_.emit("beforeTransitionStart",e,d),_.transitionStart(h,lt),e===0?_.transitionEnd(h,lt):_.animating||(_.animating=!0,_.onSlideToWrapperTransitionEnd||(_.onSlideToWrapperTransitionEnd=function(ut){!_||_.destroyed||ut.target===this&&(_.wrapperEl.removeEventListener("transitionend",_.onSlideToWrapperTransitionEnd),_.onSlideToWrapperTransitionEnd=null,delete _.onSlideToWrapperTransitionEnd,_.transitionEnd(h,lt))}),_.wrapperEl.addEventListener("transitionend",_.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(o,e,h,d){o===void 0&&(o=0),e===void 0&&(e=this.params.speed),h===void 0&&(h=!0),typeof o=="string"&&(o=parseInt(o,10));const g=this,_=g.grid&&g.params.grid&&g.params.grid.rows>1;let b=o;if(g.params.loop)if(g.virtual&&g.params.virtual.enabled)b=b+g.virtual.slidesBefore;else{let $;if(_){const tt=b*g.params.grid.rows;$=g.slides.filter(nt=>nt.getAttribute("data-swiper-slide-index")*1===tt)[0].column}else $=g.getSlideIndexByData(b);const j=_?Math.ceil(g.slides.length/g.params.grid.rows):g.slides.length,{centeredSlides:_e}=g.params;let et=g.params.slidesPerView;et==="auto"?et=g.slidesPerViewDynamic():(et=Math.ceil(parseFloat(g.params.slidesPerView,10)),_e&&et%2==0&&(et=et+1));let rt=j-$<et;if(_e&&(rt=rt||$<Math.ceil(et/2)),rt){const tt=_e?$<g.activeIndex?"prev":"next":$-g.activeIndex-1<g.params.slidesPerView?"next":"prev";g.loopFix({direction:tt,slideTo:!0,activeSlideIndex:tt==="next"?$+1:$-j+1,slideRealIndex:tt==="next"?g.realIndex:void 0})}if(_){const tt=b*g.params.grid.rows;b=g.slides.filter(nt=>nt.getAttribute("data-swiper-slide-index")*1===tt)[0].column}else b=g.getSlideIndexByData(b)}return requestAnimationFrame(()=>{g.slideTo(b,e,h,d)}),g}function slideNext(o,e,h){o===void 0&&(o=this.params.speed),e===void 0&&(e=!0);const d=this,{enabled:g,params:_,animating:b}=d;if(!g)return d;let $=_.slidesPerGroup;_.slidesPerView==="auto"&&_.slidesPerGroup===1&&_.slidesPerGroupAuto&&($=Math.max(d.slidesPerViewDynamic("current",!0),1));const j=d.activeIndex<_.slidesPerGroupSkip?1:$,_e=d.virtual&&_.virtual.enabled;if(_.loop){if(b&&!_e&&_.loopPreventsSliding)return!1;if(d.loopFix({direction:"next"}),d._clientLeft=d.wrapperEl.clientLeft,d.activeIndex===d.slides.length-1&&_.cssMode)return requestAnimationFrame(()=>{d.slideTo(d.activeIndex+j,o,e,h)}),!0}return _.rewind&&d.isEnd?d.slideTo(0,o,e,h):d.slideTo(d.activeIndex+j,o,e,h)}function slidePrev(o,e,h){o===void 0&&(o=this.params.speed),e===void 0&&(e=!0);const d=this,{params:g,snapGrid:_,slidesGrid:b,rtlTranslate:$,enabled:j,animating:_e}=d;if(!j)return d;const et=d.virtual&&g.virtual.enabled;if(g.loop){if(_e&&!et&&g.loopPreventsSliding)return!1;d.loopFix({direction:"prev"}),d._clientLeft=d.wrapperEl.clientLeft}const rt=$?d.translate:-d.translate;function tt(it){return it<0?-Math.floor(Math.abs(it)):Math.floor(it)}const nt=tt(rt),st=_.map(it=>tt(it));let at=_[st.indexOf(nt)-1];if(typeof at=="undefined"&&g.cssMode){let it;_.forEach((lt,ht)=>{nt>=lt&&(it=ht)}),typeof it!="undefined"&&(at=_[it>0?it-1:it])}let ct=0;if(typeof at!="undefined"&&(ct=b.indexOf(at),ct<0&&(ct=d.activeIndex-1),g.slidesPerView==="auto"&&g.slidesPerGroup===1&&g.slidesPerGroupAuto&&(ct=ct-d.slidesPerViewDynamic("previous",!0)+1,ct=Math.max(ct,0))),g.rewind&&d.isBeginning){const it=d.params.virtual&&d.params.virtual.enabled&&d.virtual?d.virtual.slides.length-1:d.slides.length-1;return d.slideTo(it,o,e,h)}else if(g.loop&&d.activeIndex===0&&g.cssMode)return requestAnimationFrame(()=>{d.slideTo(ct,o,e,h)}),!0;return d.slideTo(ct,o,e,h)}function slideReset(o,e,h){o===void 0&&(o=this.params.speed),e===void 0&&(e=!0);const d=this;return d.slideTo(d.activeIndex,o,e,h)}function slideToClosest(o,e,h,d){o===void 0&&(o=this.params.speed),e===void 0&&(e=!0),d===void 0&&(d=.5);const g=this;let _=g.activeIndex;const b=Math.min(g.params.slidesPerGroupSkip,_),$=b+Math.floor((_-b)/g.params.slidesPerGroup),j=g.rtlTranslate?g.translate:-g.translate;if(j>=g.snapGrid[$]){const _e=g.snapGrid[$],et=g.snapGrid[$+1];j-_e>(et-_e)*d&&(_+=g.params.slidesPerGroup)}else{const _e=g.snapGrid[$-1],et=g.snapGrid[$];j-_e<=(et-_e)*d&&(_-=g.params.slidesPerGroup)}return _=Math.max(_,0),_=Math.min(_,g.slidesGrid.length-1),g.slideTo(_,o,e,h)}function slideToClickedSlide(){const o=this,{params:e,slidesEl:h}=o,d=e.slidesPerView==="auto"?o.slidesPerViewDynamic():e.slidesPerView;let g=o.clickedIndex,_;const b=o.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(o.animating)return;_=parseInt(o.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?g<o.loopedSlides-d/2||g>o.slides.length-o.loopedSlides+d/2?(o.loopFix(),g=o.getSlideIndex(elementChildren(h,`${b}[data-swiper-slide-index="${_}"]`)[0]),nextTick$1(()=>{o.slideTo(g)})):o.slideTo(g):g>o.slides.length-d?(o.loopFix(),g=o.getSlideIndex(elementChildren(h,`${b}[data-swiper-slide-index="${_}"]`)[0]),nextTick$1(()=>{o.slideTo(g)})):o.slideTo(g)}else o.slideTo(g)}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(o){const e=this,{params:h,slidesEl:d}=e;if(!h.loop||e.virtual&&e.params.virtual.enabled)return;const g=()=>{elementChildren(d,`.${h.slideClass}, swiper-slide`).forEach((rt,tt)=>{rt.setAttribute("data-swiper-slide-index",tt)})},_=e.grid&&h.grid&&h.grid.rows>1,b=h.slidesPerGroup*(_?h.grid.rows:1),$=e.slides.length%b!=0,j=_&&e.slides.length%h.grid.rows!=0,_e=et=>{for(let rt=0;rt<et;rt+=1){const tt=e.isElement?createElement("swiper-slide",[h.slideBlankClass]):createElement("div",[h.slideClass,h.slideBlankClass]);e.slidesEl.append(tt)}};if($){if(h.loopAddBlankSlides){const et=b-e.slides.length%b;_e(et),e.recalcSlides(),e.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");g()}else if(j){if(h.loopAddBlankSlides){const et=h.grid.rows-e.slides.length%h.grid.rows;_e(et),e.recalcSlides(),e.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");g()}else g();e.loopFix({slideRealIndex:o,direction:h.centeredSlides?void 0:"next"})}function loopFix(o){let{slideRealIndex:e,slideTo:h=!0,direction:d,setTranslate:g,activeSlideIndex:_,byController:b,byMousewheel:$}=o===void 0?{}:o;const j=this;if(!j.params.loop)return;j.emit("beforeLoopFix");const{slides:_e,allowSlidePrev:et,allowSlideNext:rt,slidesEl:tt,params:nt}=j,{centeredSlides:st}=nt;if(j.allowSlidePrev=!0,j.allowSlideNext=!0,j.virtual&&nt.virtual.enabled){h&&(!nt.centeredSlides&&j.snapIndex===0?j.slideTo(j.virtual.slides.length,0,!1,!0):nt.centeredSlides&&j.snapIndex<nt.slidesPerView?j.slideTo(j.virtual.slides.length+j.snapIndex,0,!1,!0):j.snapIndex===j.snapGrid.length-1&&j.slideTo(j.virtual.slidesBefore,0,!1,!0)),j.allowSlidePrev=et,j.allowSlideNext=rt,j.emit("loopFix");return}let at=nt.slidesPerView;at==="auto"?at=j.slidesPerViewDynamic():(at=Math.ceil(parseFloat(nt.slidesPerView,10)),st&&at%2==0&&(at=at+1));const ct=nt.slidesPerGroupAuto?at:nt.slidesPerGroup;let it=ct;it%ct!=0&&(it+=ct-it%ct),it+=nt.loopAdditionalSlides,j.loopedSlides=it;const lt=j.grid&&nt.grid&&nt.grid.rows>1;_e.length<at+it?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):lt&&nt.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const ht=[],ut=[];let dt=j.activeIndex;typeof _=="undefined"?_=j.getSlideIndex(_e.filter(Lt=>Lt.classList.contains(nt.slideActiveClass))[0]):dt=_;const pt=d==="next"||!d,mt=d==="prev"||!d;let yt=0,xt=0;const Tt=lt?Math.ceil(_e.length/nt.grid.rows):_e.length,Mt=(lt?_e[_].column:_)+(st&&typeof g=="undefined"?-at/2+.5:0);if(Mt<it){yt=Math.max(it-Mt,ct);for(let Lt=0;Lt<it-Mt;Lt+=1){const Pt=Lt-Math.floor(Lt/Tt)*Tt;if(lt){const It=Tt-Pt-1;for(let Et=_e.length-1;Et>=0;Et-=1)_e[Et].column===It&&ht.push(Et)}else ht.push(Tt-Pt-1)}}else if(Mt+at>Tt-it){xt=Math.max(Mt-(Tt-it*2),ct);for(let Lt=0;Lt<xt;Lt+=1){const Pt=Lt-Math.floor(Lt/Tt)*Tt;lt?_e.forEach((It,Et)=>{It.column===Pt&&ut.push(Et)}):ut.push(Pt)}}if(j.__preventObserver__=!0,requestAnimationFrame(()=>{j.__preventObserver__=!1}),mt&&ht.forEach(Lt=>{_e[Lt].swiperLoopMoveDOM=!0,tt.prepend(_e[Lt]),_e[Lt].swiperLoopMoveDOM=!1}),pt&&ut.forEach(Lt=>{_e[Lt].swiperLoopMoveDOM=!0,tt.append(_e[Lt]),_e[Lt].swiperLoopMoveDOM=!1}),j.recalcSlides(),nt.slidesPerView==="auto"?j.updateSlides():lt&&(ht.length>0&&mt||ut.length>0&&pt)&&j.slides.forEach((Lt,Pt)=>{j.grid.updateSlide(Pt,Lt,j.slides)}),nt.watchSlidesProgress&&j.updateSlidesOffset(),h){if(ht.length>0&&mt){if(typeof e=="undefined"){const Lt=j.slidesGrid[dt],It=j.slidesGrid[dt+yt]-Lt;$?j.setTranslate(j.translate-It):(j.slideTo(dt+yt,0,!1,!0),g&&(j.touchEventsData.startTranslate=j.touchEventsData.startTranslate-It,j.touchEventsData.currentTranslate=j.touchEventsData.currentTranslate-It))}else if(g){const Lt=lt?ht.length/nt.grid.rows:ht.length;j.slideTo(j.activeIndex+Lt,0,!1,!0),j.touchEventsData.currentTranslate=j.translate}}else if(ut.length>0&&pt)if(typeof e=="undefined"){const Lt=j.slidesGrid[dt],It=j.slidesGrid[dt-xt]-Lt;$?j.setTranslate(j.translate-It):(j.slideTo(dt-xt,0,!1,!0),g&&(j.touchEventsData.startTranslate=j.touchEventsData.startTranslate-It,j.touchEventsData.currentTranslate=j.touchEventsData.currentTranslate-It))}else{const Lt=lt?ut.length/nt.grid.rows:ut.length;j.slideTo(j.activeIndex-Lt,0,!1,!0)}}if(j.allowSlidePrev=et,j.allowSlideNext=rt,j.controller&&j.controller.control&&!b){const Lt={slideRealIndex:e,direction:d,setTranslate:g,activeSlideIndex:_,byController:!0};Array.isArray(j.controller.control)?j.controller.control.forEach(Pt=>{!Pt.destroyed&&Pt.params.loop&&Pt.loopFix(Ap(Nu({},Lt),{slideTo:Pt.params.slidesPerView===nt.slidesPerView?h:!1}))}):j.controller.control instanceof j.constructor&&j.controller.control.params.loop&&j.controller.control.loopFix(Ap(Nu({},Lt),{slideTo:j.controller.control.params.slidesPerView===nt.slidesPerView?h:!1}))}j.emit("loopFix")}function loopDestroy(){const o=this,{params:e,slidesEl:h}=o;if(!e.loop||o.virtual&&o.params.virtual.enabled)return;o.recalcSlides();const d=[];o.slides.forEach(g=>{const _=typeof g.swiperSlideIndex=="undefined"?g.getAttribute("data-swiper-slide-index")*1:g.swiperSlideIndex;d[_]=g}),o.slides.forEach(g=>{g.removeAttribute("data-swiper-slide-index")}),d.forEach(g=>{h.append(g)}),o.recalcSlides(),o.slideTo(o.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(o){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const h=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),h.style.cursor="move",h.style.cursor=o?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function unsetGrabCursor(){const o=this;o.params.watchOverflow&&o.isLocked||o.params.cssMode||(o.isElement&&(o.__preventObserver__=!0),o[o.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",o.isElement&&requestAnimationFrame(()=>{o.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(o,e){e===void 0&&(e=this);function h(d){if(!d||d===getDocument()||d===getWindow())return null;d.assignedSlot&&(d=d.assignedSlot);const g=d.closest(o);return!g&&!d.getRootNode?null:g||h(d.getRootNode().host)}return h(e)}function preventEdgeSwipe(o,e,h){const d=getWindow(),{params:g}=o,_=g.edgeSwipeDetection,b=g.edgeSwipeThreshold;return _&&(h<=b||h>=d.innerWidth-b)?_==="prevent"?(e.preventDefault(),!0):!1:!0}function onTouchStart(o){const e=this,h=getDocument();let d=o;d.originalEvent&&(d=d.originalEvent);const g=e.touchEventsData;if(d.type==="pointerdown"){if(g.pointerId!==null&&g.pointerId!==d.pointerId)return;g.pointerId=d.pointerId}else d.type==="touchstart"&&d.targetTouches.length===1&&(g.touchId=d.targetTouches[0].identifier);if(d.type==="touchstart"){preventEdgeSwipe(e,d,d.targetTouches[0].pageX);return}const{params:_,touches:b,enabled:$}=e;if(!$||!_.simulateTouch&&d.pointerType==="mouse"||e.animating&&_.preventInteractionOnTransition)return;!e.animating&&_.cssMode&&_.loop&&e.loopFix();let j=d.target;if(_.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(j)||"which"in d&&d.which===3||"button"in d&&d.button>0||g.isTouched&&g.isMoved)return;const _e=!!_.noSwipingClass&&_.noSwipingClass!=="",et=d.composedPath?d.composedPath():d.path;_e&&d.target&&d.target.shadowRoot&&et&&(j=et[0]);const rt=_.noSwipingSelector?_.noSwipingSelector:`.${_.noSwipingClass}`,tt=!!(d.target&&d.target.shadowRoot);if(_.noSwiping&&(tt?closestElement(rt,j):j.closest(rt))){e.allowClick=!0;return}if(_.swipeHandler&&!j.closest(_.swipeHandler))return;b.currentX=d.pageX,b.currentY=d.pageY;const nt=b.currentX,st=b.currentY;if(!preventEdgeSwipe(e,d,nt))return;Object.assign(g,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),b.startX=nt,b.startY=st,g.touchStartTime=now$2(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,_.threshold>0&&(g.allowThresholdMove=!1);let at=!0;j.matches(g.focusableElements)&&(at=!1,j.nodeName==="SELECT"&&(g.isTouched=!1)),h.activeElement&&h.activeElement.matches(g.focusableElements)&&h.activeElement!==j&&h.activeElement.blur();const ct=at&&e.allowTouchMove&&_.touchStartPreventDefault;(_.touchStartForcePreventDefault||ct)&&!j.isContentEditable&&d.preventDefault(),_.freeMode&&_.freeMode.enabled&&e.freeMode&&e.animating&&!_.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",d)}function onTouchMove(o){const e=getDocument(),h=this,d=h.touchEventsData,{params:g,touches:_,rtlTranslate:b,enabled:$}=h;if(!$||!g.simulateTouch&&o.pointerType==="mouse")return;let j=o;if(j.originalEvent&&(j=j.originalEvent),j.type==="pointermove"&&(d.touchId!==null||j.pointerId!==d.pointerId))return;let _e;if(j.type==="touchmove"){if(_e=[...j.changedTouches].filter(pt=>pt.identifier===d.touchId)[0],!_e||_e.identifier!==d.touchId)return}else _e=j;if(!d.isTouched){d.startMoving&&d.isScrolling&&h.emit("touchMoveOpposite",j);return}const et=_e.pageX,rt=_e.pageY;if(j.preventedByNestedSwiper){_.startX=et,_.startY=rt;return}if(!h.allowTouchMove){j.target.matches(d.focusableElements)||(h.allowClick=!1),d.isTouched&&(Object.assign(_,{startX:et,startY:rt,currentX:et,currentY:rt}),d.touchStartTime=now$2());return}if(g.touchReleaseOnEdges&&!g.loop){if(h.isVertical()){if(rt<_.startY&&h.translate<=h.maxTranslate()||rt>_.startY&&h.translate>=h.minTranslate()){d.isTouched=!1,d.isMoved=!1;return}}else if(et<_.startX&&h.translate<=h.maxTranslate()||et>_.startX&&h.translate>=h.minTranslate())return}if(e.activeElement&&j.target===e.activeElement&&j.target.matches(d.focusableElements)){d.isMoved=!0,h.allowClick=!1;return}d.allowTouchCallbacks&&h.emit("touchMove",j),_.previousX=_.currentX,_.previousY=_.currentY,_.currentX=et,_.currentY=rt;const tt=_.currentX-_.startX,nt=_.currentY-_.startY;if(h.params.threshold&&Math.sqrt(tt**2+nt**2)<h.params.threshold)return;if(typeof d.isScrolling=="undefined"){let pt;h.isHorizontal()&&_.currentY===_.startY||h.isVertical()&&_.currentX===_.startX?d.isScrolling=!1:tt*tt+nt*nt>=25&&(pt=Math.atan2(Math.abs(nt),Math.abs(tt))*180/Math.PI,d.isScrolling=h.isHorizontal()?pt>g.touchAngle:90-pt>g.touchAngle)}if(d.isScrolling&&h.emit("touchMoveOpposite",j),typeof d.startMoving=="undefined"&&(_.currentX!==_.startX||_.currentY!==_.startY)&&(d.startMoving=!0),d.isScrolling){d.isTouched=!1;return}if(!d.startMoving)return;h.allowClick=!1,!g.cssMode&&j.cancelable&&j.preventDefault(),g.touchMoveStopPropagation&&!g.nested&&j.stopPropagation();let st=h.isHorizontal()?tt:nt,at=h.isHorizontal()?_.currentX-_.previousX:_.currentY-_.previousY;g.oneWayMovement&&(st=Math.abs(st)*(b?1:-1),at=Math.abs(at)*(b?1:-1)),_.diff=st,st*=g.touchRatio,b&&(st=-st,at=-at);const ct=h.touchesDirection;h.swipeDirection=st>0?"prev":"next",h.touchesDirection=at>0?"prev":"next";const it=h.params.loop&&!g.cssMode,lt=h.touchesDirection==="next"&&h.allowSlideNext||h.touchesDirection==="prev"&&h.allowSlidePrev;if(!d.isMoved){if(it&&lt&&h.loopFix({direction:h.swipeDirection}),d.startTranslate=h.getTranslate(),h.setTransition(0),h.animating){const pt=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});h.wrapperEl.dispatchEvent(pt)}d.allowMomentumBounce=!1,g.grabCursor&&(h.allowSlideNext===!0||h.allowSlidePrev===!0)&&h.setGrabCursor(!0),h.emit("sliderFirstMove",j)}let ht;if(new Date().getTime(),d.isMoved&&d.allowThresholdMove&&ct!==h.touchesDirection&&it&&lt&&Math.abs(st)>=1){Object.assign(_,{startX:et,startY:rt,currentX:et,currentY:rt,startTranslate:d.currentTranslate}),d.loopSwapReset=!0,d.startTranslate=d.currentTranslate;return}h.emit("sliderMove",j),d.isMoved=!0,d.currentTranslate=st+d.startTranslate;let ut=!0,dt=g.resistanceRatio;if(g.touchReleaseOnEdges&&(dt=0),st>0?(it&&lt&&!ht&&d.allowThresholdMove&&d.currentTranslate>(g.centeredSlides?h.minTranslate()-h.slidesSizesGrid[h.activeIndex+1]:h.minTranslate())&&h.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),d.currentTranslate>h.minTranslate()&&(ut=!1,g.resistance&&(d.currentTranslate=h.minTranslate()-1+(-h.minTranslate()+d.startTranslate+st)**dt))):st<0&&(it&&lt&&!ht&&d.allowThresholdMove&&d.currentTranslate<(g.centeredSlides?h.maxTranslate()+h.slidesSizesGrid[h.slidesSizesGrid.length-1]:h.maxTranslate())&&h.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:h.slides.length-(g.slidesPerView==="auto"?h.slidesPerViewDynamic():Math.ceil(parseFloat(g.slidesPerView,10)))}),d.currentTranslate<h.maxTranslate()&&(ut=!1,g.resistance&&(d.currentTranslate=h.maxTranslate()+1-(h.maxTranslate()-d.startTranslate-st)**dt))),ut&&(j.preventedByNestedSwiper=!0),!h.allowSlideNext&&h.swipeDirection==="next"&&d.currentTranslate<d.startTranslate&&(d.currentTranslate=d.startTranslate),!h.allowSlidePrev&&h.swipeDirection==="prev"&&d.currentTranslate>d.startTranslate&&(d.currentTranslate=d.startTranslate),!h.allowSlidePrev&&!h.allowSlideNext&&(d.currentTranslate=d.startTranslate),g.threshold>0)if(Math.abs(st)>g.threshold||d.allowThresholdMove){if(!d.allowThresholdMove){d.allowThresholdMove=!0,_.startX=_.currentX,_.startY=_.currentY,d.currentTranslate=d.startTranslate,_.diff=h.isHorizontal()?_.currentX-_.startX:_.currentY-_.startY;return}}else{d.currentTranslate=d.startTranslate;return}!g.followFinger||g.cssMode||((g.freeMode&&g.freeMode.enabled&&h.freeMode||g.watchSlidesProgress)&&(h.updateActiveIndex(),h.updateSlidesClasses()),g.freeMode&&g.freeMode.enabled&&h.freeMode&&h.freeMode.onTouchMove(),h.updateProgress(d.currentTranslate),h.setTranslate(d.currentTranslate))}function onTouchEnd(o){const e=this,h=e.touchEventsData;let d=o;d.originalEvent&&(d=d.originalEvent);let g;if(d.type==="touchend"||d.type==="touchcancel"){if(g=[...d.changedTouches].filter(ut=>ut.identifier===h.touchId)[0],!g||g.identifier!==h.touchId)return}else{if(h.touchId!==null||d.pointerId!==h.pointerId)return;g=d}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(d.type)&&!(["pointercancel","contextmenu"].includes(d.type)&&(e.browser.isSafari||e.browser.isWebView)))return;h.pointerId=null,h.touchId=null;const{params:b,touches:$,rtlTranslate:j,slidesGrid:_e,enabled:et}=e;if(!et||!b.simulateTouch&&d.pointerType==="mouse")return;if(h.allowTouchCallbacks&&e.emit("touchEnd",d),h.allowTouchCallbacks=!1,!h.isTouched){h.isMoved&&b.grabCursor&&e.setGrabCursor(!1),h.isMoved=!1,h.startMoving=!1;return}b.grabCursor&&h.isMoved&&h.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const rt=now$2(),tt=rt-h.touchStartTime;if(e.allowClick){const ut=d.path||d.composedPath&&d.composedPath();e.updateClickedSlide(ut&&ut[0]||d.target,ut),e.emit("tap click",d),tt<300&&rt-h.lastClickTime<300&&e.emit("doubleTap doubleClick",d)}if(h.lastClickTime=now$2(),nextTick$1(()=>{e.destroyed||(e.allowClick=!0)}),!h.isTouched||!h.isMoved||!e.swipeDirection||$.diff===0&&!h.loopSwapReset||h.currentTranslate===h.startTranslate&&!h.loopSwapReset){h.isTouched=!1,h.isMoved=!1,h.startMoving=!1;return}h.isTouched=!1,h.isMoved=!1,h.startMoving=!1;let nt;if(b.followFinger?nt=j?e.translate:-e.translate:nt=-h.currentTranslate,b.cssMode)return;if(b.freeMode&&b.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:nt});return}let st=0,at=e.slidesSizesGrid[0];for(let ut=0;ut<_e.length;ut+=ut<b.slidesPerGroupSkip?1:b.slidesPerGroup){const dt=ut<b.slidesPerGroupSkip-1?1:b.slidesPerGroup;typeof _e[ut+dt]!="undefined"?nt>=_e[ut]&&nt<_e[ut+dt]&&(st=ut,at=_e[ut+dt]-_e[ut]):nt>=_e[ut]&&(st=ut,at=_e[_e.length-1]-_e[_e.length-2])}let ct=null,it=null;b.rewind&&(e.isBeginning?it=b.virtual&&b.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(ct=0));const lt=(nt-_e[st])/at,ht=st<b.slidesPerGroupSkip-1?1:b.slidesPerGroup;if(tt>b.longSwipesMs){if(!b.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(lt>=b.longSwipesRatio?e.slideTo(b.rewind&&e.isEnd?ct:st+ht):e.slideTo(st)),e.swipeDirection==="prev"&&(lt>1-b.longSwipesRatio?e.slideTo(st+ht):it!==null&&lt<0&&Math.abs(lt)>b.longSwipesRatio?e.slideTo(it):e.slideTo(st))}else{if(!b.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(d.target===e.navigation.nextEl||d.target===e.navigation.prevEl)?d.target===e.navigation.nextEl?e.slideTo(st+ht):e.slideTo(st):(e.swipeDirection==="next"&&e.slideTo(ct!==null?ct:st+ht),e.swipeDirection==="prev"&&e.slideTo(it!==null?it:st))}}function onResize(){const o=this,{params:e,el:h}=o;if(h&&h.offsetWidth===0)return;e.breakpoints&&o.setBreakpoint();const{allowSlideNext:d,allowSlidePrev:g,snapGrid:_}=o,b=o.virtual&&o.params.virtual.enabled;o.allowSlideNext=!0,o.allowSlidePrev=!0,o.updateSize(),o.updateSlides(),o.updateSlidesClasses();const $=b&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&o.isEnd&&!o.isBeginning&&!o.params.centeredSlides&&!$?o.slideTo(o.slides.length-1,0,!1,!0):o.params.loop&&!b?o.slideToLoop(o.realIndex,0,!1,!0):o.slideTo(o.activeIndex,0,!1,!0),o.autoplay&&o.autoplay.running&&o.autoplay.paused&&(clearTimeout(o.autoplay.resizeTimeout),o.autoplay.resizeTimeout=setTimeout(()=>{o.autoplay&&o.autoplay.running&&o.autoplay.paused&&o.autoplay.resume()},500)),o.allowSlidePrev=g,o.allowSlideNext=d,o.params.watchOverflow&&_!==o.snapGrid&&o.checkOverflow()}function onClick(o){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&o.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(o.stopPropagation(),o.stopImmediatePropagation()))}function onScroll(){const o=this,{wrapperEl:e,rtlTranslate:h,enabled:d}=o;if(!d)return;o.previousTranslate=o.translate,o.isHorizontal()?o.translate=-e.scrollLeft:o.translate=-e.scrollTop,o.translate===0&&(o.translate=0),o.updateActiveIndex(),o.updateSlidesClasses();let g;const _=o.maxTranslate()-o.minTranslate();_===0?g=0:g=(o.translate-o.minTranslate())/_,g!==o.progress&&o.updateProgress(h?-o.translate:o.translate),o.emit("setTranslate",o.translate,!1)}function onLoad(o){const e=this;processLazyPreloader(e,o.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function onDocumentTouchStart(){const o=this;o.documentTouchHandlerProceeded||(o.documentTouchHandlerProceeded=!0,o.params.touchReleaseOnEdges&&(o.el.style.touchAction="auto"))}const events=(o,e)=>{const h=getDocument(),{params:d,el:g,wrapperEl:_,device:b}=o,$=!!d.nested,j=e==="on"?"addEventListener":"removeEventListener",_e=e;h[j]("touchstart",o.onDocumentTouchStart,{passive:!1,capture:$}),g[j]("touchstart",o.onTouchStart,{passive:!1}),g[j]("pointerdown",o.onTouchStart,{passive:!1}),h[j]("touchmove",o.onTouchMove,{passive:!1,capture:$}),h[j]("pointermove",o.onTouchMove,{passive:!1,capture:$}),h[j]("touchend",o.onTouchEnd,{passive:!0}),h[j]("pointerup",o.onTouchEnd,{passive:!0}),h[j]("pointercancel",o.onTouchEnd,{passive:!0}),h[j]("touchcancel",o.onTouchEnd,{passive:!0}),h[j]("pointerout",o.onTouchEnd,{passive:!0}),h[j]("pointerleave",o.onTouchEnd,{passive:!0}),h[j]("contextmenu",o.onTouchEnd,{passive:!0}),(d.preventClicks||d.preventClicksPropagation)&&g[j]("click",o.onClick,!0),d.cssMode&&_[j]("scroll",o.onScroll),d.updateOnWindowResize?o[_e](b.ios||b.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):o[_e]("observerUpdate",onResize,!0),g[j]("load",o.onLoad,{capture:!0})};function attachEvents(){const o=this,{params:e}=o;o.onTouchStart=onTouchStart.bind(o),o.onTouchMove=onTouchMove.bind(o),o.onTouchEnd=onTouchEnd.bind(o),o.onDocumentTouchStart=onDocumentTouchStart.bind(o),e.cssMode&&(o.onScroll=onScroll.bind(o)),o.onClick=onClick.bind(o),o.onLoad=onLoad.bind(o),events(o,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(o,e)=>o.grid&&e.grid&&e.grid.rows>1;function setBreakpoint(){const o=this,{realIndex:e,initialized:h,params:d,el:g}=o,_=d.breakpoints;if(!_||_&&Object.keys(_).length===0)return;const b=o.getBreakpoint(_,o.params.breakpointsBase,o.el);if(!b||o.currentBreakpoint===b)return;const j=(b in _?_[b]:void 0)||o.originalParams,_e=isGridEnabled(o,d),et=isGridEnabled(o,j),rt=d.enabled;_e&&!et?(g.classList.remove(`${d.containerModifierClass}grid`,`${d.containerModifierClass}grid-column`),o.emitContainerClasses()):!_e&&et&&(g.classList.add(`${d.containerModifierClass}grid`),(j.grid.fill&&j.grid.fill==="column"||!j.grid.fill&&d.grid.fill==="column")&&g.classList.add(`${d.containerModifierClass}grid-column`),o.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(it=>{if(typeof j[it]=="undefined")return;const lt=d[it]&&d[it].enabled,ht=j[it]&&j[it].enabled;lt&&!ht&&o[it].disable(),!lt&&ht&&o[it].enable()});const tt=j.direction&&j.direction!==d.direction,nt=d.loop&&(j.slidesPerView!==d.slidesPerView||tt),st=d.loop;tt&&h&&o.changeDirection(),extend$1(o.params,j);const at=o.params.enabled,ct=o.params.loop;Object.assign(o,{allowTouchMove:o.params.allowTouchMove,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev}),rt&&!at?o.disable():!rt&&at&&o.enable(),o.currentBreakpoint=b,o.emit("_beforeBreakpoint",j),h&&(nt?(o.loopDestroy(),o.loopCreate(e),o.updateSlides()):!st&&ct?(o.loopCreate(e),o.updateSlides()):st&&!ct&&o.loopDestroy()),o.emit("breakpoint",j)}function getBreakpoint(o,e,h){if(e===void 0&&(e="window"),!o||e==="container"&&!h)return;let d=!1;const g=getWindow(),_=e==="window"?g.innerHeight:h.clientHeight,b=Object.keys(o).map($=>{if(typeof $=="string"&&$.indexOf("@")===0){const j=parseFloat($.substr(1));return{value:_*j,point:$}}return{value:$,point:$}});b.sort(($,j)=>parseInt($.value,10)-parseInt(j.value,10));for(let $=0;$<b.length;$+=1){const{point:j,value:_e}=b[$];e==="window"?g.matchMedia(`(min-width: ${_e}px)`).matches&&(d=j):_e<=h.clientWidth&&(d=j)}return d||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(o,e){const h=[];return o.forEach(d=>{typeof d=="object"?Object.keys(d).forEach(g=>{d[g]&&h.push(e+g)}):typeof d=="string"&&h.push(e+d)}),h}function addClasses(){const o=this,{classNames:e,params:h,rtl:d,el:g,device:_}=o,b=prepareClasses(["initialized",h.direction,{"free-mode":o.params.freeMode&&h.freeMode.enabled},{autoheight:h.autoHeight},{rtl:d},{grid:h.grid&&h.grid.rows>1},{"grid-column":h.grid&&h.grid.rows>1&&h.grid.fill==="column"},{android:_.android},{ios:_.ios},{"css-mode":h.cssMode},{centered:h.cssMode&&h.centeredSlides},{"watch-progress":h.watchSlidesProgress}],h.containerModifierClass);e.push(...b),g.classList.add(...e),o.emitContainerClasses()}function removeClasses(){const o=this,{el:e,classNames:h}=o;e.classList.remove(...h),o.emitContainerClasses()}var classes={addClasses,removeClasses};function checkOverflow(){const o=this,{isLocked:e,params:h}=o,{slidesOffsetBefore:d}=h;if(d){const g=o.slides.length-1,_=o.slidesGrid[g]+o.slidesSizesGrid[g]+d*2;o.isLocked=o.size>_}else o.isLocked=o.snapGrid.length===1;h.allowSlideNext===!0&&(o.allowSlideNext=!o.isLocked),h.allowSlidePrev===!0&&(o.allowSlidePrev=!o.isLocked),e&&e!==o.isLocked&&(o.isEnd=!1),e!==o.isLocked&&o.emit(o.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(o,e){return function(d){d===void 0&&(d={});const g=Object.keys(d)[0],_=d[g];if(typeof _!="object"||_===null){extend$1(e,d);return}if(o[g]===!0&&(o[g]={enabled:!0}),g==="navigation"&&o[g]&&o[g].enabled&&!o[g].prevEl&&!o[g].nextEl&&(o[g].auto=!0),["pagination","scrollbar"].indexOf(g)>=0&&o[g]&&o[g].enabled&&!o[g].el&&(o[g].auto=!0),!(g in o&&"enabled"in _)){extend$1(e,d);return}typeof o[g]=="object"&&!("enabled"in o[g])&&(o[g].enabled=!0),o[g]||(o[g]={enabled:!1}),extend$1(e,d)}}const prototypes={eventsEmitter,update:update$1,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};class Swiper$1{constructor(){let e,h;for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];g.length===1&&g[0].constructor&&Object.prototype.toString.call(g[0]).slice(8,-1)==="Object"?h=g[0]:[e,h]=g,h||(h={}),h=extend$1({},h),e&&!h.el&&(h.el=e);const b=getDocument();if(h.el&&typeof h.el=="string"&&b.querySelectorAll(h.el).length>1){const et=[];return b.querySelectorAll(h.el).forEach(rt=>{const tt=extend$1({},h,{el:rt});et.push(new Swiper$1(tt))}),et}const $=this;$.__swiper__=!0,$.support=getSupport(),$.device=getDevice({userAgent:h.userAgent}),$.browser=getBrowser(),$.eventsListeners={},$.eventsAnyListeners=[],$.modules=[...$.__modules__],h.modules&&Array.isArray(h.modules)&&$.modules.push(...h.modules);const j={};$.modules.forEach(et=>{et({params:h,swiper:$,extendParams:moduleExtendParams(h,j),on:$.on.bind($),once:$.once.bind($),off:$.off.bind($),emit:$.emit.bind($)})});const _e=extend$1({},defaults,j);return $.params=extend$1({},_e,extendedDefaults,h),$.originalParams=extend$1({},$.params),$.passedParams=extend$1({},h),$.params&&$.params.on&&Object.keys($.params.on).forEach(et=>{$.on(et,$.params.on[et])}),$.params&&$.params.onAny&&$.onAny($.params.onAny),Object.assign($,{enabled:$.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return $.params.direction==="horizontal"},isVertical(){return $.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:$.params.allowSlideNext,allowSlidePrev:$.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:$.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:$.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),$.emit("_swiper"),$.params.init&&$.init(),$}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:h,params:d}=this,g=elementChildren(h,`.${d.slideClass}, swiper-slide`),_=elementIndex(g[0]);return elementIndex(e)-_}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:h,params:d}=e;e.slides=elementChildren(h,`.${d.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,h){const d=this;e=Math.min(Math.max(e,0),1);const g=d.minTranslate(),b=(d.maxTranslate()-g)*e+g;d.translateTo(b,typeof h=="undefined"?0:h),d.updateActiveIndex(),d.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const h=e.el.className.split(" ").filter(d=>d.indexOf("swiper")===0||d.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",h.join(" "))}getSlideClasses(e){const h=this;return h.destroyed?"":e.className.split(" ").filter(d=>d.indexOf("swiper-slide")===0||d.indexOf(h.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const h=[];e.slides.forEach(d=>{const g=e.getSlideClasses(d);h.push({slideEl:d,classNames:g}),e.emit("_slideClass",d,g)}),e.emit("_slideClasses",h)}slidesPerViewDynamic(e,h){e===void 0&&(e="current"),h===void 0&&(h=!1);const d=this,{params:g,slides:_,slidesGrid:b,slidesSizesGrid:$,size:j,activeIndex:_e}=d;let et=1;if(typeof g.slidesPerView=="number")return g.slidesPerView;if(g.centeredSlides){let rt=_[_e]?_[_e].swiperSlideSize:0,tt;for(let nt=_e+1;nt<_.length;nt+=1)_[nt]&&!tt&&(rt+=_[nt].swiperSlideSize,et+=1,rt>j&&(tt=!0));for(let nt=_e-1;nt>=0;nt-=1)_[nt]&&!tt&&(rt+=_[nt].swiperSlideSize,et+=1,rt>j&&(tt=!0))}else if(e==="current")for(let rt=_e+1;rt<_.length;rt+=1)(h?b[rt]+$[rt]-b[_e]<j:b[rt]-b[_e]<j)&&(et+=1);else for(let rt=_e-1;rt>=0;rt-=1)b[_e]-b[rt]<j&&(et+=1);return et}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:h,params:d}=e;d.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(b=>{b.complete&&processLazyPreloader(e,b)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function g(){const b=e.rtlTranslate?e.translate*-1:e.translate,$=Math.min(Math.max(b,e.maxTranslate()),e.minTranslate());e.setTranslate($),e.updateActiveIndex(),e.updateSlidesClasses()}let _;if(d.freeMode&&d.freeMode.enabled&&!d.cssMode)g(),d.autoHeight&&e.updateAutoHeight();else{if((d.slidesPerView==="auto"||d.slidesPerView>1)&&e.isEnd&&!d.centeredSlides){const b=e.virtual&&d.virtual.enabled?e.virtual.slides:e.slides;_=e.slideTo(b.length-1,0,!1,!0)}else _=e.slideTo(e.activeIndex,0,!1,!0);_||g()}d.watchOverflow&&h!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,h){h===void 0&&(h=!0);const d=this,g=d.params.direction;return e||(e=g==="horizontal"?"vertical":"horizontal"),e===g||e!=="horizontal"&&e!=="vertical"||(d.el.classList.remove(`${d.params.containerModifierClass}${g}`),d.el.classList.add(`${d.params.containerModifierClass}${e}`),d.emitContainerClasses(),d.params.direction=e,d.slides.forEach(_=>{e==="vertical"?_.style.width="":_.style.height=""}),d.emit("changeDirection"),h&&d.update()),d}changeLanguageDirection(e){const h=this;h.rtl&&e==="rtl"||!h.rtl&&e==="ltr"||(h.rtl=e==="rtl",h.rtlTranslate=h.params.direction==="horizontal"&&h.rtl,h.rtl?(h.el.classList.add(`${h.params.containerModifierClass}rtl`),h.el.dir="rtl"):(h.el.classList.remove(`${h.params.containerModifierClass}rtl`),h.el.dir="ltr"),h.update())}mount(e){const h=this;if(h.mounted)return!0;let d=e||h.params.el;if(typeof d=="string"&&(d=document.querySelector(d)),!d)return!1;d.swiper=h,d.parentNode&&d.parentNode.host&&d.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(h.isElement=!0);const g=()=>`.${(h.params.wrapperClass||"").trim().split(" ").join(".")}`;let b=(()=>d&&d.shadowRoot&&d.shadowRoot.querySelector?d.shadowRoot.querySelector(g()):elementChildren(d,g())[0])();return!b&&h.params.createElements&&(b=createElement("div",h.params.wrapperClass),d.append(b),elementChildren(d,`.${h.params.slideClass}`).forEach($=>{b.append($)})),Object.assign(h,{el:d,wrapperEl:b,slidesEl:h.isElement&&!d.parentNode.host.slideSlots?d.parentNode.host:b,hostEl:h.isElement?d.parentNode.host:d,mounted:!0,rtl:d.dir.toLowerCase()==="rtl"||elementStyle(d,"direction")==="rtl",rtlTranslate:h.params.direction==="horizontal"&&(d.dir.toLowerCase()==="rtl"||elementStyle(d,"direction")==="rtl"),wrongRTL:elementStyle(b,"display")==="-webkit-box"}),!0}init(e){const h=this;if(h.initialized||h.mount(e)===!1)return h;h.emit("beforeInit"),h.params.breakpoints&&h.setBreakpoint(),h.addClasses(),h.updateSize(),h.updateSlides(),h.params.watchOverflow&&h.checkOverflow(),h.params.grabCursor&&h.enabled&&h.setGrabCursor(),h.params.loop&&h.virtual&&h.params.virtual.enabled?h.slideTo(h.params.initialSlide+h.virtual.slidesBefore,0,h.params.runCallbacksOnInit,!1,!0):h.slideTo(h.params.initialSlide,0,h.params.runCallbacksOnInit,!1,!0),h.params.loop&&h.loopCreate(),h.attachEvents();const g=[...h.el.querySelectorAll('[loading="lazy"]')];return h.isElement&&g.push(...h.hostEl.querySelectorAll('[loading="lazy"]')),g.forEach(_=>{_.complete?processLazyPreloader(h,_):_.addEventListener("load",b=>{processLazyPreloader(h,b.target)})}),preload(h),h.initialized=!0,preload(h),h.emit("init"),h.emit("afterInit"),h}destroy(e,h){e===void 0&&(e=!0),h===void 0&&(h=!0);const d=this,{params:g,el:_,wrapperEl:b,slides:$}=d;return typeof d.params=="undefined"||d.destroyed||(d.emit("beforeDestroy"),d.initialized=!1,d.detachEvents(),g.loop&&d.loopDestroy(),h&&(d.removeClasses(),_.removeAttribute("style"),b.removeAttribute("style"),$&&$.length&&$.forEach(j=>{j.classList.remove(g.slideVisibleClass,g.slideFullyVisibleClass,g.slideActiveClass,g.slideNextClass,g.slidePrevClass),j.removeAttribute("style"),j.removeAttribute("data-swiper-slide-index")})),d.emit("destroy"),Object.keys(d.eventsListeners).forEach(j=>{d.off(j)}),e!==!1&&(d.el.swiper=null,deleteProps(d)),d.destroyed=!0),null}static extendDefaults(e){extend$1(extendedDefaults,e)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(e){Swiper$1.prototype.__modules__||(Swiper$1.prototype.__modules__=[]);const h=Swiper$1.prototype.__modules__;typeof e=="function"&&h.indexOf(e)<0&&h.push(e)}static use(e){return Array.isArray(e)?(e.forEach(h=>Swiper$1.installModule(h)),Swiper$1):(Swiper$1.installModule(e),Swiper$1)}}Object.keys(prototypes).forEach(o=>{Object.keys(prototypes[o]).forEach(e=>{Swiper$1.prototype[e]=prototypes[o][e]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$1(o){return typeof o=="object"&&o!==null&&o.constructor&&Object.prototype.toString.call(o).slice(8,-1)==="Object"&&!o.__swiper__}function extend(o,e){const h=["__proto__","constructor","prototype"];Object.keys(e).filter(d=>h.indexOf(d)<0).forEach(d=>{typeof o[d]=="undefined"?o[d]=e[d]:isObject$1(e[d])&&isObject$1(o[d])&&Object.keys(e[d]).length>0?e[d].__swiper__?o[d]=e[d]:extend(o[d],e[d]):o[d]=e[d]})}function needsNavigation(o){return o===void 0&&(o={}),o.navigation&&typeof o.navigation.nextEl=="undefined"&&typeof o.navigation.prevEl=="undefined"}function needsPagination(o){return o===void 0&&(o={}),o.pagination&&typeof o.pagination.el=="undefined"}function needsScrollbar(o){return o===void 0&&(o={}),o.scrollbar&&typeof o.scrollbar.el=="undefined"}function uniqueClasses(o){o===void 0&&(o="");const e=o.split(" ").map(d=>d.trim()).filter(d=>!!d),h=[];return e.forEach(d=>{h.indexOf(d)<0&&h.push(d)}),h.join(" ")}function wrapperClass(o){return o===void 0&&(o=""),o?o.includes("swiper-wrapper")?o:`swiper-wrapper ${o}`:"swiper-wrapper"}function updateSwiper(o){let{swiper:e,slides:h,passedParams:d,changedParams:g,nextEl:_,prevEl:b,scrollbarEl:$,paginationEl:j}=o;const _e=g.filter(xt=>xt!=="children"&&xt!=="direction"&&xt!=="wrapperClass"),{params:et,pagination:rt,navigation:tt,scrollbar:nt,virtual:st,thumbs:at}=e;let ct,it,lt,ht,ut,dt,pt,mt;g.includes("thumbs")&&d.thumbs&&d.thumbs.swiper&&et.thumbs&&!et.thumbs.swiper&&(ct=!0),g.includes("controller")&&d.controller&&d.controller.control&&et.controller&&!et.controller.control&&(it=!0),g.includes("pagination")&&d.pagination&&(d.pagination.el||j)&&(et.pagination||et.pagination===!1)&&rt&&!rt.el&&(lt=!0),g.includes("scrollbar")&&d.scrollbar&&(d.scrollbar.el||$)&&(et.scrollbar||et.scrollbar===!1)&&nt&&!nt.el&&(ht=!0),g.includes("navigation")&&d.navigation&&(d.navigation.prevEl||b)&&(d.navigation.nextEl||_)&&(et.navigation||et.navigation===!1)&&tt&&!tt.prevEl&&!tt.nextEl&&(ut=!0);const yt=xt=>{!e[xt]||(e[xt].destroy(),xt==="navigation"?(e.isElement&&(e[xt].prevEl.remove(),e[xt].nextEl.remove()),et[xt].prevEl=void 0,et[xt].nextEl=void 0,e[xt].prevEl=void 0,e[xt].nextEl=void 0):(e.isElement&&e[xt].el.remove(),et[xt].el=void 0,e[xt].el=void 0))};g.includes("loop")&&e.isElement&&(et.loop&&!d.loop?dt=!0:!et.loop&&d.loop?pt=!0:mt=!0),_e.forEach(xt=>{if(isObject$1(et[xt])&&isObject$1(d[xt]))Object.assign(et[xt],d[xt]),(xt==="navigation"||xt==="pagination"||xt==="scrollbar")&&"enabled"in d[xt]&&!d[xt].enabled&&yt(xt);else{const Tt=d[xt];(Tt===!0||Tt===!1)&&(xt==="navigation"||xt==="pagination"||xt==="scrollbar")?Tt===!1&&yt(xt):et[xt]=d[xt]}}),_e.includes("controller")&&!it&&e.controller&&e.controller.control&&et.controller&&et.controller.control&&(e.controller.control=et.controller.control),g.includes("children")&&h&&st&&et.virtual.enabled?(st.slides=h,st.update(!0)):g.includes("virtual")&&st&&et.virtual.enabled&&(h&&(st.slides=h),st.update(!0)),g.includes("children")&&h&&et.loop&&(mt=!0),ct&&at.init()&&at.update(!0),it&&(e.controller.control=et.controller.control),lt&&(e.isElement&&(!j||typeof j=="string")&&(j=document.createElement("div"),j.classList.add("swiper-pagination"),j.part.add("pagination"),e.el.appendChild(j)),j&&(et.pagination.el=j),rt.init(),rt.render(),rt.update()),ht&&(e.isElement&&(!$||typeof $=="string")&&($=document.createElement("div"),$.classList.add("swiper-scrollbar"),$.part.add("scrollbar"),e.el.appendChild($)),$&&(et.scrollbar.el=$),nt.init(),nt.updateSize(),nt.setTranslate()),ut&&(e.isElement&&((!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-button-next"),_.innerHTML=e.hostEl.constructor.nextButtonSvg,_.part.add("button-next"),e.el.appendChild(_)),(!b||typeof b=="string")&&(b=document.createElement("div"),b.classList.add("swiper-button-prev"),b.innerHTML=e.hostEl.constructor.prevButtonSvg,b.part.add("button-prev"),e.el.appendChild(b))),_&&(et.navigation.nextEl=_),b&&(et.navigation.prevEl=b),tt.init(),tt.update()),g.includes("allowSlideNext")&&(e.allowSlideNext=d.allowSlideNext),g.includes("allowSlidePrev")&&(e.allowSlidePrev=d.allowSlidePrev),g.includes("direction")&&e.changeDirection(d.direction,!1),(dt||mt)&&e.loopDestroy(),(pt||mt)&&e.loopCreate(),e.update()}function getParams(o,e){o===void 0&&(o={}),e===void 0&&(e=!0);const h={on:{}},d={},g={};extend(h,defaults),h._emitClasses=!0,h.init=!1;const _={},b=paramsList.map(j=>j.replace(/_/,"")),$=Object.assign({},o);return Object.keys($).forEach(j=>{typeof o[j]!="undefined"&&(b.indexOf(j)>=0?isObject$1(o[j])?(h[j]={},g[j]={},extend(h[j],o[j]),extend(g[j],o[j])):(h[j]=o[j],g[j]=o[j]):j.search(/on[A-Z]/)===0&&typeof o[j]=="function"?e?d[`${j[2].toLowerCase()}${j.substr(3)}`]=o[j]:h.on[`${j[2].toLowerCase()}${j.substr(3)}`]=o[j]:_[j]=o[j])}),["navigation","pagination","scrollbar"].forEach(j=>{h[j]===!0&&(h[j]={}),h[j]===!1&&delete h[j]}),{params:h,passedParams:g,rest:_,events:d}}function mountSwiper(o,e){let{el:h,nextEl:d,prevEl:g,paginationEl:_,scrollbarEl:b,swiper:$}=o;needsNavigation(e)&&d&&g&&($.params.navigation.nextEl=d,$.originalParams.navigation.nextEl=d,$.params.navigation.prevEl=g,$.originalParams.navigation.prevEl=g),needsPagination(e)&&_&&($.params.pagination.el=_,$.originalParams.pagination.el=_),needsScrollbar(e)&&b&&($.params.scrollbar.el=b,$.originalParams.scrollbar.el=b),$.init(h)}function getChangedParams(o,e,h,d,g){const _=[];if(!e)return _;const b=j=>{_.indexOf(j)<0&&_.push(j)};if(h&&d){const j=d.map(g),_e=h.map(g);j.join("")!==_e.join("")&&b("children"),d.length!==h.length&&b("children")}return paramsList.filter(j=>j[0]==="_").map(j=>j.replace(/_/,"")).forEach(j=>{if(j in o&&j in e)if(isObject$1(o[j])&&isObject$1(e[j])){const _e=Object.keys(o[j]),et=Object.keys(e[j]);_e.length!==et.length?b(j):(_e.forEach(rt=>{o[j][rt]!==e[j][rt]&&b(j)}),et.forEach(rt=>{o[j][rt]!==e[j][rt]&&b(j)}))}else o[j]!==e[j]&&b(j)}),_}const updateOnVirtualData=o=>{!o||o.destroyed||!o.params.virtual||o.params.virtual&&!o.params.virtual.enabled||(o.updateSlides(),o.updateProgress(),o.updateSlidesClasses(),o.parallax&&o.params.parallax&&o.params.parallax.enabled&&o.parallax.setTranslate())};function isChildSwiperSlide(o){return o.type&&o.type.displayName&&o.type.displayName.includes("SwiperSlide")}function processChildren(o){const e=[];return React.Children.toArray(o).forEach(h=>{isChildSwiperSlide(h)?e.push(h):h.props&&h.props.children&&processChildren(h.props.children).forEach(d=>e.push(d))}),e}function getChildren(o){const e=[],h={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(o).forEach(d=>{if(isChildSwiperSlide(d))e.push(d);else if(d.props&&d.props.slot&&h[d.props.slot])h[d.props.slot].push(d);else if(d.props&&d.props.children){const g=processChildren(d.props.children);g.length>0?g.forEach(_=>e.push(_)):h["container-end"].push(d)}else h["container-end"].push(d)}),{slides:e,slots:h}}function renderVirtual(o,e,h){if(!h)return null;const d=et=>{let rt=et;return et<0?rt=e.length+et:rt>=e.length&&(rt=rt-e.length),rt},g=o.isHorizontal()?{[o.rtlTranslate?"right":"left"]:`${h.offset}px`}:{top:`${h.offset}px`},{from:_,to:b}=h,$=o.params.loop?-e.length:0,j=o.params.loop?e.length*2:e.length,_e=[];for(let et=$;et<j;et+=1)et>=_&&et<=b&&_e.push(e[d(et)]);return _e.map((et,rt)=>React.cloneElement(et,{swiper:o,style:g,key:`slide-${rt}`}))}function useIsomorphicLayoutEffect$1(o,e){return typeof window=="undefined"?react.exports.useEffect(o,e):react.exports.useLayoutEffect(o,e)}const SwiperSlideContext=react.exports.createContext(null),SwiperContext=react.exports.createContext(null),Swiper=react.exports.forwardRef(function(o,e){let At=o===void 0?{}:o,{className:h,tag:d="div",wrapperTag:g="div",children:_,onSwiper:b}=At,$=Rm(At,["className","tag","wrapperTag","children","onSwiper"]),j=!1;const[_e,et]=react.exports.useState("swiper"),[rt,tt]=react.exports.useState(null),[nt,st]=react.exports.useState(!1),at=react.exports.useRef(!1),ct=react.exports.useRef(null),it=react.exports.useRef(null),lt=react.exports.useRef(null),ht=react.exports.useRef(null),ut=react.exports.useRef(null),dt=react.exports.useRef(null),pt=react.exports.useRef(null),mt=react.exports.useRef(null),{params:yt,passedParams:xt,rest:Tt,events:_t}=getParams($),{slides:Mt,slots:Lt}=getChildren(_),Pt=()=>{st(!nt)};Object.assign(yt.on,{_containerClasses(Rt,Ot){et(Ot)}});const It=()=>{Object.assign(yt.on,_t),j=!0;const Rt=Nu({},yt);if(delete Rt.wrapperClass,it.current=new Swiper$1(Rt),it.current.virtual&&it.current.params.virtual.enabled){it.current.virtual.slides=Mt;const Ot={cache:!1,slides:Mt,renderExternal:tt,renderExternalUpdate:!1};extend(it.current.params.virtual,Ot),extend(it.current.originalParams.virtual,Ot)}};ct.current||It(),it.current&&it.current.on("_beforeBreakpoint",Pt);const Et=()=>{j||!_t||!it.current||Object.keys(_t).forEach(Rt=>{it.current.on(Rt,_t[Rt])})},Ct=()=>{!_t||!it.current||Object.keys(_t).forEach(Rt=>{it.current.off(Rt,_t[Rt])})};react.exports.useEffect(()=>()=>{it.current&&it.current.off("_beforeBreakpoint",Pt)}),react.exports.useEffect(()=>{!at.current&&it.current&&(it.current.emitSlidesClasses(),at.current=!0)}),useIsomorphicLayoutEffect$1(()=>{if(e&&(e.current=ct.current),!!ct.current)return it.current.destroyed&&It(),mountSwiper({el:ct.current,nextEl:ut.current,prevEl:dt.current,paginationEl:pt.current,scrollbarEl:mt.current,swiper:it.current},yt),b&&b(it.current),()=>{it.current&&!it.current.destroyed&&it.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$1(()=>{Et();const Rt=getChangedParams(xt,lt.current,Mt,ht.current,Ot=>Ot.key);return lt.current=xt,ht.current=Mt,Rt.length&&it.current&&!it.current.destroyed&&updateSwiper({swiper:it.current,slides:Mt,passedParams:xt,changedParams:Rt,nextEl:ut.current,prevEl:dt.current,scrollbarEl:mt.current,paginationEl:pt.current}),()=>{Ct()}}),useIsomorphicLayoutEffect$1(()=>{updateOnVirtualData(it.current)},[rt]);function St(){return yt.virtual?renderVirtual(it.current,Mt,rt):Mt.map((Rt,Ot)=>React.cloneElement(Rt,{swiper:it.current,swiperSlideIndex:Ot}))}return jsx(d,Ap(Nu({ref:ct,className:uniqueClasses(`${_e}${h?` ${h}`:""}`)},Tt),{children:jsxs(SwiperContext.Provider,{value:it.current,children:[Lt["container-start"],jsxs(g,{className:wrapperClass(yt.wrapperClass),children:[Lt["wrapper-start"],St(),Lt["wrapper-end"]]}),needsNavigation(yt)&&jsxs(Fragment,{children:[jsx("div",{ref:dt,className:"swiper-button-prev"}),jsx("div",{ref:ut,className:"swiper-button-next"})]}),needsScrollbar(yt)&&jsx("div",{ref:mt,className:"swiper-scrollbar"}),needsPagination(yt)&&jsx("div",{ref:pt,className:"swiper-pagination"}),Lt["container-end"]]})}))});Swiper.displayName="Swiper";const SwiperSlide=react.exports.forwardRef(function(o,e){let ut=o===void 0?{}:o,{tag:h="div",children:d,className:g="",swiper:_,zoom:b,lazy:$,virtualIndex:j,swiperSlideIndex:_e}=ut,et=Rm(ut,["tag","children","className","swiper","zoom","lazy","virtualIndex","swiperSlideIndex"]);const rt=react.exports.useRef(null),[tt,nt]=react.exports.useState("swiper-slide"),[st,at]=react.exports.useState(!1);function ct(dt,pt,mt){pt===rt.current&&nt(mt)}useIsomorphicLayoutEffect$1(()=>{if(typeof _e!="undefined"&&(rt.current.swiperSlideIndex=_e),e&&(e.current=rt.current),!(!rt.current||!_)){if(_.destroyed){tt!=="swiper-slide"&&nt("swiper-slide");return}return _.on("_slideClass",ct),()=>{!_||_.off("_slideClass",ct)}}}),useIsomorphicLayoutEffect$1(()=>{_&&rt.current&&!_.destroyed&&nt(_.getSlideClasses(rt.current))},[_]);const it={isActive:tt.indexOf("swiper-slide-active")>=0,isVisible:tt.indexOf("swiper-slide-visible")>=0,isPrev:tt.indexOf("swiper-slide-prev")>=0,isNext:tt.indexOf("swiper-slide-next")>=0},lt=()=>typeof d=="function"?d(it):d,ht=()=>{at(!0)};return jsxs(h,Ap(Nu({ref:rt,className:uniqueClasses(`${tt}${g?` ${g}`:""}`),"data-swiper-slide-index":j,onLoad:ht},et),{children:[b&&jsx(SwiperSlideContext.Provider,{value:it,children:jsxs("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof b=="number"?b:void 0,children:[lt(),$&&!st&&jsx("div",{className:"swiper-lazy-preloader"})]})}),!b&&jsxs(SwiperSlideContext.Provider,{value:it,children:[lt(),$&&!st&&jsx("div",{className:"swiper-lazy-preloader"})]})]}))});SwiperSlide.displayName="SwiperSlide";function Mousewheel(o){let{swiper:e,extendParams:h,on:d,emit:g}=o;const _=getWindow();h({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let b,$=now$2(),j;const _e=[];function et(ht){const ut=10,dt=40,pt=800;let mt=0,yt=0,xt=0,Tt=0;return"detail"in ht&&(yt=ht.detail),"wheelDelta"in ht&&(yt=-ht.wheelDelta/120),"wheelDeltaY"in ht&&(yt=-ht.wheelDeltaY/120),"wheelDeltaX"in ht&&(mt=-ht.wheelDeltaX/120),"axis"in ht&&ht.axis===ht.HORIZONTAL_AXIS&&(mt=yt,yt=0),xt=mt*ut,Tt=yt*ut,"deltaY"in ht&&(Tt=ht.deltaY),"deltaX"in ht&&(xt=ht.deltaX),ht.shiftKey&&!xt&&(xt=Tt,Tt=0),(xt||Tt)&&ht.deltaMode&&(ht.deltaMode===1?(xt*=dt,Tt*=dt):(xt*=pt,Tt*=pt)),xt&&!mt&&(mt=xt<1?-1:1),Tt&&!yt&&(yt=Tt<1?-1:1),{spinX:mt,spinY:yt,pixelX:xt,pixelY:Tt}}function rt(){!e.enabled||(e.mouseEntered=!0)}function tt(){!e.enabled||(e.mouseEntered=!1)}function nt(ht){return e.params.mousewheel.thresholdDelta&&ht.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&now$2()-$<e.params.mousewheel.thresholdTime?!1:ht.delta>=6&&now$2()-$<60?!0:(ht.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),g("scroll",ht.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),g("scroll",ht.raw)),$=new _.Date().getTime(),!1)}function st(ht){const ut=e.params.mousewheel;if(ht.direction<0){if(e.isEnd&&!e.params.loop&&ut.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&ut.releaseOnEdges)return!0;return!1}function at(ht){let ut=ht,dt=!0;if(!e.enabled||ht.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const pt=e.params.mousewheel;e.params.cssMode&&ut.preventDefault();let mt=e.el;e.params.mousewheel.eventsTarget!=="container"&&(mt=document.querySelector(e.params.mousewheel.eventsTarget));const yt=mt&&mt.contains(ut.target);if(!e.mouseEntered&&!yt&&!pt.releaseOnEdges)return!0;ut.originalEvent&&(ut=ut.originalEvent);let xt=0;const Tt=e.rtlTranslate?-1:1,_t=et(ut);if(pt.forceToAxis)if(e.isHorizontal())if(Math.abs(_t.pixelX)>Math.abs(_t.pixelY))xt=-_t.pixelX*Tt;else return!0;else if(Math.abs(_t.pixelY)>Math.abs(_t.pixelX))xt=-_t.pixelY;else return!0;else xt=Math.abs(_t.pixelX)>Math.abs(_t.pixelY)?-_t.pixelX*Tt:-_t.pixelY;if(xt===0)return!0;pt.invert&&(xt=-xt);let Mt=e.getTranslate()+xt*pt.sensitivity;if(Mt>=e.minTranslate()&&(Mt=e.minTranslate()),Mt<=e.maxTranslate()&&(Mt=e.maxTranslate()),dt=e.params.loop?!0:!(Mt===e.minTranslate()||Mt===e.maxTranslate()),dt&&e.params.nested&&ut.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const Lt={time:now$2(),delta:Math.abs(xt),direction:Math.sign(xt),raw:ht};_e.length>=2&&_e.shift();const Pt=_e.length?_e[_e.length-1]:void 0;if(_e.push(Lt),Pt?(Lt.direction!==Pt.direction||Lt.delta>Pt.delta||Lt.time>Pt.time+150)&&nt(Lt):nt(Lt),st(Lt))return!0}else{const Lt={time:now$2(),delta:Math.abs(xt),direction:Math.sign(xt)},Pt=j&&Lt.time<j.time+500&&Lt.delta<=j.delta&&Lt.direction===j.direction;if(!Pt){j=void 0;let It=e.getTranslate()+xt*pt.sensitivity;const Et=e.isBeginning,Ct=e.isEnd;if(It>=e.minTranslate()&&(It=e.minTranslate()),It<=e.maxTranslate()&&(It=e.maxTranslate()),e.setTransition(0),e.setTranslate(It),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!Et&&e.isBeginning||!Ct&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:Lt.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(b),b=void 0,_e.length>=15&&_e.shift();const St=_e.length?_e[_e.length-1]:void 0,At=_e[0];if(_e.push(Lt),St&&(Lt.delta>St.delta||Lt.direction!==St.direction))_e.splice(0);else if(_e.length>=15&&Lt.time-At.time<500&&At.delta-Lt.delta>=1&&Lt.delta<=6){const Rt=xt>0?.8:.2;j=Lt,_e.splice(0),b=nextTick$1(()=>{e.slideToClosest(e.params.speed,!0,void 0,Rt)},0)}b||(b=nextTick$1(()=>{const Rt=.5;j=Lt,_e.splice(0),e.slideToClosest(e.params.speed,!0,void 0,Rt)},500))}if(Pt||g("scroll",ut),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),pt.releaseOnEdges&&(It===e.minTranslate()||It===e.maxTranslate()))return!0}}return ut.preventDefault?ut.preventDefault():ut.returnValue=!1,!1}function ct(ht){let ut=e.el;e.params.mousewheel.eventsTarget!=="container"&&(ut=document.querySelector(e.params.mousewheel.eventsTarget)),ut[ht]("mouseenter",rt),ut[ht]("mouseleave",tt),ut[ht]("wheel",at)}function it(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",at),!0):e.mousewheel.enabled?!1:(ct("addEventListener"),e.mousewheel.enabled=!0,!0)}function lt(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,at),!0):e.mousewheel.enabled?(ct("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}d("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&lt(),e.params.mousewheel.enabled&&it()}),d("destroy",()=>{e.params.cssMode&&it(),e.mousewheel.enabled&&lt()}),Object.assign(e.mousewheel,{enable:it,disable:lt})}function freeMode(o){let{swiper:e,extendParams:h,emit:d,once:g}=o;h({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function _(){if(e.params.cssMode)return;const j=e.getTranslate();e.setTranslate(j),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function b(){if(e.params.cssMode)return;const{touchEventsData:j,touches:_e}=e;j.velocities.length===0&&j.velocities.push({position:_e[e.isHorizontal()?"startX":"startY"],time:j.touchStartTime}),j.velocities.push({position:_e[e.isHorizontal()?"currentX":"currentY"],time:now$2()})}function $(j){let{currentPos:_e}=j;if(e.params.cssMode)return;const{params:et,wrapperEl:rt,rtlTranslate:tt,snapGrid:nt,touchEventsData:st}=e,ct=now$2()-st.touchStartTime;if(_e<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(_e>-e.maxTranslate()){e.slides.length<nt.length?e.slideTo(nt.length-1):e.slideTo(e.slides.length-1);return}if(et.freeMode.momentum){if(st.velocities.length>1){const yt=st.velocities.pop(),xt=st.velocities.pop(),Tt=yt.position-xt.position,_t=yt.time-xt.time;e.velocity=Tt/_t,e.velocity/=2,Math.abs(e.velocity)<et.freeMode.minimumVelocity&&(e.velocity=0),(_t>150||now$2()-yt.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=et.freeMode.momentumVelocityRatio,st.velocities.length=0;let it=1e3*et.freeMode.momentumRatio;const lt=e.velocity*it;let ht=e.translate+lt;tt&&(ht=-ht);let ut=!1,dt;const pt=Math.abs(e.velocity)*20*et.freeMode.momentumBounceRatio;let mt;if(ht<e.maxTranslate())et.freeMode.momentumBounce?(ht+e.maxTranslate()<-pt&&(ht=e.maxTranslate()-pt),dt=e.maxTranslate(),ut=!0,st.allowMomentumBounce=!0):ht=e.maxTranslate(),et.loop&&et.centeredSlides&&(mt=!0);else if(ht>e.minTranslate())et.freeMode.momentumBounce?(ht-e.minTranslate()>pt&&(ht=e.minTranslate()+pt),dt=e.minTranslate(),ut=!0,st.allowMomentumBounce=!0):ht=e.minTranslate(),et.loop&&et.centeredSlides&&(mt=!0);else if(et.freeMode.sticky){let yt;for(let xt=0;xt<nt.length;xt+=1)if(nt[xt]>-ht){yt=xt;break}Math.abs(nt[yt]-ht)<Math.abs(nt[yt-1]-ht)||e.swipeDirection==="next"?ht=nt[yt]:ht=nt[yt-1],ht=-ht}if(mt&&g("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(tt?it=Math.abs((-ht-e.translate)/e.velocity):it=Math.abs((ht-e.translate)/e.velocity),et.freeMode.sticky){const yt=Math.abs((tt?-ht:ht)-e.translate),xt=e.slidesSizesGrid[e.activeIndex];yt<xt?it=et.speed:yt<2*xt?it=et.speed*1.5:it=et.speed*2.5}}else if(et.freeMode.sticky){e.slideToClosest();return}et.freeMode.momentumBounce&&ut?(e.updateProgress(dt),e.setTransition(it),e.setTranslate(ht),e.transitionStart(!0,e.swipeDirection),e.animating=!0,elementTransitionEnd(rt,()=>{!e||e.destroyed||!st.allowMomentumBounce||(d("momentumBounce"),e.setTransition(et.speed),setTimeout(()=>{e.setTranslate(dt),elementTransitionEnd(rt,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(d("_freeModeNoMomentumRelease"),e.updateProgress(ht),e.setTransition(it),e.setTranslate(ht),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,elementTransitionEnd(rt,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(ht),e.updateActiveIndex(),e.updateSlidesClasses()}else if(et.freeMode.sticky){e.slideToClosest();return}else et.freeMode&&d("_freeModeNoMomentumRelease");(!et.freeMode.momentum||ct>=et.longSwipesMs)&&(d("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:_,onTouchMove:b,onTouchEnd:$}})}function __read(o,e){var h=typeof Symbol=="function"&&o[Symbol.iterator];if(!h)return o;var d=h.call(o),g,_=[],b;try{for(;(e===void 0||e-- >0)&&!(g=d.next()).done;)_.push(g.value)}catch($){b={error:$}}finally{try{g&&!g.done&&(h=d.return)&&h.call(d)}finally{if(b)throw b.error}}return _}typeof SuppressedError=="function"&&SuppressedError;var isFunction=function(o){return typeof o=="function"},isDev=!1,isDev$1=isDev;function useMemoizedFn(o){isDev$1&&(isFunction(o)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof o)));var e=react.exports.useRef(o);e.current=react.exports.useMemo(function(){return o},[o]);var h=react.exports.useRef();return h.current||(h.current=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return e.current.apply(this,d)}),h.current}var useUpdate=function(){var o=__read(react.exports.useState({}),2),e=o[1];return react.exports.useCallback(function(){return e({})},[])},useUpdate$1=useUpdate,queryString={},strictUriEncode=o=>encodeURIComponent(o).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(o,e){try{return[decodeURIComponent(o.join(""))]}catch{}if(o.length===1)return o;e=e||1;var h=o.slice(0,e),d=o.slice(e);return Array.prototype.concat.call([],decodeComponents(h),decodeComponents(d))}function decode$2(o){try{return decodeURIComponent(o)}catch{for(var e=o.match(singleMatcher)||[],h=1;h<e.length;h++)o=decodeComponents(e,h).join(""),e=o.match(singleMatcher)||[];return o}}function customDecodeURIComponent(o){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},h=multiMatcher.exec(o);h;){try{e[h[0]]=decodeURIComponent(h[0])}catch{var d=decode$2(h[0]);d!==h[0]&&(e[h[0]]=d)}h=multiMatcher.exec(o)}e["%C2"]="\uFFFD";for(var g=Object.keys(e),_=0;_<g.length;_++){var b=g[_];o=o.replace(new RegExp(b,"g"),e[b])}return o}var decodeUriComponent=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch{return customDecodeURIComponent(o)}},splitOnFirst=(o,e)=>{if(!(typeof o=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[o];const h=o.indexOf(e);return h===-1?[o]:[o.slice(0,h),o.slice(h+e.length)]},filterObj=function(o,e){for(var h={},d=Object.keys(o),g=Array.isArray(e),_=0;_<d.length;_++){var b=d[_],$=o[b];(g?e.indexOf(b)!==-1:e(b,$,o))&&(h[b]=$)}return h};(function(o){const e=strictUriEncode,h=decodeUriComponent,d=splitOnFirst,g=filterObj,_=it=>it==null;function b(it){switch(it.arrayFormat){case"index":return lt=>(ht,ut)=>{const dt=ht.length;return ut===void 0||it.skipNull&&ut===null||it.skipEmptyString&&ut===""?ht:ut===null?[...ht,[_e(lt,it),"[",dt,"]"].join("")]:[...ht,[_e(lt,it),"[",_e(dt,it),"]=",_e(ut,it)].join("")]};case"bracket":return lt=>(ht,ut)=>ut===void 0||it.skipNull&&ut===null||it.skipEmptyString&&ut===""?ht:ut===null?[...ht,[_e(lt,it),"[]"].join("")]:[...ht,[_e(lt,it),"[]=",_e(ut,it)].join("")];case"comma":case"separator":return lt=>(ht,ut)=>ut==null||ut.length===0?ht:ht.length===0?[[_e(lt,it),"=",_e(ut,it)].join("")]:[[ht,_e(ut,it)].join(it.arrayFormatSeparator)];default:return lt=>(ht,ut)=>ut===void 0||it.skipNull&&ut===null||it.skipEmptyString&&ut===""?ht:ut===null?[...ht,_e(lt,it)]:[...ht,[_e(lt,it),"=",_e(ut,it)].join("")]}}function $(it){let lt;switch(it.arrayFormat){case"index":return(ht,ut,dt)=>{if(lt=/\[(\d*)\]$/.exec(ht),ht=ht.replace(/\[\d*\]$/,""),!lt){dt[ht]=ut;return}dt[ht]===void 0&&(dt[ht]={}),dt[ht][lt[1]]=ut};case"bracket":return(ht,ut,dt)=>{if(lt=/(\[\])$/.exec(ht),ht=ht.replace(/\[\]$/,""),!lt){dt[ht]=ut;return}if(dt[ht]===void 0){dt[ht]=[ut];return}dt[ht]=[].concat(dt[ht],ut)};case"comma":case"separator":return(ht,ut,dt)=>{const pt=typeof ut=="string"&&ut.includes(it.arrayFormatSeparator),mt=typeof ut=="string"&&!pt&&et(ut,it).includes(it.arrayFormatSeparator);ut=mt?et(ut,it):ut;const yt=pt||mt?ut.split(it.arrayFormatSeparator).map(xt=>et(xt,it)):ut===null?ut:et(ut,it);dt[ht]=yt};default:return(ht,ut,dt)=>{if(dt[ht]===void 0){dt[ht]=ut;return}dt[ht]=[].concat(dt[ht],ut)}}}function j(it){if(typeof it!="string"||it.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _e(it,lt){return lt.encode?lt.strict?e(it):encodeURIComponent(it):it}function et(it,lt){return lt.decode?h(it):it}function rt(it){return Array.isArray(it)?it.sort():typeof it=="object"?rt(Object.keys(it)).sort((lt,ht)=>Number(lt)-Number(ht)).map(lt=>it[lt]):it}function tt(it){const lt=it.indexOf("#");return lt!==-1&&(it=it.slice(0,lt)),it}function nt(it){let lt="";const ht=it.indexOf("#");return ht!==-1&&(lt=it.slice(ht)),lt}function st(it){it=tt(it);const lt=it.indexOf("?");return lt===-1?"":it.slice(lt+1)}function at(it,lt){return lt.parseNumbers&&!Number.isNaN(Number(it))&&typeof it=="string"&&it.trim()!==""?it=Number(it):lt.parseBooleans&&it!==null&&(it.toLowerCase()==="true"||it.toLowerCase()==="false")&&(it=it.toLowerCase()==="true"),it}function ct(it,lt){lt=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},lt),j(lt.arrayFormatSeparator);const ht=$(lt),ut=Object.create(null);if(typeof it!="string"||(it=it.trim().replace(/^[?#&]/,""),!it))return ut;for(const dt of it.split("&")){if(dt==="")continue;let[pt,mt]=d(lt.decode?dt.replace(/\+/g," "):dt,"=");mt=mt===void 0?null:["comma","separator"].includes(lt.arrayFormat)?mt:et(mt,lt),ht(et(pt,lt),mt,ut)}for(const dt of Object.keys(ut)){const pt=ut[dt];if(typeof pt=="object"&&pt!==null)for(const mt of Object.keys(pt))pt[mt]=at(pt[mt],lt);else ut[dt]=at(pt,lt)}return lt.sort===!1?ut:(lt.sort===!0?Object.keys(ut).sort():Object.keys(ut).sort(lt.sort)).reduce((dt,pt)=>{const mt=ut[pt];return Boolean(mt)&&typeof mt=="object"&&!Array.isArray(mt)?dt[pt]=rt(mt):dt[pt]=mt,dt},Object.create(null))}o.extract=st,o.parse=ct,o.stringify=(it,lt)=>{if(!it)return"";lt=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},lt),j(lt.arrayFormatSeparator);const ht=mt=>lt.skipNull&&_(it[mt])||lt.skipEmptyString&&it[mt]==="",ut=b(lt),dt={};for(const mt of Object.keys(it))ht(mt)||(dt[mt]=it[mt]);const pt=Object.keys(dt);return lt.sort!==!1&&pt.sort(lt.sort),pt.map(mt=>{const yt=it[mt];return yt===void 0?"":yt===null?_e(mt,lt):Array.isArray(yt)?yt.reduce(ut(mt),[]).join("&"):_e(mt,lt)+"="+_e(yt,lt)}).filter(mt=>mt.length>0).join("&")},o.parseUrl=(it,lt)=>{lt=Object.assign({decode:!0},lt);const[ht,ut]=d(it,"#");return Object.assign({url:ht.split("?")[0]||"",query:ct(st(it),lt)},lt&&lt.parseFragmentIdentifier&&ut?{fragmentIdentifier:et(ut,lt)}:{})},o.stringifyUrl=(it,lt)=>{lt=Object.assign({encode:!0,strict:!0},lt);const ht=tt(it.url).split("?")[0]||"",ut=o.extract(it.url),dt=o.parse(ut,{sort:!1}),pt=Object.assign(dt,it.query);let mt=o.stringify(pt,lt);mt&&(mt=`?${mt}`);let yt=nt(it.url);return it.fragmentIdentifier&&(yt=`#${_e(it.fragmentIdentifier,lt)}`),`${ht}${mt}${yt}`},o.pick=(it,lt,ht)=>{ht=Object.assign({parseFragmentIdentifier:!0},ht);const{url:ut,query:dt,fragmentIdentifier:pt}=o.parseUrl(it,ht);return o.stringifyUrl({url:ut,query:g(dt,lt),fragmentIdentifier:pt},ht)},o.exclude=(it,lt,ht)=>{const ut=Array.isArray(lt)?dt=>!lt.includes(dt):(dt,pt)=>!lt(dt,pt);return o.pick(it,ut,ht)}})(queryString);/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var h=arguments[e];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d])}return o},_extends$1.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));function createMemoryHistory(o){o===void 0&&(o={});let{initialEntries:e=["/"],initialIndex:h,v5Compat:d=!1}=o,g;g=e.map((nt,st)=>et(nt,typeof nt=="string"?null:nt.state,st===0?"default":void 0));let _=j(h==null?g.length-1:h),b=Action.Pop,$=null;function j(nt){return Math.min(Math.max(nt,0),g.length-1)}function _e(){return g[_]}function et(nt,st,at){st===void 0&&(st=null);let ct=createLocation(g?_e().pathname:"/",nt,st,at);return warning(ct.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(nt)),ct}function rt(nt){return typeof nt=="string"?nt:createPath(nt)}return{get index(){return _},get action(){return b},get location(){return _e()},createHref:rt,createURL(nt){return new URL(rt(nt),"http://localhost")},encodeLocation(nt){let st=typeof nt=="string"?parsePath(nt):nt;return{pathname:st.pathname||"",search:st.search||"",hash:st.hash||""}},push(nt,st){b=Action.Push;let at=et(nt,st);_+=1,g.splice(_,g.length,at),d&&$&&$({action:b,location:at,delta:1})},replace(nt,st){b=Action.Replace;let at=et(nt,st);g[_]=at,d&&$&&$({action:b,location:at,delta:0})},go(nt){b=Action.Pop;let st=j(_+nt),at=g[st];_=st,$&&$({action:b,location:at,delta:nt})},listen(nt){return $=nt,()=>{$=null}}}}function invariant(o,e){if(o===!1||o===null||typeof o=="undefined")throw new Error(e)}function warning(o,e){if(!o){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createLocation(o,e,h,d){return h===void 0&&(h=null),_extends$1({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:h,key:e&&e.key||d||createKey()})}function createPath(o){let{pathname:e="/",search:h="",hash:d=""}=o;return h&&h!=="?"&&(e+=h.charAt(0)==="?"?h:"?"+h),d&&d!=="#"&&(e+=d.charAt(0)==="#"?d:"#"+d),e}function parsePath(o){let e={};if(o){let h=o.indexOf("#");h>=0&&(e.hash=o.substr(h),o=o.substr(0,h));let d=o.indexOf("?");d>=0&&(e.search=o.substr(d),o=o.substr(0,d)),o&&(e.pathname=o)}return e}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(o){return o.index===!0}function convertRoutesToDataRoutes(o,e,h,d){return h===void 0&&(h=[]),d===void 0&&(d={}),o.map((g,_)=>{let b=[...h,_],$=typeof g.id=="string"?g.id:b.join("-");if(invariant(g.index!==!0||!g.children,"Cannot specify children on an index route"),invariant(!d[$],'Found a route id collision on id "'+$+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(g)){let j=_extends$1({},g,e(g),{id:$});return d[$]=j,j}else{let j=_extends$1({},g,e(g),{id:$,children:void 0});return d[$]=j,g.children&&(j.children=convertRoutesToDataRoutes(g.children,e,b,d)),j}})}function matchRoutes(o,e,h){h===void 0&&(h="/");let d=typeof e=="string"?parsePath(e):e,g=stripBasename(d.pathname||"/",h);if(g==null)return null;let _=flattenRoutes(o);rankRouteBranches(_);let b=null;for(let $=0;b==null&&$<_.length;++$)b=matchRouteBranch(_[$],safelyDecodeURI(g));return b}function convertRouteMatchToUiMatch(o,e){let{route:h,pathname:d,params:g}=o;return{id:h.id,pathname:d,params:g,data:e[h.id],handle:h.handle}}function flattenRoutes(o,e,h,d){e===void 0&&(e=[]),h===void 0&&(h=[]),d===void 0&&(d="");let g=(_,b,$)=>{let j={relativePath:$===void 0?_.path||"":$,caseSensitive:_.caseSensitive===!0,childrenIndex:b,route:_};j.relativePath.startsWith("/")&&(invariant(j.relativePath.startsWith(d),'Absolute route path "'+j.relativePath+'" nested under path '+('"'+d+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),j.relativePath=j.relativePath.slice(d.length));let _e=joinPaths([d,j.relativePath]),et=h.concat(j);_.children&&_.children.length>0&&(invariant(_.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_e+'".')),flattenRoutes(_.children,e,et,_e)),!(_.path==null&&!_.index)&&e.push({path:_e,score:computeScore(_e,_.index),routesMeta:et})};return o.forEach((_,b)=>{var $;if(_.path===""||!(($=_.path)!=null&&$.includes("?")))g(_,b);else for(let j of explodeOptionalSegments(_.path))g(_,b,j)}),e}function explodeOptionalSegments(o){let e=o.split("/");if(e.length===0)return[];let[h,...d]=e,g=h.endsWith("?"),_=h.replace(/\?$/,"");if(d.length===0)return g?[_,""]:[_];let b=explodeOptionalSegments(d.join("/")),$=[];return $.push(...b.map(j=>j===""?_:[_,j].join("/"))),g&&$.push(...b),$.map(j=>o.startsWith("/")&&j===""?"/":j)}function rankRouteBranches(o){o.sort((e,h)=>e.score!==h.score?h.score-e.score:compareIndexes(e.routesMeta.map(d=>d.childrenIndex),h.routesMeta.map(d=>d.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,e){let h=o.split("/"),d=h.length;return h.some(isSplat)&&(d+=splatPenalty),e&&(d+=indexRouteValue),h.filter(g=>!isSplat(g)).reduce((g,_)=>g+(paramRe.test(_)?dynamicSegmentValue:_===""?emptySegmentValue:staticSegmentValue),d)}function compareIndexes(o,e){return o.length===e.length&&o.slice(0,-1).every((d,g)=>d===e[g])?o[o.length-1]-e[e.length-1]:0}function matchRouteBranch(o,e){let{routesMeta:h}=o,d={},g="/",_=[];for(let b=0;b<h.length;++b){let $=h[b],j=b===h.length-1,_e=g==="/"?e:e.slice(g.length)||"/",et=matchPath({path:$.relativePath,caseSensitive:$.caseSensitive,end:j},_e);if(!et)return null;Object.assign(d,et.params);let rt=$.route;_.push({params:d,pathname:joinPaths([g,et.pathname]),pathnameBase:normalizePathname(joinPaths([g,et.pathnameBase])),route:rt}),et.pathnameBase!=="/"&&(g=joinPaths([g,et.pathnameBase]))}return _}function generatePath(o,e){e===void 0&&(e={});let h=o;h.endsWith("*")&&h!=="*"&&!h.endsWith("/*")&&(warning(!1,'Route path "'+h+'" will be treated as if it were '+('"'+h.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+h.replace(/\*$/,"/*")+'".')),h=h.replace(/\*$/,"/*"));const d=h.startsWith("/")?"/":"",g=b=>b==null?"":typeof b=="string"?b:String(b),_=h.split(/\/+/).map((b,$,j)=>{if($===j.length-1&&b==="*")return g(e["*"]);const et=b.match(/^:([\w-]+)(\??)$/);if(et){const[,rt,tt]=et;let nt=e[rt];return invariant(tt==="?"||nt!=null,'Missing ":'+rt+'" param'),g(nt)}return b.replace(/\?$/g,"")}).filter(b=>!!b);return d+_.join("/")}function matchPath(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[h,d]=compilePath(o.path,o.caseSensitive,o.end),g=e.match(h);if(!g)return null;let _=g[0],b=_.replace(/(.)\/+$/,"$1"),$=g.slice(1);return{params:d.reduce((_e,et,rt)=>{let{paramName:tt,isOptional:nt}=et;if(tt==="*"){let at=$[rt]||"";b=_.slice(0,_.length-at.length).replace(/(.)\/+$/,"$1")}const st=$[rt];return nt&&!st?_e[tt]=void 0:_e[tt]=safelyDecodeURIComponent(st||"",tt),_e},{}),pathname:_,pathnameBase:b,pattern:o}}function compilePath(o,e,h){e===void 0&&(e=!1),h===void 0&&(h=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let d=[],g="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,$,j)=>(d.push({paramName:$,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(d.push({paramName:"*"}),g+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?g+="\\/*$":o!==""&&o!=="/"&&(g+="(?:(?=\\/|$))"),[new RegExp(g,e?void 0:"i"),d]}function safelyDecodeURI(o){try{return decodeURI(o)}catch(e){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),o}}function safelyDecodeURIComponent(o,e){try{return decodeURIComponent(o)}catch(h){return warning(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+h+").")),o}}function stripBasename(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let h=e.endsWith("/")?e.length-1:e.length,d=o.charAt(h);return d&&d!=="/"?null:o.slice(h)||"/"}function resolvePath(o,e){e===void 0&&(e="/");let{pathname:h,search:d="",hash:g=""}=typeof o=="string"?parsePath(o):o;return{pathname:h?h.startsWith("/")?h:resolvePathname(h,e):e,search:normalizeSearch(d),hash:normalizeHash(g)}}function resolvePathname(o,e){let h=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(g=>{g===".."?h.length>1&&h.pop():g!=="."&&h.push(g)}),h.length>1?h.join("/"):"/"}function getInvalidPathError(o,e,h,d){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(d)+"].  Please separate it out to the ")+("`to."+h+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((e,h)=>h===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(o,e){let h=getPathContributingMatches(o);return e?h.map((d,g)=>g===o.length-1?d.pathname:d.pathnameBase):h.map(d=>d.pathnameBase)}function resolveTo(o,e,h,d){d===void 0&&(d=!1);let g;typeof o=="string"?g=parsePath(o):(g=_extends$1({},o),invariant(!g.pathname||!g.pathname.includes("?"),getInvalidPathError("?","pathname","search",g)),invariant(!g.pathname||!g.pathname.includes("#"),getInvalidPathError("#","pathname","hash",g)),invariant(!g.search||!g.search.includes("#"),getInvalidPathError("#","search","hash",g)));let _=o===""||g.pathname==="",b=_?"/":g.pathname,$;if(b==null)$=h;else{let rt=e.length-1;if(!d&&b.startsWith("..")){let tt=b.split("/");for(;tt[0]==="..";)tt.shift(),rt-=1;g.pathname=tt.join("/")}$=rt>=0?e[rt]:"/"}let j=resolvePath(g,$),_e=b&&b!=="/"&&b.endsWith("/"),et=(_||b===".")&&h.endsWith("/");return!j.pathname.endsWith("/")&&(_e||et)&&(j.pathname+="/"),j}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o,json=function o(e,h){h===void 0&&(h={});let d=typeof h=="number"?{status:h}:h,g=new Headers(d.headers);return g.has("Content-Type")||g.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),_extends$1({},d,{headers:g}))};class AbortedDeferredError extends Error{}class DeferredData{constructor(e,h){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],invariant(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let d;this.abortPromise=new Promise((_,b)=>d=b),this.controller=new AbortController;let g=()=>d(new AbortedDeferredError("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",g),this.controller.signal.addEventListener("abort",g),this.data=Object.entries(e).reduce((_,b)=>{let[$,j]=b;return Object.assign(_,{[$]:this.trackPromise($,j)})},{}),this.done&&this.unlistenAbortSignal(),this.init=h}trackPromise(e,h){if(!(h instanceof Promise))return h;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let d=Promise.race([h,this.abortPromise]).then(g=>this.onSettle(d,e,void 0,g),g=>this.onSettle(d,e,g));return d.catch(()=>{}),Object.defineProperty(d,"_tracked",{get:()=>!0}),d}onSettle(e,h,d,g){if(this.controller.signal.aborted&&d instanceof AbortedDeferredError)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>d}),Promise.reject(d);if(this.pendingKeysSet.delete(h),this.done&&this.unlistenAbortSignal(),d===void 0&&g===void 0){let _=new Error('Deferred data for key "'+h+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>_}),this.emit(!1,h),Promise.reject(_)}return g===void 0?(Object.defineProperty(e,"_error",{get:()=>d}),this.emit(!1,h),Promise.reject(d)):(Object.defineProperty(e,"_data",{get:()=>g}),this.emit(!1,h),g)}emit(e,h){this.subscribers.forEach(d=>d(e,h))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,h)=>this.pendingKeysSet.delete(h)),this.emit(!0)}async resolveData(e){let h=!1;if(!this.done){let d=()=>this.cancel();e.addEventListener("abort",d),h=await new Promise(g=>{this.subscribe(_=>{e.removeEventListener("abort",d),(_||this.done)&&g(_)})})}return h}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return invariant(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,h)=>{let[d,g]=h;return Object.assign(e,{[d]:unwrapTrackedPromise(g)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function isTrackedPromise(o){return o instanceof Promise&&o._tracked===!0}function unwrapTrackedPromise(o){if(!isTrackedPromise(o))return o;if(o._error)throw o._error;return o._data}const defer=function o(e,h){h===void 0&&(h={});let d=typeof h=="number"?{status:h}:h;return new DeferredData(e,d)},redirect=function o(e,h){h===void 0&&(h=302);let d=h;typeof d=="number"?d={status:d}:typeof d.status=="undefined"&&(d.status=302);let g=new Headers(d.headers);return g.set("Location",e),new Response(null,_extends$1({},d,{headers:g}))},redirectDocument=(o,e)=>{let h=redirect(o,e);return h.headers.set("X-Remix-Reload-Document","true"),h};class ErrorResponseImpl{constructor(e,h,d,g){g===void 0&&(g=!1),this.status=e,this.statusText=h||"",this.internal=g,d instanceof Error?(this.data=d.toString(),this.error=d):this.data=d}}function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=o=>({hasErrorBoundary:Boolean(o.hasErrorBoundary)}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(o){const e=o.window?o.window:typeof window!="undefined"?window:void 0,h=typeof e!="undefined"&&typeof e.document!="undefined"&&typeof e.document.createElement!="undefined",d=!h;invariant(o.routes.length>0,"You must provide a non-empty routes array to createRouter");let g;if(o.mapRouteProperties)g=o.mapRouteProperties;else if(o.detectErrorBoundary){let er=o.detectErrorBoundary;g=sr=>({hasErrorBoundary:er(sr)})}else g=defaultMapRouteProperties;let _={},b=convertRoutesToDataRoutes(o.routes,g,void 0,_),$,j=o.basename||"/",_e=_extends$1({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},o.future),et=null,rt=new Set,tt=null,nt=null,st=null,at=o.hydrationData!=null,ct=matchRoutes(b,o.history.location,j),it=null;if(ct==null){let er=getInternalRouterError(404,{pathname:o.history.location.pathname}),{matches:sr,route:gr}=getShortCircuitMatches(b);ct=sr,it={[gr.id]:er}}let lt,ht=ct.some(er=>er.route.lazy),ut=ct.some(er=>er.route.loader);if(ht)lt=!1;else if(!ut)lt=!0;else if(_e.v7_partialHydration){let er=o.hydrationData?o.hydrationData.loaderData:null,sr=o.hydrationData?o.hydrationData.errors:null;lt=ct.every(gr=>gr.route.loader&&gr.route.loader.hydrate!==!0&&(er&&er[gr.route.id]!==void 0||sr&&sr[gr.route.id]!==void 0))}else lt=o.hydrationData!=null;let dt,pt={historyAction:o.history.action,location:o.history.location,matches:ct,initialized:lt,navigation:IDLE_NAVIGATION,restoreScrollPosition:o.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:o.hydrationData&&o.hydrationData.loaderData||{},actionData:o.hydrationData&&o.hydrationData.actionData||null,errors:o.hydrationData&&o.hydrationData.errors||it,fetchers:new Map,blockers:new Map},mt=Action.Pop,yt=!1,xt,Tt=!1,_t=new Map,Mt=null,Lt=!1,Pt=!1,It=[],Et=[],Ct=new Map,St=0,At=-1,Rt=new Map,Ot=new Set,Gt=new Map,Qt=new Map,ir=new Set,tr=new Map,Wt=new Map,wr=!1;function Lr(){if(et=o.history.listen(er=>{let{action:sr,location:gr,delta:Fr}=er;if(wr){wr=!1;return}warning(Wt.size===0||Fr!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let jr=ar({currentLocation:pt.location,nextLocation:gr,historyAction:sr});if(jr&&Fr!=null){wr=!0,o.history.go(Fr*-1),cr(jr,{state:"blocked",location:gr,proceed(){cr(jr,{state:"proceeding",proceed:void 0,reset:void 0,location:gr}),o.history.go(Fr)},reset(){let gn=new Map(pt.blockers);gn.set(jr,IDLE_BLOCKER),yr({blockers:gn})}});return}return br(sr,gr)}),h){restoreAppliedTransitions(e,_t);let er=()=>persistAppliedTransitions(e,_t);e.addEventListener("pagehide",er),Mt=()=>e.removeEventListener("pagehide",er)}return pt.initialized||br(Action.Pop,pt.location,{initialHydration:!0}),dt}function Er(){et&&et(),Mt&&Mt(),rt.clear(),xt&&xt.abort(),pt.fetchers.forEach((er,sr)=>Gr(sr)),pt.blockers.forEach((er,sr)=>Br(sr))}function Ar(er){return rt.add(er),()=>rt.delete(er)}function yr(er,sr){sr===void 0&&(sr={}),pt=_extends$1({},pt,er);let gr=[],Fr=[];_e.v7_fetcherPersist&&pt.fetchers.forEach((jr,gn)=>{jr.state==="idle"&&(ir.has(gn)?Fr.push(gn):gr.push(gn))}),[...rt].forEach(jr=>jr(pt,{deletedFetchers:Fr,unstable_viewTransitionOpts:sr.viewTransitionOpts,unstable_flushSync:sr.flushSync===!0})),_e.v7_fetcherPersist&&(gr.forEach(jr=>pt.fetchers.delete(jr)),Fr.forEach(jr=>Gr(jr)))}function Yt(er,sr,gr){var Fr,jr;let{flushSync:gn}=gr===void 0?{}:gr,en=pt.actionData!=null&&pt.navigation.formMethod!=null&&isMutationMethod(pt.navigation.formMethod)&&pt.navigation.state==="loading"&&((Fr=er.state)==null?void 0:Fr._isRedirect)!==!0,Jr;sr.actionData?Object.keys(sr.actionData).length>0?Jr=sr.actionData:Jr=null:en?Jr=pt.actionData:Jr=null;let Xr=sr.loaderData?mergeLoaderData(pt.loaderData,sr.loaderData,sr.matches||[],sr.errors):pt.loaderData,bn=pt.blockers;bn.size>0&&(bn=new Map(bn),bn.forEach((lr,or)=>bn.set(or,IDLE_BLOCKER)));let Ut=yt===!0||pt.navigation.formMethod!=null&&isMutationMethod(pt.navigation.formMethod)&&((jr=er.state)==null?void 0:jr._isRedirect)!==!0;$&&(b=$,$=void 0),Lt||mt===Action.Pop||(mt===Action.Push?o.history.push(er,er.state):mt===Action.Replace&&o.history.replace(er,er.state));let Zt;if(mt===Action.Pop){let lr=_t.get(pt.location.pathname);lr&&lr.has(er.pathname)?Zt={currentLocation:pt.location,nextLocation:er}:_t.has(er.pathname)&&(Zt={currentLocation:er,nextLocation:pt.location})}else if(Tt){let lr=_t.get(pt.location.pathname);lr?lr.add(er.pathname):(lr=new Set([er.pathname]),_t.set(pt.location.pathname,lr)),Zt={currentLocation:pt.location,nextLocation:er}}yr(_extends$1({},sr,{actionData:Jr,loaderData:Xr,historyAction:mt,location:er,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Kn(er,sr.matches||pt.matches),preventScrollReset:Ut,blockers:bn}),{viewTransitionOpts:Zt,flushSync:gn===!0}),mt=Action.Pop,yt=!1,Tt=!1,Lt=!1,Pt=!1,It=[],Et=[]}async function Xt(er,sr){if(typeof er=="number"){o.history.go(er);return}let gr=normalizeTo(pt.location,pt.matches,j,_e.v7_prependBasename,er,_e.v7_relativeSplatPath,sr==null?void 0:sr.fromRouteId,sr==null?void 0:sr.relative),{path:Fr,submission:jr,error:gn}=normalizeNavigateOptions(_e.v7_normalizeFormMethod,!1,gr,sr),en=pt.location,Jr=createLocation(pt.location,Fr,sr&&sr.state);Jr=_extends$1({},Jr,o.history.encodeLocation(Jr));let Xr=sr&&sr.replace!=null?sr.replace:void 0,bn=Action.Push;Xr===!0?bn=Action.Replace:Xr===!1||jr!=null&&isMutationMethod(jr.formMethod)&&jr.formAction===pt.location.pathname+pt.location.search&&(bn=Action.Replace);let Ut=sr&&"preventScrollReset"in sr?sr.preventScrollReset===!0:void 0,Zt=(sr&&sr.unstable_flushSync)===!0,lr=ar({currentLocation:en,nextLocation:Jr,historyAction:bn});if(lr){cr(lr,{state:"blocked",location:Jr,proceed(){cr(lr,{state:"proceeding",proceed:void 0,reset:void 0,location:Jr}),Xt(er,sr)},reset(){let or=new Map(pt.blockers);or.set(lr,IDLE_BLOCKER),yr({blockers:or})}});return}return await br(bn,Jr,{submission:jr,pendingError:gn,preventScrollReset:Ut,replace:sr&&sr.replace,enableViewTransition:sr&&sr.unstable_viewTransition,flushSync:Zt})}function ur(){if(hr(),yr({revalidation:"loading"}),pt.navigation.state!=="submitting"){if(pt.navigation.state==="idle"){br(pt.historyAction,pt.location,{startUninterruptedRevalidation:!0});return}br(mt||pt.historyAction,pt.navigation.location,{overrideNavigation:pt.navigation})}}async function br(er,sr,gr){xt&&xt.abort(),xt=null,mt=er,Lt=(gr&&gr.startUninterruptedRevalidation)===!0,wn(pt.location,pt.matches),yt=(gr&&gr.preventScrollReset)===!0,Tt=(gr&&gr.enableViewTransition)===!0;let Fr=$||b,jr=gr&&gr.overrideNavigation,gn=matchRoutes(Fr,sr,j),en=(gr&&gr.flushSync)===!0;if(!gn){let or=getInternalRouterError(404,{pathname:sr.pathname}),{matches:xr,route:Vr}=getShortCircuitMatches(Fr);pr(),Yt(sr,{matches:xr,loaderData:{},errors:{[Vr.id]:or}},{flushSync:en});return}if(pt.initialized&&!Pt&&isHashChangeOnly(pt.location,sr)&&!(gr&&gr.submission&&isMutationMethod(gr.submission.formMethod))){Yt(sr,{matches:gn},{flushSync:en});return}xt=new AbortController;let Jr=createClientSideRequest(o.history,sr,xt.signal,gr&&gr.submission),Xr,bn;if(gr&&gr.pendingError)bn={[findNearestBoundary(gn).route.id]:gr.pendingError};else if(gr&&gr.submission&&isMutationMethod(gr.submission.formMethod)){let or=await _r(Jr,sr,gr.submission,gn,{replace:gr.replace,flushSync:en});if(or.shortCircuited)return;Xr=or.pendingActionData,bn=or.pendingActionError,jr=getLoadingNavigation(sr,gr.submission),en=!1,Jr=new Request(Jr.url,{signal:Jr.signal})}let{shortCircuited:Ut,loaderData:Zt,errors:lr}=await Pr(Jr,sr,gn,jr,gr&&gr.submission,gr&&gr.fetcherSubmission,gr&&gr.replace,gr&&gr.initialHydration===!0,en,Xr,bn);Ut||(xt=null,Yt(sr,_extends$1({matches:gn},Xr?{actionData:Xr}:{},{loaderData:Zt,errors:lr})))}async function _r(er,sr,gr,Fr,jr){jr===void 0&&(jr={}),hr();let gn=getSubmittingNavigation(sr,gr);yr({navigation:gn},{flushSync:jr.flushSync===!0});let en,Jr=getTargetMatch(Fr,sr);if(!Jr.route.action&&!Jr.route.lazy)en={type:ResultType.error,error:getInternalRouterError(405,{method:er.method,pathname:sr.pathname,routeId:Jr.route.id})};else if(en=await callLoaderOrAction("action",er,Jr,Fr,_,g,j,_e.v7_relativeSplatPath),er.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(en)){let Xr;return jr&&jr.replace!=null?Xr=jr.replace:Xr=en.location===pt.location.pathname+pt.location.search,await $t(pt,en,{submission:gr,replace:Xr}),{shortCircuited:!0}}if(isErrorResult(en)){let Xr=findNearestBoundary(Fr,Jr.route.id);return(jr&&jr.replace)!==!0&&(mt=Action.Push),{pendingActionData:{},pendingActionError:{[Xr.route.id]:en.error}}}if(isDeferredResult(en))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[Jr.route.id]:en.data}}}async function Pr(er,sr,gr,Fr,jr,gn,en,Jr,Xr,bn,Ut){let Zt=Fr||getLoadingNavigation(sr,jr),lr=jr||gn||getSubmissionFromNavigation(Zt),or=$||b,[xr,Vr]=getMatchesToLoad(o.history,pt,gr,lr,sr,_e.v7_partialHydration&&Jr===!0,Pt,It,Et,ir,Gt,Ot,or,j,bn,Ut);if(pr(vn=>!(gr&&gr.some(Yr=>Yr.route.id===vn))||xr&&xr.some(Yr=>Yr.route.id===vn)),At=++St,xr.length===0&&Vr.length===0){let vn=qr();return Yt(sr,_extends$1({matches:gr,loaderData:{},errors:Ut||null},bn?{actionData:bn}:{},vn?{fetchers:new Map(pt.fetchers)}:{}),{flushSync:Xr}),{shortCircuited:!0}}if(!Lt&&(!_e.v7_partialHydration||!Jr)){Vr.forEach(Yr=>{let jn=pt.fetchers.get(Yr.key),Mn=getLoadingFetcher(void 0,jn?jn.data:void 0);pt.fetchers.set(Yr.key,Mn)});let vn=bn||pt.actionData;yr(_extends$1({navigation:Zt},vn?Object.keys(vn).length===0?{actionData:null}:{actionData:vn}:{},Vr.length>0?{fetchers:new Map(pt.fetchers)}:{}),{flushSync:Xr})}Vr.forEach(vn=>{Ct.has(vn.key)&&Wr(vn.key),vn.controller&&Ct.set(vn.key,vn.controller)});let rn=()=>Vr.forEach(vn=>Wr(vn.key));xt&&xt.signal.addEventListener("abort",rn);let{results:_n,loaderResults:fn,fetcherResults:xn}=await kt(pt.matches,gr,xr,Vr,er);if(er.signal.aborted)return{shortCircuited:!0};xt&&xt.signal.removeEventListener("abort",rn),Vr.forEach(vn=>Ct.delete(vn.key));let un=findRedirect(_n);if(un){if(un.idx>=xr.length){let vn=Vr[un.idx-xr.length].key;Ot.add(vn)}return await $t(pt,un.result,{replace:en}),{shortCircuited:!0}}let{loaderData:Sn,errors:$n}=processLoaderData(pt,gr,xr,fn,Ut,Vr,xn,tr);tr.forEach((vn,Yr)=>{vn.subscribe(jn=>{(jn||vn.done)&&tr.delete(Yr)})});let vs=qr(),os=zr(At),On=vs||os||Vr.length>0;return _extends$1({loaderData:Sn,errors:$n},On?{fetchers:new Map(pt.fetchers)}:{})}function Or(er,sr,gr,Fr){if(d)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ct.has(er)&&Wr(er);let jr=(Fr&&Fr.unstable_flushSync)===!0,gn=$||b,en=normalizeTo(pt.location,pt.matches,j,_e.v7_prependBasename,gr,_e.v7_relativeSplatPath,sr,Fr==null?void 0:Fr.relative),Jr=matchRoutes(gn,en,j);if(!Jr){Ir(er,sr,getInternalRouterError(404,{pathname:en}),{flushSync:jr});return}let{path:Xr,submission:bn,error:Ut}=normalizeNavigateOptions(_e.v7_normalizeFormMethod,!0,en,Fr);if(Ut){Ir(er,sr,Ut,{flushSync:jr});return}let Zt=getTargetMatch(Jr,Xr);if(yt=(Fr&&Fr.preventScrollReset)===!0,bn&&isMutationMethod(bn.formMethod)){Nr(er,sr,Xr,Zt,Jr,jr,bn);return}Gt.set(er,{routeId:sr,path:Xr}),an(er,sr,Xr,Zt,Jr,jr,bn)}async function Nr(er,sr,gr,Fr,jr,gn,en){if(hr(),Gt.delete(er),!Fr.route.action&&!Fr.route.lazy){let Yr=getInternalRouterError(405,{method:en.formMethod,pathname:gr,routeId:sr});Ir(er,sr,Yr,{flushSync:gn});return}let Jr=pt.fetchers.get(er);vr(er,getSubmittingFetcher(en,Jr),{flushSync:gn});let Xr=new AbortController,bn=createClientSideRequest(o.history,gr,Xr.signal,en);Ct.set(er,Xr);let Ut=St,Zt=await callLoaderOrAction("action",bn,Fr,jr,_,g,j,_e.v7_relativeSplatPath);if(bn.signal.aborted){Ct.get(er)===Xr&&Ct.delete(er);return}if(_e.v7_fetcherPersist&&ir.has(er)){if(isRedirectResult(Zt)||isErrorResult(Zt)){vr(er,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Zt))if(Ct.delete(er),At>Ut){vr(er,getDoneFetcher(void 0));return}else return Ot.add(er),vr(er,getLoadingFetcher(en)),$t(pt,Zt,{fetcherSubmission:en});if(isErrorResult(Zt)){Ir(er,sr,Zt.error);return}}if(isDeferredResult(Zt))throw getInternalRouterError(400,{type:"defer-action"});let lr=pt.navigation.location||pt.location,or=createClientSideRequest(o.history,lr,Xr.signal),xr=$||b,Vr=pt.navigation.state!=="idle"?matchRoutes(xr,pt.navigation.location,j):pt.matches;invariant(Vr,"Didn't find any matches after fetcher action");let rn=++St;Rt.set(er,rn);let _n=getLoadingFetcher(en,Zt.data);pt.fetchers.set(er,_n);let[fn,xn]=getMatchesToLoad(o.history,pt,Vr,en,lr,!1,Pt,It,Et,ir,Gt,Ot,xr,j,{[Fr.route.id]:Zt.data},void 0);xn.filter(Yr=>Yr.key!==er).forEach(Yr=>{let jn=Yr.key,Mn=pt.fetchers.get(jn),Ts=getLoadingFetcher(void 0,Mn?Mn.data:void 0);pt.fetchers.set(jn,Ts),Ct.has(jn)&&Wr(jn),Yr.controller&&Ct.set(jn,Yr.controller)}),yr({fetchers:new Map(pt.fetchers)});let un=()=>xn.forEach(Yr=>Wr(Yr.key));Xr.signal.addEventListener("abort",un);let{results:Sn,loaderResults:$n,fetcherResults:vs}=await kt(pt.matches,Vr,fn,xn,or);if(Xr.signal.aborted)return;Xr.signal.removeEventListener("abort",un),Rt.delete(er),Ct.delete(er),xn.forEach(Yr=>Ct.delete(Yr.key));let os=findRedirect(Sn);if(os){if(os.idx>=fn.length){let Yr=xn[os.idx-fn.length].key;Ot.add(Yr)}return $t(pt,os.result)}let{loaderData:On,errors:vn}=processLoaderData(pt,pt.matches,fn,$n,void 0,xn,vs,tr);if(pt.fetchers.has(er)){let Yr=getDoneFetcher(Zt.data);pt.fetchers.set(er,Yr)}zr(rn),pt.navigation.state==="loading"&&rn>At?(invariant(mt,"Expected pending action"),xt&&xt.abort(),Yt(pt.navigation.location,{matches:Vr,loaderData:On,errors:vn,fetchers:new Map(pt.fetchers)})):(yr({errors:vn,loaderData:mergeLoaderData(pt.loaderData,On,Vr,vn),fetchers:new Map(pt.fetchers)}),Pt=!1)}async function an(er,sr,gr,Fr,jr,gn,en){let Jr=pt.fetchers.get(er);vr(er,getLoadingFetcher(en,Jr?Jr.data:void 0),{flushSync:gn});let Xr=new AbortController,bn=createClientSideRequest(o.history,gr,Xr.signal);Ct.set(er,Xr);let Ut=St,Zt=await callLoaderOrAction("loader",bn,Fr,jr,_,g,j,_e.v7_relativeSplatPath);if(isDeferredResult(Zt)&&(Zt=await resolveDeferredData(Zt,bn.signal,!0)||Zt),Ct.get(er)===Xr&&Ct.delete(er),!bn.signal.aborted){if(ir.has(er)){vr(er,getDoneFetcher(void 0));return}if(isRedirectResult(Zt))if(At>Ut){vr(er,getDoneFetcher(void 0));return}else{Ot.add(er),await $t(pt,Zt);return}if(isErrorResult(Zt)){Ir(er,sr,Zt.error);return}invariant(!isDeferredResult(Zt),"Unhandled fetcher deferred data"),vr(er,getDoneFetcher(Zt.data))}}async function $t(er,sr,gr){let{submission:Fr,fetcherSubmission:jr,replace:gn}=gr===void 0?{}:gr;sr.revalidate&&(Pt=!0);let en=createLocation(er.location,sr.location,{_isRedirect:!0});if(invariant(en,"Expected a location on the redirect navigation"),h){let lr=!1;if(sr.reloadDocument)lr=!0;else if(ABSOLUTE_URL_REGEX.test(sr.location)){const or=o.history.createURL(sr.location);lr=or.origin!==e.location.origin||stripBasename(or.pathname,j)==null}if(lr){gn?e.location.replace(sr.location):e.location.assign(sr.location);return}}xt=null;let Jr=gn===!0?Action.Replace:Action.Push,{formMethod:Xr,formAction:bn,formEncType:Ut}=er.navigation;!Fr&&!jr&&Xr&&bn&&Ut&&(Fr=getSubmissionFromNavigation(er.navigation));let Zt=Fr||jr;if(redirectPreserveMethodStatusCodes.has(sr.status)&&Zt&&isMutationMethod(Zt.formMethod))await br(Jr,en,{submission:_extends$1({},Zt,{formAction:sr.location}),preventScrollReset:yt});else{let lr=getLoadingNavigation(en,Fr);await br(Jr,en,{overrideNavigation:lr,fetcherSubmission:jr,preventScrollReset:yt})}}async function kt(er,sr,gr,Fr,jr){let gn=await Promise.all([...gr.map(Xr=>callLoaderOrAction("loader",jr,Xr,sr,_,g,j,_e.v7_relativeSplatPath)),...Fr.map(Xr=>Xr.matches&&Xr.match&&Xr.controller?callLoaderOrAction("loader",createClientSideRequest(o.history,Xr.path,Xr.controller.signal),Xr.match,Xr.matches,_,g,j,_e.v7_relativeSplatPath):{type:ResultType.error,error:getInternalRouterError(404,{pathname:Xr.path})})]),en=gn.slice(0,gr.length),Jr=gn.slice(gr.length);return await Promise.all([resolveDeferredResults(er,gr,en,en.map(()=>jr.signal),!1,pt.loaderData),resolveDeferredResults(er,Fr.map(Xr=>Xr.match),Jr,Fr.map(Xr=>Xr.controller?Xr.controller.signal:null),!0)]),{results:gn,loaderResults:en,fetcherResults:Jr}}function hr(){Pt=!0,It.push(...pr()),Gt.forEach((er,sr)=>{Ct.has(sr)&&(Et.push(sr),Wr(sr))})}function vr(er,sr,gr){gr===void 0&&(gr={}),pt.fetchers.set(er,sr),yr({fetchers:new Map(pt.fetchers)},{flushSync:(gr&&gr.flushSync)===!0})}function Ir(er,sr,gr,Fr){Fr===void 0&&(Fr={});let jr=findNearestBoundary(pt.matches,sr);Gr(er),yr({errors:{[jr.route.id]:gr},fetchers:new Map(pt.fetchers)},{flushSync:(Fr&&Fr.flushSync)===!0})}function Dr(er){return _e.v7_fetcherPersist&&(Qt.set(er,(Qt.get(er)||0)+1),ir.has(er)&&ir.delete(er)),pt.fetchers.get(er)||IDLE_FETCHER}function Gr(er){let sr=pt.fetchers.get(er);Ct.has(er)&&!(sr&&sr.state==="loading"&&Rt.has(er))&&Wr(er),Gt.delete(er),Rt.delete(er),Ot.delete(er),ir.delete(er),pt.fetchers.delete(er)}function mr(er){if(_e.v7_fetcherPersist){let sr=(Qt.get(er)||0)-1;sr<=0?(Qt.delete(er),ir.add(er)):Qt.set(er,sr)}else Gr(er);yr({fetchers:new Map(pt.fetchers)})}function Wr(er){let sr=Ct.get(er);invariant(sr,"Expected fetch controller: "+er),sr.abort(),Ct.delete(er)}function Qr(er){for(let sr of er){let gr=Dr(sr),Fr=getDoneFetcher(gr.data);pt.fetchers.set(sr,Fr)}}function qr(){let er=[],sr=!1;for(let gr of Ot){let Fr=pt.fetchers.get(gr);invariant(Fr,"Expected fetcher: "+gr),Fr.state==="loading"&&(Ot.delete(gr),er.push(gr),sr=!0)}return Qr(er),sr}function zr(er){let sr=[];for(let[gr,Fr]of Rt)if(Fr<er){let jr=pt.fetchers.get(gr);invariant(jr,"Expected fetcher: "+gr),jr.state==="loading"&&(Wr(gr),Rt.delete(gr),sr.push(gr))}return Qr(sr),sr.length>0}function Kt(er,sr){let gr=pt.blockers.get(er)||IDLE_BLOCKER;return Wt.get(er)!==sr&&Wt.set(er,sr),gr}function Br(er){pt.blockers.delete(er),Wt.delete(er)}function cr(er,sr){let gr=pt.blockers.get(er)||IDLE_BLOCKER;invariant(gr.state==="unblocked"&&sr.state==="blocked"||gr.state==="blocked"&&sr.state==="blocked"||gr.state==="blocked"&&sr.state==="proceeding"||gr.state==="blocked"&&sr.state==="unblocked"||gr.state==="proceeding"&&sr.state==="unblocked","Invalid blocker state transition: "+gr.state+" -> "+sr.state);let Fr=new Map(pt.blockers);Fr.set(er,sr),yr({blockers:Fr})}function ar(er){let{currentLocation:sr,nextLocation:gr,historyAction:Fr}=er;if(Wt.size===0)return;Wt.size>1&&warning(!1,"A router only supports one blocker at a time");let jr=Array.from(Wt.entries()),[gn,en]=jr[jr.length-1],Jr=pt.blockers.get(gn);if(!(Jr&&Jr.state==="proceeding")&&en({currentLocation:sr,nextLocation:gr,historyAction:Fr}))return gn}function pr(er){let sr=[];return tr.forEach((gr,Fr)=>{(!er||er(Fr))&&(gr.cancel(),sr.push(Fr),tr.delete(Fr))}),sr}function rr(er,sr,gr){if(tt=er,st=sr,nt=gr||null,!at&&pt.navigation===IDLE_NAVIGATION){at=!0;let Fr=Kn(pt.location,pt.matches);Fr!=null&&yr({restoreScrollPosition:Fr})}return()=>{tt=null,st=null,nt=null}}function ln(er,sr){return nt&&nt(er,sr.map(Fr=>convertRouteMatchToUiMatch(Fr,pt.loaderData)))||er.key}function wn(er,sr){if(tt&&st){let gr=ln(er,sr);tt[gr]=st()}}function Kn(er,sr){if(tt){let gr=ln(er,sr),Fr=tt[gr];if(typeof Fr=="number")return Fr}return null}function Fn(er){_={},$=convertRoutesToDataRoutes(er,g,void 0,_)}return dt={get basename(){return j},get future(){return _e},get state(){return pt},get routes(){return b},get window(){return e},initialize:Lr,subscribe:Ar,enableScrollRestoration:rr,navigate:Xt,fetch:Or,revalidate:ur,createHref:er=>o.history.createHref(er),encodeLocation:er=>o.history.encodeLocation(er),getFetcher:Dr,deleteFetcher:mr,dispose:Er,getBlocker:Kt,deleteBlocker:Br,_internalFetchControllers:Ct,_internalActiveDeferreds:tr,_internalSetRoutes:Fn},dt}function isSubmissionNavigation(o){return o!=null&&("formData"in o&&o.formData!=null||"body"in o&&o.body!==void 0)}function normalizeTo(o,e,h,d,g,_,b,$){let j,_e;if(b){j=[];for(let rt of e)if(j.push(rt),rt.route.id===b){_e=rt;break}}else j=e,_e=e[e.length-1];let et=resolveTo(g||".",getResolveToMatches(j,_),stripBasename(o.pathname,h)||o.pathname,$==="path");return g==null&&(et.search=o.search,et.hash=o.hash),(g==null||g===""||g===".")&&_e&&_e.route.index&&!hasNakedIndexQuery(et.search)&&(et.search=et.search?et.search.replace(/^\?/,"?index&"):"?index"),d&&h!=="/"&&(et.pathname=et.pathname==="/"?h:joinPaths([h,et.pathname])),createPath(et)}function normalizeNavigateOptions(o,e,h,d){if(!d||!isSubmissionNavigation(d))return{path:h};if(d.formMethod&&!isValidMethod(d.formMethod))return{path:h,error:getInternalRouterError(405,{method:d.formMethod})};let g=()=>({path:h,error:getInternalRouterError(400,{type:"invalid-body"})}),_=d.formMethod||"get",b=o?_.toUpperCase():_.toLowerCase(),$=stripHashFromPath(h);if(d.body!==void 0){if(d.formEncType==="text/plain"){if(!isMutationMethod(b))return g();let tt=typeof d.body=="string"?d.body:d.body instanceof FormData||d.body instanceof URLSearchParams?Array.from(d.body.entries()).reduce((nt,st)=>{let[at,ct]=st;return""+nt+at+"="+ct+`
`},""):String(d.body);return{path:h,submission:{formMethod:b,formAction:$,formEncType:d.formEncType,formData:void 0,json:void 0,text:tt}}}else if(d.formEncType==="application/json"){if(!isMutationMethod(b))return g();try{let tt=typeof d.body=="string"?JSON.parse(d.body):d.body;return{path:h,submission:{formMethod:b,formAction:$,formEncType:d.formEncType,formData:void 0,json:tt,text:void 0}}}catch{return g()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let j,_e;if(d.formData)j=convertFormDataToSearchParams(d.formData),_e=d.formData;else if(d.body instanceof FormData)j=convertFormDataToSearchParams(d.body),_e=d.body;else if(d.body instanceof URLSearchParams)j=d.body,_e=convertSearchParamsToFormData(j);else if(d.body==null)j=new URLSearchParams,_e=new FormData;else try{j=new URLSearchParams(d.body),_e=convertSearchParamsToFormData(j)}catch{return g()}let et={formMethod:b,formAction:$,formEncType:d&&d.formEncType||"application/x-www-form-urlencoded",formData:_e,json:void 0,text:void 0};if(isMutationMethod(et.formMethod))return{path:h,submission:et};let rt=parsePath(h);return e&&rt.search&&hasNakedIndexQuery(rt.search)&&j.append("index",""),rt.search="?"+j,{path:createPath(rt),submission:et}}function getLoaderMatchesUntilBoundary(o,e){let h=o;if(e){let d=o.findIndex(g=>g.route.id===e);d>=0&&(h=o.slice(0,d))}return h}function getMatchesToLoad(o,e,h,d,g,_,b,$,j,_e,et,rt,tt,nt,st,at){let ct=at?Object.values(at)[0]:st?Object.values(st)[0]:void 0,it=o.createURL(e.location),lt=o.createURL(g),ht=at?Object.keys(at)[0]:void 0,dt=getLoaderMatchesUntilBoundary(h,ht).filter((mt,yt)=>{let{route:xt}=mt;if(xt.lazy)return!0;if(xt.loader==null)return!1;if(_)return xt.loader.hydrate?!0:e.loaderData[xt.id]===void 0&&(!e.errors||e.errors[xt.id]===void 0);if(isNewLoader(e.loaderData,e.matches[yt],mt)||$.some(Mt=>Mt===mt.route.id))return!0;let Tt=e.matches[yt],_t=mt;return shouldRevalidateLoader(mt,_extends$1({currentUrl:it,currentParams:Tt.params,nextUrl:lt,nextParams:_t.params},d,{actionResult:ct,defaultShouldRevalidate:b||it.pathname+it.search===lt.pathname+lt.search||it.search!==lt.search||isNewRouteInstance(Tt,_t)}))}),pt=[];return et.forEach((mt,yt)=>{if(_||!h.some(Lt=>Lt.route.id===mt.routeId)||_e.has(yt))return;let xt=matchRoutes(tt,mt.path,nt);if(!xt){pt.push({key:yt,routeId:mt.routeId,path:mt.path,matches:null,match:null,controller:null});return}let Tt=e.fetchers.get(yt),_t=getTargetMatch(xt,mt.path),Mt=!1;rt.has(yt)?Mt=!1:j.includes(yt)?Mt=!0:Tt&&Tt.state!=="idle"&&Tt.data===void 0?Mt=b:Mt=shouldRevalidateLoader(_t,_extends$1({currentUrl:it,currentParams:e.matches[e.matches.length-1].params,nextUrl:lt,nextParams:h[h.length-1].params},d,{actionResult:ct,defaultShouldRevalidate:b})),Mt&&pt.push({key:yt,routeId:mt.routeId,path:mt.path,matches:xt,match:_t,controller:new AbortController})}),[dt,pt]}function isNewLoader(o,e,h){let d=!e||h.route.id!==e.route.id,g=o[h.route.id]===void 0;return d||g}function isNewRouteInstance(o,e){let h=o.route.path;return o.pathname!==e.pathname||h!=null&&h.endsWith("*")&&o.params["*"]!==e.params["*"]}function shouldRevalidateLoader(o,e){if(o.route.shouldRevalidate){let h=o.route.shouldRevalidate(e);if(typeof h=="boolean")return h}return e.defaultShouldRevalidate}async function loadLazyRouteModule(o,e,h){if(!o.lazy)return;let d=await o.lazy();if(!o.lazy)return;let g=h[o.id];invariant(g,"No route found in manifest");let _={};for(let b in d){let j=g[b]!==void 0&&b!=="hasErrorBoundary";warning(!j,'Route "'+g.id+'" has a static property "'+b+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+b+'" will be ignored.')),!j&&!immutableRouteKeys.has(b)&&(_[b]=d[b])}Object.assign(g,_),Object.assign(g,_extends$1({},e(g),{lazy:void 0}))}async function callLoaderOrAction(o,e,h,d,g,_,b,$,j){j===void 0&&(j={});let _e,et,rt,tt=at=>{let ct,it=new Promise((lt,ht)=>ct=ht);return rt=()=>ct(),e.signal.addEventListener("abort",rt),Promise.race([at({request:e,params:h.params,context:j.requestContext}),it])};try{let at=h.route[o];if(h.route.lazy)if(at){let ct,it=await Promise.all([tt(at).catch(lt=>{ct=lt}),loadLazyRouteModule(h.route,_,g)]);if(ct)throw ct;et=it[0]}else if(await loadLazyRouteModule(h.route,_,g),at=h.route[o],at)et=await tt(at);else if(o==="action"){let ct=new URL(e.url),it=ct.pathname+ct.search;throw getInternalRouterError(405,{method:e.method,pathname:it,routeId:h.route.id})}else return{type:ResultType.data,data:void 0};else if(at)et=await tt(at);else{let ct=new URL(e.url),it=ct.pathname+ct.search;throw getInternalRouterError(404,{pathname:it})}invariant(et!==void 0,"You defined "+(o==="action"?"an action":"a loader")+" for route "+('"'+h.route.id+"\" but didn't return anything from your `"+o+"` ")+"function. Please return a value or `null`.")}catch(at){_e=ResultType.error,et=at}finally{rt&&e.signal.removeEventListener("abort",rt)}if(isResponse(et)){let at=et.status;if(redirectStatusCodes.has(at)){let it=et.headers.get("Location");if(invariant(it,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(it))it=normalizeTo(new URL(e.url),d.slice(0,d.indexOf(h)+1),b,!0,it,$);else if(!j.isStaticRequest){let lt=new URL(e.url),ht=it.startsWith("//")?new URL(lt.protocol+it):new URL(it),ut=stripBasename(ht.pathname,b)!=null;ht.origin===lt.origin&&ut&&(it=ht.pathname+ht.search+ht.hash)}if(j.isStaticRequest)throw et.headers.set("Location",it),et;return{type:ResultType.redirect,status:at,location:it,revalidate:et.headers.get("X-Remix-Revalidate")!==null,reloadDocument:et.headers.get("X-Remix-Reload-Document")!==null}}if(j.isRouteRequest)throw{type:_e===ResultType.error?ResultType.error:ResultType.data,response:et};let ct;try{let it=et.headers.get("Content-Type");it&&/\bapplication\/json\b/.test(it)?et.body==null?ct=null:ct=await et.json():ct=await et.text()}catch(it){return{type:ResultType.error,error:it}}return _e===ResultType.error?{type:_e,error:new ErrorResponseImpl(at,et.statusText,ct),headers:et.headers}:{type:ResultType.data,data:ct,statusCode:et.status,headers:et.headers}}if(_e===ResultType.error)return{type:_e,error:et};if(isDeferredData(et)){var nt,st;return{type:ResultType.deferred,deferredData:et,statusCode:(nt=et.init)==null?void 0:nt.status,headers:((st=et.init)==null?void 0:st.headers)&&new Headers(et.init.headers)}}return{type:ResultType.data,data:et}}function createClientSideRequest(o,e,h,d){let g=o.createURL(stripHashFromPath(e)).toString(),_={signal:h};if(d&&isMutationMethod(d.formMethod)){let{formMethod:b,formEncType:$}=d;_.method=b.toUpperCase(),$==="application/json"?(_.headers=new Headers({"Content-Type":$}),_.body=JSON.stringify(d.json)):$==="text/plain"?_.body=d.text:$==="application/x-www-form-urlencoded"&&d.formData?_.body=convertFormDataToSearchParams(d.formData):_.body=d.formData}return new Request(g,_)}function convertFormDataToSearchParams(o){let e=new URLSearchParams;for(let[h,d]of o.entries())e.append(h,typeof d=="string"?d:d.name);return e}function convertSearchParamsToFormData(o){let e=new FormData;for(let[h,d]of o.entries())e.append(h,d);return e}function processRouteLoaderData(o,e,h,d,g){let _={},b=null,$,j=!1,_e={};return h.forEach((et,rt)=>{let tt=e[rt].route.id;if(invariant(!isRedirectResult(et),"Cannot handle redirect results in processLoaderData"),isErrorResult(et)){let nt=findNearestBoundary(o,tt),st=et.error;d&&(st=Object.values(d)[0],d=void 0),b=b||{},b[nt.route.id]==null&&(b[nt.route.id]=st),_[tt]=void 0,j||(j=!0,$=isRouteErrorResponse(et.error)?et.error.status:500),et.headers&&(_e[tt]=et.headers)}else isDeferredResult(et)?(g.set(tt,et.deferredData),_[tt]=et.deferredData.data):_[tt]=et.data,et.statusCode!=null&&et.statusCode!==200&&!j&&($=et.statusCode),et.headers&&(_e[tt]=et.headers)}),d&&(b=d,_[Object.keys(d)[0]]=void 0),{loaderData:_,errors:b,statusCode:$||200,loaderHeaders:_e}}function processLoaderData(o,e,h,d,g,_,b,$){let{loaderData:j,errors:_e}=processRouteLoaderData(e,h,d,g,$);for(let et=0;et<_.length;et++){let{key:rt,match:tt,controller:nt}=_[et];invariant(b!==void 0&&b[et]!==void 0,"Did not find corresponding fetcher result");let st=b[et];if(!(nt&&nt.signal.aborted))if(isErrorResult(st)){let at=findNearestBoundary(o.matches,tt==null?void 0:tt.route.id);_e&&_e[at.route.id]||(_e=_extends$1({},_e,{[at.route.id]:st.error})),o.fetchers.delete(rt)}else if(isRedirectResult(st))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(st))invariant(!1,"Unhandled fetcher deferred data");else{let at=getDoneFetcher(st.data);o.fetchers.set(rt,at)}}return{loaderData:j,errors:_e}}function mergeLoaderData(o,e,h,d){let g=_extends$1({},e);for(let _ of h){let b=_.route.id;if(e.hasOwnProperty(b)?e[b]!==void 0&&(g[b]=e[b]):o[b]!==void 0&&_.route.loader&&(g[b]=o[b]),d&&d.hasOwnProperty(b))break}return g}function findNearestBoundary(o,e){return(e?o.slice(0,o.findIndex(d=>d.route.id===e)+1):[...o]).reverse().find(d=>d.route.hasErrorBoundary===!0)||o[0]}function getShortCircuitMatches(o){let e=o.length===1?o[0]:o.find(h=>h.index||!h.path||h.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function getInternalRouterError(o,e){let{pathname:h,routeId:d,method:g,type:_}=e===void 0?{}:e,b="Unknown Server Error",$="Unknown @remix-run/router error";return o===400?(b="Bad Request",g&&h&&d?$="You made a "+g+' request to "'+h+'" but '+('did not provide a `loader` for route "'+d+'", ')+"so there is no way to handle the request.":_==="defer-action"?$="defer() is not supported in actions":_==="invalid-body"&&($="Unable to encode submission body")):o===403?(b="Forbidden",$='Route "'+d+'" does not match URL "'+h+'"'):o===404?(b="Not Found",$='No route matches URL "'+h+'"'):o===405&&(b="Method Not Allowed",g&&h&&d?$="You made a "+g.toUpperCase()+' request to "'+h+'" but '+('did not provide an `action` for route "'+d+'", ')+"so there is no way to handle the request.":g&&($='Invalid request method "'+g.toUpperCase()+'"')),new ErrorResponseImpl(o||500,b,new Error($),!0)}function findRedirect(o){for(let e=o.length-1;e>=0;e--){let h=o[e];if(isRedirectResult(h))return{result:h,idx:e}}}function stripHashFromPath(o){let e=typeof o=="string"?parsePath(o):o;return createPath(_extends$1({},e,{hash:""}))}function isHashChangeOnly(o,e){return o.pathname!==e.pathname||o.search!==e.search?!1:o.hash===""?e.hash!=="":o.hash===e.hash?!0:e.hash!==""}function isDeferredResult(o){return o.type===ResultType.deferred}function isErrorResult(o){return o.type===ResultType.error}function isRedirectResult(o){return(o&&o.type)===ResultType.redirect}function isDeferredData(o){let e=o;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function isResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.headers=="object"&&typeof o.body!="undefined"}function isValidMethod(o){return validRequestMethods.has(o.toLowerCase())}function isMutationMethod(o){return validMutationMethods.has(o.toLowerCase())}async function resolveDeferredResults(o,e,h,d,g,_){for(let b=0;b<h.length;b++){let $=h[b],j=e[b];if(!j)continue;let _e=o.find(rt=>rt.route.id===j.route.id),et=_e!=null&&!isNewRouteInstance(_e,j)&&(_&&_[j.route.id])!==void 0;if(isDeferredResult($)&&(g||et)){let rt=d[b];invariant(rt,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData($,rt,g).then(tt=>{tt&&(h[b]=tt||h[b])})}}}async function resolveDeferredData(o,e,h){if(h===void 0&&(h=!1),!await o.deferredData.resolveData(e)){if(h)try{return{type:ResultType.data,data:o.deferredData.unwrappedData}}catch(g){return{type:ResultType.error,error:g}}return{type:ResultType.data,data:o.deferredData.data}}}function hasNakedIndexQuery(o){return new URLSearchParams(o).getAll("index").some(e=>e==="")}function getTargetMatch(o,e){let h=typeof e=="string"?parsePath(e).search:e.search;if(o[o.length-1].route.index&&hasNakedIndexQuery(h||""))return o[o.length-1];let d=getPathContributingMatches(o);return d[d.length-1]}function getSubmissionFromNavigation(o){let{formMethod:e,formAction:h,formEncType:d,text:g,formData:_,json:b}=o;if(!(!e||!h||!d)){if(g!=null)return{formMethod:e,formAction:h,formEncType:d,formData:void 0,json:void 0,text:g};if(_!=null)return{formMethod:e,formAction:h,formEncType:d,formData:_,json:void 0,text:void 0};if(b!==void 0)return{formMethod:e,formAction:h,formEncType:d,formData:void 0,json:b,text:void 0}}}function getLoadingNavigation(o,e){return e?{state:"loading",location:o,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:o,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(o,e){return{state:"submitting",location:o,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function getLoadingFetcher(o,e){return o?{state:"loading",formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function getSubmittingFetcher(o,e){return{state:"submitting",formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text,data:e?e.data:void 0}}function getDoneFetcher(o){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:o}}function restoreAppliedTransitions(o,e){try{let h=o.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(h){let d=JSON.parse(h);for(let[g,_]of Object.entries(d||{}))_&&Array.isArray(_)&&e.set(g,new Set(_||[]))}}catch{}}function persistAppliedTransitions(o,e){if(e.size>0){let h={};for(let[d,g]of e)h[d]=[...g];try{o.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(h))}catch(d){warning(!1,"Failed to save applied view transitions in sessionStorage ("+d+").")}}}/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var h=arguments[e];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d])}return o},_extends.apply(this,arguments)}const DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),AwaitContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=react.exports.createContext(null);function useHref(o,e){let{relative:h}=e===void 0?{}:e;useInRouterContext()||invariant(!1);let{basename:d,navigator:g}=react.exports.useContext(NavigationContext),{hash:_,pathname:b,search:$}=useResolvedPath(o,{relative:h}),j=b;return d!=="/"&&(j=b==="/"?d:joinPaths([d,b])),g.createHref({pathname:j,search:$,hash:_})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useNavigationType(){return react.exports.useContext(LocationContext).navigationType}function useMatch(o){useInRouterContext()||invariant(!1);let{pathname:e}=useLocation();return react.exports.useMemo(()=>matchPath(o,e),[e,o])}function useIsomorphicLayoutEffect(o){react.exports.useContext(NavigationContext).static||react.exports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=react.exports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=react.exports.useContext(DataRouterContext),{basename:e,future:h,navigator:d}=react.exports.useContext(NavigationContext),{matches:g}=react.exports.useContext(RouteContext),{pathname:_}=useLocation(),b=JSON.stringify(getResolveToMatches(g,h.v7_relativeSplatPath)),$=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),react.exports.useCallback(function(_e,et){if(et===void 0&&(et={}),!$.current)return;if(typeof _e=="number"){d.go(_e);return}let rt=resolveTo(_e,JSON.parse(b),_,et.relative==="path");o==null&&e!=="/"&&(rt.pathname=rt.pathname==="/"?e:joinPaths([e,rt.pathname])),(et.replace?d.replace:d.push)(rt,et.state,et)},[e,d,b,_,o])}const OutletContext=react.exports.createContext(null);function useOutletContext(){return react.exports.useContext(OutletContext)}function useOutlet(o){let e=react.exports.useContext(RouteContext).outlet;return e&&react.exports.createElement(OutletContext.Provider,{value:o},e)}function useParams(){let{matches:o}=react.exports.useContext(RouteContext),e=o[o.length-1];return e?e.params:{}}function useResolvedPath(o,e){let{relative:h}=e===void 0?{}:e,{future:d}=react.exports.useContext(NavigationContext),{matches:g}=react.exports.useContext(RouteContext),{pathname:_}=useLocation(),b=JSON.stringify(getResolveToMatches(g,d.v7_relativeSplatPath));return react.exports.useMemo(()=>resolveTo(o,JSON.parse(b),_,h==="path"),[o,b,_,h])}function useRoutes(o,e){return useRoutesImpl(o,e)}function useRoutesImpl(o,e,h,d){useInRouterContext()||invariant(!1);let{navigator:g}=react.exports.useContext(NavigationContext),{matches:_}=react.exports.useContext(RouteContext),b=_[_.length-1],$=b?b.params:{};b&&b.pathname;let j=b?b.pathnameBase:"/";b&&b.route;let _e=useLocation(),et;if(e){var rt;let ct=typeof e=="string"?parsePath(e):e;j==="/"||((rt=ct.pathname)==null?void 0:rt.startsWith(j))||invariant(!1),et=ct}else et=_e;let tt=et.pathname||"/",nt=j==="/"?tt:tt.slice(j.length)||"/",st=matchRoutes(o,{pathname:nt}),at=_renderMatches(st&&st.map(ct=>Object.assign({},ct,{params:Object.assign({},$,ct.params),pathname:joinPaths([j,g.encodeLocation?g.encodeLocation(ct.pathname).pathname:ct.pathname]),pathnameBase:ct.pathnameBase==="/"?j:joinPaths([j,g.encodeLocation?g.encodeLocation(ct.pathnameBase).pathname:ct.pathnameBase])})),_,h,d);return e&&at?react.exports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},et),navigationType:Action.Pop}},at):at}function DefaultErrorComponent(){let o=useRouteError(),e=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),h=o instanceof Error?o.stack:null,g={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},_=null;return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("h2",null,"Unexpected Application Error!"),react.exports.createElement("h3",{style:{fontStyle:"italic"}},e),h?react.exports.createElement("pre",{style:g},h):null,_)}const defaultErrorElement=react.exports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends react.exports.Component{constructor(e){super(e);this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,h){return h.location!==e.location||h.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:h.error,location:h.location,revalidation:e.revalidation||h.revalidation}}componentDidCatch(e,h){console.error("React Router caught the following error during render",e,h)}render(){return this.state.error!==void 0?react.exports.createElement(RouteContext.Provider,{value:this.props.routeContext},react.exports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:e,match:h,children:d}=o,g=react.exports.useContext(DataRouterContext);return g&&g.static&&g.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=h.route.id),react.exports.createElement(RouteContext.Provider,{value:e},d)}function _renderMatches(o,e,h,d){var g;if(e===void 0&&(e=[]),h===void 0&&(h=null),d===void 0&&(d=null),o==null){var _;if((_=h)!=null&&_.errors)o=h.matches;else return null}let b=o,$=(g=h)==null?void 0:g.errors;if($!=null){let et=b.findIndex(rt=>rt.route.id&&($==null?void 0:$[rt.route.id]));et>=0||invariant(!1),b=b.slice(0,Math.min(b.length,et+1))}let j=!1,_e=-1;if(h&&d&&d.v7_partialHydration)for(let et=0;et<b.length;et++){let rt=b[et];if((rt.route.HydrateFallback||rt.route.hydrateFallbackElement)&&(_e=et),rt.route.id){let{loaderData:tt,errors:nt}=h,st=rt.route.loader&&tt[rt.route.id]===void 0&&(!nt||nt[rt.route.id]===void 0);if(rt.route.lazy||st){j=!0,_e>=0?b=b.slice(0,_e+1):b=[b[0]];break}}}return b.reduceRight((et,rt,tt)=>{let nt,st=!1,at=null,ct=null;h&&(nt=$&&rt.route.id?$[rt.route.id]:void 0,at=rt.route.errorElement||defaultErrorElement,j&&(_e<0&&tt===0?(warningOnce("route-fallback",!1),st=!0,ct=null):_e===tt&&(st=!0,ct=rt.route.hydrateFallbackElement||null)));let it=e.concat(b.slice(0,tt+1)),lt=()=>{let ht;return nt?ht=at:st?ht=ct:rt.route.Component?ht=react.exports.createElement(rt.route.Component,null):rt.route.element?ht=rt.route.element:ht=et,react.exports.createElement(RenderedRoute,{match:rt,routeContext:{outlet:et,matches:it,isDataRoute:h!=null},children:ht})};return h&&(rt.route.ErrorBoundary||rt.route.errorElement||tt===0)?react.exports.createElement(RenderErrorBoundary,{location:h.location,revalidation:h.revalidation,component:at,error:nt,children:lt(),routeContext:{outlet:null,matches:it,isDataRoute:!0}}):lt()},null)}var DataRouterHook=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook||{}),DataRouterStateHook=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook||{});function useDataRouterContext(o){let e=react.exports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(o){let e=react.exports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(o){let e=react.exports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(o){let e=useRouteContext(),h=e.matches[e.matches.length-1];return h.route.id||invariant(!1),h.route.id}function useRouteId(){return useCurrentRouteId(DataRouterStateHook.UseRouteId)}function useNavigation(){return useDataRouterState(DataRouterStateHook.UseNavigation).navigation}function useRevalidator(){let o=useDataRouterContext(DataRouterHook.UseRevalidator),e=useDataRouterState(DataRouterStateHook.UseRevalidator);return react.exports.useMemo(()=>({revalidate:o.router.revalidate,state:e.revalidation}),[o.router.revalidate,e.revalidation])}function useMatches(){let{matches:o,loaderData:e}=useDataRouterState(DataRouterStateHook.UseMatches);return react.exports.useMemo(()=>o.map(h=>convertRouteMatchToUiMatch(h,e)),[o,e])}function useLoaderData(){let o=useDataRouterState(DataRouterStateHook.UseLoaderData),e=useCurrentRouteId(DataRouterStateHook.UseLoaderData);if(o.errors&&o.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return o.loaderData[e]}function useRouteLoaderData(o){return useDataRouterState(DataRouterStateHook.UseRouteLoaderData).loaderData[o]}function useActionData(){let o=useDataRouterState(DataRouterStateHook.UseActionData),e=useCurrentRouteId(DataRouterStateHook.UseLoaderData);return o.actionData?o.actionData[e]:void 0}function useRouteError(){var o;let e=react.exports.useContext(RouteErrorContext),h=useDataRouterState(DataRouterStateHook.UseRouteError),d=useCurrentRouteId(DataRouterStateHook.UseRouteError);return e!==void 0?e:(o=h.errors)==null?void 0:o[d]}function useAsyncValue(){let o=react.exports.useContext(AwaitContext);return o==null?void 0:o._data}function useAsyncError(){let o=react.exports.useContext(AwaitContext);return o==null?void 0:o._error}let blockerId=0;function useBlocker(o){let{router:e,basename:h}=useDataRouterContext(DataRouterHook.UseBlocker),d=useDataRouterState(DataRouterStateHook.UseBlocker),[g,_]=react.exports.useState(""),b=react.exports.useCallback($=>{if(typeof o!="function")return!!o;if(h==="/")return o($);let{currentLocation:j,nextLocation:_e,historyAction:et}=$;return o({currentLocation:_extends({},j,{pathname:stripBasename(j.pathname,h)||j.pathname}),nextLocation:_extends({},_e,{pathname:stripBasename(_e.pathname,h)||_e.pathname}),historyAction:et})},[h,o]);return react.exports.useEffect(()=>{let $=String(++blockerId);return _($),()=>e.deleteBlocker($)},[e]),react.exports.useEffect(()=>{g!==""&&e.getBlocker(g,b)},[e,g,b]),g&&d.blockers.has(g)?d.blockers.get(g):IDLE_BLOCKER}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook.UseNavigateStable),h=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>{h.current=!0}),react.exports.useCallback(function(g,_){_===void 0&&(_={}),!!h.current&&(typeof g=="number"?o.navigate(g):o.navigate(g,_extends({fromRouteId:e},_)))},[o,e])}const alreadyWarned={};function warningOnce(o,e,h){!e&&!alreadyWarned[o]&&(alreadyWarned[o]=!0)}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function RouterProvider(o){let{fallbackElement:e,router:h,future:d}=o,[g,_]=react.exports.useState(h.state),{v7_startTransition:b}=d||{},$=react.exports.useCallback(rt=>{b&&startTransitionImpl?startTransitionImpl(()=>_(rt)):_(rt)},[_,b]);react.exports.useLayoutEffect(()=>h.subscribe($),[h,$]),react.exports.useEffect(()=>{},[]);let j=react.exports.useMemo(()=>({createHref:h.createHref,encodeLocation:h.encodeLocation,go:rt=>h.navigate(rt),push:(rt,tt,nt)=>h.navigate(rt,{state:tt,preventScrollReset:nt==null?void 0:nt.preventScrollReset}),replace:(rt,tt,nt)=>h.navigate(rt,{replace:!0,state:tt,preventScrollReset:nt==null?void 0:nt.preventScrollReset})}),[h]),_e=h.basename||"/",et=react.exports.useMemo(()=>({router:h,navigator:j,static:!1,basename:_e}),[h,j,_e]);return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(DataRouterContext.Provider,{value:et},react.exports.createElement(DataRouterStateContext.Provider,{value:g},react.exports.createElement(Router,{basename:_e,location:g.location,navigationType:g.historyAction,navigator:j,future:{v7_relativeSplatPath:h.future.v7_relativeSplatPath}},g.initialized||h.future.v7_partialHydration?react.exports.createElement(DataRoutes,{routes:h.routes,future:h.future,state:g}):e))),null)}function DataRoutes(o){let{routes:e,future:h,state:d}=o;return useRoutesImpl(e,void 0,d,h)}function MemoryRouter(o){let{basename:e,children:h,initialEntries:d,initialIndex:g,future:_}=o,b=react.exports.useRef();b.current==null&&(b.current=createMemoryHistory({initialEntries:d,initialIndex:g,v5Compat:!0}));let $=b.current,[j,_e]=react.exports.useState({action:$.action,location:$.location}),{v7_startTransition:et}=_||{},rt=react.exports.useCallback(tt=>{et&&startTransitionImpl?startTransitionImpl(()=>_e(tt)):_e(tt)},[_e,et]);return react.exports.useLayoutEffect(()=>$.listen(rt),[$,rt]),react.exports.createElement(Router,{basename:e,children:h,location:j.location,navigationType:j.action,navigator:$,future:_})}function Navigate(o){let{to:e,replace:h,state:d,relative:g}=o;useInRouterContext()||invariant(!1);let{future:_,static:b}=react.exports.useContext(NavigationContext),{matches:$}=react.exports.useContext(RouteContext),{pathname:j}=useLocation(),_e=useNavigate(),et=resolveTo(e,getResolveToMatches($,_.v7_relativeSplatPath),j,g==="path"),rt=JSON.stringify(et);return react.exports.useEffect(()=>_e(JSON.parse(rt),{replace:h,state:d,relative:g}),[_e,rt,g,h,d]),null}function Outlet(o){return useOutlet(o.context)}function Route(o){invariant(!1)}function Router(o){let{basename:e="/",children:h=null,location:d,navigationType:g=Action.Pop,navigator:_,static:b=!1,future:$}=o;useInRouterContext()&&invariant(!1);let j=e.replace(/^\/*/,"/"),_e=react.exports.useMemo(()=>({basename:j,navigator:_,static:b,future:_extends({v7_relativeSplatPath:!1},$)}),[j,$,_,b]);typeof d=="string"&&(d=parsePath(d));let{pathname:et="/",search:rt="",hash:tt="",state:nt=null,key:st="default"}=d,at=react.exports.useMemo(()=>{let ct=stripBasename(et,j);return ct==null?null:{location:{pathname:ct,search:rt,hash:tt,state:nt,key:st},navigationType:g}},[j,et,rt,tt,nt,st,g]);return at==null?null:react.exports.createElement(NavigationContext.Provider,{value:_e},react.exports.createElement(LocationContext.Provider,{children:h,value:at}))}function Routes(o){let{children:e,location:h}=o;return useRoutes(createRoutesFromChildren(e),h)}function Await(o){let{children:e,errorElement:h,resolve:d}=o;return react.exports.createElement(AwaitErrorBoundary,{resolve:d,errorElement:h},react.exports.createElement(ResolveAwait,null,e))}var AwaitRenderStatus=function(o){return o[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error",o}(AwaitRenderStatus||{});const neverSettledPromise=new Promise(()=>{});class AwaitErrorBoundary extends react.exports.Component{constructor(e){super(e);this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,h){console.error("<Await> caught the following error during render",e,h)}render(){let{children:e,errorElement:h,resolve:d}=this.props,g=null,_=AwaitRenderStatus.pending;if(!(d instanceof Promise))_=AwaitRenderStatus.success,g=Promise.resolve(),Object.defineProperty(g,"_tracked",{get:()=>!0}),Object.defineProperty(g,"_data",{get:()=>d});else if(this.state.error){_=AwaitRenderStatus.error;let b=this.state.error;g=Promise.reject().catch(()=>{}),Object.defineProperty(g,"_tracked",{get:()=>!0}),Object.defineProperty(g,"_error",{get:()=>b})}else d._tracked?(g=d,_=g._error!==void 0?AwaitRenderStatus.error:g._data!==void 0?AwaitRenderStatus.success:AwaitRenderStatus.pending):(_=AwaitRenderStatus.pending,Object.defineProperty(d,"_tracked",{get:()=>!0}),g=d.then(b=>Object.defineProperty(d,"_data",{get:()=>b}),b=>Object.defineProperty(d,"_error",{get:()=>b})));if(_===AwaitRenderStatus.error&&g._error instanceof AbortedDeferredError)throw neverSettledPromise;if(_===AwaitRenderStatus.error&&!h)throw g._error;if(_===AwaitRenderStatus.error)return react.exports.createElement(AwaitContext.Provider,{value:g,children:h});if(_===AwaitRenderStatus.success)return react.exports.createElement(AwaitContext.Provider,{value:g,children:e});throw g}}function ResolveAwait(o){let{children:e}=o,h=useAsyncValue(),d=typeof e=="function"?e(h):e;return react.exports.createElement(react.exports.Fragment,null,d)}function createRoutesFromChildren(o,e){e===void 0&&(e=[]);let h=[];return react.exports.Children.forEach(o,(d,g)=>{if(!react.exports.isValidElement(d))return;let _=[...e,g];if(d.type===react.exports.Fragment){h.push.apply(h,createRoutesFromChildren(d.props.children,_));return}d.type!==Route&&invariant(!1),!d.props.index||!d.props.children||invariant(!1);let b={id:d.props.id||_.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(b.children=createRoutesFromChildren(d.props.children,_)),h.push(b)}),h}function renderMatches(o){return _renderMatches(o)}function mapRouteProperties(o){let e={hasErrorBoundary:o.ErrorBoundary!=null||o.errorElement!=null};return o.Component&&Object.assign(e,{element:react.exports.createElement(o.Component),Component:void 0}),o.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:react.exports.createElement(o.HydrateFallback),HydrateFallback:void 0}),o.ErrorBoundary&&Object.assign(e,{errorElement:react.exports.createElement(o.ErrorBoundary),ErrorBoundary:void 0}),e}function createMemoryRouter(o,e){return createRouter({basename:e==null?void 0:e.basename,future:_extends({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:createMemoryHistory({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:o,mapRouteProperties}).initialize()}var tmp$1=Object.freeze(Object.defineProperty({__proto__:null,Await,MemoryRouter,Navigate,Outlet,Route,Router,RouterProvider,Routes,UNSAFE_DataRouterContext:DataRouterContext,UNSAFE_DataRouterStateContext:DataRouterStateContext,UNSAFE_LocationContext:LocationContext,UNSAFE_NavigationContext:NavigationContext,UNSAFE_RouteContext:RouteContext,UNSAFE_mapRouteProperties:mapRouteProperties,UNSAFE_useRouteId:useRouteId,UNSAFE_useRoutesImpl:useRoutesImpl,createMemoryRouter,createRoutesFromChildren,createRoutesFromElements:createRoutesFromChildren,renderMatches,useActionData,useAsyncError,useAsyncValue,useBlocker,useHref,useInRouterContext,useLoaderData,useLocation,useMatch,useMatches,useNavigate,useNavigation,useNavigationType,useOutlet,useOutletContext,useParams,useResolvedPath,useRevalidator,useRouteError,useRouteLoaderData,useRoutes,AbortedDeferredError,get NavigationType(){return Action},createPath,defer,generatePath,isRouteErrorResponse,json,matchPath,matchRoutes,parsePath,redirect,redirectDocument,resolvePath},Symbol.toStringTag,{value:"Module"})),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(o){for(var e,h=1,d=arguments.length;h<d;h++){e=arguments[h];for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&(o[g]=e[g])}return o},__assign.apply(this,arguments)},rc=tmp$1,baseParseConfig={parseNumbers:!1,parseBooleans:!1},baseStringifyConfig={skipNull:!1,skipEmptyString:!1},useUrlState=function o(e,h){var d,g,_=h||{},b=_.navigateMode,$=b===void 0?"push":b,j=_.parseOptions,_e=_.stringifyOptions,et=__assign(__assign({},baseParseConfig),j),rt=__assign(__assign({},baseStringifyConfig),_e),tt=rc.useLocation(),nt=(d=rc.useHistory)===null||d===void 0?void 0:d.call(rc),st=(g=rc.useNavigate)===null||g===void 0?void 0:g.call(rc),at=useUpdate$1(),ct=react.exports.useRef(typeof e=="function"?e():e||{}),it=react.exports.useMemo(function(){return queryString.parse(tt.search,et)},[tt.search]),lt=react.exports.useMemo(function(){return __assign(__assign({},ct.current),it)},[it]),ht=function(dt){var pt=typeof dt=="function"?dt(lt):dt;at(),nt&&nt[$]({hash:tt.hash,search:queryString.stringify(__assign(__assign({},it),pt),rt)||"?"}),st&&st({hash:tt.hash,search:queryString.stringify(__assign(__assign({},it),pt),rt)||"?"},{replace:$==="replace"})};return[lt,useMemoizedFn(ht)]};const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(o=>{PACKET_TYPES_REVERSE[PACKET_TYPES[o]]=o});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,encodePacket=({type:o,data:e},h,d)=>withNativeBlob$1&&e instanceof Blob?h?d(e):encodeBlobAsBase64(e,d):withNativeArrayBuffer$2&&(e instanceof ArrayBuffer||isView$1(e))?h?d(e):encodeBlobAsBase64(new Blob([e]),d):d(PACKET_TYPES[o]+(e||"")),encodeBlobAsBase64=(o,e)=>{const h=new FileReader;return h.onload=function(){const d=h.result.split(",")[1];e("b"+(d||""))},h.readAsDataURL(o)},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let o=0;o<chars.length;o++)lookup$1[chars.charCodeAt(o)]=o;const decode$1=o=>{let e=o.length*.75,h=o.length,d,g=0,_,b,$,j;o[o.length-1]==="="&&(e--,o[o.length-2]==="="&&e--);const _e=new ArrayBuffer(e),et=new Uint8Array(_e);for(d=0;d<h;d+=4)_=lookup$1[o.charCodeAt(d)],b=lookup$1[o.charCodeAt(d+1)],$=lookup$1[o.charCodeAt(d+2)],j=lookup$1[o.charCodeAt(d+3)],et[g++]=_<<2|b>>4,et[g++]=(b&15)<<4|$>>2,et[g++]=($&3)<<6|j&63;return _e},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(o,e)=>{if(typeof o!="string")return{type:"message",data:mapBinary(o,e)};const h=o.charAt(0);return h==="b"?{type:"message",data:decodeBase64Packet(o.substring(1),e)}:PACKET_TYPES_REVERSE[h]?o.length>1?{type:PACKET_TYPES_REVERSE[h],data:o.substring(1)}:{type:PACKET_TYPES_REVERSE[h]}:ERROR_PACKET},decodeBase64Packet=(o,e)=>{if(withNativeArrayBuffer$1){const h=decode$1(o);return mapBinary(h,e)}else return{base64:!0,data:o}},mapBinary=(o,e)=>{switch(e){case"blob":return o instanceof ArrayBuffer?new Blob([o]):o;case"arraybuffer":default:return o}},SEPARATOR=String.fromCharCode(30),encodePayload=(o,e)=>{const h=o.length,d=new Array(h);let g=0;o.forEach((_,b)=>{encodePacket(_,!1,$=>{d[b]=$,++g===h&&e(d.join(SEPARATOR))})})},decodePayload=(o,e)=>{const h=o.split(SEPARATOR),d=[];for(let g=0;g<h.length;g++){const _=decodePacket(h[g],e);if(d.push(_),_.type==="error")break}return d},protocol$1=4;function Emitter(o){if(o)return mixin(o)}function mixin(o){for(var e in Emitter.prototype)o[e]=Emitter.prototype[e];return o}Emitter.prototype.on=Emitter.prototype.addEventListener=function(o,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(e),this};Emitter.prototype.once=function(o,e){function h(){this.off(o,h),e.apply(this,arguments)}return h.fn=e,this.on(o,h),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(o,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var h=this._callbacks["$"+o];if(!h)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var d,g=0;g<h.length;g++)if(d=h[g],d===e||d.fn===e){h.splice(g,1);break}return h.length===0&&delete this._callbacks["$"+o],this};Emitter.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),h=this._callbacks["$"+o],d=1;d<arguments.length;d++)e[d-1]=arguments[d];if(h){h=h.slice(0);for(var d=0,g=h.length;d<g;++d)h[d].apply(this,e)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]};Emitter.prototype.hasListeners=function(o){return!!this.listeners(o).length};const globalThisShim=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function pick(o,...e){return e.reduce((h,d)=>(o.hasOwnProperty(d)&&(h[d]=o[d]),h),{})}const NATIVE_SET_TIMEOUT=setTimeout,NATIVE_CLEAR_TIMEOUT=clearTimeout;function installTimerFunctions(o,e){e.useNativeTimers?(o.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),o.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(o.setTimeoutFn=setTimeout.bind(globalThisShim),o.clearTimeoutFn=clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(o){return typeof o=="string"?utf8Length(o):Math.ceil((o.byteLength||o.size)*BASE64_OVERHEAD)}function utf8Length(o){let e=0,h=0;for(let d=0,g=o.length;d<g;d++)e=o.charCodeAt(d),e<128?h+=1:e<2048?h+=2:e<55296||e>=57344?h+=3:(d++,h+=4);return h}class TransportError extends Error{constructor(e,h,d){super(e);this.description=h,this.context=d,this.type="TransportError"}}class Transport extends Emitter{constructor(e){super();this.writable=!1,installTimerFunctions(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,h,d){return super.emitReserved("error",new TransportError(e,h,d)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const h=decodePacket(e,this.socket.binaryType);this.onPacket(h)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i$1=0,prev;function encode$1(o){let e="";do e=alphabet[o%length]+e,o=Math.floor(o/length);while(o>0);return e}function yeast(){const o=encode$1(+new Date);return o!==prev?(seed=0,prev=o):o+"."+encode$1(seed++)}for(;i$1<length;i$1++)map[alphabet[i$1]]=i$1;function encode(o){let e="";for(let h in o)o.hasOwnProperty(h)&&(e.length&&(e+="&"),e+=encodeURIComponent(h)+"="+encodeURIComponent(o[h]));return e}function decode(o){let e={},h=o.split("&");for(let d=0,g=h.length;d<g;d++){let _=h[d].split("=");e[decodeURIComponent(_[0])]=decodeURIComponent(_[1])}return e}let value=!1;try{value=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(o){}const hasCORS=value;function XHR(o){const e=o.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(e){super(e);if(this.polling=!1,typeof location!="undefined"){const d=location.protocol==="https:";let g=location.port;g||(g=d?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||g!==e.port,this.xs=e.secure!==d}const h=e&&e.forceBase64;this.supportsBinary=hasXHR2&&!h}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const h=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let d=0;this.polling&&(d++,this.once("pollComplete",function(){--d||h()})),this.writable||(d++,this.once("drain",function(){--d||h()}))}else h()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const h=d=>{if(this.readyState==="opening"&&d.type==="open"&&this.onOpen(),d.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(d)};decodePayload(e,this.socket.binaryType).forEach(h),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,encodePayload(e,h=>{this.doWrite(h,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const h=this.opts.secure?"https":"http";let d="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(h==="https"&&Number(this.opts.port)!==443||h==="http"&&Number(this.opts.port)!==80)&&(d=":"+this.opts.port);const g=encode(e),_=this.opts.hostname.indexOf(":")!==-1;return h+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+d+this.opts.path+(g.length?"?"+g:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Request$1(this.uri(),e)}doWrite(e,h){const d=this.request({method:"POST",data:e});d.on("success",h),d.on("error",(g,_)=>{this.onError("xhr post error",g,_)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(h,d)=>{this.onError("xhr poll error",h,d)}),this.pollXhr=e}}class Request$1 extends Emitter{constructor(e,h){super();installTimerFunctions(this,h),this.opts=h,this.method=h.method||"GET",this.uri=e,this.async=h.async!==!1,this.data=h.data!==void 0?h.data:null,this.create()}create(){const e=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const h=this.xhr=new XHR(e);try{h.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){h.setDisableHeaderCheck&&h.setDisableHeaderCheck(!0);for(let d in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(d)&&h.setRequestHeader(d,this.opts.extraHeaders[d])}}catch{}if(this.method==="POST")try{h.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{h.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in h&&(h.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(h.timeout=this.opts.requestTimeout),h.onreadystatechange=()=>{h.readyState===4&&(h.status===200||h.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof h.status=="number"?h.status:0)},0))},h.send(this.data)}catch(d){this.setTimeoutFn(()=>{this.onError(d)},0);return}typeof document!="undefined"&&(this.index=Request$1.requestsCount++,Request$1.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Request$1.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Request$1.requestsCount=0;Request$1.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const o="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(o,unloadHandler,!1)}}function unloadHandler(){for(let o in Request$1.requests)Request$1.requests.hasOwnProperty(o)&&Request$1.requests[o].abort()}const nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,h)=>h(e,0))(),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),h=this.opts.protocols,d=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(d.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?h?new WebSocket(e,h):new WebSocket(e):new WebSocket(e,h,d)}catch(g){return this.emitReserved("error",g)}this.ws.binaryType=this.socket.binaryType||defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let h=0;h<e.length;h++){const d=e[h],g=h===e.length-1;encodePacket(d,this.supportsBinary,_=>{const b={};try{usingBrowserWebSocket&&this.ws.send(_)}catch{}g&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const h=this.opts.secure?"wss":"ws";let d="";this.opts.port&&(h==="wss"&&Number(this.opts.port)!==443||h==="ws"&&Number(this.opts.port)!==80)&&(d=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=yeast()),this.supportsBinary||(e.b64=1);const g=encode(e),_=this.opts.hostname.indexOf(":")!==-1;return h+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+d+this.opts.path+(g.length?"?"+g:"")}check(){return!!WebSocket}}const transports={websocket:WS,polling:Polling},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(o){const e=o,h=o.indexOf("["),d=o.indexOf("]");h!=-1&&d!=-1&&(o=o.substring(0,h)+o.substring(h,d).replace(/:/g,";")+o.substring(d,o.length));let g=re.exec(o||""),_={},b=14;for(;b--;)_[parts[b]]=g[b]||"";return h!=-1&&d!=-1&&(_.source=e,_.host=_.host.substring(1,_.host.length-1).replace(/;/g,":"),_.authority=_.authority.replace("[","").replace("]","").replace(/;/g,":"),_.ipv6uri=!0),_.pathNames=pathNames(_,_.path),_.queryKey=queryKey(_,_.query),_}function pathNames(o,e){const h=/\/{2,9}/g,d=e.replace(h,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&d.splice(0,1),e.slice(-1)=="/"&&d.splice(d.length-1,1),d}function queryKey(o,e){const h={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,g,_){g&&(h[g]=_)}),h}class Socket$1 extends Emitter{constructor(e,h={}){super();e&&typeof e=="object"&&(h=e,e=null),e?(e=parse(e),h.hostname=e.host,h.secure=e.protocol==="https"||e.protocol==="wss",h.port=e.port,e.query&&(h.query=e.query)):h.host&&(h.hostname=parse(h.host).host),installTimerFunctions(this,h),this.secure=h.secure!=null?h.secure:typeof location!="undefined"&&location.protocol==="https:",h.hostname&&!h.port&&(h.port=this.secure?"443":"80"),this.hostname=h.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=h.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=h.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},h),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const h=Object.assign({},this.opts.query);h.EIO=protocol$1,h.transport=e,this.id&&(h.sid=this.id);const d=Object.assign({},this.opts.transportOptions[e],this.opts,{query:h,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new transports[e](d)}open(){let e;if(this.opts.rememberUpgrade&&Socket$1.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",h=>this.onClose("transport close",h))}probe(e){let h=this.createTransport(e),d=!1;Socket$1.priorWebsocketSuccess=!1;const g=()=>{d||(h.send([{type:"ping",data:"probe"}]),h.once("packet",rt=>{if(!d)if(rt.type==="pong"&&rt.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",h),!h)return;Socket$1.priorWebsocketSuccess=h.name==="websocket",this.transport.pause(()=>{d||this.readyState!=="closed"&&(et(),this.setTransport(h),h.send([{type:"upgrade"}]),this.emitReserved("upgrade",h),h=null,this.upgrading=!1,this.flush())})}else{const tt=new Error("probe error");tt.transport=h.name,this.emitReserved("upgradeError",tt)}}))};function _(){d||(d=!0,et(),h.close(),h=null)}const b=rt=>{const tt=new Error("probe error: "+rt);tt.transport=h.name,_(),this.emitReserved("upgradeError",tt)};function $(){b("transport closed")}function j(){b("socket closed")}function _e(rt){h&&rt.name!==h.name&&_()}const et=()=>{h.removeListener("open",g),h.removeListener("error",b),h.removeListener("close",$),this.off("close",j),this.off("upgrading",_e)};h.once("open",g),h.once("error",b),h.once("close",$),this.once("close",j),this.once("upgrading",_e),h.open()}onOpen(){if(this.readyState="open",Socket$1.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const h=this.upgrades.length;for(;e<h;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const h=new Error("server error");h.code=e.data,this.onError(h);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let h=1;for(let d=0;d<this.writeBuffer.length;d++){const g=this.writeBuffer[d].data;if(g&&(h+=byteLength(g)),d>0&&h>this.maxPayload)return this.writeBuffer.slice(0,d);h+=2}return this.writeBuffer}write(e,h,d){return this.sendPacket("message",e,h,d),this}send(e,h,d){return this.sendPacket("message",e,h,d),this}sendPacket(e,h,d,g){if(typeof h=="function"&&(g=h,h=void 0),typeof d=="function"&&(g=d,d=null),this.readyState==="closing"||this.readyState==="closed")return;d=d||{},d.compress=d.compress!==!1;const _={type:e,data:h,options:d};this.emitReserved("packetCreate",_),this.writeBuffer.push(_),g&&this.once("flush",g),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},h=()=>{this.off("upgrade",h),this.off("upgradeError",h),e()},d=()=>{this.once("upgrade",h),this.once("upgradeError",h)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?d():e()}):this.upgrading?d():e()),this}onError(e){Socket$1.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,h){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,h),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const h=[];let d=0;const g=e.length;for(;d<g;d++)~this.transports.indexOf(e[d])&&h.push(e[d]);return h}}Socket$1.protocol=protocol$1;function url(o,e="",h){let d=o;h=h||typeof location!="undefined"&&location,o==null&&(o=h.protocol+"//"+h.host),typeof o=="string"&&(o.charAt(0)==="/"&&(o.charAt(1)==="/"?o=h.protocol+o:o=h.host+o),/^(https?|wss?):\/\//.test(o)||(typeof h!="undefined"?o=h.protocol+"//"+o:o="https://"+o),d=parse(o)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";const _=d.host.indexOf(":")!==-1?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+_+":"+d.port+e,d.href=d.protocol+"://"+_+(h&&h.port===d.port?"":":"+d.port),d}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,toString$1=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob!="undefined"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File!="undefined"&&toString$1.call(File)==="[object FileConstructor]";function isBinary(o){return withNativeArrayBuffer&&(o instanceof ArrayBuffer||isView(o))||withNativeBlob&&o instanceof Blob||withNativeFile&&o instanceof File}function hasBinary(o,e){if(!o||typeof o!="object")return!1;if(Array.isArray(o)){for(let h=0,d=o.length;h<d;h++)if(hasBinary(o[h]))return!0;return!1}if(isBinary(o))return!0;if(o.toJSON&&typeof o.toJSON=="function"&&arguments.length===1)return hasBinary(o.toJSON(),!0);for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)&&hasBinary(o[h]))return!0;return!1}function deconstructPacket(o){const e=[],h=o.data,d=o;return d.data=_deconstructPacket(h,e),d.attachments=e.length,{packet:d,buffers:e}}function _deconstructPacket(o,e){if(!o)return o;if(isBinary(o)){const h={_placeholder:!0,num:e.length};return e.push(o),h}else if(Array.isArray(o)){const h=new Array(o.length);for(let d=0;d<o.length;d++)h[d]=_deconstructPacket(o[d],e);return h}else if(typeof o=="object"&&!(o instanceof Date)){const h={};for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&(h[d]=_deconstructPacket(o[d],e));return h}return o}function reconstructPacket(o,e){return o.data=_reconstructPacket(o.data,e),delete o.attachments,o}function _reconstructPacket(o,e){if(!o)return o;if(o&&o._placeholder===!0){if(typeof o.num=="number"&&o.num>=0&&o.num<e.length)return e[o.num];throw new Error("illegal attachments")}else if(Array.isArray(o))for(let h=0;h<o.length;h++)o[h]=_reconstructPacket(o[h],e);else if(typeof o=="object")for(const h in o)Object.prototype.hasOwnProperty.call(o,h)&&(o[h]=_reconstructPacket(o[h],e));return o}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(o){o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(e){this.replacer=e}encode(e){return(e.type===PacketType.EVENT||e.type===PacketType.ACK)&&hasBinary(e)?this.encodeAsBinary({type:e.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let h=""+e.type;return(e.type===PacketType.BINARY_EVENT||e.type===PacketType.BINARY_ACK)&&(h+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(h+=e.nsp+","),e.id!=null&&(h+=e.id),e.data!=null&&(h+=JSON.stringify(e.data,this.replacer)),h}encodeAsBinary(e){const h=deconstructPacket(e),d=this.encodeAsString(h.packet),g=h.buffers;return g.unshift(d),g}}function isObject(o){return Object.prototype.toString.call(o)==="[object Object]"}class Decoder extends Emitter{constructor(e){super();this.reviver=e}add(e){let h;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");h=this.decodeString(e);const d=h.type===PacketType.BINARY_EVENT;d||h.type===PacketType.BINARY_ACK?(h.type=d?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(h),h.attachments===0&&super.emitReserved("decoded",h)):super.emitReserved("decoded",h)}else if(isBinary(e)||e.base64)if(this.reconstructor)h=this.reconstructor.takeBinaryData(e),h&&(this.reconstructor=null,super.emitReserved("decoded",h));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let h=0;const d={type:Number(e.charAt(0))};if(PacketType[d.type]===void 0)throw new Error("unknown packet type "+d.type);if(d.type===PacketType.BINARY_EVENT||d.type===PacketType.BINARY_ACK){const _=h+1;for(;e.charAt(++h)!=="-"&&h!=e.length;);const b=e.substring(_,h);if(b!=Number(b)||e.charAt(h)!=="-")throw new Error("Illegal attachments");d.attachments=Number(b)}if(e.charAt(h+1)==="/"){const _=h+1;for(;++h&&!(e.charAt(h)===","||h===e.length););d.nsp=e.substring(_,h)}else d.nsp="/";const g=e.charAt(h+1);if(g!==""&&Number(g)==g){const _=h+1;for(;++h;){const b=e.charAt(h);if(b==null||Number(b)!=b){--h;break}if(h===e.length)break}d.id=Number(e.substring(_,h+1))}if(e.charAt(++h)){const _=this.tryParse(e.substr(h));if(Decoder.isPayloadValid(d.type,_))d.data=_;else throw new Error("invalid payload")}return d}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,h){switch(e){case PacketType.CONNECT:return isObject(h);case PacketType.DISCONNECT:return h===void 0;case PacketType.CONNECT_ERROR:return typeof h=="string"||isObject(h);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(h)&&(typeof h[0]=="number"||typeof h[0]=="string"&&RESERVED_EVENTS$1.indexOf(h[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(h)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const h=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),h}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var parser=Object.freeze(Object.defineProperty({__proto__:null,protocol,get PacketType(){return PacketType},Encoder,Decoder},Symbol.toStringTag,{value:"Module"}));function on(o,e,h){return o.on(e,h),function(){o.off(e,h)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(e,h,d){super();this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=h,d&&d.auth&&(this.auth=d.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[on(e,"open",this.onopen.bind(this)),on(e,"packet",this.onpacket.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...h){if(RESERVED_EVENTS.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');h.unshift(e);const d={type:PacketType.EVENT,data:h};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof h[h.length-1]=="function"){const b=this.ids++,$=h.pop();this._registerAckCallback(b,$),d.id=b}const g=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!g||!this.connected)||(this.connected?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(e,h){const d=this.flags.timeout;if(d===void 0){this.acks[e]=h;return}const g=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let _=0;_<this.sendBuffer.length;_++)this.sendBuffer[_].id===e&&this.sendBuffer.splice(_,1);h.call(this,new Error("operation has timed out"))},d);this.acks[e]=(..._)=>{this.io.clearTimeoutFn(g),h.apply(this,[null,..._])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:PacketType.CONNECT,data:e})}):this.packet({type:PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,h){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,h)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case PacketType.CONNECT:if(e.data&&e.data.sid){const g=e.data.sid;this.onconnect(g)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(e);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(e);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const d=new Error(e.data.message);d.data=e.data.data,this.emitReserved("connect_error",d);break}}onevent(e){const h=e.data||[];e.id!=null&&h.push(this.ack(e.id)),this.connected?this.emitEvent(h):this.receiveBuffer.push(Object.freeze(h))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const h=this._anyListeners.slice();for(const d of h)d.apply(this,e)}super.emit.apply(this,e)}ack(e){const h=this;let d=!1;return function(...g){d||(d=!0,h.packet({type:PacketType.ACK,id:e,data:g}))}}onack(e){const h=this.acks[e.id];typeof h=="function"&&(h.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const h=this._anyListeners;for(let d=0;d<h.length;d++)if(e===h[d])return h.splice(d,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const h=this._anyOutgoingListeners;for(let d=0;d<h.length;d++)if(e===h[d])return h.splice(d,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const h=this._anyOutgoingListeners.slice();for(const d of h)d.apply(this,e.data)}}}function Backoff(o){o=o||{},this.ms=o.min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),h=Math.floor(e*this.jitter*o);o=(Math.floor(e*10)&1)==0?o-h:o+h}return Math.min(o,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(o){this.ms=o};Backoff.prototype.setMax=function(o){this.max=o};Backoff.prototype.setJitter=function(o){this.jitter=o};class Manager extends Emitter{constructor(e,h){var d;super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(h=e,e=void 0),h=h||{},h.path=h.path||"/socket.io",this.opts=h,installTimerFunctions(this,h),this.reconnection(h.reconnection!==!1),this.reconnectionAttempts(h.reconnectionAttempts||1/0),this.reconnectionDelay(h.reconnectionDelay||1e3),this.reconnectionDelayMax(h.reconnectionDelayMax||5e3),this.randomizationFactor((d=h.randomizationFactor)!==null&&d!==void 0?d:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(h.timeout==null?2e4:h.timeout),this._readyState="closed",this.uri=e;const g=h.parser||parser;this.encoder=new g.Encoder,this.decoder=new g.Decoder,this._autoConnect=h.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var h;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(h=this.backoff)===null||h===void 0||h.setMin(e),this)}randomizationFactor(e){var h;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(h=this.backoff)===null||h===void 0||h.setJitter(e),this)}reconnectionDelayMax(e){var h;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(h=this.backoff)===null||h===void 0||h.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const h=this.engine,d=this;this._readyState="opening",this.skipReconnect=!1;const g=on(h,"open",function(){d.onopen(),e&&e()}),_=on(h,"error",b=>{d.cleanup(),d._readyState="closed",this.emitReserved("error",b),e?e(b):d.maybeReconnectOnOpen()});if(this._timeout!==!1){const b=this._timeout;b===0&&g();const $=this.setTimeoutFn(()=>{g(),h.close(),h.emit("error",new Error("timeout"))},b);this.opts.autoUnref&&$.unref(),this.subs.push(function(){clearTimeout($)})}return this.subs.push(g),this.subs.push(_),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(on(e,"ping",this.onping.bind(this)),on(e,"data",this.ondata.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,h){let d=this.nsps[e];return d||(d=new Socket(this,e,h),this.nsps[e]=d),d}_destroy(e){const h=Object.keys(this.nsps);for(const d of h)if(this.nsps[d].active)return;this._close()}_packet(e){const h=this.encoder.encode(e);for(let d=0;d<h.length;d++)this.engine.write(h[d],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,h){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,h),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const h=this.backoff.duration();this._reconnecting=!0;const d=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(g=>{g?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",g)):e.onreconnect()}))},h);this.opts.autoUnref&&d.unref(),this.subs.push(function(){clearTimeout(d)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const cache={};function lookup(o,e){typeof o=="object"&&(e=o,o=void 0),e=e||{};const h=url(o,e.path||"/socket.io"),d=h.source,g=h.id,_=h.path,b=cache[g]&&_ in cache[g].nsps,$=e.forceNew||e["force new connection"]||e.multiplex===!1||b;let j;return $?j=new Manager(d,e):(cache[g]||(cache[g]=new Manager(d,e)),j=cache[g]),h.query&&!e.query&&(e.query=h.queryKey),j.socket(h.path,e)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});let nanoid=(o=21)=>crypto.getRandomValues(new Uint8Array(o)).reduce((e,h)=>(h&=63,h<36?e+=h.toString(36):h<62?e+=(h-26).toString(36).toUpperCase():h>62?e+="-":e+="_",e),"");var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(o){return typeof o=="string"&&REGEX.test(o)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=(byteToHex[o[e+0]]+byteToHex[o[e+1]]+byteToHex[o[e+2]]+byteToHex[o[e+3]]+"-"+byteToHex[o[e+4]]+byteToHex[o[e+5]]+"-"+byteToHex[o[e+6]]+byteToHex[o[e+7]]+"-"+byteToHex[o[e+8]]+byteToHex[o[e+9]]+"-"+byteToHex[o[e+10]]+byteToHex[o[e+11]]+byteToHex[o[e+12]]+byteToHex[o[e+13]]+byteToHex[o[e+14]]+byteToHex[o[e+15]]).toLowerCase();if(!validate(h))throw TypeError("Stringified UUID is invalid");return h}function v4(o,e,h){o=o||{};var d=o.random||(o.rng||rng)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,e){h=h||0;for(var g=0;g<16;++g)e[h+g]=d[g];return e}return stringify(d)}var Easing={Linear:{None:function(o){return o}},Quadratic:{In:function(o){return o*o},Out:function(o){return o*(2-o)},InOut:function(o){return(o*=2)<1?.5*o*o:-.5*(--o*(o-2)-1)}},Cubic:{In:function(o){return o*o*o},Out:function(o){return--o*o*o+1},InOut:function(o){return(o*=2)<1?.5*o*o*o:.5*((o-=2)*o*o+2)}},Quartic:{In:function(o){return o*o*o*o},Out:function(o){return 1- --o*o*o*o},InOut:function(o){return(o*=2)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2)}},Quintic:{In:function(o){return o*o*o*o*o},Out:function(o){return--o*o*o*o*o+1},InOut:function(o){return(o*=2)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2)}},Sinusoidal:{In:function(o){return 1-Math.cos(o*Math.PI/2)},Out:function(o){return Math.sin(o*Math.PI/2)},InOut:function(o){return .5*(1-Math.cos(Math.PI*o))}},Exponential:{In:function(o){return o===0?0:Math.pow(1024,o-1)},Out:function(o){return o===1?1:1-Math.pow(2,-10*o)},InOut:function(o){return o===0?0:o===1?1:(o*=2)<1?.5*Math.pow(1024,o-1):.5*(-Math.pow(2,-10*(o-1))+2)}},Circular:{In:function(o){return 1-Math.sqrt(1-o*o)},Out:function(o){return Math.sqrt(1- --o*o)},InOut:function(o){return(o*=2)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1)}},Elastic:{In:function(o){return o===0?0:o===1?1:-Math.pow(2,10*(o-1))*Math.sin((o-1.1)*5*Math.PI)},Out:function(o){return o===0?0:o===1?1:Math.pow(2,-10*o)*Math.sin((o-.1)*5*Math.PI)+1},InOut:function(o){return o===0?0:o===1?1:(o*=2,o<1?-.5*Math.pow(2,10*(o-1))*Math.sin((o-1.1)*5*Math.PI):.5*Math.pow(2,-10*(o-1))*Math.sin((o-1.1)*5*Math.PI)+1)}},Back:{In:function(o){var e=1.70158;return o*o*((e+1)*o-e)},Out:function(o){var e=1.70158;return--o*o*((e+1)*o+e)+1},InOut:function(o){var e=1.70158*1.525;return(o*=2)<1?.5*(o*o*((e+1)*o-e)):.5*((o-=2)*o*((e+1)*o+e)+2)}},Bounce:{In:function(o){return 1-Easing.Bounce.Out(1-o)},Out:function(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},InOut:function(o){return o<.5?Easing.Bounce.In(o*2)*.5:Easing.Bounce.Out(o*2-1)*.5+.5}}},now$1;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?now$1=function(){var o=process.hrtime();return o[0]*1e3+o[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?now$1=self.performance.now.bind(self.performance):Date.now!==void 0?now$1=Date.now:now$1=function(){return new Date().getTime()};var now$1$1=now$1,Group$1=function(){function o(){this._tweens={},this._tweensAddedDuringUpdate={}}return o.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(h){return e._tweens[h]})},o.prototype.removeAll=function(){this._tweens={}},o.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},o.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},o.prototype.update=function(e,h){e===void 0&&(e=now$1$1()),h===void 0&&(h=!1);var d=Object.keys(this._tweens);if(d.length===0)return!1;for(;d.length>0;){this._tweensAddedDuringUpdate={};for(var g=0;g<d.length;g++){var _=this._tweens[d[g]],b=!h;_&&_.update(e,b)===!1&&!h&&delete this._tweens[d[g]]}d=Object.keys(this._tweensAddedDuringUpdate)}return!0},o}(),Interpolation={Linear:function(o,e){var h=o.length-1,d=h*e,g=Math.floor(d),_=Interpolation.Utils.Linear;return e<0?_(o[0],o[1],d):e>1?_(o[h],o[h-1],h-d):_(o[g],o[g+1>h?h:g+1],d-g)},Bezier:function(o,e){for(var h=0,d=o.length-1,g=Math.pow,_=Interpolation.Utils.Bernstein,b=0;b<=d;b++)h+=g(1-e,d-b)*g(e,b)*o[b]*_(d,b);return h},CatmullRom:function(o,e){var h=o.length-1,d=h*e,g=Math.floor(d),_=Interpolation.Utils.CatmullRom;return o[0]===o[h]?(e<0&&(g=Math.floor(d=h*(1+e))),_(o[(g-1+h)%h],o[g],o[(g+1)%h],o[(g+2)%h],d-g)):e<0?o[0]-(_(o[0],o[0],o[1],o[1],-d)-o[0]):e>1?o[h]-(_(o[h],o[h],o[h-1],o[h-1],d-h)-o[h]):_(o[g?g-1:0],o[g],o[h<g+1?h:g+1],o[h<g+2?h:g+2],d-g)},Utils:{Linear:function(o,e,h){return(e-o)*h+o},Bernstein:function(o,e){var h=Interpolation.Utils.Factorial;return h(o)/h(e)/h(o-e)},Factorial:function(){var o=[1];return function(e){var h=1;if(o[e])return o[e];for(var d=e;d>1;d--)h*=d;return o[e]=h,h}}(),CatmullRom:function(o,e,h,d,g){var _=(h-o)*.5,b=(d-e)*.5,$=g*g,j=g*$;return(2*e-2*h+_+b)*j+(-3*e+3*h-2*_-b)*$+_*g+e}}},Sequence=function(){function o(){}return o.nextId=function(){return o._nextId++},o._nextId=0,o}(),mainGroup=new Group$1,Tween=function(){function o(e,h){h===void 0&&(h=mainGroup),this._object=e,this._group=h,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Easing.Linear.None,this._interpolationFunction=Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Sequence.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return o.prototype.getId=function(){return this._id},o.prototype.isPlaying=function(){return this._isPlaying},o.prototype.isPaused=function(){return this._isPaused},o.prototype.to=function(e,h){return this._valuesEnd=Object.create(e),h!==void 0&&(this._duration=h),this},o.prototype.duration=function(e){return this._duration=e,this},o.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var h in this._valuesStartRepeat)this._swapEndStartRepeatValues(h),this._valuesStart[h]=this._valuesStartRepeat[h]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?now$1$1()+parseFloat(e):e:now$1$1(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},o.prototype._setupProperties=function(e,h,d,g){for(var _ in d){var b=e[_],$=Array.isArray(b),j=$?"array":typeof b,_e=!$&&Array.isArray(d[_]);if(!(j==="undefined"||j==="function")){if(_e){var et=d[_];if(et.length===0)continue;et=et.map(this._handleRelativeValue.bind(this,b)),d[_]=[b].concat(et)}if((j==="object"||$)&&b&&!_e){h[_]=$?[]:{};for(var rt in b)h[_][rt]=b[rt];g[_]=$?[]:{},this._setupProperties(b,h[_],d[_],g[_])}else typeof h[_]=="undefined"&&(h[_]=b),$||(h[_]*=1),_e?g[_]=d[_].slice().reverse():g[_]=h[_]||0}}},o.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},o.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},o.prototype.pause=function(e){return e===void 0&&(e=now$1$1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},o.prototype.resume=function(e){return e===void 0&&(e=now$1$1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},o.prototype.stopChainedTweens=function(){for(var e=0,h=this._chainedTweens.length;e<h;e++)this._chainedTweens[e].stop();return this},o.prototype.group=function(e){return this._group=e,this},o.prototype.delay=function(e){return this._delayTime=e,this},o.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},o.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},o.prototype.yoyo=function(e){return this._yoyo=e,this},o.prototype.easing=function(e){return this._easingFunction=e,this},o.prototype.interpolation=function(e){return this._interpolationFunction=e,this},o.prototype.chain=function(){for(var e=[],h=0;h<arguments.length;h++)e[h]=arguments[h];return this._chainedTweens=e,this},o.prototype.onStart=function(e){return this._onStartCallback=e,this},o.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},o.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},o.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},o.prototype.onStop=function(e){return this._onStopCallback=e,this},o.prototype.update=function(e,h){if(e===void 0&&(e=now$1$1()),h===void 0&&(h=!0),this._isPaused)return!0;var d,g,_=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>_)return!1;h&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),g=(e-this._startTime)/this._duration,g=this._duration===0||g>1?1:g;var b=this._easingFunction(g);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,b),this._onUpdateCallback&&this._onUpdateCallback(this._object,g),g===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(d in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[d]=="string"&&(this._valuesStartRepeat[d]=this._valuesStartRepeat[d]+parseFloat(this._valuesEnd[d])),this._yoyo&&this._swapEndStartRepeatValues(d),this._valuesStart[d]=this._valuesStartRepeat[d];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var $=0,j=this._chainedTweens.length;$<j;$++)this._chainedTweens[$].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},o.prototype._updateProperties=function(e,h,d,g){for(var _ in d)if(h[_]!==void 0){var b=h[_]||0,$=d[_],j=Array.isArray(e[_]),_e=Array.isArray($),et=!j&&_e;et?e[_]=this._interpolationFunction($,g):typeof $=="object"&&$?this._updateProperties(e[_],b,$,g):($=this._handleRelativeValue(b,$),typeof $=="number"&&(e[_]=b+($-b)*g))}},o.prototype._handleRelativeValue=function(e,h){return typeof h!="string"?h:h.charAt(0)==="+"||h.charAt(0)==="-"?e+parseFloat(h):parseFloat(h)},o.prototype._swapEndStartRepeatValues=function(e){var h=this._valuesStartRepeat[e],d=this._valuesEnd[e];typeof d=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(d):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=h},o}(),VERSION="18.6.4",nextId=Sequence.nextId,TWEEN=mainGroup,getAll=TWEEN.getAll.bind(TWEEN),removeAll=TWEEN.removeAll.bind(TWEEN),add=TWEEN.add.bind(TWEEN),remove=TWEEN.remove.bind(TWEEN),update=TWEEN.update.bind(TWEEN),exports={Easing,Group:Group$1,Interpolation,now:now$1$1,Sequence,nextId,Tween,VERSION,getAll,removeAll,add,remove,update};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="138",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,KeepStencilOp=7680,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(e,h){this._listeners===void 0&&(this._listeners={});const d=this._listeners;d[e]===void 0&&(d[e]=[]),d[e].indexOf(h)===-1&&d[e].push(h)}hasEventListener(e,h){if(this._listeners===void 0)return!1;const d=this._listeners;return d[e]!==void 0&&d[e].indexOf(h)!==-1}removeEventListener(e,h){if(this._listeners===void 0)return;const g=this._listeners[e];if(g!==void 0){const _=g.indexOf(h);_!==-1&&g.splice(_,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const d=this._listeners[e.type];if(d!==void 0){e.target=this;const g=d.slice(0);for(let _=0,b=g.length;_<b;_++)g[_].call(this,e);e.target=null}}}const _lut=[];for(let o=0;o<256;o++)_lut[o]=(o<16?"0":"")+o.toString(16);const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const o=Math.random()*4294967295|0,e=Math.random()*4294967295|0,h=Math.random()*4294967295|0,d=Math.random()*4294967295|0;return(_lut[o&255]+_lut[o>>8&255]+_lut[o>>16&255]+_lut[o>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[h&63|128]+_lut[h>>8&255]+"-"+_lut[h>>16&255]+_lut[h>>24&255]+_lut[d&255]+_lut[d>>8&255]+_lut[d>>16&255]+_lut[d>>24&255]).toUpperCase()}function clamp(o,e,h){return Math.max(e,Math.min(h,o))}function euclideanModulo(o,e){return(o%e+e)%e}function lerp(o,e,h){return(1-h)*o+h*e}function isPowerOfTwo(o){return(o&o-1)==0&&o!==0}function floorPowerOfTwo(o){return Math.pow(2,Math.floor(Math.log(o)/Math.LN2))}class Vector2{constructor(e=0,h=0){this.x=e,this.y=h}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,h){return this.x=e,this.y=h,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,h){switch(e){case 0:this.x=h;break;case 1:this.y=h;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,h){return h!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,h)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,h){return this.x=e.x+h.x,this.y=e.y+h.y,this}addScaledVector(e,h){return this.x+=e.x*h,this.y+=e.y*h,this}sub(e,h){return h!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,h)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,h){return this.x=e.x-h.x,this.y=e.y-h.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const h=this.x,d=this.y,g=e.elements;return this.x=g[0]*h+g[3]*d+g[6],this.y=g[1]*h+g[4]*d+g[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,h){return this.x=Math.max(e.x,Math.min(h.x,this.x)),this.y=Math.max(e.y,Math.min(h.y,this.y)),this}clampScalar(e,h){return this.x=Math.max(e,Math.min(h,this.x)),this.y=Math.max(e,Math.min(h,this.y)),this}clampLength(e,h){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(e,Math.min(h,d)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const h=this.x-e.x,d=this.y-e.y;return h*h+d*d}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,h){return this.x+=(e.x-this.x)*h,this.y+=(e.y-this.y)*h,this}lerpVectors(e,h,d){return this.x=e.x+(h.x-e.x)*d,this.y=e.y+(h.y-e.y)*d,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,h=0){return this.x=e[h],this.y=e[h+1],this}toArray(e=[],h=0){return e[h]=this.x,e[h+1]=this.y,e}fromBufferAttribute(e,h,d){return d!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(h),this.y=e.getY(h),this}rotateAround(e,h){const d=Math.cos(h),g=Math.sin(h),_=this.x-e.x,b=this.y-e.y;return this.x=_*d-b*g+e.x,this.y=_*g+b*d+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Vector2.prototype.isVector2=!0;class Matrix3{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,h,d,g,_,b,$,j,_e){const et=this.elements;return et[0]=e,et[1]=g,et[2]=$,et[3]=h,et[4]=_,et[5]=j,et[6]=d,et[7]=b,et[8]=_e,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const h=this.elements,d=e.elements;return h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],this}extractBasis(e,h,d){return e.setFromMatrix3Column(this,0),h.setFromMatrix3Column(this,1),d.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const h=e.elements;return this.set(h[0],h[4],h[8],h[1],h[5],h[9],h[2],h[6],h[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,h){const d=e.elements,g=h.elements,_=this.elements,b=d[0],$=d[3],j=d[6],_e=d[1],et=d[4],rt=d[7],tt=d[2],nt=d[5],st=d[8],at=g[0],ct=g[3],it=g[6],lt=g[1],ht=g[4],ut=g[7],dt=g[2],pt=g[5],mt=g[8];return _[0]=b*at+$*lt+j*dt,_[3]=b*ct+$*ht+j*pt,_[6]=b*it+$*ut+j*mt,_[1]=_e*at+et*lt+rt*dt,_[4]=_e*ct+et*ht+rt*pt,_[7]=_e*it+et*ut+rt*mt,_[2]=tt*at+nt*lt+st*dt,_[5]=tt*ct+nt*ht+st*pt,_[8]=tt*it+nt*ut+st*mt,this}multiplyScalar(e){const h=this.elements;return h[0]*=e,h[3]*=e,h[6]*=e,h[1]*=e,h[4]*=e,h[7]*=e,h[2]*=e,h[5]*=e,h[8]*=e,this}determinant(){const e=this.elements,h=e[0],d=e[1],g=e[2],_=e[3],b=e[4],$=e[5],j=e[6],_e=e[7],et=e[8];return h*b*et-h*$*_e-d*_*et+d*$*j+g*_*_e-g*b*j}invert(){const e=this.elements,h=e[0],d=e[1],g=e[2],_=e[3],b=e[4],$=e[5],j=e[6],_e=e[7],et=e[8],rt=et*b-$*_e,tt=$*j-et*_,nt=_e*_-b*j,st=h*rt+d*tt+g*nt;if(st===0)return this.set(0,0,0,0,0,0,0,0,0);const at=1/st;return e[0]=rt*at,e[1]=(g*_e-et*d)*at,e[2]=($*d-g*b)*at,e[3]=tt*at,e[4]=(et*h-g*j)*at,e[5]=(g*_-$*h)*at,e[6]=nt*at,e[7]=(d*j-_e*h)*at,e[8]=(b*h-d*_)*at,this}transpose(){let e;const h=this.elements;return e=h[1],h[1]=h[3],h[3]=e,e=h[2],h[2]=h[6],h[6]=e,e=h[5],h[5]=h[7],h[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const h=this.elements;return e[0]=h[0],e[1]=h[3],e[2]=h[6],e[3]=h[1],e[4]=h[4],e[5]=h[7],e[6]=h[2],e[7]=h[5],e[8]=h[8],this}setUvTransform(e,h,d,g,_,b,$){const j=Math.cos(_),_e=Math.sin(_);return this.set(d*j,d*_e,-d*(j*b+_e*$)+b+e,-g*_e,g*j,-g*(-_e*b+j*$)+$+h,0,0,1),this}scale(e,h){const d=this.elements;return d[0]*=e,d[3]*=e,d[6]*=e,d[1]*=h,d[4]*=h,d[7]*=h,this}rotate(e){const h=Math.cos(e),d=Math.sin(e),g=this.elements,_=g[0],b=g[3],$=g[6],j=g[1],_e=g[4],et=g[7];return g[0]=h*_+d*j,g[3]=h*b+d*_e,g[6]=h*$+d*et,g[1]=-d*_+h*j,g[4]=-d*b+h*_e,g[7]=-d*$+h*et,this}translate(e,h){const d=this.elements;return d[0]+=e*d[2],d[3]+=e*d[5],d[6]+=e*d[8],d[1]+=h*d[2],d[4]+=h*d[5],d[7]+=h*d[8],this}equals(e){const h=this.elements,d=e.elements;for(let g=0;g<9;g++)if(h[g]!==d[g])return!1;return!0}fromArray(e,h=0){for(let d=0;d<9;d++)this.elements[d]=e[d+h];return this}toArray(e=[],h=0){const d=this.elements;return e[h]=d[0],e[h+1]=d[1],e[h+2]=d[2],e[h+3]=d[3],e[h+4]=d[4],e[h+5]=d[5],e[h+6]=d[6],e[h+7]=d[7],e[h+8]=d[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Matrix3.prototype.isMatrix3=!0;function arrayNeedsUint32(o){for(let e=o.length-1;e>=0;--e)if(o[e]>65535)return!0;return!1}function createElementNS(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(o,e,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?o+(e-o)*6*h:h<1/2?e:h<2/3?o+(e-o)*6*(2/3-h):o}function SRGBToLinear(o){return o<.04045?o*.0773993808:Math.pow(o*.9478672986+.0521327014,2.4)}function LinearToSRGB(o){return o<.0031308?o*12.92:1.055*Math.pow(o,.41666)-.055}class Color{constructor(e,h,d){return h===void 0&&d===void 0?this.set(e):this.setRGB(e,h,d)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,h,d){return this.r=e,this.g=h,this.b=d,this}setHSL(e,h,d){if(e=euclideanModulo(e,1),h=clamp(h,0,1),d=clamp(d,0,1),h===0)this.r=this.g=this.b=d;else{const g=d<=.5?d*(1+h):d+h-d*h,_=2*d-g;this.r=hue2rgb(_,g,e+1/3),this.g=hue2rgb(_,g,e),this.b=hue2rgb(_,g,e-1/3)}return this}setStyle(e){function h(g){g!==void 0&&parseFloat(g)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let d;if(d=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let g;const _=d[1],b=d[2];switch(_){case"rgb":case"rgba":if(g=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return this.r=Math.min(255,parseInt(g[1],10))/255,this.g=Math.min(255,parseInt(g[2],10))/255,this.b=Math.min(255,parseInt(g[3],10))/255,h(g[4]),this;if(g=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return this.r=Math.min(100,parseInt(g[1],10))/100,this.g=Math.min(100,parseInt(g[2],10))/100,this.b=Math.min(100,parseInt(g[3],10))/100,h(g[4]),this;break;case"hsl":case"hsla":if(g=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b)){const $=parseFloat(g[1])/360,j=parseInt(g[2],10)/100,_e=parseInt(g[3],10)/100;return h(g[4]),this.setHSL($,j,_e)}break}}else if(d=/^\#([A-Fa-f\d]+)$/.exec(e)){const g=d[1],_=g.length;if(_===3)return this.r=parseInt(g.charAt(0)+g.charAt(0),16)/255,this.g=parseInt(g.charAt(1)+g.charAt(1),16)/255,this.b=parseInt(g.charAt(2)+g.charAt(2),16)/255,this;if(_===6)return this.r=parseInt(g.charAt(0)+g.charAt(1),16)/255,this.g=parseInt(g.charAt(2)+g.charAt(3),16)/255,this.b=parseInt(g.charAt(4)+g.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const h=_colorKeywords[e.toLowerCase()];return h!==void 0?this.setHex(h):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const h=this.r,d=this.g,g=this.b,_=Math.max(h,d,g),b=Math.min(h,d,g);let $,j;const _e=(b+_)/2;if(b===_)$=0,j=0;else{const et=_-b;switch(j=_e<=.5?et/(_+b):et/(2-_-b),_){case h:$=(d-g)/et+(d<g?6:0);break;case d:$=(g-h)/et+2;break;case g:$=(h-d)/et+4;break}$/=6}return e.h=$,e.s=j,e.l=_e,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,h,d){return this.getHSL(_hslA),_hslA.h+=e,_hslA.s+=h,_hslA.l+=d,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,h){return this.r=e.r+h.r,this.g=e.g+h.g,this.b=e.b+h.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,h){return this.r+=(e.r-this.r)*h,this.g+=(e.g-this.g)*h,this.b+=(e.b-this.b)*h,this}lerpColors(e,h,d){return this.r=e.r+(h.r-e.r)*d,this.g=e.g+(h.g-e.g)*d,this.b=e.b+(h.b-e.b)*d,this}lerpHSL(e,h){this.getHSL(_hslA),e.getHSL(_hslB);const d=lerp(_hslA.h,_hslB.h,h),g=lerp(_hslA.s,_hslB.s,h),_=lerp(_hslA.l,_hslB.l,h);return this.setHSL(d,g,_),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,h=0){return this.r=e[h],this.g=e[h+1],this.b=e[h+2],this}toArray(e=[],h=0){return e[h]=this.r,e[h+1]=this.g,e[h+2]=this.b,e}fromBufferAttribute(e,h){return this.r=e.getX(h),this.g=e.getY(h),this.b=e.getZ(h),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Color.NAMES=_colorKeywords;Color.prototype.isColor=!0;Color.prototype.r=1;Color.prototype.g=1;Color.prototype.b=1;let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let h;if(e instanceof HTMLCanvasElement)h=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const d=_canvas.getContext("2d");e instanceof ImageData?d.putImageData(e,0,0):d.drawImage(e,0,0,e.width,e.height),h=_canvas}return h.width>2048||h.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),h.toDataURL("image/jpeg",.6)):h.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const h=createElementNS("canvas");h.width=e.width,h.height=e.height;const d=h.getContext("2d");d.drawImage(e,0,0,e.width,e.height);const g=d.getImageData(0,0,e.width,e.height),_=g.data;for(let b=0;b<_.length;b++)_[b]=SRGBToLinear(_[b]/255)*255;return d.putImageData(g,0,0),h}else if(e.data){const h=e.data.slice(0);for(let d=0;d<h.length;d++)h instanceof Uint8Array||h instanceof Uint8ClampedArray?h[d]=Math.floor(SRGBToLinear(h[d]/255)*255):h[d]=SRGBToLinear(h[d]);return{data:h,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Source{constructor(e=null){this.uuid=generateUUID(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const h=e===void 0||typeof e=="string";if(!h&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const d={uuid:this.uuid,url:""},g=this.data;if(g!==null){let _;if(Array.isArray(g)){_=[];for(let b=0,$=g.length;b<$;b++)g[b].isDataTexture?_.push(serializeImage(g[b].image)):_.push(serializeImage(g[b]))}else _=serializeImage(g);d.url=_}return h||(e.images[this.uuid]=d),d}}function serializeImage(o){return typeof HTMLImageElement!="undefined"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&o instanceof ImageBitmap?ImageUtils.getDataURL(o):o.data?{data:Array.prototype.slice.call(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Source.prototype.isSource=!0;let textureId=0;class Texture extends EventDispatcher{constructor(e=Texture.DEFAULT_IMAGE,h=Texture.DEFAULT_MAPPING,d=ClampToEdgeWrapping,g=ClampToEdgeWrapping,_=LinearFilter,b=LinearMipmapLinearFilter,$=RGBAFormat,j=UnsignedByteType,_e=1,et=LinearEncoding){super();Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=h,this.wrapS=d,this.wrapT=g,this.magFilter=_,this.minFilter=b,this.anisotropy=_e,this.format=$,this.internalFormat=null,this.type=j,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=et,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const h=e===void 0||typeof e=="string";if(!h&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const d={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(d.userData=this.userData),h||(e.textures[this.uuid]=d),d}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype.isTexture=!0;class Vector4{constructor(e=0,h=0,d=0,g=1){this.x=e,this.y=h,this.z=d,this.w=g}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,h,d,g){return this.x=e,this.y=h,this.z=d,this.w=g,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,h){switch(e){case 0:this.x=h;break;case 1:this.y=h;break;case 2:this.z=h;break;case 3:this.w=h;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,h){return h!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,h)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,h){return this.x=e.x+h.x,this.y=e.y+h.y,this.z=e.z+h.z,this.w=e.w+h.w,this}addScaledVector(e,h){return this.x+=e.x*h,this.y+=e.y*h,this.z+=e.z*h,this.w+=e.w*h,this}sub(e,h){return h!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,h)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,h){return this.x=e.x-h.x,this.y=e.y-h.y,this.z=e.z-h.z,this.w=e.w-h.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const h=this.x,d=this.y,g=this.z,_=this.w,b=e.elements;return this.x=b[0]*h+b[4]*d+b[8]*g+b[12]*_,this.y=b[1]*h+b[5]*d+b[9]*g+b[13]*_,this.z=b[2]*h+b[6]*d+b[10]*g+b[14]*_,this.w=b[3]*h+b[7]*d+b[11]*g+b[15]*_,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const h=Math.sqrt(1-e.w*e.w);return h<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/h,this.y=e.y/h,this.z=e.z/h),this}setAxisAngleFromRotationMatrix(e){let h,d,g,_;const b=.01,$=.1,j=e.elements,_e=j[0],et=j[4],rt=j[8],tt=j[1],nt=j[5],st=j[9],at=j[2],ct=j[6],it=j[10];if(Math.abs(et-tt)<b&&Math.abs(rt-at)<b&&Math.abs(st-ct)<b){if(Math.abs(et+tt)<$&&Math.abs(rt+at)<$&&Math.abs(st+ct)<$&&Math.abs(_e+nt+it-3)<$)return this.set(1,0,0,0),this;h=Math.PI;const ht=(_e+1)/2,ut=(nt+1)/2,dt=(it+1)/2,pt=(et+tt)/4,mt=(rt+at)/4,yt=(st+ct)/4;return ht>ut&&ht>dt?ht<b?(d=0,g=.707106781,_=.707106781):(d=Math.sqrt(ht),g=pt/d,_=mt/d):ut>dt?ut<b?(d=.707106781,g=0,_=.707106781):(g=Math.sqrt(ut),d=pt/g,_=yt/g):dt<b?(d=.707106781,g=.707106781,_=0):(_=Math.sqrt(dt),d=mt/_,g=yt/_),this.set(d,g,_,h),this}let lt=Math.sqrt((ct-st)*(ct-st)+(rt-at)*(rt-at)+(tt-et)*(tt-et));return Math.abs(lt)<.001&&(lt=1),this.x=(ct-st)/lt,this.y=(rt-at)/lt,this.z=(tt-et)/lt,this.w=Math.acos((_e+nt+it-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,h){return this.x=Math.max(e.x,Math.min(h.x,this.x)),this.y=Math.max(e.y,Math.min(h.y,this.y)),this.z=Math.max(e.z,Math.min(h.z,this.z)),this.w=Math.max(e.w,Math.min(h.w,this.w)),this}clampScalar(e,h){return this.x=Math.max(e,Math.min(h,this.x)),this.y=Math.max(e,Math.min(h,this.y)),this.z=Math.max(e,Math.min(h,this.z)),this.w=Math.max(e,Math.min(h,this.w)),this}clampLength(e,h){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(e,Math.min(h,d)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,h){return this.x+=(e.x-this.x)*h,this.y+=(e.y-this.y)*h,this.z+=(e.z-this.z)*h,this.w+=(e.w-this.w)*h,this}lerpVectors(e,h,d){return this.x=e.x+(h.x-e.x)*d,this.y=e.y+(h.y-e.y)*d,this.z=e.z+(h.z-e.z)*d,this.w=e.w+(h.w-e.w)*d,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,h=0){return this.x=e[h],this.y=e[h+1],this.z=e[h+2],this.w=e[h+3],this}toArray(e=[],h=0){return e[h]=this.x,e[h+1]=this.y,e[h+2]=this.z,e[h+3]=this.w,e}fromBufferAttribute(e,h,d){return d!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(h),this.y=e.getY(h),this.z=e.getZ(h),this.w=e.getW(h),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Vector4.prototype.isVector4=!0;class WebGLRenderTarget extends EventDispatcher{constructor(e,h,d={}){super();this.width=e,this.height=h,this.depth=1,this.scissor=new Vector4(0,0,e,h),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,h);const g={width:e,height:h,depth:1};this.texture=new Texture(g,d.mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=d.generateMipmaps!==void 0?d.generateMipmaps:!1,this.texture.internalFormat=d.internalFormat!==void 0?d.internalFormat:null,this.texture.minFilter=d.minFilter!==void 0?d.minFilter:LinearFilter,this.depthBuffer=d.depthBuffer!==void 0?d.depthBuffer:!0,this.stencilBuffer=d.stencilBuffer!==void 0?d.stencilBuffer:!1,this.depthTexture=d.depthTexture!==void 0?d.depthTexture:null,this.samples=d.samples!==void 0?d.samples:0}setSize(e,h,d=1){(this.width!==e||this.height!==h||this.depth!==d)&&(this.width=e,this.height=h,this.depth=d,this.texture.image.width=e,this.texture.image.height=h,this.texture.image.depth=d,this.dispose()),this.viewport.set(0,0,e,h),this.scissor.set(0,0,e,h)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}WebGLRenderTarget.prototype.isWebGLRenderTarget=!0;class DataArrayTexture extends Texture{constructor(e=null,h=1,d=1,g=1){super(null);this.image={data:e,width:h,height:d,depth:g},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataArrayTexture.prototype.isDataArrayTexture=!0;class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e,h,d){super(e,h);this.depth=d,this.texture=new DataArrayTexture(null,e,h,d),this.texture.isRenderTargetTexture=!0}}WebGLArrayRenderTarget.prototype.isWebGLArrayRenderTarget=!0;class Data3DTexture extends Texture{constructor(e=null,h=1,d=1,g=1){super(null);this.image={data:e,width:h,height:d,depth:g},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Data3DTexture.prototype.isData3DTexture=!0;class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e,h,d){super(e,h);this.depth=d,this.texture=new Data3DTexture(null,e,h,d),this.texture.isRenderTargetTexture=!0}}WebGL3DRenderTarget.prototype.isWebGL3DRenderTarget=!0;class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(e,h,d,g={}){super(e,h,g);const _=this.texture;this.texture=[];for(let b=0;b<d;b++)this.texture[b]=_.clone(),this.texture[b].isRenderTargetTexture=!0}setSize(e,h,d=1){if(this.width!==e||this.height!==h||this.depth!==d){this.width=e,this.height=h,this.depth=d;for(let g=0,_=this.texture.length;g<_;g++)this.texture[g].image.width=e,this.texture[g].image.height=h,this.texture[g].image.depth=d;this.dispose()}return this.viewport.set(0,0,e,h),this.scissor.set(0,0,e,h),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let h=0,d=e.texture.length;h<d;h++)this.texture[h]=e.texture[h].clone();return this}}WebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets=!0;class Quaternion{constructor(e=0,h=0,d=0,g=1){this._x=e,this._y=h,this._z=d,this._w=g}static slerp(e,h,d,g){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),d.slerpQuaternions(e,h,g)}static slerpFlat(e,h,d,g,_,b,$){let j=d[g+0],_e=d[g+1],et=d[g+2],rt=d[g+3];const tt=_[b+0],nt=_[b+1],st=_[b+2],at=_[b+3];if($===0){e[h+0]=j,e[h+1]=_e,e[h+2]=et,e[h+3]=rt;return}if($===1){e[h+0]=tt,e[h+1]=nt,e[h+2]=st,e[h+3]=at;return}if(rt!==at||j!==tt||_e!==nt||et!==st){let ct=1-$;const it=j*tt+_e*nt+et*st+rt*at,lt=it>=0?1:-1,ht=1-it*it;if(ht>Number.EPSILON){const dt=Math.sqrt(ht),pt=Math.atan2(dt,it*lt);ct=Math.sin(ct*pt)/dt,$=Math.sin($*pt)/dt}const ut=$*lt;if(j=j*ct+tt*ut,_e=_e*ct+nt*ut,et=et*ct+st*ut,rt=rt*ct+at*ut,ct===1-$){const dt=1/Math.sqrt(j*j+_e*_e+et*et+rt*rt);j*=dt,_e*=dt,et*=dt,rt*=dt}}e[h]=j,e[h+1]=_e,e[h+2]=et,e[h+3]=rt}static multiplyQuaternionsFlat(e,h,d,g,_,b){const $=d[g],j=d[g+1],_e=d[g+2],et=d[g+3],rt=_[b],tt=_[b+1],nt=_[b+2],st=_[b+3];return e[h]=$*st+et*rt+j*nt-_e*tt,e[h+1]=j*st+et*tt+_e*rt-$*nt,e[h+2]=_e*st+et*nt+$*tt-j*rt,e[h+3]=et*st-$*rt-j*tt-_e*nt,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,h,d,g){return this._x=e,this._y=h,this._z=d,this._w=g,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,h){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const d=e._x,g=e._y,_=e._z,b=e._order,$=Math.cos,j=Math.sin,_e=$(d/2),et=$(g/2),rt=$(_/2),tt=j(d/2),nt=j(g/2),st=j(_/2);switch(b){case"XYZ":this._x=tt*et*rt+_e*nt*st,this._y=_e*nt*rt-tt*et*st,this._z=_e*et*st+tt*nt*rt,this._w=_e*et*rt-tt*nt*st;break;case"YXZ":this._x=tt*et*rt+_e*nt*st,this._y=_e*nt*rt-tt*et*st,this._z=_e*et*st-tt*nt*rt,this._w=_e*et*rt+tt*nt*st;break;case"ZXY":this._x=tt*et*rt-_e*nt*st,this._y=_e*nt*rt+tt*et*st,this._z=_e*et*st+tt*nt*rt,this._w=_e*et*rt-tt*nt*st;break;case"ZYX":this._x=tt*et*rt-_e*nt*st,this._y=_e*nt*rt+tt*et*st,this._z=_e*et*st-tt*nt*rt,this._w=_e*et*rt+tt*nt*st;break;case"YZX":this._x=tt*et*rt+_e*nt*st,this._y=_e*nt*rt+tt*et*st,this._z=_e*et*st-tt*nt*rt,this._w=_e*et*rt-tt*nt*st;break;case"XZY":this._x=tt*et*rt-_e*nt*st,this._y=_e*nt*rt-tt*et*st,this._z=_e*et*st+tt*nt*rt,this._w=_e*et*rt+tt*nt*st;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+b)}return h!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,h){const d=h/2,g=Math.sin(d);return this._x=e.x*g,this._y=e.y*g,this._z=e.z*g,this._w=Math.cos(d),this._onChangeCallback(),this}setFromRotationMatrix(e){const h=e.elements,d=h[0],g=h[4],_=h[8],b=h[1],$=h[5],j=h[9],_e=h[2],et=h[6],rt=h[10],tt=d+$+rt;if(tt>0){const nt=.5/Math.sqrt(tt+1);this._w=.25/nt,this._x=(et-j)*nt,this._y=(_-_e)*nt,this._z=(b-g)*nt}else if(d>$&&d>rt){const nt=2*Math.sqrt(1+d-$-rt);this._w=(et-j)/nt,this._x=.25*nt,this._y=(g+b)/nt,this._z=(_+_e)/nt}else if($>rt){const nt=2*Math.sqrt(1+$-d-rt);this._w=(_-_e)/nt,this._x=(g+b)/nt,this._y=.25*nt,this._z=(j+et)/nt}else{const nt=2*Math.sqrt(1+rt-d-$);this._w=(b-g)/nt,this._x=(_+_e)/nt,this._y=(j+et)/nt,this._z=.25*nt}return this._onChangeCallback(),this}setFromUnitVectors(e,h){let d=e.dot(h)+1;return d<Number.EPSILON?(d=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=d):(this._x=0,this._y=-e.z,this._z=e.y,this._w=d)):(this._x=e.y*h.z-e.z*h.y,this._y=e.z*h.x-e.x*h.z,this._z=e.x*h.y-e.y*h.x,this._w=d),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,h){const d=this.angleTo(e);if(d===0)return this;const g=Math.min(1,h/d);return this.slerp(e,g),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,h){return h!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,h)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,h){const d=e._x,g=e._y,_=e._z,b=e._w,$=h._x,j=h._y,_e=h._z,et=h._w;return this._x=d*et+b*$+g*_e-_*j,this._y=g*et+b*j+_*$-d*_e,this._z=_*et+b*_e+d*j-g*$,this._w=b*et-d*$-g*j-_*_e,this._onChangeCallback(),this}slerp(e,h){if(h===0)return this;if(h===1)return this.copy(e);const d=this._x,g=this._y,_=this._z,b=this._w;let $=b*e._w+d*e._x+g*e._y+_*e._z;if($<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,$=-$):this.copy(e),$>=1)return this._w=b,this._x=d,this._y=g,this._z=_,this;const j=1-$*$;if(j<=Number.EPSILON){const nt=1-h;return this._w=nt*b+h*this._w,this._x=nt*d+h*this._x,this._y=nt*g+h*this._y,this._z=nt*_+h*this._z,this.normalize(),this._onChangeCallback(),this}const _e=Math.sqrt(j),et=Math.atan2(_e,$),rt=Math.sin((1-h)*et)/_e,tt=Math.sin(h*et)/_e;return this._w=b*rt+this._w*tt,this._x=d*rt+this._x*tt,this._y=g*rt+this._y*tt,this._z=_*rt+this._z*tt,this._onChangeCallback(),this}slerpQuaternions(e,h,d){return this.copy(e).slerp(h,d)}random(){const e=Math.random(),h=Math.sqrt(1-e),d=Math.sqrt(e),g=2*Math.PI*Math.random(),_=2*Math.PI*Math.random();return this.set(h*Math.cos(g),d*Math.sin(_),d*Math.cos(_),h*Math.sin(g))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,h=0){return this._x=e[h],this._y=e[h+1],this._z=e[h+2],this._w=e[h+3],this._onChangeCallback(),this}toArray(e=[],h=0){return e[h]=this._x,e[h+1]=this._y,e[h+2]=this._z,e[h+3]=this._w,e}fromBufferAttribute(e,h){return this._x=e.getX(h),this._y=e.getY(h),this._z=e.getZ(h),this._w=e.getW(h),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Quaternion.prototype.isQuaternion=!0;class Vector3{constructor(e=0,h=0,d=0){this.x=e,this.y=h,this.z=d}set(e,h,d){return d===void 0&&(d=this.z),this.x=e,this.y=h,this.z=d,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,h){switch(e){case 0:this.x=h;break;case 1:this.y=h;break;case 2:this.z=h;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,h){return h!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,h)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,h){return this.x=e.x+h.x,this.y=e.y+h.y,this.z=e.z+h.z,this}addScaledVector(e,h){return this.x+=e.x*h,this.y+=e.y*h,this.z+=e.z*h,this}sub(e,h){return h!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,h)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,h){return this.x=e.x-h.x,this.y=e.y-h.y,this.z=e.z-h.z,this}multiply(e,h){return h!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,h)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,h){return this.x=e.x*h.x,this.y=e.y*h.y,this.z=e.z*h.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,h){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,h))}applyMatrix3(e){const h=this.x,d=this.y,g=this.z,_=e.elements;return this.x=_[0]*h+_[3]*d+_[6]*g,this.y=_[1]*h+_[4]*d+_[7]*g,this.z=_[2]*h+_[5]*d+_[8]*g,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const h=this.x,d=this.y,g=this.z,_=e.elements,b=1/(_[3]*h+_[7]*d+_[11]*g+_[15]);return this.x=(_[0]*h+_[4]*d+_[8]*g+_[12])*b,this.y=(_[1]*h+_[5]*d+_[9]*g+_[13])*b,this.z=(_[2]*h+_[6]*d+_[10]*g+_[14])*b,this}applyQuaternion(e){const h=this.x,d=this.y,g=this.z,_=e.x,b=e.y,$=e.z,j=e.w,_e=j*h+b*g-$*d,et=j*d+$*h-_*g,rt=j*g+_*d-b*h,tt=-_*h-b*d-$*g;return this.x=_e*j+tt*-_+et*-$-rt*-b,this.y=et*j+tt*-b+rt*-_-_e*-$,this.z=rt*j+tt*-$+_e*-b-et*-_,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const h=this.x,d=this.y,g=this.z,_=e.elements;return this.x=_[0]*h+_[4]*d+_[8]*g,this.y=_[1]*h+_[5]*d+_[9]*g,this.z=_[2]*h+_[6]*d+_[10]*g,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,h){return this.x=Math.max(e.x,Math.min(h.x,this.x)),this.y=Math.max(e.y,Math.min(h.y,this.y)),this.z=Math.max(e.z,Math.min(h.z,this.z)),this}clampScalar(e,h){return this.x=Math.max(e,Math.min(h,this.x)),this.y=Math.max(e,Math.min(h,this.y)),this.z=Math.max(e,Math.min(h,this.z)),this}clampLength(e,h){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(e,Math.min(h,d)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,h){return this.x+=(e.x-this.x)*h,this.y+=(e.y-this.y)*h,this.z+=(e.z-this.z)*h,this}lerpVectors(e,h,d){return this.x=e.x+(h.x-e.x)*d,this.y=e.y+(h.y-e.y)*d,this.z=e.z+(h.z-e.z)*d,this}cross(e,h){return h!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,h)):this.crossVectors(this,e)}crossVectors(e,h){const d=e.x,g=e.y,_=e.z,b=h.x,$=h.y,j=h.z;return this.x=g*j-_*$,this.y=_*b-d*j,this.z=d*$-g*b,this}projectOnVector(e){const h=e.lengthSq();if(h===0)return this.set(0,0,0);const d=e.dot(this)/h;return this.copy(e).multiplyScalar(d)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const h=Math.sqrt(this.lengthSq()*e.lengthSq());if(h===0)return Math.PI/2;const d=this.dot(e)/h;return Math.acos(clamp(d,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const h=this.x-e.x,d=this.y-e.y,g=this.z-e.z;return h*h+d*d+g*g}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,h,d){const g=Math.sin(h)*e;return this.x=g*Math.sin(d),this.y=Math.cos(h)*e,this.z=g*Math.cos(d),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,h,d){return this.x=e*Math.sin(h),this.y=d,this.z=e*Math.cos(h),this}setFromMatrixPosition(e){const h=e.elements;return this.x=h[12],this.y=h[13],this.z=h[14],this}setFromMatrixScale(e){const h=this.setFromMatrixColumn(e,0).length(),d=this.setFromMatrixColumn(e,1).length(),g=this.setFromMatrixColumn(e,2).length();return this.x=h,this.y=d,this.z=g,this}setFromMatrixColumn(e,h){return this.fromArray(e.elements,h*4)}setFromMatrix3Column(e,h){return this.fromArray(e.elements,h*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,h=0){return this.x=e[h],this.y=e[h+1],this.z=e[h+2],this}toArray(e=[],h=0){return e[h]=this.x,e[h+1]=this.y,e[h+2]=this.z,e}fromBufferAttribute(e,h,d){return d!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(h),this.y=e.getY(h),this.z=e.getZ(h),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,h=Math.random()*Math.PI*2,d=Math.sqrt(1-e**2);return this.x=d*Math.cos(h),this.y=d*Math.sin(h),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Vector3.prototype.isVector3=!0;const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),h=new Vector3(-1/0,-1/0,-1/0)){this.min=e,this.max=h}set(e,h){return this.min.copy(e),this.max.copy(h),this}setFromArray(e){let h=1/0,d=1/0,g=1/0,_=-1/0,b=-1/0,$=-1/0;for(let j=0,_e=e.length;j<_e;j+=3){const et=e[j],rt=e[j+1],tt=e[j+2];et<h&&(h=et),rt<d&&(d=rt),tt<g&&(g=tt),et>_&&(_=et),rt>b&&(b=rt),tt>$&&($=tt)}return this.min.set(h,d,g),this.max.set(_,b,$),this}setFromBufferAttribute(e){let h=1/0,d=1/0,g=1/0,_=-1/0,b=-1/0,$=-1/0;for(let j=0,_e=e.count;j<_e;j++){const et=e.getX(j),rt=e.getY(j),tt=e.getZ(j);et<h&&(h=et),rt<d&&(d=rt),tt<g&&(g=tt),et>_&&(_=et),rt>b&&(b=rt),tt>$&&($=tt)}return this.min.set(h,d,g),this.max.set(_,b,$),this}setFromPoints(e){this.makeEmpty();for(let h=0,d=e.length;h<d;h++)this.expandByPoint(e[h]);return this}setFromCenterAndSize(e,h){const d=_vector$b.copy(h).multiplyScalar(.5);return this.min.copy(e).sub(d),this.max.copy(e).add(d),this}setFromObject(e,h=!1){return this.makeEmpty(),this.expandByObject(e,h)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,h=!1){e.updateWorldMatrix(!1,!1);const d=e.geometry;if(d!==void 0)if(h&&d.attributes!=null&&d.attributes.position!==void 0){const _=d.attributes.position;for(let b=0,$=_.count;b<$;b++)_vector$b.fromBufferAttribute(_,b).applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b)}else d.boundingBox===null&&d.computeBoundingBox(),_box$3.copy(d.boundingBox),_box$3.applyMatrix4(e.matrixWorld),this.union(_box$3);const g=e.children;for(let _=0,b=g.length;_<b;_++)this.expandByObject(g[_],h);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,h){return h.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let h,d;return e.normal.x>0?(h=e.normal.x*this.min.x,d=e.normal.x*this.max.x):(h=e.normal.x*this.max.x,d=e.normal.x*this.min.x),e.normal.y>0?(h+=e.normal.y*this.min.y,d+=e.normal.y*this.max.y):(h+=e.normal.y*this.max.y,d+=e.normal.y*this.min.y),e.normal.z>0?(h+=e.normal.z*this.min.z,d+=e.normal.z*this.max.z):(h+=e.normal.z*this.max.z,d+=e.normal.z*this.min.z),h<=-e.constant&&d>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$3.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$3,_v1$7),_f2.subVectors(_v0$2,_v2$3);let h=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(h,_v0$2,_v1$7,_v2$3,_extents)||(h=[1,0,0,0,1,0,0,0,1],!satForAxes(h,_v0$2,_v1$7,_v2$3,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),h=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(h,_v0$2,_v1$7,_v2$3,_extents))}clampPoint(e,h){return h.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return _vector$b.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Box3.prototype.isBox3=!0;const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$3=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(o,e,h,d,g){for(let _=0,b=o.length-3;_<=b;_+=3){_testAxis.fromArray(o,_);const $=g.x*Math.abs(_testAxis.x)+g.y*Math.abs(_testAxis.y)+g.z*Math.abs(_testAxis.z),j=e.dot(_testAxis),_e=h.dot(_testAxis),et=d.dot(_testAxis);if(Math.max(-Math.max(j,_e,et),Math.min(j,_e,et))>$)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_toFarthestPoint=new Vector3,_toPoint=new Vector3;class Sphere{constructor(e=new Vector3,h=-1){this.center=e,this.radius=h}set(e,h){return this.center.copy(e),this.radius=h,this}setFromPoints(e,h){const d=this.center;h!==void 0?d.copy(h):_box$2.setFromPoints(e).getCenter(d);let g=0;for(let _=0,b=e.length;_<b;_++)g=Math.max(g,d.distanceToSquared(e[_]));return this.radius=Math.sqrt(g),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const h=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=h*h}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,h){const d=this.center.distanceToSquared(e);return h.copy(e),d>this.radius*this.radius&&(h.sub(this.center).normalize(),h.multiplyScalar(this.radius).add(this.center)),h}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){_toPoint.subVectors(e,this.center);const h=_toPoint.lengthSq();if(h>this.radius*this.radius){const d=Math.sqrt(h),g=(d-this.radius)*.5;this.center.add(_toPoint.multiplyScalar(g/d)),this.radius+=g}return this}union(e){return this.center.equals(e.center)===!0?_toFarthestPoint.set(0,0,1).multiplyScalar(e.radius):_toFarthestPoint.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_toFarthestPoint)),this.expandByPoint(_v1$6.copy(e.center).sub(_toFarthestPoint)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,h=new Vector3(0,0,-1)){this.origin=e,this.direction=h}set(e,h){return this.origin.copy(e),this.direction.copy(h),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,h){return h.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,h){h.subVectors(e,this.origin);const d=h.dot(this.direction);return d<0?h.copy(this.origin):h.copy(this.direction).multiplyScalar(d).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const h=_vector$a.subVectors(e,this.origin).dot(this.direction);return h<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.direction).multiplyScalar(h).add(this.origin),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,h,d,g){_segCenter.copy(e).add(h).multiplyScalar(.5),_segDir.copy(h).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const _=e.distanceTo(h)*.5,b=-this.direction.dot(_segDir),$=_diff.dot(this.direction),j=-_diff.dot(_segDir),_e=_diff.lengthSq(),et=Math.abs(1-b*b);let rt,tt,nt,st;if(et>0)if(rt=b*j-$,tt=b*$-j,st=_*et,rt>=0)if(tt>=-st)if(tt<=st){const at=1/et;rt*=at,tt*=at,nt=rt*(rt+b*tt+2*$)+tt*(b*rt+tt+2*j)+_e}else tt=_,rt=Math.max(0,-(b*tt+$)),nt=-rt*rt+tt*(tt+2*j)+_e;else tt=-_,rt=Math.max(0,-(b*tt+$)),nt=-rt*rt+tt*(tt+2*j)+_e;else tt<=-st?(rt=Math.max(0,-(-b*_+$)),tt=rt>0?-_:Math.min(Math.max(-_,-j),_),nt=-rt*rt+tt*(tt+2*j)+_e):tt<=st?(rt=0,tt=Math.min(Math.max(-_,-j),_),nt=tt*(tt+2*j)+_e):(rt=Math.max(0,-(b*_+$)),tt=rt>0?_:Math.min(Math.max(-_,-j),_),nt=-rt*rt+tt*(tt+2*j)+_e);else tt=b>0?-_:_,rt=Math.max(0,-(b*tt+$)),nt=-rt*rt+tt*(tt+2*j)+_e;return d&&d.copy(this.direction).multiplyScalar(rt).add(this.origin),g&&g.copy(_segDir).multiplyScalar(tt).add(_segCenter),nt}intersectSphere(e,h){_vector$a.subVectors(e.center,this.origin);const d=_vector$a.dot(this.direction),g=_vector$a.dot(_vector$a)-d*d,_=e.radius*e.radius;if(g>_)return null;const b=Math.sqrt(_-g),$=d-b,j=d+b;return $<0&&j<0?null:$<0?this.at(j,h):this.at($,h)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const h=e.normal.dot(this.direction);if(h===0)return e.distanceToPoint(this.origin)===0?0:null;const d=-(this.origin.dot(e.normal)+e.constant)/h;return d>=0?d:null}intersectPlane(e,h){const d=this.distanceToPlane(e);return d===null?null:this.at(d,h)}intersectsPlane(e){const h=e.distanceToPoint(this.origin);return h===0||e.normal.dot(this.direction)*h<0}intersectBox(e,h){let d,g,_,b,$,j;const _e=1/this.direction.x,et=1/this.direction.y,rt=1/this.direction.z,tt=this.origin;return _e>=0?(d=(e.min.x-tt.x)*_e,g=(e.max.x-tt.x)*_e):(d=(e.max.x-tt.x)*_e,g=(e.min.x-tt.x)*_e),et>=0?(_=(e.min.y-tt.y)*et,b=(e.max.y-tt.y)*et):(_=(e.max.y-tt.y)*et,b=(e.min.y-tt.y)*et),d>b||_>g||((_>d||d!==d)&&(d=_),(b<g||g!==g)&&(g=b),rt>=0?($=(e.min.z-tt.z)*rt,j=(e.max.z-tt.z)*rt):($=(e.max.z-tt.z)*rt,j=(e.min.z-tt.z)*rt),d>j||$>g)||(($>d||d!==d)&&(d=$),(j<g||g!==g)&&(g=j),g<0)?null:this.at(d>=0?d:g,h)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,h,d,g,_){_edge1.subVectors(h,e),_edge2.subVectors(d,e),_normal$1.crossVectors(_edge1,_edge2);let b=this.direction.dot(_normal$1),$;if(b>0){if(g)return null;$=1}else if(b<0)$=-1,b=-b;else return null;_diff.subVectors(this.origin,e);const j=$*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(j<0)return null;const _e=$*this.direction.dot(_edge1.cross(_diff));if(_e<0||j+_e>b)return null;const et=-$*_diff.dot(_normal$1);return et<0?null:this.at(et/b,_)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,h,d,g,_,b,$,j,_e,et,rt,tt,nt,st,at,ct){const it=this.elements;return it[0]=e,it[4]=h,it[8]=d,it[12]=g,it[1]=_,it[5]=b,it[9]=$,it[13]=j,it[2]=_e,it[6]=et,it[10]=rt,it[14]=tt,it[3]=nt,it[7]=st,it[11]=at,it[15]=ct,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const h=this.elements,d=e.elements;return h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],h[9]=d[9],h[10]=d[10],h[11]=d[11],h[12]=d[12],h[13]=d[13],h[14]=d[14],h[15]=d[15],this}copyPosition(e){const h=this.elements,d=e.elements;return h[12]=d[12],h[13]=d[13],h[14]=d[14],this}setFromMatrix3(e){const h=e.elements;return this.set(h[0],h[3],h[6],0,h[1],h[4],h[7],0,h[2],h[5],h[8],0,0,0,0,1),this}extractBasis(e,h,d){return e.setFromMatrixColumn(this,0),h.setFromMatrixColumn(this,1),d.setFromMatrixColumn(this,2),this}makeBasis(e,h,d){return this.set(e.x,h.x,d.x,0,e.y,h.y,d.y,0,e.z,h.z,d.z,0,0,0,0,1),this}extractRotation(e){const h=this.elements,d=e.elements,g=1/_v1$5.setFromMatrixColumn(e,0).length(),_=1/_v1$5.setFromMatrixColumn(e,1).length(),b=1/_v1$5.setFromMatrixColumn(e,2).length();return h[0]=d[0]*g,h[1]=d[1]*g,h[2]=d[2]*g,h[3]=0,h[4]=d[4]*_,h[5]=d[5]*_,h[6]=d[6]*_,h[7]=0,h[8]=d[8]*b,h[9]=d[9]*b,h[10]=d[10]*b,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const h=this.elements,d=e.x,g=e.y,_=e.z,b=Math.cos(d),$=Math.sin(d),j=Math.cos(g),_e=Math.sin(g),et=Math.cos(_),rt=Math.sin(_);if(e.order==="XYZ"){const tt=b*et,nt=b*rt,st=$*et,at=$*rt;h[0]=j*et,h[4]=-j*rt,h[8]=_e,h[1]=nt+st*_e,h[5]=tt-at*_e,h[9]=-$*j,h[2]=at-tt*_e,h[6]=st+nt*_e,h[10]=b*j}else if(e.order==="YXZ"){const tt=j*et,nt=j*rt,st=_e*et,at=_e*rt;h[0]=tt+at*$,h[4]=st*$-nt,h[8]=b*_e,h[1]=b*rt,h[5]=b*et,h[9]=-$,h[2]=nt*$-st,h[6]=at+tt*$,h[10]=b*j}else if(e.order==="ZXY"){const tt=j*et,nt=j*rt,st=_e*et,at=_e*rt;h[0]=tt-at*$,h[4]=-b*rt,h[8]=st+nt*$,h[1]=nt+st*$,h[5]=b*et,h[9]=at-tt*$,h[2]=-b*_e,h[6]=$,h[10]=b*j}else if(e.order==="ZYX"){const tt=b*et,nt=b*rt,st=$*et,at=$*rt;h[0]=j*et,h[4]=st*_e-nt,h[8]=tt*_e+at,h[1]=j*rt,h[5]=at*_e+tt,h[9]=nt*_e-st,h[2]=-_e,h[6]=$*j,h[10]=b*j}else if(e.order==="YZX"){const tt=b*j,nt=b*_e,st=$*j,at=$*_e;h[0]=j*et,h[4]=at-tt*rt,h[8]=st*rt+nt,h[1]=rt,h[5]=b*et,h[9]=-$*et,h[2]=-_e*et,h[6]=nt*rt+st,h[10]=tt-at*rt}else if(e.order==="XZY"){const tt=b*j,nt=b*_e,st=$*j,at=$*_e;h[0]=j*et,h[4]=-rt,h[8]=_e*et,h[1]=tt*rt+at,h[5]=b*et,h[9]=nt*rt-st,h[2]=st*rt-nt,h[6]=$*et,h[10]=at*rt+tt}return h[3]=0,h[7]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,h,d){const g=this.elements;return _z.subVectors(e,h),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(d,_z),_x.lengthSq()===0&&(Math.abs(d.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(d,_z)),_x.normalize(),_y.crossVectors(_z,_x),g[0]=_x.x,g[4]=_y.x,g[8]=_z.x,g[1]=_x.y,g[5]=_y.y,g[9]=_z.y,g[2]=_x.z,g[6]=_y.z,g[10]=_z.z,this}multiply(e,h){return h!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,h)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,h){const d=e.elements,g=h.elements,_=this.elements,b=d[0],$=d[4],j=d[8],_e=d[12],et=d[1],rt=d[5],tt=d[9],nt=d[13],st=d[2],at=d[6],ct=d[10],it=d[14],lt=d[3],ht=d[7],ut=d[11],dt=d[15],pt=g[0],mt=g[4],yt=g[8],xt=g[12],Tt=g[1],_t=g[5],Mt=g[9],Lt=g[13],Pt=g[2],It=g[6],Et=g[10],Ct=g[14],St=g[3],At=g[7],Rt=g[11],Ot=g[15];return _[0]=b*pt+$*Tt+j*Pt+_e*St,_[4]=b*mt+$*_t+j*It+_e*At,_[8]=b*yt+$*Mt+j*Et+_e*Rt,_[12]=b*xt+$*Lt+j*Ct+_e*Ot,_[1]=et*pt+rt*Tt+tt*Pt+nt*St,_[5]=et*mt+rt*_t+tt*It+nt*At,_[9]=et*yt+rt*Mt+tt*Et+nt*Rt,_[13]=et*xt+rt*Lt+tt*Ct+nt*Ot,_[2]=st*pt+at*Tt+ct*Pt+it*St,_[6]=st*mt+at*_t+ct*It+it*At,_[10]=st*yt+at*Mt+ct*Et+it*Rt,_[14]=st*xt+at*Lt+ct*Ct+it*Ot,_[3]=lt*pt+ht*Tt+ut*Pt+dt*St,_[7]=lt*mt+ht*_t+ut*It+dt*At,_[11]=lt*yt+ht*Mt+ut*Et+dt*Rt,_[15]=lt*xt+ht*Lt+ut*Ct+dt*Ot,this}multiplyScalar(e){const h=this.elements;return h[0]*=e,h[4]*=e,h[8]*=e,h[12]*=e,h[1]*=e,h[5]*=e,h[9]*=e,h[13]*=e,h[2]*=e,h[6]*=e,h[10]*=e,h[14]*=e,h[3]*=e,h[7]*=e,h[11]*=e,h[15]*=e,this}determinant(){const e=this.elements,h=e[0],d=e[4],g=e[8],_=e[12],b=e[1],$=e[5],j=e[9],_e=e[13],et=e[2],rt=e[6],tt=e[10],nt=e[14],st=e[3],at=e[7],ct=e[11],it=e[15];return st*(+_*j*rt-g*_e*rt-_*$*tt+d*_e*tt+g*$*nt-d*j*nt)+at*(+h*j*nt-h*_e*tt+_*b*tt-g*b*nt+g*_e*et-_*j*et)+ct*(+h*_e*rt-h*$*nt-_*b*rt+d*b*nt+_*$*et-d*_e*et)+it*(-g*$*et-h*j*rt+h*$*tt+g*b*rt-d*b*tt+d*j*et)}transpose(){const e=this.elements;let h;return h=e[1],e[1]=e[4],e[4]=h,h=e[2],e[2]=e[8],e[8]=h,h=e[6],e[6]=e[9],e[9]=h,h=e[3],e[3]=e[12],e[12]=h,h=e[7],e[7]=e[13],e[13]=h,h=e[11],e[11]=e[14],e[14]=h,this}setPosition(e,h,d){const g=this.elements;return e.isVector3?(g[12]=e.x,g[13]=e.y,g[14]=e.z):(g[12]=e,g[13]=h,g[14]=d),this}invert(){const e=this.elements,h=e[0],d=e[1],g=e[2],_=e[3],b=e[4],$=e[5],j=e[6],_e=e[7],et=e[8],rt=e[9],tt=e[10],nt=e[11],st=e[12],at=e[13],ct=e[14],it=e[15],lt=rt*ct*_e-at*tt*_e+at*j*nt-$*ct*nt-rt*j*it+$*tt*it,ht=st*tt*_e-et*ct*_e-st*j*nt+b*ct*nt+et*j*it-b*tt*it,ut=et*at*_e-st*rt*_e+st*$*nt-b*at*nt-et*$*it+b*rt*it,dt=st*rt*j-et*at*j-st*$*tt+b*at*tt+et*$*ct-b*rt*ct,pt=h*lt+d*ht+g*ut+_*dt;if(pt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const mt=1/pt;return e[0]=lt*mt,e[1]=(at*tt*_-rt*ct*_-at*g*nt+d*ct*nt+rt*g*it-d*tt*it)*mt,e[2]=($*ct*_-at*j*_+at*g*_e-d*ct*_e-$*g*it+d*j*it)*mt,e[3]=(rt*j*_-$*tt*_-rt*g*_e+d*tt*_e+$*g*nt-d*j*nt)*mt,e[4]=ht*mt,e[5]=(et*ct*_-st*tt*_+st*g*nt-h*ct*nt-et*g*it+h*tt*it)*mt,e[6]=(st*j*_-b*ct*_-st*g*_e+h*ct*_e+b*g*it-h*j*it)*mt,e[7]=(b*tt*_-et*j*_+et*g*_e-h*tt*_e-b*g*nt+h*j*nt)*mt,e[8]=ut*mt,e[9]=(st*rt*_-et*at*_-st*d*nt+h*at*nt+et*d*it-h*rt*it)*mt,e[10]=(b*at*_-st*$*_+st*d*_e-h*at*_e-b*d*it+h*$*it)*mt,e[11]=(et*$*_-b*rt*_-et*d*_e+h*rt*_e+b*d*nt-h*$*nt)*mt,e[12]=dt*mt,e[13]=(et*at*g-st*rt*g+st*d*tt-h*at*tt-et*d*ct+h*rt*ct)*mt,e[14]=(st*$*g-b*at*g-st*d*j+h*at*j+b*d*ct-h*$*ct)*mt,e[15]=(b*rt*g-et*$*g+et*d*j-h*rt*j-b*d*tt+h*$*tt)*mt,this}scale(e){const h=this.elements,d=e.x,g=e.y,_=e.z;return h[0]*=d,h[4]*=g,h[8]*=_,h[1]*=d,h[5]*=g,h[9]*=_,h[2]*=d,h[6]*=g,h[10]*=_,h[3]*=d,h[7]*=g,h[11]*=_,this}getMaxScaleOnAxis(){const e=this.elements,h=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],d=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],g=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(h,d,g))}makeTranslation(e,h,d){return this.set(1,0,0,e,0,1,0,h,0,0,1,d,0,0,0,1),this}makeRotationX(e){const h=Math.cos(e),d=Math.sin(e);return this.set(1,0,0,0,0,h,-d,0,0,d,h,0,0,0,0,1),this}makeRotationY(e){const h=Math.cos(e),d=Math.sin(e);return this.set(h,0,d,0,0,1,0,0,-d,0,h,0,0,0,0,1),this}makeRotationZ(e){const h=Math.cos(e),d=Math.sin(e);return this.set(h,-d,0,0,d,h,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,h){const d=Math.cos(h),g=Math.sin(h),_=1-d,b=e.x,$=e.y,j=e.z,_e=_*b,et=_*$;return this.set(_e*b+d,_e*$-g*j,_e*j+g*$,0,_e*$+g*j,et*$+d,et*j-g*b,0,_e*j-g*$,et*j+g*b,_*j*j+d,0,0,0,0,1),this}makeScale(e,h,d){return this.set(e,0,0,0,0,h,0,0,0,0,d,0,0,0,0,1),this}makeShear(e,h,d,g,_,b){return this.set(1,d,_,0,e,1,b,0,h,g,1,0,0,0,0,1),this}compose(e,h,d){const g=this.elements,_=h._x,b=h._y,$=h._z,j=h._w,_e=_+_,et=b+b,rt=$+$,tt=_*_e,nt=_*et,st=_*rt,at=b*et,ct=b*rt,it=$*rt,lt=j*_e,ht=j*et,ut=j*rt,dt=d.x,pt=d.y,mt=d.z;return g[0]=(1-(at+it))*dt,g[1]=(nt+ut)*dt,g[2]=(st-ht)*dt,g[3]=0,g[4]=(nt-ut)*pt,g[5]=(1-(tt+it))*pt,g[6]=(ct+lt)*pt,g[7]=0,g[8]=(st+ht)*mt,g[9]=(ct-lt)*mt,g[10]=(1-(tt+at))*mt,g[11]=0,g[12]=e.x,g[13]=e.y,g[14]=e.z,g[15]=1,this}decompose(e,h,d){const g=this.elements;let _=_v1$5.set(g[0],g[1],g[2]).length();const b=_v1$5.set(g[4],g[5],g[6]).length(),$=_v1$5.set(g[8],g[9],g[10]).length();this.determinant()<0&&(_=-_),e.x=g[12],e.y=g[13],e.z=g[14],_m1$2.copy(this);const _e=1/_,et=1/b,rt=1/$;return _m1$2.elements[0]*=_e,_m1$2.elements[1]*=_e,_m1$2.elements[2]*=_e,_m1$2.elements[4]*=et,_m1$2.elements[5]*=et,_m1$2.elements[6]*=et,_m1$2.elements[8]*=rt,_m1$2.elements[9]*=rt,_m1$2.elements[10]*=rt,h.setFromRotationMatrix(_m1$2),d.x=_,d.y=b,d.z=$,this}makePerspective(e,h,d,g,_,b){b===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const $=this.elements,j=2*_/(h-e),_e=2*_/(d-g),et=(h+e)/(h-e),rt=(d+g)/(d-g),tt=-(b+_)/(b-_),nt=-2*b*_/(b-_);return $[0]=j,$[4]=0,$[8]=et,$[12]=0,$[1]=0,$[5]=_e,$[9]=rt,$[13]=0,$[2]=0,$[6]=0,$[10]=tt,$[14]=nt,$[3]=0,$[7]=0,$[11]=-1,$[15]=0,this}makeOrthographic(e,h,d,g,_,b){const $=this.elements,j=1/(h-e),_e=1/(d-g),et=1/(b-_),rt=(h+e)*j,tt=(d+g)*_e,nt=(b+_)*et;return $[0]=2*j,$[4]=0,$[8]=0,$[12]=-rt,$[1]=0,$[5]=2*_e,$[9]=0,$[13]=-tt,$[2]=0,$[6]=0,$[10]=-2*et,$[14]=-nt,$[3]=0,$[7]=0,$[11]=0,$[15]=1,this}equals(e){const h=this.elements,d=e.elements;for(let g=0;g<16;g++)if(h[g]!==d[g])return!1;return!0}fromArray(e,h=0){for(let d=0;d<16;d++)this.elements[d]=e[d+h];return this}toArray(e=[],h=0){const d=this.elements;return e[h]=d[0],e[h+1]=d[1],e[h+2]=d[2],e[h+3]=d[3],e[h+4]=d[4],e[h+5]=d[5],e[h+6]=d[6],e[h+7]=d[7],e[h+8]=d[8],e[h+9]=d[9],e[h+10]=d[10],e[h+11]=d[11],e[h+12]=d[12],e[h+13]=d[13],e[h+14]=d[14],e[h+15]=d[15],e}}Matrix4.prototype.isMatrix4=!0;const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,h=0,d=0,g=Euler.DefaultOrder){this._x=e,this._y=h,this._z=d,this._order=g}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,h,d,g=this._order){return this._x=e,this._y=h,this._z=d,this._order=g,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,h=this._order,d=!0){const g=e.elements,_=g[0],b=g[4],$=g[8],j=g[1],_e=g[5],et=g[9],rt=g[2],tt=g[6],nt=g[10];switch(h){case"XYZ":this._y=Math.asin(clamp($,-1,1)),Math.abs($)<.9999999?(this._x=Math.atan2(-et,nt),this._z=Math.atan2(-b,_)):(this._x=Math.atan2(tt,_e),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(et,-1,1)),Math.abs(et)<.9999999?(this._y=Math.atan2($,nt),this._z=Math.atan2(j,_e)):(this._y=Math.atan2(-rt,_),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(tt,-1,1)),Math.abs(tt)<.9999999?(this._y=Math.atan2(-rt,nt),this._z=Math.atan2(-b,_e)):(this._y=0,this._z=Math.atan2(j,_));break;case"ZYX":this._y=Math.asin(-clamp(rt,-1,1)),Math.abs(rt)<.9999999?(this._x=Math.atan2(tt,nt),this._z=Math.atan2(j,_)):(this._x=0,this._z=Math.atan2(-b,_e));break;case"YZX":this._z=Math.asin(clamp(j,-1,1)),Math.abs(j)<.9999999?(this._x=Math.atan2(-et,_e),this._y=Math.atan2(-rt,_)):(this._x=0,this._y=Math.atan2($,nt));break;case"XZY":this._z=Math.asin(-clamp(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(tt,_e),this._y=Math.atan2($,_)):(this._x=Math.atan2(-et,nt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+h)}return this._order=h,d===!0&&this._onChangeCallback(),this}setFromQuaternion(e,h,d){return _matrix$1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$1,h,d)}setFromVector3(e,h=this._order){return this.set(e.x,e.y,e.z,h)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],h=0){return e[h]=this._x,e[h+1]=this._y,e[h+2]=this._z,e[h+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Euler.prototype.isEuler=!0;Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super();Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const e=new Vector3,h=new Euler,d=new Quaternion,g=new Vector3(1,1,1);function _(){d.setFromEuler(h,!1)}function b(){h.setFromQuaternion(d,void 0,!1)}h._onChange(_),d._onChange(b),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:h},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:g},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,h){this.quaternion.setFromAxisAngle(e,h)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,h){return _q1.setFromAxisAngle(e,h),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,h){return _q1.setFromAxisAngle(e,h),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,h){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(h)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(e,h,d){e.isVector3?_target.copy(e):_target.set(e,h,d);const g=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),g&&(_m1$1.extractRotation(g.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let h=0;h<arguments.length;h++)this.add(arguments[h]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const h=this.children.indexOf(e);return h!==-1&&(e.parent=null,this.children.splice(h,1),e.dispatchEvent(_removedEvent)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const h=this.children[e];h.parent=null,h.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,h){if(this[e]===h)return this;for(let d=0,g=this.children.length;d<g;d++){const b=this.children[d].getObjectByProperty(e,h);if(b!==void 0)return b}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const h=this.matrixWorld.elements;return e.set(h[8],h[9],h[10]).normalize()}raycast(){}traverse(e){e(this);const h=this.children;for(let d=0,g=h.length;d<g;d++)h[d].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const h=this.children;for(let d=0,g=h.length;d<g;d++)h[d].traverseVisible(e)}traverseAncestors(e){const h=this.parent;h!==null&&(e(h),h.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const h=this.children;for(let d=0,g=h.length;d<g;d++)h[d].updateMatrixWorld(e)}updateWorldMatrix(e,h){const d=this.parent;if(e===!0&&d!==null&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),h===!0){const g=this.children;for(let _=0,b=g.length;_<b;_++)g[_].updateWorldMatrix(!1,!0)}}toJSON(e){const h=e===void 0||typeof e=="string",d={};h&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const g={};g.uuid=this.uuid,g.type=this.type,this.name!==""&&(g.name=this.name),this.castShadow===!0&&(g.castShadow=!0),this.receiveShadow===!0&&(g.receiveShadow=!0),this.visible===!1&&(g.visible=!1),this.frustumCulled===!1&&(g.frustumCulled=!1),this.renderOrder!==0&&(g.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(g.userData=this.userData),g.layers=this.layers.mask,g.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(g.matrixAutoUpdate=!1),this.isInstancedMesh&&(g.type="InstancedMesh",g.count=this.count,g.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(g.instanceColor=this.instanceColor.toJSON()));function _($,j){return $[j.uuid]===void 0&&($[j.uuid]=j.toJSON(e)),j.uuid}if(this.isScene)this.background&&(this.background.isColor?g.background=this.background.toJSON():this.background.isTexture&&(g.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(g.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){g.geometry=_(e.geometries,this.geometry);const $=this.geometry.parameters;if($!==void 0&&$.shapes!==void 0){const j=$.shapes;if(Array.isArray(j))for(let _e=0,et=j.length;_e<et;_e++){const rt=j[_e];_(e.shapes,rt)}else _(e.shapes,j)}}if(this.isSkinnedMesh&&(g.bindMode=this.bindMode,g.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(_(e.skeletons,this.skeleton),g.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const $=[];for(let j=0,_e=this.material.length;j<_e;j++)$.push(_(e.materials,this.material[j]));g.material=$}else g.material=_(e.materials,this.material);if(this.children.length>0){g.children=[];for(let $=0;$<this.children.length;$++)g.children.push(this.children[$].toJSON(e).object)}if(this.animations.length>0){g.animations=[];for(let $=0;$<this.animations.length;$++){const j=this.animations[$];g.animations.push(_(e.animations,j))}}if(h){const $=b(e.geometries),j=b(e.materials),_e=b(e.textures),et=b(e.images),rt=b(e.shapes),tt=b(e.skeletons),nt=b(e.animations),st=b(e.nodes);$.length>0&&(d.geometries=$),j.length>0&&(d.materials=j),_e.length>0&&(d.textures=_e),et.length>0&&(d.images=et),rt.length>0&&(d.shapes=rt),tt.length>0&&(d.skeletons=tt),nt.length>0&&(d.animations=nt),st.length>0&&(d.nodes=st)}return d.object=g,d;function b($){const j=[];for(const _e in $){const et=$[_e];delete et.metadata,j.push(et)}return j}}clone(e){return new this.constructor().copy(this,e)}copy(e,h=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),h===!0)for(let d=0;d<e.children.length;d++){const g=e.children[d];this.add(g.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype.isObject3D=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(e=new Vector3,h=new Vector3,d=new Vector3){this.a=e,this.b=h,this.c=d}static getNormal(e,h,d,g){g.subVectors(d,h),_v0$1.subVectors(e,h),g.cross(_v0$1);const _=g.lengthSq();return _>0?g.multiplyScalar(1/Math.sqrt(_)):g.set(0,0,0)}static getBarycoord(e,h,d,g,_){_v0$1.subVectors(g,h),_v1$3.subVectors(d,h),_v2$2.subVectors(e,h);const b=_v0$1.dot(_v0$1),$=_v0$1.dot(_v1$3),j=_v0$1.dot(_v2$2),_e=_v1$3.dot(_v1$3),et=_v1$3.dot(_v2$2),rt=b*_e-$*$;if(rt===0)return _.set(-2,-1,-1);const tt=1/rt,nt=(_e*j-$*et)*tt,st=(b*et-$*j)*tt;return _.set(1-nt-st,st,nt)}static containsPoint(e,h,d,g){return this.getBarycoord(e,h,d,g,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(e,h,d,g,_,b,$,j){return this.getBarycoord(e,h,d,g,_v3$1),j.set(0,0),j.addScaledVector(_,_v3$1.x),j.addScaledVector(b,_v3$1.y),j.addScaledVector($,_v3$1.z),j}static isFrontFacing(e,h,d,g){return _v0$1.subVectors(d,h),_v1$3.subVectors(e,h),_v0$1.cross(_v1$3).dot(g)<0}set(e,h,d){return this.a.copy(e),this.b.copy(h),this.c.copy(d),this}setFromPointsAndIndices(e,h,d,g){return this.a.copy(e[h]),this.b.copy(e[d]),this.c.copy(e[g]),this}setFromAttributeAndIndices(e,h,d,g){return this.a.fromBufferAttribute(e,h),this.b.fromBufferAttribute(e,d),this.c.fromBufferAttribute(e,g),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,h){return Triangle.getBarycoord(e,this.a,this.b,this.c,h)}getUV(e,h,d,g,_){return Triangle.getUV(e,this.a,this.b,this.c,h,d,g,_)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,h){const d=this.a,g=this.b,_=this.c;let b,$;_vab.subVectors(g,d),_vac.subVectors(_,d),_vap.subVectors(e,d);const j=_vab.dot(_vap),_e=_vac.dot(_vap);if(j<=0&&_e<=0)return h.copy(d);_vbp.subVectors(e,g);const et=_vab.dot(_vbp),rt=_vac.dot(_vbp);if(et>=0&&rt<=et)return h.copy(g);const tt=j*rt-et*_e;if(tt<=0&&j>=0&&et<=0)return b=j/(j-et),h.copy(d).addScaledVector(_vab,b);_vcp.subVectors(e,_);const nt=_vab.dot(_vcp),st=_vac.dot(_vcp);if(st>=0&&nt<=st)return h.copy(_);const at=nt*_e-j*st;if(at<=0&&_e>=0&&st<=0)return $=_e/(_e-st),h.copy(d).addScaledVector(_vac,$);const ct=et*st-nt*rt;if(ct<=0&&rt-et>=0&&nt-st>=0)return _vbc.subVectors(_,g),$=(rt-et)/(rt-et+(nt-st)),h.copy(g).addScaledVector(_vbc,$);const it=1/(ct+at+tt);return b=at*it,$=tt*it,h.copy(d).addScaledVector(_vab,b).addScaledVector(_vac,$)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super();Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const h in e){const d=e[h];if(d===void 0){console.warn("THREE.Material: '"+h+"' parameter is undefined.");continue}if(h==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=d===FlatShading;continue}const g=this[h];if(g===void 0){console.warn("THREE."+this.type+": '"+h+"' is not a property of this material.");continue}g&&g.isColor?g.set(d):g&&g.isVector3&&d&&d.isVector3?g.copy(d):this[h]=d}}toJSON(e){const h=e===void 0||typeof e=="string";h&&(e={textures:{},images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid,d.type=this.type,this.name!==""&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),this.roughness!==void 0&&(d.roughness=this.roughness),this.metalness!==void 0&&(d.metalness=this.metalness),this.sheen!==void 0&&(d.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(d.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(d.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(d.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(d.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(d.shininess=this.shininess),this.clearcoat!==void 0&&(d.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(e).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(e).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(e).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(e).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(e).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(d.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(d.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(d.combine=this.combine)),this.envMapIntensity!==void 0&&(d.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(d.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(d.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(d.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(d.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(d.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(d.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(d.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(d.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(d.size=this.size),this.shadowSide!==null&&(d.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(d.blending=this.blending),this.side!==FrontSide&&(d.side=this.side),this.vertexColors&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),this.transparent===!0&&(d.transparent=this.transparent),d.depthFunc=this.depthFunc,d.depthTest=this.depthTest,d.depthWrite=this.depthWrite,d.colorWrite=this.colorWrite,d.stencilWrite=this.stencilWrite,d.stencilWriteMask=this.stencilWriteMask,d.stencilFunc=this.stencilFunc,d.stencilRef=this.stencilRef,d.stencilFuncMask=this.stencilFuncMask,d.stencilFail=this.stencilFail,d.stencilZFail=this.stencilZFail,d.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(d.rotation=this.rotation),this.polygonOffset===!0&&(d.polygonOffset=!0),this.polygonOffsetFactor!==0&&(d.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(d.linewidth=this.linewidth),this.dashSize!==void 0&&(d.dashSize=this.dashSize),this.gapSize!==void 0&&(d.gapSize=this.gapSize),this.scale!==void 0&&(d.scale=this.scale),this.dithering===!0&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(d.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(d.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(d.wireframe=this.wireframe),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(d.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(d.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(d.flatShading=this.flatShading),this.visible===!1&&(d.visible=!1),this.toneMapped===!1&&(d.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(d.userData=this.userData);function g(_){const b=[];for(const $ in _){const j=_[$];delete j.metadata,b.push(j)}return b}if(h){const _=g(e.textures),b=g(e.images);_.length>0&&(d.textures=_),b.length>0&&(d.images=b)}return d}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const h=e.clippingPlanes;let d=null;if(h!==null){const g=h.length;d=new Array(g);for(let _=0;_!==g;++_)d[_]=h[_].clone()}return this.clippingPlanes=d,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Material.prototype.isMaterial=!0;Material.fromType=function(){return null};class MeshBasicMaterial extends Material{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}MeshBasicMaterial.prototype.isMeshBasicMaterial=!0;const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,h,d){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=h,this.count=e!==void 0?e.length/h:0,this.normalized=d===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,h,d){e*=this.itemSize,d*=h.itemSize;for(let g=0,_=this.itemSize;g<_;g++)this.array[e+g]=h.array[d+g];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const h=this.array;let d=0;for(let g=0,_=e.length;g<_;g++){let b=e[g];b===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",g),b=new Color),h[d++]=b.r,h[d++]=b.g,h[d++]=b.b}return this}copyVector2sArray(e){const h=this.array;let d=0;for(let g=0,_=e.length;g<_;g++){let b=e[g];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",g),b=new Vector2),h[d++]=b.x,h[d++]=b.y}return this}copyVector3sArray(e){const h=this.array;let d=0;for(let g=0,_=e.length;g<_;g++){let b=e[g];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",g),b=new Vector3),h[d++]=b.x,h[d++]=b.y,h[d++]=b.z}return this}copyVector4sArray(e){const h=this.array;let d=0;for(let g=0,_=e.length;g<_;g++){let b=e[g];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",g),b=new Vector4),h[d++]=b.x,h[d++]=b.y,h[d++]=b.z,h[d++]=b.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let h=0,d=this.count;h<d;h++)_vector2$1.fromBufferAttribute(this,h),_vector2$1.applyMatrix3(e),this.setXY(h,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let h=0,d=this.count;h<d;h++)_vector$9.fromBufferAttribute(this,h),_vector$9.applyMatrix3(e),this.setXYZ(h,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let h=0,d=this.count;h<d;h++)_vector$9.x=this.getX(h),_vector$9.y=this.getY(h),_vector$9.z=this.getZ(h),_vector$9.applyMatrix4(e),this.setXYZ(h,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let h=0,d=this.count;h<d;h++)_vector$9.x=this.getX(h),_vector$9.y=this.getY(h),_vector$9.z=this.getZ(h),_vector$9.applyNormalMatrix(e),this.setXYZ(h,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let h=0,d=this.count;h<d;h++)_vector$9.x=this.getX(h),_vector$9.y=this.getY(h),_vector$9.z=this.getZ(h),_vector$9.transformDirection(e),this.setXYZ(h,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,h=0){return this.array.set(e,h),this}getX(e){return this.array[e*this.itemSize]}setX(e,h){return this.array[e*this.itemSize]=h,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,h){return this.array[e*this.itemSize+1]=h,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,h){return this.array[e*this.itemSize+2]=h,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,h){return this.array[e*this.itemSize+3]=h,this}setXY(e,h,d){return e*=this.itemSize,this.array[e+0]=h,this.array[e+1]=d,this}setXYZ(e,h,d,g){return e*=this.itemSize,this.array[e+0]=h,this.array[e+1]=d,this.array[e+2]=g,this}setXYZW(e,h,d,g,_){return e*=this.itemSize,this.array[e+0]=h,this.array[e+1]=d,this.array[e+2]=g,this.array[e+3]=_,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}BufferAttribute.prototype.isBufferAttribute=!0;class Uint16BufferAttribute extends BufferAttribute{constructor(e,h,d){super(new Uint16Array(e),h,d)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,h,d){super(new Uint32Array(e),h,d)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,h,d){super(new Uint16Array(e),h,d)}}Float16BufferAttribute.prototype.isFloat16BufferAttribute=!0;class Float32BufferAttribute extends BufferAttribute{constructor(e,h,d){super(new Float32Array(e),h,d)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super();Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,h){return this.attributes[e]=h,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,h,d=0){this.groups.push({start:e,count:h,materialIndex:d})}clearGroups(){this.groups=[]}setDrawRange(e,h){this.drawRange.start=e,this.drawRange.count=h}applyMatrix4(e){const h=this.attributes.position;h!==void 0&&(h.applyMatrix4(e),h.needsUpdate=!0);const d=this.attributes.normal;if(d!==void 0){const _=new Matrix3().getNormalMatrix(e);d.applyNormalMatrix(_),d.needsUpdate=!0}const g=this.attributes.tangent;return g!==void 0&&(g.transformDirection(e),g.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1.makeRotationFromQuaternion(e),this.applyMatrix4(_m1),this}rotateX(e){return _m1.makeRotationX(e),this.applyMatrix4(_m1),this}rotateY(e){return _m1.makeRotationY(e),this.applyMatrix4(_m1),this}rotateZ(e){return _m1.makeRotationZ(e),this.applyMatrix4(_m1),this}translate(e,h,d){return _m1.makeTranslation(e,h,d),this.applyMatrix4(_m1),this}scale(e,h,d){return _m1.makeScale(e,h,d),this.applyMatrix4(_m1),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const h=[];for(let d=0,g=e.length;d<g;d++){const _=e[d];h.push(_.x,_.y,_.z||0)}return this.setAttribute("position",new Float32BufferAttribute(h,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,h=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),h)for(let d=0,g=h.length;d<g;d++){const _=h[d];_box$1.setFromBufferAttribute(_),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,h=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const d=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(e),h)for(let _=0,b=h.length;_<b;_++){const $=h[_];_boxMorphTargets.setFromBufferAttribute($),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(d);let g=0;for(let _=0,b=e.count;_<b;_++)_vector$8.fromBufferAttribute(e,_),g=Math.max(g,d.distanceToSquared(_vector$8));if(h)for(let _=0,b=h.length;_<b;_++){const $=h[_],j=this.morphTargetsRelative;for(let _e=0,et=$.count;_e<et;_e++)_vector$8.fromBufferAttribute($,_e),j&&(_offset.fromBufferAttribute(e,_e),_vector$8.add(_offset)),g=Math.max(g,d.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(g),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,h=this.attributes;if(e===null||h.position===void 0||h.normal===void 0||h.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const d=e.array,g=h.position.array,_=h.normal.array,b=h.uv.array,$=g.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*$),4));const j=this.getAttribute("tangent").array,_e=[],et=[];for(let Tt=0;Tt<$;Tt++)_e[Tt]=new Vector3,et[Tt]=new Vector3;const rt=new Vector3,tt=new Vector3,nt=new Vector3,st=new Vector2,at=new Vector2,ct=new Vector2,it=new Vector3,lt=new Vector3;function ht(Tt,_t,Mt){rt.fromArray(g,Tt*3),tt.fromArray(g,_t*3),nt.fromArray(g,Mt*3),st.fromArray(b,Tt*2),at.fromArray(b,_t*2),ct.fromArray(b,Mt*2),tt.sub(rt),nt.sub(rt),at.sub(st),ct.sub(st);const Lt=1/(at.x*ct.y-ct.x*at.y);!isFinite(Lt)||(it.copy(tt).multiplyScalar(ct.y).addScaledVector(nt,-at.y).multiplyScalar(Lt),lt.copy(nt).multiplyScalar(at.x).addScaledVector(tt,-ct.x).multiplyScalar(Lt),_e[Tt].add(it),_e[_t].add(it),_e[Mt].add(it),et[Tt].add(lt),et[_t].add(lt),et[Mt].add(lt))}let ut=this.groups;ut.length===0&&(ut=[{start:0,count:d.length}]);for(let Tt=0,_t=ut.length;Tt<_t;++Tt){const Mt=ut[Tt],Lt=Mt.start,Pt=Mt.count;for(let It=Lt,Et=Lt+Pt;It<Et;It+=3)ht(d[It+0],d[It+1],d[It+2])}const dt=new Vector3,pt=new Vector3,mt=new Vector3,yt=new Vector3;function xt(Tt){mt.fromArray(_,Tt*3),yt.copy(mt);const _t=_e[Tt];dt.copy(_t),dt.sub(mt.multiplyScalar(mt.dot(_t))).normalize(),pt.crossVectors(yt,_t);const Lt=pt.dot(et[Tt])<0?-1:1;j[Tt*4]=dt.x,j[Tt*4+1]=dt.y,j[Tt*4+2]=dt.z,j[Tt*4+3]=Lt}for(let Tt=0,_t=ut.length;Tt<_t;++Tt){const Mt=ut[Tt],Lt=Mt.start,Pt=Mt.count;for(let It=Lt,Et=Lt+Pt;It<Et;It+=3)xt(d[It+0]),xt(d[It+1]),xt(d[It+2])}}computeVertexNormals(){const e=this.index,h=this.getAttribute("position");if(h!==void 0){let d=this.getAttribute("normal");if(d===void 0)d=new BufferAttribute(new Float32Array(h.count*3),3),this.setAttribute("normal",d);else for(let tt=0,nt=d.count;tt<nt;tt++)d.setXYZ(tt,0,0,0);const g=new Vector3,_=new Vector3,b=new Vector3,$=new Vector3,j=new Vector3,_e=new Vector3,et=new Vector3,rt=new Vector3;if(e)for(let tt=0,nt=e.count;tt<nt;tt+=3){const st=e.getX(tt+0),at=e.getX(tt+1),ct=e.getX(tt+2);g.fromBufferAttribute(h,st),_.fromBufferAttribute(h,at),b.fromBufferAttribute(h,ct),et.subVectors(b,_),rt.subVectors(g,_),et.cross(rt),$.fromBufferAttribute(d,st),j.fromBufferAttribute(d,at),_e.fromBufferAttribute(d,ct),$.add(et),j.add(et),_e.add(et),d.setXYZ(st,$.x,$.y,$.z),d.setXYZ(at,j.x,j.y,j.z),d.setXYZ(ct,_e.x,_e.y,_e.z)}else for(let tt=0,nt=h.count;tt<nt;tt+=3)g.fromBufferAttribute(h,tt+0),_.fromBufferAttribute(h,tt+1),b.fromBufferAttribute(h,tt+2),et.subVectors(b,_),rt.subVectors(g,_),et.cross(rt),d.setXYZ(tt+0,et.x,et.y,et.z),d.setXYZ(tt+1,et.x,et.y,et.z),d.setXYZ(tt+2,et.x,et.y,et.z);this.normalizeNormals(),d.needsUpdate=!0}}merge(e,h){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}h===void 0&&(h=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const d=this.attributes;for(const g in d){if(e.attributes[g]===void 0)continue;const b=d[g].array,$=e.attributes[g],j=$.array,_e=$.itemSize*h,et=Math.min(j.length,b.length-_e);for(let rt=0,tt=_e;rt<et;rt++,tt++)b[tt]=j[rt]}return this}normalizeNormals(){const e=this.attributes.normal;for(let h=0,d=e.count;h<d;h++)_vector$8.fromBufferAttribute(e,h),_vector$8.normalize(),e.setXYZ(h,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e($,j){const _e=$.array,et=$.itemSize,rt=$.normalized,tt=new _e.constructor(j.length*et);let nt=0,st=0;for(let at=0,ct=j.length;at<ct;at++){$.isInterleavedBufferAttribute?nt=j[at]*$.data.stride+$.offset:nt=j[at]*et;for(let it=0;it<et;it++)tt[st++]=_e[nt++]}return new BufferAttribute(tt,et,rt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const h=new BufferGeometry,d=this.index.array,g=this.attributes;for(const $ in g){const j=g[$],_e=e(j,d);h.setAttribute($,_e)}const _=this.morphAttributes;for(const $ in _){const j=[],_e=_[$];for(let et=0,rt=_e.length;et<rt;et++){const tt=_e[et],nt=e(tt,d);j.push(nt)}h.morphAttributes[$]=j}h.morphTargetsRelative=this.morphTargetsRelative;const b=this.groups;for(let $=0,j=b.length;$<j;$++){const _e=b[$];h.addGroup(_e.start,_e.count,_e.materialIndex)}return h}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const j=this.parameters;for(const _e in j)j[_e]!==void 0&&(e[_e]=j[_e]);return e}e.data={attributes:{}};const h=this.index;h!==null&&(e.data.index={type:h.array.constructor.name,array:Array.prototype.slice.call(h.array)});const d=this.attributes;for(const j in d){const _e=d[j];e.data.attributes[j]=_e.toJSON(e.data)}const g={};let _=!1;for(const j in this.morphAttributes){const _e=this.morphAttributes[j],et=[];for(let rt=0,tt=_e.length;rt<tt;rt++){const nt=_e[rt];et.push(nt.toJSON(e.data))}et.length>0&&(g[j]=et,_=!0)}_&&(e.data.morphAttributes=g,e.data.morphTargetsRelative=this.morphTargetsRelative);const b=this.groups;b.length>0&&(e.data.groups=JSON.parse(JSON.stringify(b)));const $=this.boundingSphere;return $!==null&&(e.data.boundingSphere={center:$.center.toArray(),radius:$.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const h={};this.name=e.name;const d=e.index;d!==null&&this.setIndex(d.clone(h));const g=e.attributes;for(const _e in g){const et=g[_e];this.setAttribute(_e,et.clone(h))}const _=e.morphAttributes;for(const _e in _){const et=[],rt=_[_e];for(let tt=0,nt=rt.length;tt<nt;tt++)et.push(rt[tt].clone(h));this.morphAttributes[_e]=et}this.morphTargetsRelative=e.morphTargetsRelative;const b=e.groups;for(let _e=0,et=b.length;_e<et;_e++){const rt=b[_e];this.addGroup(rt.start,rt.count,rt.materialIndex)}const $=e.boundingBox;$!==null&&(this.boundingBox=$.clone());const j=e.boundingSphere;return j!==null&&(this.boundingSphere=j.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}BufferGeometry.prototype.isBufferGeometry=!0;const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,h=new MeshBasicMaterial){super();this.type="Mesh",this.geometry=e,this.material=h,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const h=e.morphAttributes,d=Object.keys(h);if(d.length>0){const g=h[d[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _=0,b=g.length;_<b;_++){const $=g[_].name||String(_);this.morphTargetInfluences.push(0),this.morphTargetDictionary[$]=_}}}}else{const h=e.morphTargets;h!==void 0&&h.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,h){const d=this.geometry,g=this.material,_=this.matrixWorld;if(g===void 0||(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere$3.copy(d.boundingSphere),_sphere$3.applyMatrix4(_),e.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(_).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),d.boundingBox!==null&&_ray$2.intersectsBox(d.boundingBox)===!1))return;let b;if(d.isBufferGeometry){const $=d.index,j=d.attributes.position,_e=d.morphAttributes.position,et=d.morphTargetsRelative,rt=d.attributes.uv,tt=d.attributes.uv2,nt=d.groups,st=d.drawRange;if($!==null)if(Array.isArray(g))for(let at=0,ct=nt.length;at<ct;at++){const it=nt[at],lt=g[it.materialIndex],ht=Math.max(it.start,st.start),ut=Math.min($.count,Math.min(it.start+it.count,st.start+st.count));for(let dt=ht,pt=ut;dt<pt;dt+=3){const mt=$.getX(dt),yt=$.getX(dt+1),xt=$.getX(dt+2);b=checkBufferGeometryIntersection(this,lt,e,_ray$2,j,_e,et,rt,tt,mt,yt,xt),b&&(b.faceIndex=Math.floor(dt/3),b.face.materialIndex=it.materialIndex,h.push(b))}}else{const at=Math.max(0,st.start),ct=Math.min($.count,st.start+st.count);for(let it=at,lt=ct;it<lt;it+=3){const ht=$.getX(it),ut=$.getX(it+1),dt=$.getX(it+2);b=checkBufferGeometryIntersection(this,g,e,_ray$2,j,_e,et,rt,tt,ht,ut,dt),b&&(b.faceIndex=Math.floor(it/3),h.push(b))}}else if(j!==void 0)if(Array.isArray(g))for(let at=0,ct=nt.length;at<ct;at++){const it=nt[at],lt=g[it.materialIndex],ht=Math.max(it.start,st.start),ut=Math.min(j.count,Math.min(it.start+it.count,st.start+st.count));for(let dt=ht,pt=ut;dt<pt;dt+=3){const mt=dt,yt=dt+1,xt=dt+2;b=checkBufferGeometryIntersection(this,lt,e,_ray$2,j,_e,et,rt,tt,mt,yt,xt),b&&(b.faceIndex=Math.floor(dt/3),b.face.materialIndex=it.materialIndex,h.push(b))}}else{const at=Math.max(0,st.start),ct=Math.min(j.count,st.start+st.count);for(let it=at,lt=ct;it<lt;it+=3){const ht=it,ut=it+1,dt=it+2;b=checkBufferGeometryIntersection(this,g,e,_ray$2,j,_e,et,rt,tt,ht,ut,dt),b&&(b.faceIndex=Math.floor(it/3),h.push(b))}}}else d.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Mesh.prototype.isMesh=!0;function checkIntersection(o,e,h,d,g,_,b,$){let j;if(e.side===BackSide?j=d.intersectTriangle(b,_,g,!0,$):j=d.intersectTriangle(g,_,b,e.side!==DoubleSide,$),j===null)return null;_intersectionPointWorld.copy($),_intersectionPointWorld.applyMatrix4(o.matrixWorld);const _e=h.ray.origin.distanceTo(_intersectionPointWorld);return _e<h.near||_e>h.far?null:{distance:_e,point:_intersectionPointWorld.clone(),object:o}}function checkBufferGeometryIntersection(o,e,h,d,g,_,b,$,j,_e,et,rt){_vA$1.fromBufferAttribute(g,_e),_vB$1.fromBufferAttribute(g,et),_vC$1.fromBufferAttribute(g,rt);const tt=o.morphTargetInfluences;if(_&&tt){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(let st=0,at=_.length;st<at;st++){const ct=tt[st],it=_[st];ct!==0&&(_tempA.fromBufferAttribute(it,_e),_tempB.fromBufferAttribute(it,et),_tempC.fromBufferAttribute(it,rt),b?(_morphA.addScaledVector(_tempA,ct),_morphB.addScaledVector(_tempB,ct),_morphC.addScaledVector(_tempC,ct)):(_morphA.addScaledVector(_tempA.sub(_vA$1),ct),_morphB.addScaledVector(_tempB.sub(_vB$1),ct),_morphC.addScaledVector(_tempC.sub(_vC$1),ct)))}_vA$1.add(_morphA),_vB$1.add(_morphB),_vC$1.add(_morphC)}o.isSkinnedMesh&&(o.boneTransform(_e,_vA$1),o.boneTransform(et,_vB$1),o.boneTransform(rt,_vC$1));const nt=checkIntersection(o,e,h,d,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(nt){$&&(_uvA$1.fromBufferAttribute($,_e),_uvB$1.fromBufferAttribute($,et),_uvC$1.fromBufferAttribute($,rt),nt.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),j&&(_uvA$1.fromBufferAttribute(j,_e),_uvB$1.fromBufferAttribute(j,et),_uvC$1.fromBufferAttribute(j,rt),nt.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const st={a:_e,b:et,c:rt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,st.normal),nt.face=st}return nt}class BoxGeometry extends BufferGeometry{constructor(e=1,h=1,d=1,g=1,_=1,b=1){super();this.type="BoxGeometry",this.parameters={width:e,height:h,depth:d,widthSegments:g,heightSegments:_,depthSegments:b};const $=this;g=Math.floor(g),_=Math.floor(_),b=Math.floor(b);const j=[],_e=[],et=[],rt=[];let tt=0,nt=0;st("z","y","x",-1,-1,d,h,e,b,_,0),st("z","y","x",1,-1,d,h,-e,b,_,1),st("x","z","y",1,1,e,d,h,g,b,2),st("x","z","y",1,-1,e,d,-h,g,b,3),st("x","y","z",1,-1,e,h,d,g,_,4),st("x","y","z",-1,-1,e,h,-d,g,_,5),this.setIndex(j),this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("normal",new Float32BufferAttribute(et,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2));function st(at,ct,it,lt,ht,ut,dt,pt,mt,yt,xt){const Tt=ut/mt,_t=dt/yt,Mt=ut/2,Lt=dt/2,Pt=pt/2,It=mt+1,Et=yt+1;let Ct=0,St=0;const At=new Vector3;for(let Rt=0;Rt<Et;Rt++){const Ot=Rt*_t-Lt;for(let Gt=0;Gt<It;Gt++){const Qt=Gt*Tt-Mt;At[at]=Qt*lt,At[ct]=Ot*ht,At[it]=Pt,_e.push(At.x,At.y,At.z),At[at]=0,At[ct]=0,At[it]=pt>0?1:-1,et.push(At.x,At.y,At.z),rt.push(Gt/mt),rt.push(1-Rt/yt),Ct+=1}}for(let Rt=0;Rt<yt;Rt++)for(let Ot=0;Ot<mt;Ot++){const Gt=tt+Ot+It*Rt,Qt=tt+Ot+It*(Rt+1),ir=tt+(Ot+1)+It*(Rt+1),tr=tt+(Ot+1)+It*Rt;j.push(Gt,Qt,tr),j.push(Qt,ir,tr),St+=6}$.addGroup(nt,St,xt),nt+=St,tt+=Ct}}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(o){const e={};for(const h in o){e[h]={};for(const d in o[h]){const g=o[h][d];g&&(g.isColor||g.isMatrix3||g.isMatrix4||g.isVector2||g.isVector3||g.isVector4||g.isTexture||g.isQuaternion)?e[h][d]=g.clone():Array.isArray(g)?e[h][d]=g.slice():e[h][d]=g}}return e}function mergeUniforms(o){const e={};for(let h=0;h<o.length;h++){const d=cloneUniforms(o[h]);for(const g in d)e[g]=d[g]}return e}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const h=super.toJSON(e);h.glslVersion=this.glslVersion,h.uniforms={};for(const g in this.uniforms){const b=this.uniforms[g].value;b&&b.isTexture?h.uniforms[g]={type:"t",value:b.toJSON(e).uuid}:b&&b.isColor?h.uniforms[g]={type:"c",value:b.getHex()}:b&&b.isVector2?h.uniforms[g]={type:"v2",value:b.toArray()}:b&&b.isVector3?h.uniforms[g]={type:"v3",value:b.toArray()}:b&&b.isVector4?h.uniforms[g]={type:"v4",value:b.toArray()}:b&&b.isMatrix3?h.uniforms[g]={type:"m3",value:b.toArray()}:b&&b.isMatrix4?h.uniforms[g]={type:"m4",value:b.toArray()}:h.uniforms[g]={value:b}}Object.keys(this.defines).length>0&&(h.defines=this.defines),h.vertexShader=this.vertexShader,h.fragmentShader=this.fragmentShader;const d={};for(const g in this.extensions)this.extensions[g]===!0&&(d[g]=!0);return Object.keys(d).length>0&&(h.extensions=d),h}}ShaderMaterial.prototype.isShaderMaterial=!0;class Camera extends Object3D{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(e,h){return super.copy(e,h),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const h=this.matrixWorld.elements;return e.set(-h[8],-h[9],-h[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,h){super.updateWorldMatrix(e,h),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Camera.prototype.isCamera=!0;class PerspectiveCamera extends Camera{constructor(e=50,h=1,d=.1,g=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=d,this.far=g,this.focus=10,this.aspect=h,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,h){return super.copy(e,h),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const h=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(h),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,h,d,g,_,b){this.aspect=e/h,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=h,this.view.offsetX=d,this.view.offsetY=g,this.view.width=_,this.view.height=b,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let h=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,d=2*h,g=this.aspect*d,_=-.5*g;const b=this.view;if(this.view!==null&&this.view.enabled){const j=b.fullWidth,_e=b.fullHeight;_+=b.offsetX*g/j,h-=b.offsetY*d/_e,g*=b.width/j,d*=b.height/_e}const $=this.filmOffset;$!==0&&(_+=e*$/this.getFilmWidth()),this.projectionMatrix.makePerspective(_,_+g,h,h-d,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const h=super.toJSON(e);return h.object.fov=this.fov,h.object.zoom=this.zoom,h.object.near=this.near,h.object.far=this.far,h.object.focus=this.focus,h.object.aspect=this.aspect,this.view!==null&&(h.object.view=Object.assign({},this.view)),h.object.filmGauge=this.filmGauge,h.object.filmOffset=this.filmOffset,h}}PerspectiveCamera.prototype.isPerspectiveCamera=!0;const fov=90,aspect=1;class CubeCamera extends Object3D{constructor(e,h,d){super();if(this.type="CubeCamera",d.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=d;const g=new PerspectiveCamera(fov,aspect,e,h);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new Vector3(1,0,0)),this.add(g);const _=new PerspectiveCamera(fov,aspect,e,h);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new Vector3(-1,0,0)),this.add(_);const b=new PerspectiveCamera(fov,aspect,e,h);b.layers=this.layers,b.up.set(0,0,1),b.lookAt(new Vector3(0,1,0)),this.add(b);const $=new PerspectiveCamera(fov,aspect,e,h);$.layers=this.layers,$.up.set(0,0,-1),$.lookAt(new Vector3(0,-1,0)),this.add($);const j=new PerspectiveCamera(fov,aspect,e,h);j.layers=this.layers,j.up.set(0,-1,0),j.lookAt(new Vector3(0,0,1)),this.add(j);const _e=new PerspectiveCamera(fov,aspect,e,h);_e.layers=this.layers,_e.up.set(0,-1,0),_e.lookAt(new Vector3(0,0,-1)),this.add(_e)}update(e,h){this.parent===null&&this.updateMatrixWorld();const d=this.renderTarget,[g,_,b,$,j,_e]=this.children,et=e.xr.enabled,rt=e.getRenderTarget();e.xr.enabled=!1;const tt=d.texture.generateMipmaps;d.texture.generateMipmaps=!1,e.setRenderTarget(d,0),e.render(h,g),e.setRenderTarget(d,1),e.render(h,_),e.setRenderTarget(d,2),e.render(h,b),e.setRenderTarget(d,3),e.render(h,$),e.setRenderTarget(d,4),e.render(h,j),d.texture.generateMipmaps=tt,e.setRenderTarget(d,5),e.render(h,_e),e.setRenderTarget(rt),e.xr.enabled=et,d.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,h,d,g,_,b,$,j,_e,et){e=e!==void 0?e:[],h=h!==void 0?h:CubeReflectionMapping;super(e,h,d,g,_,b,$,j,_e,et);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}CubeTexture.prototype.isCubeTexture=!0;class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e,h={}){super(e,e,h);const d={width:e,height:e,depth:1},g=[d,d,d,d,d,d];this.texture=new CubeTexture(g,h.mapping,h.wrapS,h.wrapT,h.magFilter,h.minFilter,h.format,h.type,h.anisotropy,h.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=h.generateMipmaps!==void 0?h.generateMipmaps:!1,this.texture.minFilter=h.minFilter!==void 0?h.minFilter:LinearFilter}fromEquirectangularTexture(e,h){this.texture.type=h.type,this.texture.format=RGBAFormat,this.texture.encoding=h.encoding,this.texture.generateMipmaps=h.generateMipmaps,this.texture.minFilter=h.minFilter,this.texture.magFilter=h.magFilter;const d={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},g=new BoxGeometry(5,5,5),_=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,side:BackSide,blending:NoBlending});_.uniforms.tEquirect.value=h;const b=new Mesh(g,_),$=h.minFilter;return h.minFilter===LinearMipmapLinearFilter&&(h.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,b),h.minFilter=$,b.geometry.dispose(),b.material.dispose(),this}clear(e,h,d,g){const _=e.getRenderTarget();for(let b=0;b<6;b++)e.setRenderTarget(this,b),e.clear(h,d,g);e.setRenderTarget(_)}}WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=!0;const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),h=0){this.normal=e,this.constant=h}set(e,h){return this.normal.copy(e),this.constant=h,this}setComponents(e,h,d,g){return this.normal.set(e,h,d),this.constant=g,this}setFromNormalAndCoplanarPoint(e,h){return this.normal.copy(e),this.constant=-h.dot(this.normal),this}setFromCoplanarPoints(e,h,d){const g=_vector1.subVectors(d,h).cross(_vector2.subVectors(e,h)).normalize();return this.setFromNormalAndCoplanarPoint(g,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,h){return h.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,h){const d=e.delta(_vector1),g=this.normal.dot(d);if(g===0)return this.distanceToPoint(e.start)===0?h.copy(e.start):null;const _=-(e.start.dot(this.normal)+this.constant)/g;return _<0||_>1?null:h.copy(d).multiplyScalar(_).add(e.start)}intersectsLine(e){const h=this.distanceToPoint(e.start),d=this.distanceToPoint(e.end);return h<0&&d>0||d<0&&h>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,h){const d=h||_normalMatrix.getNormalMatrix(e),g=this.coplanarPoint(_vector1).applyMatrix4(e),_=this.normal.applyMatrix3(d).normalize();return this.constant=-g.dot(_),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Plane.prototype.isPlane=!0;const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(e=new Plane,h=new Plane,d=new Plane,g=new Plane,_=new Plane,b=new Plane){this.planes=[e,h,d,g,_,b]}set(e,h,d,g,_,b){const $=this.planes;return $[0].copy(e),$[1].copy(h),$[2].copy(d),$[3].copy(g),$[4].copy(_),$[5].copy(b),this}copy(e){const h=this.planes;for(let d=0;d<6;d++)h[d].copy(e.planes[d]);return this}setFromProjectionMatrix(e){const h=this.planes,d=e.elements,g=d[0],_=d[1],b=d[2],$=d[3],j=d[4],_e=d[5],et=d[6],rt=d[7],tt=d[8],nt=d[9],st=d[10],at=d[11],ct=d[12],it=d[13],lt=d[14],ht=d[15];return h[0].setComponents($-g,rt-j,at-tt,ht-ct).normalize(),h[1].setComponents($+g,rt+j,at+tt,ht+ct).normalize(),h[2].setComponents($+_,rt+_e,at+nt,ht+it).normalize(),h[3].setComponents($-_,rt-_e,at-nt,ht-it).normalize(),h[4].setComponents($-b,rt-et,at-st,ht-lt).normalize(),h[5].setComponents($+b,rt+et,at+st,ht+lt).normalize(),this}intersectsObject(e){const h=e.geometry;return h.boundingSphere===null&&h.computeBoundingSphere(),_sphere$2.copy(h.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(e){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(e){const h=this.planes,d=e.center,g=-e.radius;for(let _=0;_<6;_++)if(h[_].distanceToPoint(d)<g)return!1;return!0}intersectsBox(e){const h=this.planes;for(let d=0;d<6;d++){const g=h[d];if(_vector$7.x=g.normal.x>0?e.max.x:e.min.x,_vector$7.y=g.normal.y>0?e.max.y:e.min.y,_vector$7.z=g.normal.z>0?e.max.z:e.min.z,g.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(e){const h=this.planes;for(let d=0;d<6;d++)if(h[d].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let o=null,e=!1,h=null,d=null;function g(_,b){h(_,b),d=o.requestAnimationFrame(g)}return{start:function(){e!==!0&&h!==null&&(d=o.requestAnimationFrame(g),e=!0)},stop:function(){o.cancelAnimationFrame(d),e=!1},setAnimationLoop:function(_){h=_},setContext:function(_){o=_}}}function WebGLAttributes(o,e){const h=e.isWebGL2,d=new WeakMap;function g(_e,et){const rt=_e.array,tt=_e.usage,nt=o.createBuffer();o.bindBuffer(et,nt),o.bufferData(et,rt,tt),_e.onUploadCallback();let st;if(rt instanceof Float32Array)st=5126;else if(rt instanceof Uint16Array)if(_e.isFloat16BufferAttribute)if(h)st=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else st=5123;else if(rt instanceof Int16Array)st=5122;else if(rt instanceof Uint32Array)st=5125;else if(rt instanceof Int32Array)st=5124;else if(rt instanceof Int8Array)st=5120;else if(rt instanceof Uint8Array)st=5121;else if(rt instanceof Uint8ClampedArray)st=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+rt);return{buffer:nt,type:st,bytesPerElement:rt.BYTES_PER_ELEMENT,version:_e.version}}function _(_e,et,rt){const tt=et.array,nt=et.updateRange;o.bindBuffer(rt,_e),nt.count===-1?o.bufferSubData(rt,0,tt):(h?o.bufferSubData(rt,nt.offset*tt.BYTES_PER_ELEMENT,tt,nt.offset,nt.count):o.bufferSubData(rt,nt.offset*tt.BYTES_PER_ELEMENT,tt.subarray(nt.offset,nt.offset+nt.count)),nt.count=-1)}function b(_e){return _e.isInterleavedBufferAttribute&&(_e=_e.data),d.get(_e)}function $(_e){_e.isInterleavedBufferAttribute&&(_e=_e.data);const et=d.get(_e);et&&(o.deleteBuffer(et.buffer),d.delete(_e))}function j(_e,et){if(_e.isGLBufferAttribute){const tt=d.get(_e);(!tt||tt.version<_e.version)&&d.set(_e,{buffer:_e.buffer,type:_e.type,bytesPerElement:_e.elementSize,version:_e.version});return}_e.isInterleavedBufferAttribute&&(_e=_e.data);const rt=d.get(_e);rt===void 0?d.set(_e,g(_e,et)):rt.version<_e.version&&(_(rt.buffer,_e,et),rt.version=_e.version)}return{get:b,remove:$,update:j}}class PlaneGeometry extends BufferGeometry{constructor(e=1,h=1,d=1,g=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:h,widthSegments:d,heightSegments:g};const _=e/2,b=h/2,$=Math.floor(d),j=Math.floor(g),_e=$+1,et=j+1,rt=e/$,tt=h/j,nt=[],st=[],at=[],ct=[];for(let it=0;it<et;it++){const lt=it*tt-b;for(let ht=0;ht<_e;ht++){const ut=ht*rt-_;st.push(ut,-lt,0),at.push(0,0,1),ct.push(ht/$),ct.push(1-it/j)}}for(let it=0;it<j;it++)for(let lt=0;lt<$;lt++){const ht=lt+_e*it,ut=lt+_e*(it+1),dt=lt+1+_e*(it+1),pt=lt+1+_e*it;nt.push(ht,ut,pt),nt.push(ut,dt,pt)}this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2))}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ]
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			float texelIndex = float( vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_vertex,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(o,e,h,d,g,_){const b=new Color(0);let $=g===!0?0:1,j,_e,et=null,rt=0,tt=null;function nt(at,ct){let it=!1,lt=ct.isScene===!0?ct.background:null;lt&&lt.isTexture&&(lt=e.get(lt));const ht=o.xr,ut=ht.getSession&&ht.getSession();ut&&ut.environmentBlendMode==="additive"&&(lt=null),lt===null?st(b,$):lt&&lt.isColor&&(st(lt,1),it=!0),(o.autoClear||it)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),lt&&(lt.isCubeTexture||lt.mapping===CubeUVReflectionMapping)?(_e===void 0&&(_e=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),_e.geometry.deleteAttribute("normal"),_e.geometry.deleteAttribute("uv"),_e.onBeforeRender=function(dt,pt,mt){this.matrixWorld.copyPosition(mt.matrixWorld)},Object.defineProperty(_e.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(_e)),_e.material.uniforms.envMap.value=lt,_e.material.uniforms.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1,(et!==lt||rt!==lt.version||tt!==o.toneMapping)&&(_e.material.needsUpdate=!0,et=lt,rt=lt.version,tt=o.toneMapping),at.unshift(_e,_e.geometry,_e.material,0,0,null)):lt&&lt.isTexture&&(j===void 0&&(j=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),j.geometry.deleteAttribute("normal"),Object.defineProperty(j.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(j)),j.material.uniforms.t2D.value=lt,lt.matrixAutoUpdate===!0&&lt.updateMatrix(),j.material.uniforms.uvTransform.value.copy(lt.matrix),(et!==lt||rt!==lt.version||tt!==o.toneMapping)&&(j.material.needsUpdate=!0,et=lt,rt=lt.version,tt=o.toneMapping),at.unshift(j,j.geometry,j.material,0,0,null))}function st(at,ct){h.buffers.color.setClear(at.r,at.g,at.b,ct,_)}return{getClearColor:function(){return b},setClearColor:function(at,ct=1){b.set(at),$=ct,st(b,$)},getClearAlpha:function(){return $},setClearAlpha:function(at){$=at,st(b,$)},render:nt}}function WebGLBindingStates(o,e,h,d){const g=o.getParameter(34921),_=d.isWebGL2?null:e.get("OES_vertex_array_object"),b=d.isWebGL2||_!==null,$={},j=at(null);let _e=j;function et(Lt,Pt,It,Et,Ct){let St=!1;if(b){const At=st(Et,It,Pt);_e!==At&&(_e=At,tt(_e.object)),St=ct(Et,Ct),St&&it(Et,Ct)}else{const At=Pt.wireframe===!0;(_e.geometry!==Et.id||_e.program!==It.id||_e.wireframe!==At)&&(_e.geometry=Et.id,_e.program=It.id,_e.wireframe=At,St=!0)}Lt.isInstancedMesh===!0&&(St=!0),Ct!==null&&h.update(Ct,34963),St&&(mt(Lt,Pt,It,Et),Ct!==null&&o.bindBuffer(34963,h.get(Ct).buffer))}function rt(){return d.isWebGL2?o.createVertexArray():_.createVertexArrayOES()}function tt(Lt){return d.isWebGL2?o.bindVertexArray(Lt):_.bindVertexArrayOES(Lt)}function nt(Lt){return d.isWebGL2?o.deleteVertexArray(Lt):_.deleteVertexArrayOES(Lt)}function st(Lt,Pt,It){const Et=It.wireframe===!0;let Ct=$[Lt.id];Ct===void 0&&(Ct={},$[Lt.id]=Ct);let St=Ct[Pt.id];St===void 0&&(St={},Ct[Pt.id]=St);let At=St[Et];return At===void 0&&(At=at(rt()),St[Et]=At),At}function at(Lt){const Pt=[],It=[],Et=[];for(let Ct=0;Ct<g;Ct++)Pt[Ct]=0,It[Ct]=0,Et[Ct]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Pt,enabledAttributes:It,attributeDivisors:Et,object:Lt,attributes:{},index:null}}function ct(Lt,Pt){const It=_e.attributes,Et=Lt.attributes;let Ct=0;for(const St in Et){const At=It[St],Rt=Et[St];if(At===void 0||At.attribute!==Rt||At.data!==Rt.data)return!0;Ct++}return _e.attributesNum!==Ct||_e.index!==Pt}function it(Lt,Pt){const It={},Et=Lt.attributes;let Ct=0;for(const St in Et){const At=Et[St],Rt={};Rt.attribute=At,At.data&&(Rt.data=At.data),It[St]=Rt,Ct++}_e.attributes=It,_e.attributesNum=Ct,_e.index=Pt}function lt(){const Lt=_e.newAttributes;for(let Pt=0,It=Lt.length;Pt<It;Pt++)Lt[Pt]=0}function ht(Lt){ut(Lt,0)}function ut(Lt,Pt){const It=_e.newAttributes,Et=_e.enabledAttributes,Ct=_e.attributeDivisors;It[Lt]=1,Et[Lt]===0&&(o.enableVertexAttribArray(Lt),Et[Lt]=1),Ct[Lt]!==Pt&&((d.isWebGL2?o:e.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Lt,Pt),Ct[Lt]=Pt)}function dt(){const Lt=_e.newAttributes,Pt=_e.enabledAttributes;for(let It=0,Et=Pt.length;It<Et;It++)Pt[It]!==Lt[It]&&(o.disableVertexAttribArray(It),Pt[It]=0)}function pt(Lt,Pt,It,Et,Ct,St){d.isWebGL2===!0&&(It===5124||It===5125)?o.vertexAttribIPointer(Lt,Pt,It,Ct,St):o.vertexAttribPointer(Lt,Pt,It,Et,Ct,St)}function mt(Lt,Pt,It,Et){if(d.isWebGL2===!1&&(Lt.isInstancedMesh||Et.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;lt();const Ct=Et.attributes,St=It.getAttributes(),At=Pt.defaultAttributeValues;for(const Rt in St){const Ot=St[Rt];if(Ot.location>=0){let Gt=Ct[Rt];if(Gt===void 0&&(Rt==="instanceMatrix"&&Lt.instanceMatrix&&(Gt=Lt.instanceMatrix),Rt==="instanceColor"&&Lt.instanceColor&&(Gt=Lt.instanceColor)),Gt!==void 0){const Qt=Gt.normalized,ir=Gt.itemSize,tr=h.get(Gt);if(tr===void 0)continue;const Wt=tr.buffer,wr=tr.type,Lr=tr.bytesPerElement;if(Gt.isInterleavedBufferAttribute){const Er=Gt.data,Ar=Er.stride,yr=Gt.offset;if(Er.isInstancedInterleavedBuffer){for(let Yt=0;Yt<Ot.locationSize;Yt++)ut(Ot.location+Yt,Er.meshPerAttribute);Lt.isInstancedMesh!==!0&&Et._maxInstanceCount===void 0&&(Et._maxInstanceCount=Er.meshPerAttribute*Er.count)}else for(let Yt=0;Yt<Ot.locationSize;Yt++)ht(Ot.location+Yt);o.bindBuffer(34962,Wt);for(let Yt=0;Yt<Ot.locationSize;Yt++)pt(Ot.location+Yt,ir/Ot.locationSize,wr,Qt,Ar*Lr,(yr+ir/Ot.locationSize*Yt)*Lr)}else{if(Gt.isInstancedBufferAttribute){for(let Er=0;Er<Ot.locationSize;Er++)ut(Ot.location+Er,Gt.meshPerAttribute);Lt.isInstancedMesh!==!0&&Et._maxInstanceCount===void 0&&(Et._maxInstanceCount=Gt.meshPerAttribute*Gt.count)}else for(let Er=0;Er<Ot.locationSize;Er++)ht(Ot.location+Er);o.bindBuffer(34962,Wt);for(let Er=0;Er<Ot.locationSize;Er++)pt(Ot.location+Er,ir/Ot.locationSize,wr,Qt,ir*Lr,ir/Ot.locationSize*Er*Lr)}}else if(At!==void 0){const Qt=At[Rt];if(Qt!==void 0)switch(Qt.length){case 2:o.vertexAttrib2fv(Ot.location,Qt);break;case 3:o.vertexAttrib3fv(Ot.location,Qt);break;case 4:o.vertexAttrib4fv(Ot.location,Qt);break;default:o.vertexAttrib1fv(Ot.location,Qt)}}}}dt()}function yt(){_t();for(const Lt in $){const Pt=$[Lt];for(const It in Pt){const Et=Pt[It];for(const Ct in Et)nt(Et[Ct].object),delete Et[Ct];delete Pt[It]}delete $[Lt]}}function xt(Lt){if($[Lt.id]===void 0)return;const Pt=$[Lt.id];for(const It in Pt){const Et=Pt[It];for(const Ct in Et)nt(Et[Ct].object),delete Et[Ct];delete Pt[It]}delete $[Lt.id]}function Tt(Lt){for(const Pt in $){const It=$[Pt];if(It[Lt.id]===void 0)continue;const Et=It[Lt.id];for(const Ct in Et)nt(Et[Ct].object),delete Et[Ct];delete It[Lt.id]}}function _t(){Mt(),_e!==j&&(_e=j,tt(_e.object))}function Mt(){j.geometry=null,j.program=null,j.wireframe=!1}return{setup:et,reset:_t,resetDefaultState:Mt,dispose:yt,releaseStatesOfGeometry:xt,releaseStatesOfProgram:Tt,initAttributes:lt,enableAttribute:ht,disableUnusedAttributes:dt}}function WebGLBufferRenderer(o,e,h,d){const g=d.isWebGL2;let _;function b(_e){_=_e}function $(_e,et){o.drawArrays(_,_e,et),h.update(et,_,1)}function j(_e,et,rt){if(rt===0)return;let tt,nt;if(g)tt=o,nt="drawArraysInstanced";else if(tt=e.get("ANGLE_instanced_arrays"),nt="drawArraysInstancedANGLE",tt===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}tt[nt](_,_e,et,rt),h.update(et,_,rt)}this.setMode=b,this.render=$,this.renderInstances=j}function WebGLCapabilities(o,e,h){let d;function g(){if(d!==void 0)return d;if(e.has("EXT_texture_filter_anisotropic")===!0){const mt=e.get("EXT_texture_filter_anisotropic");d=o.getParameter(mt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else d=0;return d}function _(mt){if(mt==="highp"){if(o.getShaderPrecisionFormat(35633,36338).precision>0&&o.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";mt="mediump"}return mt==="mediump"&&o.getShaderPrecisionFormat(35633,36337).precision>0&&o.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const b=typeof WebGL2RenderingContext!="undefined"&&o instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&o instanceof WebGL2ComputeRenderingContext;let $=h.precision!==void 0?h.precision:"highp";const j=_($);j!==$&&(console.warn("THREE.WebGLRenderer:",$,"not supported, using",j,"instead."),$=j);const _e=b||e.has("WEBGL_draw_buffers"),et=h.logarithmicDepthBuffer===!0,rt=o.getParameter(34930),tt=o.getParameter(35660),nt=o.getParameter(3379),st=o.getParameter(34076),at=o.getParameter(34921),ct=o.getParameter(36347),it=o.getParameter(36348),lt=o.getParameter(36349),ht=tt>0,ut=b||e.has("OES_texture_float"),dt=ht&&ut,pt=b?o.getParameter(36183):0;return{isWebGL2:b,drawBuffers:_e,getMaxAnisotropy:g,getMaxPrecision:_,precision:$,logarithmicDepthBuffer:et,maxTextures:rt,maxVertexTextures:tt,maxTextureSize:nt,maxCubemapSize:st,maxAttributes:at,maxVertexUniforms:ct,maxVaryings:it,maxFragmentUniforms:lt,vertexTextures:ht,floatFragmentTextures:ut,floatVertexTextures:dt,maxSamples:pt}}function WebGLClipping(o){const e=this;let h=null,d=0,g=!1,_=!1;const b=new Plane,$=new Matrix3,j={value:null,needsUpdate:!1};this.uniform=j,this.numPlanes=0,this.numIntersection=0,this.init=function(rt,tt,nt){const st=rt.length!==0||tt||d!==0||g;return g=tt,h=et(rt,nt,0),d=rt.length,st},this.beginShadows=function(){_=!0,et(null)},this.endShadows=function(){_=!1,_e()},this.setState=function(rt,tt,nt){const st=rt.clippingPlanes,at=rt.clipIntersection,ct=rt.clipShadows,it=o.get(rt);if(!g||st===null||st.length===0||_&&!ct)_?et(null):_e();else{const lt=_?0:d,ht=lt*4;let ut=it.clippingState||null;j.value=ut,ut=et(st,tt,ht,nt);for(let dt=0;dt!==ht;++dt)ut[dt]=h[dt];it.clippingState=ut,this.numIntersection=at?this.numPlanes:0,this.numPlanes+=lt}};function _e(){j.value!==h&&(j.value=h,j.needsUpdate=d>0),e.numPlanes=d,e.numIntersection=0}function et(rt,tt,nt,st){const at=rt!==null?rt.length:0;let ct=null;if(at!==0){if(ct=j.value,st!==!0||ct===null){const it=nt+at*4,lt=tt.matrixWorldInverse;$.getNormalMatrix(lt),(ct===null||ct.length<it)&&(ct=new Float32Array(it));for(let ht=0,ut=nt;ht!==at;++ht,ut+=4)b.copy(rt[ht]).applyMatrix4(lt,$),b.normal.toArray(ct,ut),ct[ut+3]=b.constant}j.value=ct,j.needsUpdate=!0}return e.numPlanes=at,e.numIntersection=0,ct}}function WebGLCubeMaps(o){let e=new WeakMap;function h(b,$){return $===EquirectangularReflectionMapping?b.mapping=CubeReflectionMapping:$===EquirectangularRefractionMapping&&(b.mapping=CubeRefractionMapping),b}function d(b){if(b&&b.isTexture&&b.isRenderTargetTexture===!1){const $=b.mapping;if($===EquirectangularReflectionMapping||$===EquirectangularRefractionMapping)if(e.has(b)){const j=e.get(b).texture;return h(j,b.mapping)}else{const j=b.image;if(j&&j.height>0){const _e=new WebGLCubeRenderTarget(j.height/2);return _e.fromEquirectangularTexture(o,b),e.set(b,_e),b.addEventListener("dispose",g),h(_e.texture,b.mapping)}else return null}}return b}function g(b){const $=b.target;$.removeEventListener("dispose",g);const j=e.get($);j!==void 0&&(e.delete($),j.dispose())}function _(){e=new WeakMap}return{get:d,dispose:_}}class OrthographicCamera extends Camera{constructor(e=-1,h=1,d=1,g=-1,_=.1,b=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=h,this.top=d,this.bottom=g,this.near=_,this.far=b,this.updateProjectionMatrix()}copy(e,h){return super.copy(e,h),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,h,d,g,_,b){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=h,this.view.offsetX=d,this.view.offsetY=g,this.view.width=_,this.view.height=b,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),h=(this.top-this.bottom)/(2*this.zoom),d=(this.right+this.left)/2,g=(this.top+this.bottom)/2;let _=d-e,b=d+e,$=g+h,j=g-h;if(this.view!==null&&this.view.enabled){const _e=(this.right-this.left)/this.view.fullWidth/this.zoom,et=(this.top-this.bottom)/this.view.fullHeight/this.zoom;_+=_e*this.view.offsetX,b=_+_e*this.view.width,$-=et*this.view.offsetY,j=$-et*this.view.height}this.projectionMatrix.makeOrthographic(_,b,$,j,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const h=super.toJSON(e);return h.object.zoom=this.zoom,h.object.left=this.left,h.object.right=this.right,h.object.top=this.top,h.object.bottom=this.bottom,h.object.near=this.near,h.object.far=this.far,this.view!==null&&(h.object.view=Object.assign({},this.view)),h}}OrthographicCamera.prototype.isOrthographicCamera=!0;const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,h=0,d=.1,g=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const _=this._allocateTargets();return _.depthBuffer=!0,this._sceneToCubeUV(e,d,g,_),h>0&&this._blur(_,0,0,h),this._applyPMREM(_),this._cleanup(_),_}fromEquirectangular(e,h=null){return this._fromTexture(e,h)}fromCubemap(e,h=null){return this._fromTexture(e,h)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget),e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,h){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget();const d=h||this._allocateTargets();return this._textureToCubeUV(e,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(){const e=3*Math.max(this._cubeSize,16*7),h=4*this._cubeSize-32,d={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},g=_createRenderTarget(e,h,d);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,h,d);const{_lodMax:_}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(_)),this._blurMaterial=_getBlurShader(_,e,h)}return g}_compileMaterial(e){const h=new Mesh(this._lodPlanes[0],e);this._renderer.compile(h,_flatCamera)}_sceneToCubeUV(e,h,d,g){const _=90,b=1,$=new PerspectiveCamera(_,b,h,d),j=[1,-1,1,1,1,1],_e=[1,1,1,-1,-1,-1],et=this._renderer,rt=et.autoClear,tt=et.toneMapping;et.getClearColor(_clearColor),et.toneMapping=NoToneMapping,et.autoClear=!1;const nt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),st=new Mesh(new BoxGeometry,nt);let at=!1;const ct=e.background;ct?ct.isColor&&(nt.color.copy(ct),e.background=null,at=!0):(nt.color.copy(_clearColor),at=!0);for(let it=0;it<6;it++){const lt=it%3;lt===0?($.up.set(0,j[it],0),$.lookAt(_e[it],0,0)):lt===1?($.up.set(0,0,j[it]),$.lookAt(0,_e[it],0)):($.up.set(0,j[it],0),$.lookAt(0,0,_e[it]));const ht=this._cubeSize;_setViewport(g,lt*ht,it>2?ht:0,ht,ht),et.setRenderTarget(g),at&&et.render(st,$),et.render(e,$)}st.geometry.dispose(),st.material.dispose(),et.toneMapping=tt,et.autoClear=rt,e.background=ct}_textureToCubeUV(e,h){const d=this._renderer,g=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;g?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const _=g?this._cubemapMaterial:this._equirectMaterial,b=new Mesh(this._lodPlanes[0],_),$=_.uniforms;$.envMap.value=e;const j=this._cubeSize;_setViewport(h,0,0,3*j,2*j),d.setRenderTarget(h),d.render(b,_flatCamera)}_applyPMREM(e){const h=this._renderer,d=h.autoClear;h.autoClear=!1;for(let g=1;g<this._lodPlanes.length;g++){const _=Math.sqrt(this._sigmas[g]*this._sigmas[g]-this._sigmas[g-1]*this._sigmas[g-1]),b=_axisDirections[(g-1)%_axisDirections.length];this._blur(e,g-1,g,_,b)}h.autoClear=d}_blur(e,h,d,g,_){const b=this._pingPongRenderTarget;this._halfBlur(e,b,h,d,g,"latitudinal",_),this._halfBlur(b,e,d,d,g,"longitudinal",_)}_halfBlur(e,h,d,g,_,b,$){const j=this._renderer,_e=this._blurMaterial;b!=="latitudinal"&&b!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const et=3,rt=new Mesh(this._lodPlanes[g],_e),tt=_e.uniforms,nt=this._sizeLods[d]-1,st=isFinite(_)?Math.PI/(2*nt):2*Math.PI/(2*MAX_SAMPLES-1),at=_/st,ct=isFinite(_)?1+Math.floor(et*at):MAX_SAMPLES;ct>MAX_SAMPLES&&console.warn(`sigmaRadians, ${_}, is too large and will clip, as it requested ${ct} samples when the maximum is set to ${MAX_SAMPLES}`);const it=[];let lt=0;for(let mt=0;mt<MAX_SAMPLES;++mt){const yt=mt/at,xt=Math.exp(-yt*yt/2);it.push(xt),mt===0?lt+=xt:mt<ct&&(lt+=2*xt)}for(let mt=0;mt<it.length;mt++)it[mt]=it[mt]/lt;tt.envMap.value=e.texture,tt.samples.value=ct,tt.weights.value=it,tt.latitudinal.value=b==="latitudinal",$&&(tt.poleAxis.value=$);const{_lodMax:ht}=this;tt.dTheta.value=st,tt.mipInt.value=ht-d;const ut=this._sizeLods[g],dt=3*ut*(g>ht-LOD_MIN?g-ht+LOD_MIN:0),pt=4*(this._cubeSize-ut);_setViewport(h,dt,pt,3*ut,2*ut),j.setRenderTarget(h),j.render(rt,_flatCamera)}}function _createPlanes(o){const e=[],h=[],d=[];let g=o;const _=o-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let b=0;b<_;b++){const $=Math.pow(2,g);h.push($);let j=1/$;b>o-LOD_MIN?j=EXTRA_LOD_SIGMA[b-o+LOD_MIN-1]:b===0&&(j=0),d.push(j);const _e=1/($-1),et=-_e/2,rt=1+_e/2,tt=[et,et,rt,et,rt,rt,et,et,rt,rt,et,rt],nt=6,st=6,at=3,ct=2,it=1,lt=new Float32Array(at*st*nt),ht=new Float32Array(ct*st*nt),ut=new Float32Array(it*st*nt);for(let pt=0;pt<nt;pt++){const mt=pt%3*2/3-1,yt=pt>2?0:-1,xt=[mt,yt,0,mt+2/3,yt,0,mt+2/3,yt+1,0,mt,yt,0,mt+2/3,yt+1,0,mt,yt+1,0];lt.set(xt,at*st*pt),ht.set(tt,ct*st*pt);const Tt=[pt,pt,pt,pt,pt,pt];ut.set(Tt,it*st*pt)}const dt=new BufferGeometry;dt.setAttribute("position",new BufferAttribute(lt,at)),dt.setAttribute("uv",new BufferAttribute(ht,ct)),dt.setAttribute("faceIndex",new BufferAttribute(ut,it)),e.push(dt),g>LOD_MIN&&g--}return{lodPlanes:e,sizeLods:h,sigmas:d}}function _createRenderTarget(o,e,h){const d=new WebGLRenderTarget(o,e,h);return d.texture.mapping=CubeUVReflectionMapping,d.texture.name="PMREM.cubeUv",d.scissorTest=!0,d}function _setViewport(o,e,h,d,g){o.viewport.set(e,h,d,g),o.scissor.set(e,h,d,g)}function _getBlurShader(o,e,h){const d=new Float32Array(MAX_SAMPLES),g=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/h,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:d},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:g}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(o){let e=new WeakMap,h=null;function d($){if($&&$.isTexture){const j=$.mapping,_e=j===EquirectangularReflectionMapping||j===EquirectangularRefractionMapping,et=j===CubeReflectionMapping||j===CubeRefractionMapping;if(_e||et)if($.isRenderTargetTexture&&$.needsPMREMUpdate===!0){$.needsPMREMUpdate=!1;let rt=e.get($);return h===null&&(h=new PMREMGenerator(o)),rt=_e?h.fromEquirectangular($,rt):h.fromCubemap($,rt),e.set($,rt),rt.texture}else{if(e.has($))return e.get($).texture;{const rt=$.image;if(_e&&rt&&rt.height>0||et&&rt&&g(rt)){h===null&&(h=new PMREMGenerator(o));const tt=_e?h.fromEquirectangular($):h.fromCubemap($);return e.set($,tt),$.addEventListener("dispose",_),tt.texture}else return null}}}return $}function g($){let j=0;const _e=6;for(let et=0;et<_e;et++)$[et]!==void 0&&j++;return j===_e}function _($){const j=$.target;j.removeEventListener("dispose",_);const _e=e.get(j);_e!==void 0&&(e.delete(j),_e.dispose())}function b(){e=new WeakMap,h!==null&&(h.dispose(),h=null)}return{get:d,dispose:b}}function WebGLExtensions(o){const e={};function h(d){if(e[d]!==void 0)return e[d];let g;switch(d){case"WEBGL_depth_texture":g=o.getExtension("WEBGL_depth_texture")||o.getExtension("MOZ_WEBGL_depth_texture")||o.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":g=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":g=o.getExtension("WEBGL_compressed_texture_s3tc")||o.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":g=o.getExtension("WEBGL_compressed_texture_pvrtc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:g=o.getExtension(d)}return e[d]=g,g}return{has:function(d){return h(d)!==null},init:function(d){d.isWebGL2?h("EXT_color_buffer_float"):(h("WEBGL_depth_texture"),h("OES_texture_float"),h("OES_texture_half_float"),h("OES_texture_half_float_linear"),h("OES_standard_derivatives"),h("OES_element_index_uint"),h("OES_vertex_array_object"),h("ANGLE_instanced_arrays")),h("OES_texture_float_linear"),h("EXT_color_buffer_half_float"),h("WEBGL_multisampled_render_to_texture")},get:function(d){const g=h(d);return g===null&&console.warn("THREE.WebGLRenderer: "+d+" extension not supported."),g}}}function WebGLGeometries(o,e,h,d){const g={},_=new WeakMap;function b(rt){const tt=rt.target;tt.index!==null&&e.remove(tt.index);for(const st in tt.attributes)e.remove(tt.attributes[st]);tt.removeEventListener("dispose",b),delete g[tt.id];const nt=_.get(tt);nt&&(e.remove(nt),_.delete(tt)),d.releaseStatesOfGeometry(tt),tt.isInstancedBufferGeometry===!0&&delete tt._maxInstanceCount,h.memory.geometries--}function $(rt,tt){return g[tt.id]===!0||(tt.addEventListener("dispose",b),g[tt.id]=!0,h.memory.geometries++),tt}function j(rt){const tt=rt.attributes;for(const st in tt)e.update(tt[st],34962);const nt=rt.morphAttributes;for(const st in nt){const at=nt[st];for(let ct=0,it=at.length;ct<it;ct++)e.update(at[ct],34962)}}function _e(rt){const tt=[],nt=rt.index,st=rt.attributes.position;let at=0;if(nt!==null){const lt=nt.array;at=nt.version;for(let ht=0,ut=lt.length;ht<ut;ht+=3){const dt=lt[ht+0],pt=lt[ht+1],mt=lt[ht+2];tt.push(dt,pt,pt,mt,mt,dt)}}else{const lt=st.array;at=st.version;for(let ht=0,ut=lt.length/3-1;ht<ut;ht+=3){const dt=ht+0,pt=ht+1,mt=ht+2;tt.push(dt,pt,pt,mt,mt,dt)}}const ct=new(arrayNeedsUint32(tt)?Uint32BufferAttribute:Uint16BufferAttribute)(tt,1);ct.version=at;const it=_.get(rt);it&&e.remove(it),_.set(rt,ct)}function et(rt){const tt=_.get(rt);if(tt){const nt=rt.index;nt!==null&&tt.version<nt.version&&_e(rt)}else _e(rt);return _.get(rt)}return{get:$,update:j,getWireframeAttribute:et}}function WebGLIndexedBufferRenderer(o,e,h,d){const g=d.isWebGL2;let _;function b(tt){_=tt}let $,j;function _e(tt){$=tt.type,j=tt.bytesPerElement}function et(tt,nt){o.drawElements(_,nt,$,tt*j),h.update(nt,_,1)}function rt(tt,nt,st){if(st===0)return;let at,ct;if(g)at=o,ct="drawElementsInstanced";else if(at=e.get("ANGLE_instanced_arrays"),ct="drawElementsInstancedANGLE",at===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}at[ct](_,nt,$,tt*j,st),h.update(nt,_,st)}this.setMode=b,this.setIndex=_e,this.render=et,this.renderInstances=rt}function WebGLInfo(o){const e={geometries:0,textures:0},h={frame:0,calls:0,triangles:0,points:0,lines:0};function d(_,b,$){switch(h.calls++,b){case 4:h.triangles+=$*(_/3);break;case 1:h.lines+=$*(_/2);break;case 3:h.lines+=$*(_-1);break;case 2:h.lines+=$*_;break;case 0:h.points+=$*_;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",b);break}}function g(){h.frame++,h.calls=0,h.triangles=0,h.points=0,h.lines=0}return{memory:e,render:h,programs:null,autoReset:!0,reset:g,update:d}}function numericalSort(o,e){return o[0]-e[0]}function absNumericalSort(o,e){return Math.abs(e[1])-Math.abs(o[1])}function denormalize(o,e){let h=1;const d=e.isInterleavedBufferAttribute?e.data.array:e.array;d instanceof Int8Array?h=127:d instanceof Int16Array?h=32767:d instanceof Int32Array?h=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",d),o.divideScalar(h)}function WebGLMorphtargets(o,e,h){const d={},g=new Float32Array(8),_=new WeakMap,b=new Vector4,$=[];for(let _e=0;_e<8;_e++)$[_e]=[_e,0];function j(_e,et,rt,tt){const nt=_e.morphTargetInfluences;if(e.isWebGL2===!0){const st=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,at=st!==void 0?st.length:0;let ct=_.get(et);if(ct===void 0||ct.count!==at){let It=function(){Lt.dispose(),_.delete(et),et.removeEventListener("dispose",It)};ct!==void 0&&ct.texture.dispose();const ht=et.morphAttributes.position!==void 0,ut=et.morphAttributes.normal!==void 0,dt=et.morphAttributes.color!==void 0,pt=et.morphAttributes.position||[],mt=et.morphAttributes.normal||[],yt=et.morphAttributes.color||[];let xt=0;ht===!0&&(xt=1),ut===!0&&(xt=2),dt===!0&&(xt=3);let Tt=et.attributes.position.count*xt,_t=1;Tt>e.maxTextureSize&&(_t=Math.ceil(Tt/e.maxTextureSize),Tt=e.maxTextureSize);const Mt=new Float32Array(Tt*_t*4*at),Lt=new DataArrayTexture(Mt,Tt,_t,at);Lt.format=RGBAFormat,Lt.type=FloatType,Lt.needsUpdate=!0;const Pt=xt*4;for(let Et=0;Et<at;Et++){const Ct=pt[Et],St=mt[Et],At=yt[Et],Rt=Tt*_t*4*Et;for(let Ot=0;Ot<Ct.count;Ot++){const Gt=Ot*Pt;ht===!0&&(b.fromBufferAttribute(Ct,Ot),Ct.normalized===!0&&denormalize(b,Ct),Mt[Rt+Gt+0]=b.x,Mt[Rt+Gt+1]=b.y,Mt[Rt+Gt+2]=b.z,Mt[Rt+Gt+3]=0),ut===!0&&(b.fromBufferAttribute(St,Ot),St.normalized===!0&&denormalize(b,St),Mt[Rt+Gt+4]=b.x,Mt[Rt+Gt+5]=b.y,Mt[Rt+Gt+6]=b.z,Mt[Rt+Gt+7]=0),dt===!0&&(b.fromBufferAttribute(At,Ot),At.normalized===!0&&denormalize(b,St),Mt[Rt+Gt+8]=b.x,Mt[Rt+Gt+9]=b.y,Mt[Rt+Gt+10]=b.z,Mt[Rt+Gt+11]=At.itemSize===4?b.w:1)}}ct={count:at,texture:Lt,size:new Vector2(Tt,_t)},_.set(et,ct),et.addEventListener("dispose",It)}let it=0;for(let ht=0;ht<nt.length;ht++)it+=nt[ht];const lt=et.morphTargetsRelative?1:1-it;tt.getUniforms().setValue(o,"morphTargetBaseInfluence",lt),tt.getUniforms().setValue(o,"morphTargetInfluences",nt),tt.getUniforms().setValue(o,"morphTargetsTexture",ct.texture,h),tt.getUniforms().setValue(o,"morphTargetsTextureSize",ct.size)}else{const st=nt===void 0?0:nt.length;let at=d[et.id];if(at===void 0||at.length!==st){at=[];for(let ut=0;ut<st;ut++)at[ut]=[ut,0];d[et.id]=at}for(let ut=0;ut<st;ut++){const dt=at[ut];dt[0]=ut,dt[1]=nt[ut]}at.sort(absNumericalSort);for(let ut=0;ut<8;ut++)ut<st&&at[ut][1]?($[ut][0]=at[ut][0],$[ut][1]=at[ut][1]):($[ut][0]=Number.MAX_SAFE_INTEGER,$[ut][1]=0);$.sort(numericalSort);const ct=et.morphAttributes.position,it=et.morphAttributes.normal;let lt=0;for(let ut=0;ut<8;ut++){const dt=$[ut],pt=dt[0],mt=dt[1];pt!==Number.MAX_SAFE_INTEGER&&mt?(ct&&et.getAttribute("morphTarget"+ut)!==ct[pt]&&et.setAttribute("morphTarget"+ut,ct[pt]),it&&et.getAttribute("morphNormal"+ut)!==it[pt]&&et.setAttribute("morphNormal"+ut,it[pt]),g[ut]=mt,lt+=mt):(ct&&et.hasAttribute("morphTarget"+ut)===!0&&et.deleteAttribute("morphTarget"+ut),it&&et.hasAttribute("morphNormal"+ut)===!0&&et.deleteAttribute("morphNormal"+ut),g[ut]=0)}const ht=et.morphTargetsRelative?1:1-lt;tt.getUniforms().setValue(o,"morphTargetBaseInfluence",ht),tt.getUniforms().setValue(o,"morphTargetInfluences",g)}}return{update:j}}function WebGLObjects(o,e,h,d){let g=new WeakMap;function _(j){const _e=d.render.frame,et=j.geometry,rt=e.get(j,et);return g.get(rt)!==_e&&(e.update(rt),g.set(rt,_e)),j.isInstancedMesh&&(j.hasEventListener("dispose",$)===!1&&j.addEventListener("dispose",$),h.update(j.instanceMatrix,34962),j.instanceColor!==null&&h.update(j.instanceColor,34962)),rt}function b(){g=new WeakMap}function $(j){const _e=j.target;_e.removeEventListener("dispose",$),h.remove(_e.instanceMatrix),_e.instanceColor!==null&&h.remove(_e.instanceColor)}return{update:_,dispose:b}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(o,e,h){const d=o[0];if(d<=0||d>0)return o;const g=e*h;let _=arrayCacheF32[g];if(_===void 0&&(_=new Float32Array(g),arrayCacheF32[g]=_),e!==0){d.toArray(_,0);for(let b=1,$=0;b!==e;++b)$+=h,o[b].toArray(_,$)}return _}function arraysEqual(o,e){if(o.length!==e.length)return!1;for(let h=0,d=o.length;h<d;h++)if(o[h]!==e[h])return!1;return!0}function copyArray(o,e){for(let h=0,d=e.length;h<d;h++)o[h]=e[h]}function allocTexUnits(o,e){let h=arrayCacheI32[e];h===void 0&&(h=new Int32Array(e),arrayCacheI32[e]=h);for(let d=0;d!==e;++d)h[d]=o.allocateTextureUnit();return h}function setValueV1f(o,e){const h=this.cache;h[0]!==e&&(o.uniform1f(this.addr,e),h[0]=e)}function setValueV2f(o,e){const h=this.cache;if(e.x!==void 0)(h[0]!==e.x||h[1]!==e.y)&&(o.uniform2f(this.addr,e.x,e.y),h[0]=e.x,h[1]=e.y);else{if(arraysEqual(h,e))return;o.uniform2fv(this.addr,e),copyArray(h,e)}}function setValueV3f(o,e){const h=this.cache;if(e.x!==void 0)(h[0]!==e.x||h[1]!==e.y||h[2]!==e.z)&&(o.uniform3f(this.addr,e.x,e.y,e.z),h[0]=e.x,h[1]=e.y,h[2]=e.z);else if(e.r!==void 0)(h[0]!==e.r||h[1]!==e.g||h[2]!==e.b)&&(o.uniform3f(this.addr,e.r,e.g,e.b),h[0]=e.r,h[1]=e.g,h[2]=e.b);else{if(arraysEqual(h,e))return;o.uniform3fv(this.addr,e),copyArray(h,e)}}function setValueV4f(o,e){const h=this.cache;if(e.x!==void 0)(h[0]!==e.x||h[1]!==e.y||h[2]!==e.z||h[3]!==e.w)&&(o.uniform4f(this.addr,e.x,e.y,e.z,e.w),h[0]=e.x,h[1]=e.y,h[2]=e.z,h[3]=e.w);else{if(arraysEqual(h,e))return;o.uniform4fv(this.addr,e),copyArray(h,e)}}function setValueM2(o,e){const h=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(h,e))return;o.uniformMatrix2fv(this.addr,!1,e),copyArray(h,e)}else{if(arraysEqual(h,d))return;mat2array.set(d),o.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(h,d)}}function setValueM3(o,e){const h=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(h,e))return;o.uniformMatrix3fv(this.addr,!1,e),copyArray(h,e)}else{if(arraysEqual(h,d))return;mat3array.set(d),o.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(h,d)}}function setValueM4(o,e){const h=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(h,e))return;o.uniformMatrix4fv(this.addr,!1,e),copyArray(h,e)}else{if(arraysEqual(h,d))return;mat4array.set(d),o.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(h,d)}}function setValueV1i(o,e){const h=this.cache;h[0]!==e&&(o.uniform1i(this.addr,e),h[0]=e)}function setValueV2i(o,e){const h=this.cache;arraysEqual(h,e)||(o.uniform2iv(this.addr,e),copyArray(h,e))}function setValueV3i(o,e){const h=this.cache;arraysEqual(h,e)||(o.uniform3iv(this.addr,e),copyArray(h,e))}function setValueV4i(o,e){const h=this.cache;arraysEqual(h,e)||(o.uniform4iv(this.addr,e),copyArray(h,e))}function setValueV1ui(o,e){const h=this.cache;h[0]!==e&&(o.uniform1ui(this.addr,e),h[0]=e)}function setValueV2ui(o,e){const h=this.cache;arraysEqual(h,e)||(o.uniform2uiv(this.addr,e),copyArray(h,e))}function setValueV3ui(o,e){const h=this.cache;arraysEqual(h,e)||(o.uniform3uiv(this.addr,e),copyArray(h,e))}function setValueV4ui(o,e){const h=this.cache;arraysEqual(h,e)||(o.uniform4uiv(this.addr,e),copyArray(h,e))}function setValueT1(o,e,h){const d=this.cache,g=h.allocateTextureUnit();d[0]!==g&&(o.uniform1i(this.addr,g),d[0]=g),h.setTexture2D(e||emptyTexture,g)}function setValueT3D1(o,e,h){const d=this.cache,g=h.allocateTextureUnit();d[0]!==g&&(o.uniform1i(this.addr,g),d[0]=g),h.setTexture3D(e||empty3dTexture,g)}function setValueT6(o,e,h){const d=this.cache,g=h.allocateTextureUnit();d[0]!==g&&(o.uniform1i(this.addr,g),d[0]=g),h.setTextureCube(e||emptyCubeTexture,g)}function setValueT2DArray1(o,e,h){const d=this.cache,g=h.allocateTextureUnit();d[0]!==g&&(o.uniform1i(this.addr,g),d[0]=g),h.setTexture2DArray(e||emptyArrayTexture,g)}function getSingularSetter(o){switch(o){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(o,e){o.uniform1fv(this.addr,e)}function setValueV2fArray(o,e){const h=flatten(e,this.size,2);o.uniform2fv(this.addr,h)}function setValueV3fArray(o,e){const h=flatten(e,this.size,3);o.uniform3fv(this.addr,h)}function setValueV4fArray(o,e){const h=flatten(e,this.size,4);o.uniform4fv(this.addr,h)}function setValueM2Array(o,e){const h=flatten(e,this.size,4);o.uniformMatrix2fv(this.addr,!1,h)}function setValueM3Array(o,e){const h=flatten(e,this.size,9);o.uniformMatrix3fv(this.addr,!1,h)}function setValueM4Array(o,e){const h=flatten(e,this.size,16);o.uniformMatrix4fv(this.addr,!1,h)}function setValueV1iArray(o,e){o.uniform1iv(this.addr,e)}function setValueV2iArray(o,e){o.uniform2iv(this.addr,e)}function setValueV3iArray(o,e){o.uniform3iv(this.addr,e)}function setValueV4iArray(o,e){o.uniform4iv(this.addr,e)}function setValueV1uiArray(o,e){o.uniform1uiv(this.addr,e)}function setValueV2uiArray(o,e){o.uniform2uiv(this.addr,e)}function setValueV3uiArray(o,e){o.uniform3uiv(this.addr,e)}function setValueV4uiArray(o,e){o.uniform4uiv(this.addr,e)}function setValueT1Array(o,e,h){const d=e.length,g=allocTexUnits(h,d);o.uniform1iv(this.addr,g);for(let _=0;_!==d;++_)h.setTexture2D(e[_]||emptyTexture,g[_])}function setValueT3DArray(o,e,h){const d=e.length,g=allocTexUnits(h,d);o.uniform1iv(this.addr,g);for(let _=0;_!==d;++_)h.setTexture3D(e[_]||empty3dTexture,g[_])}function setValueT6Array(o,e,h){const d=e.length,g=allocTexUnits(h,d);o.uniform1iv(this.addr,g);for(let _=0;_!==d;++_)h.setTextureCube(e[_]||emptyCubeTexture,g[_])}function setValueT2DArrayArray(o,e,h){const d=e.length,g=allocTexUnits(h,d);o.uniform1iv(this.addr,g);for(let _=0;_!==d;++_)h.setTexture2DArray(e[_]||emptyArrayTexture,g[_])}function getPureArraySetter(o){switch(o){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}function SingleUniform(o,e,h){this.id=o,this.addr=h,this.cache=[],this.setValue=getSingularSetter(e.type)}function PureArrayUniform(o,e,h){this.id=o,this.addr=h,this.cache=[],this.size=e.size,this.setValue=getPureArraySetter(e.type)}PureArrayUniform.prototype.updateCache=function(o){const e=this.cache;o instanceof Float32Array&&e.length!==o.length&&(this.cache=new Float32Array(o.length)),copyArray(e,o)};function StructuredUniform(o){this.id=o,this.seq=[],this.map={}}StructuredUniform.prototype.setValue=function(o,e,h){const d=this.seq;for(let g=0,_=d.length;g!==_;++g){const b=d[g];b.setValue(o,e[b.id],h)}};const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(o,e){o.seq.push(e),o.map[e.id]=e}function parseUniform(o,e,h){const d=o.name,g=d.length;for(RePathPart.lastIndex=0;;){const _=RePathPart.exec(d),b=RePathPart.lastIndex;let $=_[1];const j=_[2]==="]",_e=_[3];if(j&&($=$|0),_e===void 0||_e==="["&&b+2===g){addUniform(h,_e===void 0?new SingleUniform($,o,e):new PureArrayUniform($,o,e));break}else{let rt=h.map[$];rt===void 0&&(rt=new StructuredUniform($),addUniform(h,rt)),h=rt}}}function WebGLUniforms(o,e){this.seq=[],this.map={};const h=o.getProgramParameter(e,35718);for(let d=0;d<h;++d){const g=o.getActiveUniform(e,d),_=o.getUniformLocation(e,g.name);parseUniform(g,_,this)}}WebGLUniforms.prototype.setValue=function(o,e,h,d){const g=this.map[e];g!==void 0&&g.setValue(o,h,d)};WebGLUniforms.prototype.setOptional=function(o,e,h){const d=e[h];d!==void 0&&this.setValue(o,h,d)};WebGLUniforms.upload=function(o,e,h,d){for(let g=0,_=e.length;g!==_;++g){const b=e[g],$=h[b.id];$.needsUpdate!==!1&&b.setValue(o,$.value,d)}};WebGLUniforms.seqWithValue=function(o,e){const h=[];for(let d=0,g=o.length;d!==g;++d){const _=o[d];_.id in e&&h.push(_)}return h};function WebGLShader(o,e,h){const d=o.createShader(e);return o.shaderSource(d,h),o.compileShader(d),d}let programIdCount=0;function addLineNumbers(o){const e=o.split(`
`);for(let h=0;h<e.length;h++)e[h]=h+1+": "+e[h];return e.join(`
`)}function getEncodingComponents(o){switch(o){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",o),["Linear","( value )"]}}function getShaderErrors(o,e,h){const d=o.getShaderParameter(e,35713),g=o.getShaderInfoLog(e).trim();return d&&g===""?"":h.toUpperCase()+`

`+g+`

`+addLineNumbers(o.getShaderSource(e))}function getTexelEncodingFunction(o,e){const h=getEncodingComponents(e);return"vec4 "+o+"( vec4 value ) { return LinearTo"+h[0]+h[1]+"; }"}function getToneMappingFunction(o,e){let h;switch(e){case LinearToneMapping:h="Linear";break;case ReinhardToneMapping:h="Reinhard";break;case CineonToneMapping:h="OptimizedCineon";break;case ACESFilmicToneMapping:h="ACESFilmic";break;case CustomToneMapping:h="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),h="Linear"}return"vec3 "+o+"( vec3 color ) { return "+h+"ToneMapping( color ); }"}function generateExtensions(o){return[o.extensionDerivatives||!!o.envMapCubeUVHeight||o.bumpMap||o.tangentSpaceNormalMap||o.clearcoatNormalMap||o.flatShading||o.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(o.extensionFragDepth||o.logarithmicDepthBuffer)&&o.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",o.extensionDrawBuffers&&o.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(o.extensionShaderTextureLOD||o.envMap||o.transmission)&&o.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(o){const e=[];for(const h in o){const d=o[h];d!==!1&&e.push("#define "+h+" "+d)}return e.join(`
`)}function fetchAttributeLocations(o,e){const h={},d=o.getProgramParameter(e,35721);for(let g=0;g<d;g++){const _=o.getActiveAttrib(e,g),b=_.name;let $=1;_.type===35674&&($=2),_.type===35675&&($=3),_.type===35676&&($=4),h[b]={type:_.type,location:o.getAttribLocation(e,b),locationSize:$}}return h}function filterEmptyLine(o){return o!==""}function replaceLightNums(o,e){return o.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(o,e){return o.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(o){return o.replace(includePattern,includeReplacer)}function includeReplacer(o,e){const h=ShaderChunk[e];if(h===void 0)throw new Error("Can not resolve #include <"+e+">");return resolveIncludes(h)}const deprecatedUnrollLoopPattern=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(o){return o.replace(unrollLoopPattern,loopReplacer).replace(deprecatedUnrollLoopPattern,deprecatedLoopReplacer)}function deprecatedLoopReplacer(o,e,h,d){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer(o,e,h,d)}function loopReplacer(o,e,h,d){let g="";for(let _=parseInt(e);_<parseInt(h);_++)g+=d.replace(/\[\s*i\s*\]/g,"[ "+_+" ]").replace(/UNROLLED_LOOP_INDEX/g,_);return g}function generatePrecision(o){let e="precision "+o.precision+` float;
precision `+o.precision+" int;";return o.precision==="highp"?e+=`
#define HIGH_PRECISION`:o.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:o.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(o){let e="SHADOWMAP_TYPE_BASIC";return o.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":o.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":o.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(o){let e="ENVMAP_TYPE_CUBE";if(o.envMap)switch(o.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(o){let e="ENVMAP_MODE_REFLECTION";if(o.envMap)switch(o.envMapMode){case CubeRefractionMapping:case CubeUVRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(o){let e="ENVMAP_BLENDING_NONE";if(o.envMap)switch(o.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(o){const e=o.envMapCubeUVHeight;if(e===null)return null;const h=Math.log2(e/32+1)+3,d=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,h),7*16)),texelHeight:d,maxMip:h}}function WebGLProgram(o,e,h,d){const g=o.getContext(),_=h.defines;let b=h.vertexShader,$=h.fragmentShader;const j=generateShadowMapTypeDefine(h),_e=generateEnvMapTypeDefine(h),et=generateEnvMapModeDefine(h),rt=generateEnvMapBlendingDefine(h),tt=generateCubeUVSize(h),nt=h.isWebGL2?"":generateExtensions(h),st=generateDefines(_),at=g.createProgram();let ct,it,lt=h.glslVersion?"#version "+h.glslVersion+`
`:"";h.isRawShaderMaterial?(ct=[st].filter(filterEmptyLine).join(`
`),ct.length>0&&(ct+=`
`),it=[nt,st].filter(filterEmptyLine).join(`
`),it.length>0&&(it+=`
`)):(ct=[generatePrecision(h),"#define SHADER_NAME "+h.shaderName,st,h.instancing?"#define USE_INSTANCING":"",h.instancingColor?"#define USE_INSTANCING_COLOR":"",h.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+h.maxBones,h.useFog&&h.fog?"#define USE_FOG":"",h.useFog&&h.fogExp2?"#define FOG_EXP2":"",h.map?"#define USE_MAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+et:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.normalMap&&h.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",h.normalMap&&h.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",h.clearcoatMap?"#define USE_CLEARCOATMAP":"",h.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",h.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",h.displacementMap&&h.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",h.specularColorMap?"#define USE_SPECULARCOLORMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.transmission?"#define USE_TRANSMISSION":"",h.transmissionMap?"#define USE_TRANSMISSIONMAP":"",h.thicknessMap?"#define USE_THICKNESSMAP":"",h.sheenColorMap?"#define USE_SHEENCOLORMAP":"",h.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",h.vertexTangents?"#define USE_TANGENT":"",h.vertexColors?"#define USE_COLOR":"",h.vertexAlphas?"#define USE_COLOR_ALPHA":"",h.vertexUvs?"#define USE_UV":"",h.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",h.flatShading?"#define FLAT_SHADED":"",h.skinning?"#define USE_SKINNING":"",h.useVertexTexture?"#define BONE_TEXTURE":"",h.morphTargets?"#define USE_MORPHTARGETS":"",h.morphNormals&&h.flatShading===!1?"#define USE_MORPHNORMALS":"",h.morphColors&&h.isWebGL2?"#define USE_MORPHCOLORS":"",h.morphTargetsCount>0&&h.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",h.morphTargetsCount>0&&h.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+h.morphTextureStride:"",h.morphTargetsCount>0&&h.isWebGL2?"#define MORPHTARGETS_COUNT "+h.morphTargetsCount:"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"",h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+j:"",h.sizeAttenuation?"#define USE_SIZEATTENUATION":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&h.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),it=[nt,generatePrecision(h),"#define SHADER_NAME "+h.shaderName,st,h.useFog&&h.fog?"#define USE_FOG":"",h.useFog&&h.fogExp2?"#define FOG_EXP2":"",h.map?"#define USE_MAP":"",h.matcap?"#define USE_MATCAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+_e:"",h.envMap?"#define "+et:"",h.envMap?"#define "+rt:"",tt?"#define CUBEUV_TEXEL_WIDTH "+tt.texelWidth:"",tt?"#define CUBEUV_TEXEL_HEIGHT "+tt.texelHeight:"",tt?"#define CUBEUV_MAX_MIP "+tt.maxMip+".0":"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.normalMap&&h.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",h.normalMap&&h.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",h.clearcoat?"#define USE_CLEARCOAT":"",h.clearcoatMap?"#define USE_CLEARCOATMAP":"",h.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",h.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",h.specularColorMap?"#define USE_SPECULARCOLORMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.alphaTest?"#define USE_ALPHATEST":"",h.sheen?"#define USE_SHEEN":"",h.sheenColorMap?"#define USE_SHEENCOLORMAP":"",h.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",h.transmission?"#define USE_TRANSMISSION":"",h.transmissionMap?"#define USE_TRANSMISSIONMAP":"",h.thicknessMap?"#define USE_THICKNESSMAP":"",h.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",h.vertexTangents?"#define USE_TANGENT":"",h.vertexColors||h.instancingColor?"#define USE_COLOR":"",h.vertexAlphas?"#define USE_COLOR_ALPHA":"",h.vertexUvs?"#define USE_UV":"",h.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",h.gradientMap?"#define USE_GRADIENTMAP":"",h.flatShading?"#define FLAT_SHADED":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"",h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+j:"",h.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",h.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&h.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",h.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",h.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",h.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",h.toneMapping):"",h.dithering?"#define DITHERING":"",h.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",h.outputEncoding),h.depthPacking?"#define DEPTH_PACKING "+h.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),b=resolveIncludes(b),b=replaceLightNums(b,h),b=replaceClippingPlaneNums(b,h),$=resolveIncludes($),$=replaceLightNums($,h),$=replaceClippingPlaneNums($,h),b=unrollLoops(b),$=unrollLoops($),h.isWebGL2&&h.isRawShaderMaterial!==!0&&(lt=`#version 300 es
`,ct=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ct,it=["#define varying in",h.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",h.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+it);const ht=lt+ct+b,ut=lt+it+$,dt=WebGLShader(g,35633,ht),pt=WebGLShader(g,35632,ut);if(g.attachShader(at,dt),g.attachShader(at,pt),h.index0AttributeName!==void 0?g.bindAttribLocation(at,0,h.index0AttributeName):h.morphTargets===!0&&g.bindAttribLocation(at,0,"position"),g.linkProgram(at),o.debug.checkShaderErrors){const xt=g.getProgramInfoLog(at).trim(),Tt=g.getShaderInfoLog(dt).trim(),_t=g.getShaderInfoLog(pt).trim();let Mt=!0,Lt=!0;if(g.getProgramParameter(at,35714)===!1){Mt=!1;const Pt=getShaderErrors(g,dt,"vertex"),It=getShaderErrors(g,pt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+g.getError()+" - VALIDATE_STATUS "+g.getProgramParameter(at,35715)+`

Program Info Log: `+xt+`
`+Pt+`
`+It)}else xt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",xt):(Tt===""||_t==="")&&(Lt=!1);Lt&&(this.diagnostics={runnable:Mt,programLog:xt,vertexShader:{log:Tt,prefix:ct},fragmentShader:{log:_t,prefix:it}})}g.deleteShader(dt),g.deleteShader(pt);let mt;this.getUniforms=function(){return mt===void 0&&(mt=new WebGLUniforms(g,at)),mt};let yt;return this.getAttributes=function(){return yt===void 0&&(yt=fetchAttributeLocations(g,at)),yt},this.destroy=function(){d.releaseStatesOfProgram(this),g.deleteProgram(at),this.program=void 0},this.name=h.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=at,this.vertexShader=dt,this.fragmentShader=pt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const h=e.vertexShader,d=e.fragmentShader,g=this._getShaderStage(h),_=this._getShaderStage(d),b=this._getShaderCacheForMaterial(e);return b.has(g)===!1&&(b.add(g),g.usedTimes++),b.has(_)===!1&&(b.add(_),_.usedTimes++),this}remove(e){const h=this.materialCache.get(e);for(const d of h)d.usedTimes--,d.usedTimes===0&&this.shaderCache.delete(d);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const h=this.materialCache;return h.has(e)===!1&&h.set(e,new Set),h.get(e)}_getShaderStage(e){const h=this.shaderCache;if(h.has(e)===!1){const d=new WebGLShaderStage;h.set(e,d)}return h.get(e)}}class WebGLShaderStage{constructor(){this.id=_id++,this.usedTimes=0}}function WebGLPrograms(o,e,h,d,g,_,b){const $=new Layers,j=new WebGLShaderCache,_e=[],et=g.isWebGL2,rt=g.logarithmicDepthBuffer,tt=g.floatVertexTextures,nt=g.maxVertexUniforms,st=g.vertexTextures;let at=g.precision;const ct={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function it(_t){const Lt=_t.skeleton.bones;if(tt)return 1024;{const It=Math.floor((nt-20)/4),Et=Math.min(It,Lt.length);return Et<Lt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Lt.length+" bones. This GPU supports "+Et+"."),0):Et}}function lt(_t,Mt,Lt,Pt,It){const Et=Pt.fog,Ct=It.geometry,St=_t.isMeshStandardMaterial?Pt.environment:null,At=(_t.isMeshStandardMaterial?h:e).get(_t.envMap||St),Rt=!!At&&(At.mapping===CubeUVReflectionMapping||At.mapping===CubeUVRefractionMapping)?At.image.height:null,Ot=ct[_t.type],Gt=It.isSkinnedMesh?it(It):0;_t.precision!==null&&(at=g.getMaxPrecision(_t.precision),at!==_t.precision&&console.warn("THREE.WebGLProgram.getParameters:",_t.precision,"not supported, using",at,"instead."));const Qt=Ct.morphAttributes.position||Ct.morphAttributes.normal||Ct.morphAttributes.color,ir=Qt!==void 0?Qt.length:0;let tr=0;Ct.morphAttributes.position!==void 0&&(tr=1),Ct.morphAttributes.normal!==void 0&&(tr=2),Ct.morphAttributes.color!==void 0&&(tr=3);let Wt,wr,Lr,Er;if(Ot){const ur=ShaderLib[Ot];Wt=ur.vertexShader,wr=ur.fragmentShader}else Wt=_t.vertexShader,wr=_t.fragmentShader,j.update(_t),Lr=j.getVertexShaderID(_t),Er=j.getFragmentShaderID(_t);const Ar=o.getRenderTarget(),yr=_t.alphaTest>0,Yt=_t.clearcoat>0;return{isWebGL2:et,shaderID:Ot,shaderName:_t.type,vertexShader:Wt,fragmentShader:wr,defines:_t.defines,customVertexShaderID:Lr,customFragmentShaderID:Er,isRawShaderMaterial:_t.isRawShaderMaterial===!0,glslVersion:_t.glslVersion,precision:at,instancing:It.isInstancedMesh===!0,instancingColor:It.isInstancedMesh===!0&&It.instanceColor!==null,supportsVertexTextures:st,outputEncoding:Ar===null?o.outputEncoding:Ar.isXRRenderTarget===!0?Ar.texture.encoding:LinearEncoding,map:!!_t.map,matcap:!!_t.matcap,envMap:!!At,envMapMode:At&&At.mapping,envMapCubeUVHeight:Rt,lightMap:!!_t.lightMap,aoMap:!!_t.aoMap,emissiveMap:!!_t.emissiveMap,bumpMap:!!_t.bumpMap,normalMap:!!_t.normalMap,objectSpaceNormalMap:_t.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:_t.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!_t.map&&_t.map.isVideoTexture===!0&&_t.map.encoding===sRGBEncoding,clearcoat:Yt,clearcoatMap:Yt&&!!_t.clearcoatMap,clearcoatRoughnessMap:Yt&&!!_t.clearcoatRoughnessMap,clearcoatNormalMap:Yt&&!!_t.clearcoatNormalMap,displacementMap:!!_t.displacementMap,roughnessMap:!!_t.roughnessMap,metalnessMap:!!_t.metalnessMap,specularMap:!!_t.specularMap,specularIntensityMap:!!_t.specularIntensityMap,specularColorMap:!!_t.specularColorMap,opaque:_t.transparent===!1&&_t.blending===NormalBlending,alphaMap:!!_t.alphaMap,alphaTest:yr,gradientMap:!!_t.gradientMap,sheen:_t.sheen>0,sheenColorMap:!!_t.sheenColorMap,sheenRoughnessMap:!!_t.sheenRoughnessMap,transmission:_t.transmission>0,transmissionMap:!!_t.transmissionMap,thicknessMap:!!_t.thicknessMap,combine:_t.combine,vertexTangents:!!_t.normalMap&&!!Ct.attributes.tangent,vertexColors:_t.vertexColors,vertexAlphas:_t.vertexColors===!0&&!!Ct.attributes.color&&Ct.attributes.color.itemSize===4,vertexUvs:!!_t.map||!!_t.bumpMap||!!_t.normalMap||!!_t.specularMap||!!_t.alphaMap||!!_t.emissiveMap||!!_t.roughnessMap||!!_t.metalnessMap||!!_t.clearcoatMap||!!_t.clearcoatRoughnessMap||!!_t.clearcoatNormalMap||!!_t.displacementMap||!!_t.transmissionMap||!!_t.thicknessMap||!!_t.specularIntensityMap||!!_t.specularColorMap||!!_t.sheenColorMap||!!_t.sheenRoughnessMap,uvsVertexOnly:!(!!_t.map||!!_t.bumpMap||!!_t.normalMap||!!_t.specularMap||!!_t.alphaMap||!!_t.emissiveMap||!!_t.roughnessMap||!!_t.metalnessMap||!!_t.clearcoatNormalMap||_t.transmission>0||!!_t.transmissionMap||!!_t.thicknessMap||!!_t.specularIntensityMap||!!_t.specularColorMap||_t.sheen>0||!!_t.sheenColorMap||!!_t.sheenRoughnessMap)&&!!_t.displacementMap,fog:!!Et,useFog:_t.fog,fogExp2:Et&&Et.isFogExp2,flatShading:!!_t.flatShading,sizeAttenuation:_t.sizeAttenuation,logarithmicDepthBuffer:rt,skinning:It.isSkinnedMesh===!0&&Gt>0,maxBones:Gt,useVertexTexture:tt,morphTargets:Ct.morphAttributes.position!==void 0,morphNormals:Ct.morphAttributes.normal!==void 0,morphColors:Ct.morphAttributes.color!==void 0,morphTargetsCount:ir,morphTextureStride:tr,numDirLights:Mt.directional.length,numPointLights:Mt.point.length,numSpotLights:Mt.spot.length,numRectAreaLights:Mt.rectArea.length,numHemiLights:Mt.hemi.length,numDirLightShadows:Mt.directionalShadowMap.length,numPointLightShadows:Mt.pointShadowMap.length,numSpotLightShadows:Mt.spotShadowMap.length,numClippingPlanes:b.numPlanes,numClipIntersection:b.numIntersection,dithering:_t.dithering,shadowMapEnabled:o.shadowMap.enabled&&Lt.length>0,shadowMapType:o.shadowMap.type,toneMapping:_t.toneMapped?o.toneMapping:NoToneMapping,physicallyCorrectLights:o.physicallyCorrectLights,premultipliedAlpha:_t.premultipliedAlpha,doubleSided:_t.side===DoubleSide,flipSided:_t.side===BackSide,depthPacking:_t.depthPacking!==void 0?_t.depthPacking:!1,index0AttributeName:_t.index0AttributeName,extensionDerivatives:_t.extensions&&_t.extensions.derivatives,extensionFragDepth:_t.extensions&&_t.extensions.fragDepth,extensionDrawBuffers:_t.extensions&&_t.extensions.drawBuffers,extensionShaderTextureLOD:_t.extensions&&_t.extensions.shaderTextureLOD,rendererExtensionFragDepth:et||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:et||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:et||d.has("EXT_shader_texture_lod"),customProgramCacheKey:_t.customProgramCacheKey()}}function ht(_t){const Mt=[];if(_t.shaderID?Mt.push(_t.shaderID):(Mt.push(_t.customVertexShaderID),Mt.push(_t.customFragmentShaderID)),_t.defines!==void 0)for(const Lt in _t.defines)Mt.push(Lt),Mt.push(_t.defines[Lt]);return _t.isRawShaderMaterial===!1&&(ut(Mt,_t),dt(Mt,_t),Mt.push(o.outputEncoding)),Mt.push(_t.customProgramCacheKey),Mt.join()}function ut(_t,Mt){_t.push(Mt.precision),_t.push(Mt.outputEncoding),_t.push(Mt.envMapMode),_t.push(Mt.envMapCubeUVHeight),_t.push(Mt.combine),_t.push(Mt.vertexUvs),_t.push(Mt.fogExp2),_t.push(Mt.sizeAttenuation),_t.push(Mt.maxBones),_t.push(Mt.morphTargetsCount),_t.push(Mt.morphAttributeCount),_t.push(Mt.numDirLights),_t.push(Mt.numPointLights),_t.push(Mt.numSpotLights),_t.push(Mt.numHemiLights),_t.push(Mt.numRectAreaLights),_t.push(Mt.numDirLightShadows),_t.push(Mt.numPointLightShadows),_t.push(Mt.numSpotLightShadows),_t.push(Mt.shadowMapType),_t.push(Mt.toneMapping),_t.push(Mt.numClippingPlanes),_t.push(Mt.numClipIntersection)}function dt(_t,Mt){$.disableAll(),Mt.isWebGL2&&$.enable(0),Mt.supportsVertexTextures&&$.enable(1),Mt.instancing&&$.enable(2),Mt.instancingColor&&$.enable(3),Mt.map&&$.enable(4),Mt.matcap&&$.enable(5),Mt.envMap&&$.enable(6),Mt.lightMap&&$.enable(7),Mt.aoMap&&$.enable(8),Mt.emissiveMap&&$.enable(9),Mt.bumpMap&&$.enable(10),Mt.normalMap&&$.enable(11),Mt.objectSpaceNormalMap&&$.enable(12),Mt.tangentSpaceNormalMap&&$.enable(13),Mt.clearcoat&&$.enable(14),Mt.clearcoatMap&&$.enable(15),Mt.clearcoatRoughnessMap&&$.enable(16),Mt.clearcoatNormalMap&&$.enable(17),Mt.displacementMap&&$.enable(18),Mt.specularMap&&$.enable(19),Mt.roughnessMap&&$.enable(20),Mt.metalnessMap&&$.enable(21),Mt.gradientMap&&$.enable(22),Mt.alphaMap&&$.enable(23),Mt.alphaTest&&$.enable(24),Mt.vertexColors&&$.enable(25),Mt.vertexAlphas&&$.enable(26),Mt.vertexUvs&&$.enable(27),Mt.vertexTangents&&$.enable(28),Mt.uvsVertexOnly&&$.enable(29),Mt.fog&&$.enable(30),_t.push($.mask),$.disableAll(),Mt.useFog&&$.enable(0),Mt.flatShading&&$.enable(1),Mt.logarithmicDepthBuffer&&$.enable(2),Mt.skinning&&$.enable(3),Mt.useVertexTexture&&$.enable(4),Mt.morphTargets&&$.enable(5),Mt.morphNormals&&$.enable(6),Mt.morphColors&&$.enable(7),Mt.premultipliedAlpha&&$.enable(8),Mt.shadowMapEnabled&&$.enable(9),Mt.physicallyCorrectLights&&$.enable(10),Mt.doubleSided&&$.enable(11),Mt.flipSided&&$.enable(12),Mt.depthPacking&&$.enable(13),Mt.dithering&&$.enable(14),Mt.specularIntensityMap&&$.enable(15),Mt.specularColorMap&&$.enable(16),Mt.transmission&&$.enable(17),Mt.transmissionMap&&$.enable(18),Mt.thicknessMap&&$.enable(19),Mt.sheen&&$.enable(20),Mt.sheenColorMap&&$.enable(21),Mt.sheenRoughnessMap&&$.enable(22),Mt.decodeVideoTexture&&$.enable(23),Mt.opaque&&$.enable(24),_t.push($.mask)}function pt(_t){const Mt=ct[_t.type];let Lt;if(Mt){const Pt=ShaderLib[Mt];Lt=UniformsUtils.clone(Pt.uniforms)}else Lt=_t.uniforms;return Lt}function mt(_t,Mt){let Lt;for(let Pt=0,It=_e.length;Pt<It;Pt++){const Et=_e[Pt];if(Et.cacheKey===Mt){Lt=Et,++Lt.usedTimes;break}}return Lt===void 0&&(Lt=new WebGLProgram(o,Mt,_t,_),_e.push(Lt)),Lt}function yt(_t){if(--_t.usedTimes==0){const Mt=_e.indexOf(_t);_e[Mt]=_e[_e.length-1],_e.pop(),_t.destroy()}}function xt(_t){j.remove(_t)}function Tt(){j.dispose()}return{getParameters:lt,getProgramCacheKey:ht,getUniforms:pt,acquireProgram:mt,releaseProgram:yt,releaseShaderCache:xt,programs:_e,dispose:Tt}}function WebGLProperties(){let o=new WeakMap;function e(_){let b=o.get(_);return b===void 0&&(b={},o.set(_,b)),b}function h(_){o.delete(_)}function d(_,b,$){o.get(_)[b]=$}function g(){o=new WeakMap}return{get:e,remove:h,update:d,dispose:g}}function painterSortStable(o,e){return o.groupOrder!==e.groupOrder?o.groupOrder-e.groupOrder:o.renderOrder!==e.renderOrder?o.renderOrder-e.renderOrder:o.material.id!==e.material.id?o.material.id-e.material.id:o.z!==e.z?o.z-e.z:o.id-e.id}function reversePainterSortStable(o,e){return o.groupOrder!==e.groupOrder?o.groupOrder-e.groupOrder:o.renderOrder!==e.renderOrder?o.renderOrder-e.renderOrder:o.z!==e.z?e.z-o.z:o.id-e.id}function WebGLRenderList(){const o=[];let e=0;const h=[],d=[],g=[];function _(){e=0,h.length=0,d.length=0,g.length=0}function b(rt,tt,nt,st,at,ct){let it=o[e];return it===void 0?(it={id:rt.id,object:rt,geometry:tt,material:nt,groupOrder:st,renderOrder:rt.renderOrder,z:at,group:ct},o[e]=it):(it.id=rt.id,it.object=rt,it.geometry=tt,it.material=nt,it.groupOrder=st,it.renderOrder=rt.renderOrder,it.z=at,it.group=ct),e++,it}function $(rt,tt,nt,st,at,ct){const it=b(rt,tt,nt,st,at,ct);nt.transmission>0?d.push(it):nt.transparent===!0?g.push(it):h.push(it)}function j(rt,tt,nt,st,at,ct){const it=b(rt,tt,nt,st,at,ct);nt.transmission>0?d.unshift(it):nt.transparent===!0?g.unshift(it):h.unshift(it)}function _e(rt,tt){h.length>1&&h.sort(rt||painterSortStable),d.length>1&&d.sort(tt||reversePainterSortStable),g.length>1&&g.sort(tt||reversePainterSortStable)}function et(){for(let rt=e,tt=o.length;rt<tt;rt++){const nt=o[rt];if(nt.id===null)break;nt.id=null,nt.object=null,nt.geometry=null,nt.material=null,nt.group=null}}return{opaque:h,transmissive:d,transparent:g,init:_,push:$,unshift:j,finish:et,sort:_e}}function WebGLRenderLists(){let o=new WeakMap;function e(d,g){let _;return o.has(d)===!1?(_=new WebGLRenderList,o.set(d,[_])):g>=o.get(d).length?(_=new WebGLRenderList,o.get(d).push(_)):_=o.get(d)[g],_}function h(){o=new WeakMap}return{get:e,dispose:h}}function UniformsCache(){const o={};return{get:function(e){if(o[e.id]!==void 0)return o[e.id];let h;switch(e.type){case"DirectionalLight":h={direction:new Vector3,color:new Color};break;case"SpotLight":h={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":h={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":h={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":h={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return o[e.id]=h,h}}}function ShadowUniformsCache(){const o={};return{get:function(e){if(o[e.id]!==void 0)return o[e.id];let h;switch(e.type){case"DirectionalLight":h={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":h={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":h={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return o[e.id]=h,h}}}let nextVersion=0;function shadowCastingLightsFirst(o,e){return(e.castShadow?1:0)-(o.castShadow?1:0)}function WebGLLights(o,e){const h=new UniformsCache,d=ShadowUniformsCache(),g={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let et=0;et<9;et++)g.probe.push(new Vector3);const _=new Vector3,b=new Matrix4,$=new Matrix4;function j(et,rt){let tt=0,nt=0,st=0;for(let xt=0;xt<9;xt++)g.probe[xt].set(0,0,0);let at=0,ct=0,it=0,lt=0,ht=0,ut=0,dt=0,pt=0;et.sort(shadowCastingLightsFirst);const mt=rt!==!0?Math.PI:1;for(let xt=0,Tt=et.length;xt<Tt;xt++){const _t=et[xt],Mt=_t.color,Lt=_t.intensity,Pt=_t.distance,It=_t.shadow&&_t.shadow.map?_t.shadow.map.texture:null;if(_t.isAmbientLight)tt+=Mt.r*Lt*mt,nt+=Mt.g*Lt*mt,st+=Mt.b*Lt*mt;else if(_t.isLightProbe)for(let Et=0;Et<9;Et++)g.probe[Et].addScaledVector(_t.sh.coefficients[Et],Lt);else if(_t.isDirectionalLight){const Et=h.get(_t);if(Et.color.copy(_t.color).multiplyScalar(_t.intensity*mt),_t.castShadow){const Ct=_t.shadow,St=d.get(_t);St.shadowBias=Ct.bias,St.shadowNormalBias=Ct.normalBias,St.shadowRadius=Ct.radius,St.shadowMapSize=Ct.mapSize,g.directionalShadow[at]=St,g.directionalShadowMap[at]=It,g.directionalShadowMatrix[at]=_t.shadow.matrix,ut++}g.directional[at]=Et,at++}else if(_t.isSpotLight){const Et=h.get(_t);if(Et.position.setFromMatrixPosition(_t.matrixWorld),Et.color.copy(Mt).multiplyScalar(Lt*mt),Et.distance=Pt,Et.coneCos=Math.cos(_t.angle),Et.penumbraCos=Math.cos(_t.angle*(1-_t.penumbra)),Et.decay=_t.decay,_t.castShadow){const Ct=_t.shadow,St=d.get(_t);St.shadowBias=Ct.bias,St.shadowNormalBias=Ct.normalBias,St.shadowRadius=Ct.radius,St.shadowMapSize=Ct.mapSize,g.spotShadow[it]=St,g.spotShadowMap[it]=It,g.spotShadowMatrix[it]=_t.shadow.matrix,pt++}g.spot[it]=Et,it++}else if(_t.isRectAreaLight){const Et=h.get(_t);Et.color.copy(Mt).multiplyScalar(Lt),Et.halfWidth.set(_t.width*.5,0,0),Et.halfHeight.set(0,_t.height*.5,0),g.rectArea[lt]=Et,lt++}else if(_t.isPointLight){const Et=h.get(_t);if(Et.color.copy(_t.color).multiplyScalar(_t.intensity*mt),Et.distance=_t.distance,Et.decay=_t.decay,_t.castShadow){const Ct=_t.shadow,St=d.get(_t);St.shadowBias=Ct.bias,St.shadowNormalBias=Ct.normalBias,St.shadowRadius=Ct.radius,St.shadowMapSize=Ct.mapSize,St.shadowCameraNear=Ct.camera.near,St.shadowCameraFar=Ct.camera.far,g.pointShadow[ct]=St,g.pointShadowMap[ct]=It,g.pointShadowMatrix[ct]=_t.shadow.matrix,dt++}g.point[ct]=Et,ct++}else if(_t.isHemisphereLight){const Et=h.get(_t);Et.skyColor.copy(_t.color).multiplyScalar(Lt*mt),Et.groundColor.copy(_t.groundColor).multiplyScalar(Lt*mt),g.hemi[ht]=Et,ht++}}lt>0&&(e.isWebGL2||o.has("OES_texture_float_linear")===!0?(g.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,g.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):o.has("OES_texture_half_float_linear")===!0?(g.rectAreaLTC1=UniformsLib.LTC_HALF_1,g.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),g.ambient[0]=tt,g.ambient[1]=nt,g.ambient[2]=st;const yt=g.hash;(yt.directionalLength!==at||yt.pointLength!==ct||yt.spotLength!==it||yt.rectAreaLength!==lt||yt.hemiLength!==ht||yt.numDirectionalShadows!==ut||yt.numPointShadows!==dt||yt.numSpotShadows!==pt)&&(g.directional.length=at,g.spot.length=it,g.rectArea.length=lt,g.point.length=ct,g.hemi.length=ht,g.directionalShadow.length=ut,g.directionalShadowMap.length=ut,g.pointShadow.length=dt,g.pointShadowMap.length=dt,g.spotShadow.length=pt,g.spotShadowMap.length=pt,g.directionalShadowMatrix.length=ut,g.pointShadowMatrix.length=dt,g.spotShadowMatrix.length=pt,yt.directionalLength=at,yt.pointLength=ct,yt.spotLength=it,yt.rectAreaLength=lt,yt.hemiLength=ht,yt.numDirectionalShadows=ut,yt.numPointShadows=dt,yt.numSpotShadows=pt,g.version=nextVersion++)}function _e(et,rt){let tt=0,nt=0,st=0,at=0,ct=0;const it=rt.matrixWorldInverse;for(let lt=0,ht=et.length;lt<ht;lt++){const ut=et[lt];if(ut.isDirectionalLight){const dt=g.directional[tt];dt.direction.setFromMatrixPosition(ut.matrixWorld),_.setFromMatrixPosition(ut.target.matrixWorld),dt.direction.sub(_),dt.direction.transformDirection(it),tt++}else if(ut.isSpotLight){const dt=g.spot[st];dt.position.setFromMatrixPosition(ut.matrixWorld),dt.position.applyMatrix4(it),dt.direction.setFromMatrixPosition(ut.matrixWorld),_.setFromMatrixPosition(ut.target.matrixWorld),dt.direction.sub(_),dt.direction.transformDirection(it),st++}else if(ut.isRectAreaLight){const dt=g.rectArea[at];dt.position.setFromMatrixPosition(ut.matrixWorld),dt.position.applyMatrix4(it),$.identity(),b.copy(ut.matrixWorld),b.premultiply(it),$.extractRotation(b),dt.halfWidth.set(ut.width*.5,0,0),dt.halfHeight.set(0,ut.height*.5,0),dt.halfWidth.applyMatrix4($),dt.halfHeight.applyMatrix4($),at++}else if(ut.isPointLight){const dt=g.point[nt];dt.position.setFromMatrixPosition(ut.matrixWorld),dt.position.applyMatrix4(it),nt++}else if(ut.isHemisphereLight){const dt=g.hemi[ct];dt.direction.setFromMatrixPosition(ut.matrixWorld),dt.direction.transformDirection(it),dt.direction.normalize(),ct++}}}return{setup:j,setupView:_e,state:g}}function WebGLRenderState(o,e){const h=new WebGLLights(o,e),d=[],g=[];function _(){d.length=0,g.length=0}function b(rt){d.push(rt)}function $(rt){g.push(rt)}function j(rt){h.setup(d,rt)}function _e(rt){h.setupView(d,rt)}return{init:_,state:{lightsArray:d,shadowsArray:g,lights:h},setupLights:j,setupLightsView:_e,pushLight:b,pushShadow:$}}function WebGLRenderStates(o,e){let h=new WeakMap;function d(_,b=0){let $;return h.has(_)===!1?($=new WebGLRenderState(o,e),h.set(_,[$])):b>=h.get(_).length?($=new WebGLRenderState(o,e),h.get(_).push($)):$=h.get(_)[b],$}function g(){h=new WeakMap}return{get:d,dispose:g}}class MeshDepthMaterial extends Material{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}MeshDepthMaterial.prototype.isMeshDepthMaterial=!0;class MeshDistanceMaterial extends Material{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0;const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(o,e,h){let d=new Frustum;const g=new Vector2,_=new Vector2,b=new Vector4,$=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),j=new MeshDistanceMaterial,_e={},et=h.maxTextureSize,rt={0:BackSide,1:FrontSide,2:DoubleSide},tt=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),nt=tt.clone();nt.defines.HORIZONTAL_PASS=1;const st=new BufferGeometry;st.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const at=new Mesh(st,tt),ct=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(ut,dt,pt){if(ct.enabled===!1||ct.autoUpdate===!1&&ct.needsUpdate===!1||ut.length===0)return;const mt=o.getRenderTarget(),yt=o.getActiveCubeFace(),xt=o.getActiveMipmapLevel(),Tt=o.state;Tt.setBlending(NoBlending),Tt.buffers.color.setClear(1,1,1,1),Tt.buffers.depth.setTest(!0),Tt.setScissorTest(!1);for(let _t=0,Mt=ut.length;_t<Mt;_t++){const Lt=ut[_t],Pt=Lt.shadow;if(Pt===void 0){console.warn("THREE.WebGLShadowMap:",Lt,"has no shadow.");continue}if(Pt.autoUpdate===!1&&Pt.needsUpdate===!1)continue;g.copy(Pt.mapSize);const It=Pt.getFrameExtents();if(g.multiply(It),_.copy(Pt.mapSize),(g.x>et||g.y>et)&&(g.x>et&&(_.x=Math.floor(et/It.x),g.x=_.x*It.x,Pt.mapSize.x=_.x),g.y>et&&(_.y=Math.floor(et/It.y),g.y=_.y*It.y,Pt.mapSize.y=_.y)),Pt.map===null&&!Pt.isPointLightShadow&&this.type===VSMShadowMap){const Ct={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat};Pt.map=new WebGLRenderTarget(g.x,g.y,Ct),Pt.map.texture.name=Lt.name+".shadowMap",Pt.mapPass=new WebGLRenderTarget(g.x,g.y,Ct),Pt.camera.updateProjectionMatrix()}if(Pt.map===null){const Ct={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};Pt.map=new WebGLRenderTarget(g.x,g.y,Ct),Pt.map.texture.name=Lt.name+".shadowMap",Pt.camera.updateProjectionMatrix()}o.setRenderTarget(Pt.map),o.clear();const Et=Pt.getViewportCount();for(let Ct=0;Ct<Et;Ct++){const St=Pt.getViewport(Ct);b.set(_.x*St.x,_.y*St.y,_.x*St.z,_.y*St.w),Tt.viewport(b),Pt.updateMatrices(Lt,Ct),d=Pt.getFrustum(),ht(dt,pt,Pt.camera,Lt,this.type)}!Pt.isPointLightShadow&&this.type===VSMShadowMap&&it(Pt,pt),Pt.needsUpdate=!1}ct.needsUpdate=!1,o.setRenderTarget(mt,yt,xt)};function it(ut,dt){const pt=e.update(at);tt.defines.VSM_SAMPLES!==ut.blurSamples&&(tt.defines.VSM_SAMPLES=ut.blurSamples,nt.defines.VSM_SAMPLES=ut.blurSamples,tt.needsUpdate=!0,nt.needsUpdate=!0),tt.uniforms.shadow_pass.value=ut.map.texture,tt.uniforms.resolution.value=ut.mapSize,tt.uniforms.radius.value=ut.radius,o.setRenderTarget(ut.mapPass),o.clear(),o.renderBufferDirect(dt,null,pt,tt,at,null),nt.uniforms.shadow_pass.value=ut.mapPass.texture,nt.uniforms.resolution.value=ut.mapSize,nt.uniforms.radius.value=ut.radius,o.setRenderTarget(ut.map),o.clear(),o.renderBufferDirect(dt,null,pt,nt,at,null)}function lt(ut,dt,pt,mt,yt,xt){let Tt=null;const _t=pt.isPointLight===!0?ut.customDistanceMaterial:ut.customDepthMaterial;if(_t!==void 0?Tt=_t:Tt=pt.isPointLight===!0?j:$,o.localClippingEnabled&&dt.clipShadows===!0&&dt.clippingPlanes.length!==0||dt.displacementMap&&dt.displacementScale!==0||dt.alphaMap&&dt.alphaTest>0){const Mt=Tt.uuid,Lt=dt.uuid;let Pt=_e[Mt];Pt===void 0&&(Pt={},_e[Mt]=Pt);let It=Pt[Lt];It===void 0&&(It=Tt.clone(),Pt[Lt]=It),Tt=It}return Tt.visible=dt.visible,Tt.wireframe=dt.wireframe,xt===VSMShadowMap?Tt.side=dt.shadowSide!==null?dt.shadowSide:dt.side:Tt.side=dt.shadowSide!==null?dt.shadowSide:rt[dt.side],Tt.alphaMap=dt.alphaMap,Tt.alphaTest=dt.alphaTest,Tt.clipShadows=dt.clipShadows,Tt.clippingPlanes=dt.clippingPlanes,Tt.clipIntersection=dt.clipIntersection,Tt.displacementMap=dt.displacementMap,Tt.displacementScale=dt.displacementScale,Tt.displacementBias=dt.displacementBias,Tt.wireframeLinewidth=dt.wireframeLinewidth,Tt.linewidth=dt.linewidth,pt.isPointLight===!0&&Tt.isMeshDistanceMaterial===!0&&(Tt.referencePosition.setFromMatrixPosition(pt.matrixWorld),Tt.nearDistance=mt,Tt.farDistance=yt),Tt}function ht(ut,dt,pt,mt,yt){if(ut.visible===!1)return;if(ut.layers.test(dt.layers)&&(ut.isMesh||ut.isLine||ut.isPoints)&&(ut.castShadow||ut.receiveShadow&&yt===VSMShadowMap)&&(!ut.frustumCulled||d.intersectsObject(ut))){ut.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,ut.matrixWorld);const _t=e.update(ut),Mt=ut.material;if(Array.isArray(Mt)){const Lt=_t.groups;for(let Pt=0,It=Lt.length;Pt<It;Pt++){const Et=Lt[Pt],Ct=Mt[Et.materialIndex];if(Ct&&Ct.visible){const St=lt(ut,Ct,mt,pt.near,pt.far,yt);o.renderBufferDirect(pt,null,_t,St,ut,Et)}}}else if(Mt.visible){const Lt=lt(ut,Mt,mt,pt.near,pt.far,yt);o.renderBufferDirect(pt,null,_t,Lt,ut,null)}}const Tt=ut.children;for(let _t=0,Mt=Tt.length;_t<Mt;_t++)ht(Tt[_t],dt,pt,mt,yt)}}function WebGLState(o,e,h){const d=h.isWebGL2;function g(){let Kt=!1;const Br=new Vector4;let cr=null;const ar=new Vector4(0,0,0,0);return{setMask:function(pr){cr!==pr&&!Kt&&(o.colorMask(pr,pr,pr,pr),cr=pr)},setLocked:function(pr){Kt=pr},setClear:function(pr,rr,ln,wn,Kn){Kn===!0&&(pr*=wn,rr*=wn,ln*=wn),Br.set(pr,rr,ln,wn),ar.equals(Br)===!1&&(o.clearColor(pr,rr,ln,wn),ar.copy(Br))},reset:function(){Kt=!1,cr=null,ar.set(-1,0,0,0)}}}function _(){let Kt=!1,Br=null,cr=null,ar=null;return{setTest:function(pr){pr?tr(2929):Wt(2929)},setMask:function(pr){Br!==pr&&!Kt&&(o.depthMask(pr),Br=pr)},setFunc:function(pr){if(cr!==pr){if(pr)switch(pr){case NeverDepth:o.depthFunc(512);break;case AlwaysDepth:o.depthFunc(519);break;case LessDepth:o.depthFunc(513);break;case LessEqualDepth:o.depthFunc(515);break;case EqualDepth:o.depthFunc(514);break;case GreaterEqualDepth:o.depthFunc(518);break;case GreaterDepth:o.depthFunc(516);break;case NotEqualDepth:o.depthFunc(517);break;default:o.depthFunc(515)}else o.depthFunc(515);cr=pr}},setLocked:function(pr){Kt=pr},setClear:function(pr){ar!==pr&&(o.clearDepth(pr),ar=pr)},reset:function(){Kt=!1,Br=null,cr=null,ar=null}}}function b(){let Kt=!1,Br=null,cr=null,ar=null,pr=null,rr=null,ln=null,wn=null,Kn=null;return{setTest:function(Fn){Kt||(Fn?tr(2960):Wt(2960))},setMask:function(Fn){Br!==Fn&&!Kt&&(o.stencilMask(Fn),Br=Fn)},setFunc:function(Fn,er,sr){(cr!==Fn||ar!==er||pr!==sr)&&(o.stencilFunc(Fn,er,sr),cr=Fn,ar=er,pr=sr)},setOp:function(Fn,er,sr){(rr!==Fn||ln!==er||wn!==sr)&&(o.stencilOp(Fn,er,sr),rr=Fn,ln=er,wn=sr)},setLocked:function(Fn){Kt=Fn},setClear:function(Fn){Kn!==Fn&&(o.clearStencil(Fn),Kn=Fn)},reset:function(){Kt=!1,Br=null,cr=null,ar=null,pr=null,rr=null,ln=null,wn=null,Kn=null}}}const $=new g,j=new _,_e=new b;let et={},rt={},tt=new WeakMap,nt=[],st=null,at=!1,ct=null,it=null,lt=null,ht=null,ut=null,dt=null,pt=null,mt=!1,yt=null,xt=null,Tt=null,_t=null,Mt=null;const Lt=o.getParameter(35661);let Pt=!1,It=0;const Et=o.getParameter(7938);Et.indexOf("WebGL")!==-1?(It=parseFloat(/^WebGL (\d)/.exec(Et)[1]),Pt=It>=1):Et.indexOf("OpenGL ES")!==-1&&(It=parseFloat(/^OpenGL ES (\d)/.exec(Et)[1]),Pt=It>=2);let Ct=null,St={};const At=o.getParameter(3088),Rt=o.getParameter(2978),Ot=new Vector4().fromArray(At),Gt=new Vector4().fromArray(Rt);function Qt(Kt,Br,cr){const ar=new Uint8Array(4),pr=o.createTexture();o.bindTexture(Kt,pr),o.texParameteri(Kt,10241,9728),o.texParameteri(Kt,10240,9728);for(let rr=0;rr<cr;rr++)o.texImage2D(Br+rr,0,6408,1,1,0,6408,5121,ar);return pr}const ir={};ir[3553]=Qt(3553,3553,1),ir[34067]=Qt(34067,34069,6),$.setClear(0,0,0,1),j.setClear(1),_e.setClear(0),tr(2929),j.setFunc(LessEqualDepth),ur(!1),br(CullFaceBack),tr(2884),Yt(NoBlending);function tr(Kt){et[Kt]!==!0&&(o.enable(Kt),et[Kt]=!0)}function Wt(Kt){et[Kt]!==!1&&(o.disable(Kt),et[Kt]=!1)}function wr(Kt,Br){return rt[Kt]!==Br?(o.bindFramebuffer(Kt,Br),rt[Kt]=Br,d&&(Kt===36009&&(rt[36160]=Br),Kt===36160&&(rt[36009]=Br)),!0):!1}function Lr(Kt,Br){let cr=nt,ar=!1;if(Kt)if(cr=tt.get(Br),cr===void 0&&(cr=[],tt.set(Br,cr)),Kt.isWebGLMultipleRenderTargets){const pr=Kt.texture;if(cr.length!==pr.length||cr[0]!==36064){for(let rr=0,ln=pr.length;rr<ln;rr++)cr[rr]=36064+rr;cr.length=pr.length,ar=!0}}else cr[0]!==36064&&(cr[0]=36064,ar=!0);else cr[0]!==1029&&(cr[0]=1029,ar=!0);ar&&(h.isWebGL2?o.drawBuffers(cr):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(cr))}function Er(Kt){return st!==Kt?(o.useProgram(Kt),st=Kt,!0):!1}const Ar={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(d)Ar[MinEquation]=32775,Ar[MaxEquation]=32776;else{const Kt=e.get("EXT_blend_minmax");Kt!==null&&(Ar[MinEquation]=Kt.MIN_EXT,Ar[MaxEquation]=Kt.MAX_EXT)}const yr={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Yt(Kt,Br,cr,ar,pr,rr,ln,wn){if(Kt===NoBlending){at===!0&&(Wt(3042),at=!1);return}if(at===!1&&(tr(3042),at=!0),Kt!==CustomBlending){if(Kt!==ct||wn!==mt){if((it!==AddEquation||ut!==AddEquation)&&(o.blendEquation(32774),it=AddEquation,ut=AddEquation),wn)switch(Kt){case NormalBlending:o.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:o.blendFunc(1,1);break;case SubtractiveBlending:o.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:o.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Kt);break}else switch(Kt){case NormalBlending:o.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:o.blendFunc(770,1);break;case SubtractiveBlending:o.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:o.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Kt);break}lt=null,ht=null,dt=null,pt=null,ct=Kt,mt=wn}return}pr=pr||Br,rr=rr||cr,ln=ln||ar,(Br!==it||pr!==ut)&&(o.blendEquationSeparate(Ar[Br],Ar[pr]),it=Br,ut=pr),(cr!==lt||ar!==ht||rr!==dt||ln!==pt)&&(o.blendFuncSeparate(yr[cr],yr[ar],yr[rr],yr[ln]),lt=cr,ht=ar,dt=rr,pt=ln),ct=Kt,mt=null}function Xt(Kt,Br){Kt.side===DoubleSide?Wt(2884):tr(2884);let cr=Kt.side===BackSide;Br&&(cr=!cr),ur(cr),Kt.blending===NormalBlending&&Kt.transparent===!1?Yt(NoBlending):Yt(Kt.blending,Kt.blendEquation,Kt.blendSrc,Kt.blendDst,Kt.blendEquationAlpha,Kt.blendSrcAlpha,Kt.blendDstAlpha,Kt.premultipliedAlpha),j.setFunc(Kt.depthFunc),j.setTest(Kt.depthTest),j.setMask(Kt.depthWrite),$.setMask(Kt.colorWrite);const ar=Kt.stencilWrite;_e.setTest(ar),ar&&(_e.setMask(Kt.stencilWriteMask),_e.setFunc(Kt.stencilFunc,Kt.stencilRef,Kt.stencilFuncMask),_e.setOp(Kt.stencilFail,Kt.stencilZFail,Kt.stencilZPass)),Pr(Kt.polygonOffset,Kt.polygonOffsetFactor,Kt.polygonOffsetUnits),Kt.alphaToCoverage===!0?tr(32926):Wt(32926)}function ur(Kt){yt!==Kt&&(Kt?o.frontFace(2304):o.frontFace(2305),yt=Kt)}function br(Kt){Kt!==CullFaceNone?(tr(2884),Kt!==xt&&(Kt===CullFaceBack?o.cullFace(1029):Kt===CullFaceFront?o.cullFace(1028):o.cullFace(1032))):Wt(2884),xt=Kt}function _r(Kt){Kt!==Tt&&(Pt&&o.lineWidth(Kt),Tt=Kt)}function Pr(Kt,Br,cr){Kt?(tr(32823),(_t!==Br||Mt!==cr)&&(o.polygonOffset(Br,cr),_t=Br,Mt=cr)):Wt(32823)}function Or(Kt){Kt?tr(3089):Wt(3089)}function Nr(Kt){Kt===void 0&&(Kt=33984+Lt-1),Ct!==Kt&&(o.activeTexture(Kt),Ct=Kt)}function an(Kt,Br){Ct===null&&Nr();let cr=St[Ct];cr===void 0&&(cr={type:void 0,texture:void 0},St[Ct]=cr),(cr.type!==Kt||cr.texture!==Br)&&(o.bindTexture(Kt,Br||ir[Kt]),cr.type=Kt,cr.texture=Br)}function $t(){const Kt=St[Ct];Kt!==void 0&&Kt.type!==void 0&&(o.bindTexture(Kt.type,null),Kt.type=void 0,Kt.texture=void 0)}function kt(){try{o.compressedTexImage2D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function hr(){try{o.texSubImage2D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function vr(){try{o.texSubImage3D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function Ir(){try{o.compressedTexSubImage2D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function Dr(){try{o.texStorage2D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function Gr(){try{o.texStorage3D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function mr(){try{o.texImage2D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function Wr(){try{o.texImage3D.apply(o,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}}function Qr(Kt){Ot.equals(Kt)===!1&&(o.scissor(Kt.x,Kt.y,Kt.z,Kt.w),Ot.copy(Kt))}function qr(Kt){Gt.equals(Kt)===!1&&(o.viewport(Kt.x,Kt.y,Kt.z,Kt.w),Gt.copy(Kt))}function zr(){o.disable(3042),o.disable(2884),o.disable(2929),o.disable(32823),o.disable(3089),o.disable(2960),o.disable(32926),o.blendEquation(32774),o.blendFunc(1,0),o.blendFuncSeparate(1,0,1,0),o.colorMask(!0,!0,!0,!0),o.clearColor(0,0,0,0),o.depthMask(!0),o.depthFunc(513),o.clearDepth(1),o.stencilMask(4294967295),o.stencilFunc(519,0,4294967295),o.stencilOp(7680,7680,7680),o.clearStencil(0),o.cullFace(1029),o.frontFace(2305),o.polygonOffset(0,0),o.activeTexture(33984),o.bindFramebuffer(36160,null),d===!0&&(o.bindFramebuffer(36009,null),o.bindFramebuffer(36008,null)),o.useProgram(null),o.lineWidth(1),o.scissor(0,0,o.canvas.width,o.canvas.height),o.viewport(0,0,o.canvas.width,o.canvas.height),et={},Ct=null,St={},rt={},tt=new WeakMap,nt=[],st=null,at=!1,ct=null,it=null,lt=null,ht=null,ut=null,dt=null,pt=null,mt=!1,yt=null,xt=null,Tt=null,_t=null,Mt=null,Ot.set(0,0,o.canvas.width,o.canvas.height),Gt.set(0,0,o.canvas.width,o.canvas.height),$.reset(),j.reset(),_e.reset()}return{buffers:{color:$,depth:j,stencil:_e},enable:tr,disable:Wt,bindFramebuffer:wr,drawBuffers:Lr,useProgram:Er,setBlending:Yt,setMaterial:Xt,setFlipSided:ur,setCullFace:br,setLineWidth:_r,setPolygonOffset:Pr,setScissorTest:Or,activeTexture:Nr,bindTexture:an,unbindTexture:$t,compressedTexImage2D:kt,texImage2D:mr,texImage3D:Wr,texStorage2D:Dr,texStorage3D:Gr,texSubImage2D:hr,texSubImage3D:vr,compressedTexSubImage2D:Ir,scissor:Qr,viewport:qr,reset:zr}}function WebGLTextures(o,e,h,d,g,_,b){const $=g.isWebGL2,j=g.maxTextures,_e=g.maxCubemapSize,et=g.maxTextureSize,rt=g.maxSamples,tt=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,nt=new WeakMap;let st;const at=new WeakMap;let ct=!1;try{ct=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function it($t,kt){return ct?new OffscreenCanvas($t,kt):createElementNS("canvas")}function lt($t,kt,hr,vr){let Ir=1;if(($t.width>vr||$t.height>vr)&&(Ir=vr/Math.max($t.width,$t.height)),Ir<1||kt===!0)if(typeof HTMLImageElement!="undefined"&&$t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&$t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&$t instanceof ImageBitmap){const Dr=kt?floorPowerOfTwo:Math.floor,Gr=Dr(Ir*$t.width),mr=Dr(Ir*$t.height);st===void 0&&(st=it(Gr,mr));const Wr=hr?it(Gr,mr):st;return Wr.width=Gr,Wr.height=mr,Wr.getContext("2d").drawImage($t,0,0,Gr,mr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$t.width+"x"+$t.height+") to ("+Gr+"x"+mr+")."),Wr}else return"data"in $t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$t.width+"x"+$t.height+")."),$t;return $t}function ht($t){return isPowerOfTwo($t.width)&&isPowerOfTwo($t.height)}function ut($t){return $?!1:$t.wrapS!==ClampToEdgeWrapping||$t.wrapT!==ClampToEdgeWrapping||$t.minFilter!==NearestFilter&&$t.minFilter!==LinearFilter}function dt($t,kt){return $t.generateMipmaps&&kt&&$t.minFilter!==NearestFilter&&$t.minFilter!==LinearFilter}function pt($t){o.generateMipmap($t)}function mt($t,kt,hr,vr,Ir=!1){if($===!1)return kt;if($t!==null){if(o[$t]!==void 0)return o[$t];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$t+"'")}let Dr=kt;return kt===6403&&(hr===5126&&(Dr=33326),hr===5131&&(Dr=33325),hr===5121&&(Dr=33321)),kt===33319&&(hr===5126&&(Dr=33328),hr===5131&&(Dr=33327),hr===5121&&(Dr=33323)),kt===6408&&(hr===5126&&(Dr=34836),hr===5131&&(Dr=34842),hr===5121&&(Dr=vr===sRGBEncoding&&Ir===!1?35907:32856),hr===32819&&(Dr=32854),hr===32820&&(Dr=32855)),(Dr===33325||Dr===33326||Dr===33327||Dr===33328||Dr===34842||Dr===34836)&&e.get("EXT_color_buffer_float"),Dr}function yt($t,kt,hr){return dt($t,hr)===!0||$t.isFramebufferTexture&&$t.minFilter!==NearestFilter&&$t.minFilter!==LinearFilter?Math.log2(Math.max(kt.width,kt.height))+1:$t.mipmaps!==void 0&&$t.mipmaps.length>0?$t.mipmaps.length:$t.isCompressedTexture&&Array.isArray($t.image)?kt.mipmaps.length:1}function xt($t){return $t===NearestFilter||$t===NearestMipmapNearestFilter||$t===NearestMipmapLinearFilter?9728:9729}function Tt($t){const kt=$t.target;kt.removeEventListener("dispose",Tt),Mt(kt),kt.isVideoTexture&&nt.delete(kt)}function _t($t){const kt=$t.target;kt.removeEventListener("dispose",_t),Pt(kt)}function Mt($t){const kt=d.get($t);if(kt.__webglInit===void 0)return;const hr=$t.source,vr=at.get(hr);if(vr){const Ir=vr[kt.__cacheKey];Ir.usedTimes--,Ir.usedTimes===0&&Lt($t),Object.keys(vr).length===0&&at.delete(hr)}d.remove($t)}function Lt($t){const kt=d.get($t);o.deleteTexture(kt.__webglTexture);const hr=$t.source,vr=at.get(hr);delete vr[kt.__cacheKey],b.memory.textures--}function Pt($t){const kt=$t.texture,hr=d.get($t),vr=d.get(kt);if(vr.__webglTexture!==void 0&&(o.deleteTexture(vr.__webglTexture),b.memory.textures--),$t.depthTexture&&$t.depthTexture.dispose(),$t.isWebGLCubeRenderTarget)for(let Ir=0;Ir<6;Ir++)o.deleteFramebuffer(hr.__webglFramebuffer[Ir]),hr.__webglDepthbuffer&&o.deleteRenderbuffer(hr.__webglDepthbuffer[Ir]);else o.deleteFramebuffer(hr.__webglFramebuffer),hr.__webglDepthbuffer&&o.deleteRenderbuffer(hr.__webglDepthbuffer),hr.__webglMultisampledFramebuffer&&o.deleteFramebuffer(hr.__webglMultisampledFramebuffer),hr.__webglColorRenderbuffer&&o.deleteRenderbuffer(hr.__webglColorRenderbuffer),hr.__webglDepthRenderbuffer&&o.deleteRenderbuffer(hr.__webglDepthRenderbuffer);if($t.isWebGLMultipleRenderTargets)for(let Ir=0,Dr=kt.length;Ir<Dr;Ir++){const Gr=d.get(kt[Ir]);Gr.__webglTexture&&(o.deleteTexture(Gr.__webglTexture),b.memory.textures--),d.remove(kt[Ir])}d.remove(kt),d.remove($t)}let It=0;function Et(){It=0}function Ct(){const $t=It;return $t>=j&&console.warn("THREE.WebGLTextures: Trying to use "+$t+" texture units while this GPU supports only "+j),It+=1,$t}function St($t){const kt=[];return kt.push($t.wrapS),kt.push($t.wrapT),kt.push($t.magFilter),kt.push($t.minFilter),kt.push($t.anisotropy),kt.push($t.internalFormat),kt.push($t.format),kt.push($t.type),kt.push($t.generateMipmaps),kt.push($t.premultiplyAlpha),kt.push($t.flipY),kt.push($t.unpackAlignment),kt.push($t.encoding),kt.join()}function At($t,kt){const hr=d.get($t);if($t.isVideoTexture&&Nr($t),$t.isRenderTargetTexture===!1&&$t.version>0&&hr.__version!==$t.version){const vr=$t.image;if(vr===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(vr.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{wr(hr,$t,kt);return}}h.activeTexture(33984+kt),h.bindTexture(3553,hr.__webglTexture)}function Rt($t,kt){const hr=d.get($t);if($t.version>0&&hr.__version!==$t.version){wr(hr,$t,kt);return}h.activeTexture(33984+kt),h.bindTexture(35866,hr.__webglTexture)}function Ot($t,kt){const hr=d.get($t);if($t.version>0&&hr.__version!==$t.version){wr(hr,$t,kt);return}h.activeTexture(33984+kt),h.bindTexture(32879,hr.__webglTexture)}function Gt($t,kt){const hr=d.get($t);if($t.version>0&&hr.__version!==$t.version){Lr(hr,$t,kt);return}h.activeTexture(33984+kt),h.bindTexture(34067,hr.__webglTexture)}const Qt={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},ir={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function tr($t,kt,hr){if(hr?(o.texParameteri($t,10242,Qt[kt.wrapS]),o.texParameteri($t,10243,Qt[kt.wrapT]),($t===32879||$t===35866)&&o.texParameteri($t,32882,Qt[kt.wrapR]),o.texParameteri($t,10240,ir[kt.magFilter]),o.texParameteri($t,10241,ir[kt.minFilter])):(o.texParameteri($t,10242,33071),o.texParameteri($t,10243,33071),($t===32879||$t===35866)&&o.texParameteri($t,32882,33071),(kt.wrapS!==ClampToEdgeWrapping||kt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),o.texParameteri($t,10240,xt(kt.magFilter)),o.texParameteri($t,10241,xt(kt.minFilter)),kt.minFilter!==NearestFilter&&kt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const vr=e.get("EXT_texture_filter_anisotropic");if(kt.type===FloatType&&e.has("OES_texture_float_linear")===!1||$===!1&&kt.type===HalfFloatType&&e.has("OES_texture_half_float_linear")===!1)return;(kt.anisotropy>1||d.get(kt).__currentAnisotropy)&&(o.texParameterf($t,vr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(kt.anisotropy,g.getMaxAnisotropy())),d.get(kt).__currentAnisotropy=kt.anisotropy)}}function Wt($t,kt){let hr=!1;$t.__webglInit===void 0&&($t.__webglInit=!0,kt.addEventListener("dispose",Tt));const vr=kt.source;let Ir=at.get(vr);Ir===void 0&&(Ir={},at.set(vr,Ir));const Dr=St(kt);if(Dr!==$t.__cacheKey){Ir[Dr]===void 0&&(Ir[Dr]={texture:o.createTexture(),usedTimes:0},b.memory.textures++,hr=!0),Ir[Dr].usedTimes++;const Gr=Ir[$t.__cacheKey];Gr!==void 0&&(Ir[$t.__cacheKey].usedTimes--,Gr.usedTimes===0&&Lt(kt)),$t.__cacheKey=Dr,$t.__webglTexture=Ir[Dr].texture}return hr}function wr($t,kt,hr){let vr=3553;kt.isDataArrayTexture&&(vr=35866),kt.isData3DTexture&&(vr=32879);const Ir=Wt($t,kt),Dr=kt.source;if(h.activeTexture(33984+hr),h.bindTexture(vr,$t.__webglTexture),Dr.version!==Dr.__currentVersion||Ir===!0){o.pixelStorei(37440,kt.flipY),o.pixelStorei(37441,kt.premultiplyAlpha),o.pixelStorei(3317,kt.unpackAlignment),o.pixelStorei(37443,0);const Gr=ut(kt)&&ht(kt.image)===!1;let mr=lt(kt.image,Gr,!1,et);mr=an(kt,mr);const Wr=ht(mr)||$,Qr=_.convert(kt.format,kt.encoding);let qr=_.convert(kt.type),zr=mt(kt.internalFormat,Qr,qr,kt.encoding,kt.isVideoTexture);tr(vr,kt,Wr);let Kt;const Br=kt.mipmaps,cr=$&&kt.isVideoTexture!==!0,ar=$t.__version===void 0,pr=yt(kt,mr,Wr);if(kt.isDepthTexture)zr=6402,$?kt.type===FloatType?zr=36012:kt.type===UnsignedIntType?zr=33190:kt.type===UnsignedInt248Type?zr=35056:zr=33189:kt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),kt.format===DepthFormat&&zr===6402&&kt.type!==UnsignedShortType&&kt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),kt.type=UnsignedShortType,qr=_.convert(kt.type)),kt.format===DepthStencilFormat&&zr===6402&&(zr=34041,kt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),kt.type=UnsignedInt248Type,qr=_.convert(kt.type))),cr&&ar?h.texStorage2D(3553,1,zr,mr.width,mr.height):h.texImage2D(3553,0,zr,mr.width,mr.height,0,Qr,qr,null);else if(kt.isDataTexture)if(Br.length>0&&Wr){cr&&ar&&h.texStorage2D(3553,pr,zr,Br[0].width,Br[0].height);for(let rr=0,ln=Br.length;rr<ln;rr++)Kt=Br[rr],cr?h.texSubImage2D(3553,rr,0,0,Kt.width,Kt.height,Qr,qr,Kt.data):h.texImage2D(3553,rr,zr,Kt.width,Kt.height,0,Qr,qr,Kt.data);kt.generateMipmaps=!1}else cr?(ar&&h.texStorage2D(3553,pr,zr,mr.width,mr.height),h.texSubImage2D(3553,0,0,0,mr.width,mr.height,Qr,qr,mr.data)):h.texImage2D(3553,0,zr,mr.width,mr.height,0,Qr,qr,mr.data);else if(kt.isCompressedTexture){cr&&ar&&h.texStorage2D(3553,pr,zr,Br[0].width,Br[0].height);for(let rr=0,ln=Br.length;rr<ln;rr++)Kt=Br[rr],kt.format!==RGBAFormat?Qr!==null?cr?h.compressedTexSubImage2D(3553,rr,0,0,Kt.width,Kt.height,Qr,Kt.data):h.compressedTexImage2D(3553,rr,zr,Kt.width,Kt.height,0,Kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):cr?h.texSubImage2D(3553,rr,0,0,Kt.width,Kt.height,Qr,qr,Kt.data):h.texImage2D(3553,rr,zr,Kt.width,Kt.height,0,Qr,qr,Kt.data)}else if(kt.isDataArrayTexture)cr?(ar&&h.texStorage3D(35866,pr,zr,mr.width,mr.height,mr.depth),h.texSubImage3D(35866,0,0,0,0,mr.width,mr.height,mr.depth,Qr,qr,mr.data)):h.texImage3D(35866,0,zr,mr.width,mr.height,mr.depth,0,Qr,qr,mr.data);else if(kt.isData3DTexture)cr?(ar&&h.texStorage3D(32879,pr,zr,mr.width,mr.height,mr.depth),h.texSubImage3D(32879,0,0,0,0,mr.width,mr.height,mr.depth,Qr,qr,mr.data)):h.texImage3D(32879,0,zr,mr.width,mr.height,mr.depth,0,Qr,qr,mr.data);else if(kt.isFramebufferTexture)cr&&ar?h.texStorage2D(3553,pr,zr,mr.width,mr.height):h.texImage2D(3553,0,zr,mr.width,mr.height,0,Qr,qr,null);else if(Br.length>0&&Wr){cr&&ar&&h.texStorage2D(3553,pr,zr,Br[0].width,Br[0].height);for(let rr=0,ln=Br.length;rr<ln;rr++)Kt=Br[rr],cr?h.texSubImage2D(3553,rr,0,0,Qr,qr,Kt):h.texImage2D(3553,rr,zr,Qr,qr,Kt);kt.generateMipmaps=!1}else cr?(ar&&h.texStorage2D(3553,pr,zr,mr.width,mr.height),h.texSubImage2D(3553,0,0,0,Qr,qr,mr)):h.texImage2D(3553,0,zr,Qr,qr,mr);dt(kt,Wr)&&pt(vr),Dr.__currentVersion=Dr.version,kt.onUpdate&&kt.onUpdate(kt)}$t.__version=kt.version}function Lr($t,kt,hr){if(kt.image.length!==6)return;const vr=Wt($t,kt),Ir=kt.source;if(h.activeTexture(33984+hr),h.bindTexture(34067,$t.__webglTexture),Ir.version!==Ir.__currentVersion||vr===!0){o.pixelStorei(37440,kt.flipY),o.pixelStorei(37441,kt.premultiplyAlpha),o.pixelStorei(3317,kt.unpackAlignment),o.pixelStorei(37443,0);const Dr=kt.isCompressedTexture||kt.image[0].isCompressedTexture,Gr=kt.image[0]&&kt.image[0].isDataTexture,mr=[];for(let rr=0;rr<6;rr++)!Dr&&!Gr?mr[rr]=lt(kt.image[rr],!1,!0,_e):mr[rr]=Gr?kt.image[rr].image:kt.image[rr],mr[rr]=an(kt,mr[rr]);const Wr=mr[0],Qr=ht(Wr)||$,qr=_.convert(kt.format,kt.encoding),zr=_.convert(kt.type),Kt=mt(kt.internalFormat,qr,zr,kt.encoding),Br=$&&kt.isVideoTexture!==!0,cr=$t.__version===void 0;let ar=yt(kt,Wr,Qr);tr(34067,kt,Qr);let pr;if(Dr){Br&&cr&&h.texStorage2D(34067,ar,Kt,Wr.width,Wr.height);for(let rr=0;rr<6;rr++){pr=mr[rr].mipmaps;for(let ln=0;ln<pr.length;ln++){const wn=pr[ln];kt.format!==RGBAFormat?qr!==null?Br?h.compressedTexSubImage2D(34069+rr,ln,0,0,wn.width,wn.height,qr,wn.data):h.compressedTexImage2D(34069+rr,ln,Kt,wn.width,wn.height,0,wn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Br?h.texSubImage2D(34069+rr,ln,0,0,wn.width,wn.height,qr,zr,wn.data):h.texImage2D(34069+rr,ln,Kt,wn.width,wn.height,0,qr,zr,wn.data)}}}else{pr=kt.mipmaps,Br&&cr&&(pr.length>0&&ar++,h.texStorage2D(34067,ar,Kt,mr[0].width,mr[0].height));for(let rr=0;rr<6;rr++)if(Gr){Br?h.texSubImage2D(34069+rr,0,0,0,mr[rr].width,mr[rr].height,qr,zr,mr[rr].data):h.texImage2D(34069+rr,0,Kt,mr[rr].width,mr[rr].height,0,qr,zr,mr[rr].data);for(let ln=0;ln<pr.length;ln++){const Kn=pr[ln].image[rr].image;Br?h.texSubImage2D(34069+rr,ln+1,0,0,Kn.width,Kn.height,qr,zr,Kn.data):h.texImage2D(34069+rr,ln+1,Kt,Kn.width,Kn.height,0,qr,zr,Kn.data)}}else{Br?h.texSubImage2D(34069+rr,0,0,0,qr,zr,mr[rr]):h.texImage2D(34069+rr,0,Kt,qr,zr,mr[rr]);for(let ln=0;ln<pr.length;ln++){const wn=pr[ln];Br?h.texSubImage2D(34069+rr,ln+1,0,0,qr,zr,wn.image[rr]):h.texImage2D(34069+rr,ln+1,Kt,qr,zr,wn.image[rr])}}}dt(kt,Qr)&&pt(34067),Ir.__currentVersion=Ir.version,kt.onUpdate&&kt.onUpdate(kt)}$t.__version=kt.version}function Er($t,kt,hr,vr,Ir){const Dr=_.convert(hr.format,hr.encoding),Gr=_.convert(hr.type),mr=mt(hr.internalFormat,Dr,Gr,hr.encoding);d.get(kt).__hasExternalTextures||(Ir===32879||Ir===35866?h.texImage3D(Ir,0,mr,kt.width,kt.height,kt.depth,0,Dr,Gr,null):h.texImage2D(Ir,0,mr,kt.width,kt.height,0,Dr,Gr,null)),h.bindFramebuffer(36160,$t),Or(kt)?tt.framebufferTexture2DMultisampleEXT(36160,vr,Ir,d.get(hr).__webglTexture,0,Pr(kt)):o.framebufferTexture2D(36160,vr,Ir,d.get(hr).__webglTexture,0),h.bindFramebuffer(36160,null)}function Ar($t,kt,hr){if(o.bindRenderbuffer(36161,$t),kt.depthBuffer&&!kt.stencilBuffer){let vr=33189;if(hr||Or(kt)){const Ir=kt.depthTexture;Ir&&Ir.isDepthTexture&&(Ir.type===FloatType?vr=36012:Ir.type===UnsignedIntType&&(vr=33190));const Dr=Pr(kt);Or(kt)?tt.renderbufferStorageMultisampleEXT(36161,Dr,vr,kt.width,kt.height):o.renderbufferStorageMultisample(36161,Dr,vr,kt.width,kt.height)}else o.renderbufferStorage(36161,vr,kt.width,kt.height);o.framebufferRenderbuffer(36160,36096,36161,$t)}else if(kt.depthBuffer&&kt.stencilBuffer){const vr=Pr(kt);hr&&Or(kt)===!1?o.renderbufferStorageMultisample(36161,vr,35056,kt.width,kt.height):Or(kt)?tt.renderbufferStorageMultisampleEXT(36161,vr,35056,kt.width,kt.height):o.renderbufferStorage(36161,34041,kt.width,kt.height),o.framebufferRenderbuffer(36160,33306,36161,$t)}else{const vr=kt.isWebGLMultipleRenderTargets===!0?kt.texture[0]:kt.texture,Ir=_.convert(vr.format,vr.encoding),Dr=_.convert(vr.type),Gr=mt(vr.internalFormat,Ir,Dr,vr.encoding),mr=Pr(kt);hr&&Or(kt)===!1?o.renderbufferStorageMultisample(36161,mr,Gr,kt.width,kt.height):Or(kt)?tt.renderbufferStorageMultisampleEXT(36161,mr,Gr,kt.width,kt.height):o.renderbufferStorage(36161,Gr,kt.width,kt.height)}o.bindRenderbuffer(36161,null)}function yr($t,kt){if(kt&&kt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(h.bindFramebuffer(36160,$t),!(kt.depthTexture&&kt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!d.get(kt.depthTexture).__webglTexture||kt.depthTexture.image.width!==kt.width||kt.depthTexture.image.height!==kt.height)&&(kt.depthTexture.image.width=kt.width,kt.depthTexture.image.height=kt.height,kt.depthTexture.needsUpdate=!0),At(kt.depthTexture,0);const vr=d.get(kt.depthTexture).__webglTexture,Ir=Pr(kt);if(kt.depthTexture.format===DepthFormat)Or(kt)?tt.framebufferTexture2DMultisampleEXT(36160,36096,3553,vr,0,Ir):o.framebufferTexture2D(36160,36096,3553,vr,0);else if(kt.depthTexture.format===DepthStencilFormat)Or(kt)?tt.framebufferTexture2DMultisampleEXT(36160,33306,3553,vr,0,Ir):o.framebufferTexture2D(36160,33306,3553,vr,0);else throw new Error("Unknown depthTexture format")}function Yt($t){const kt=d.get($t),hr=$t.isWebGLCubeRenderTarget===!0;if($t.depthTexture&&!kt.__autoAllocateDepthBuffer){if(hr)throw new Error("target.depthTexture not supported in Cube render targets");yr(kt.__webglFramebuffer,$t)}else if(hr){kt.__webglDepthbuffer=[];for(let vr=0;vr<6;vr++)h.bindFramebuffer(36160,kt.__webglFramebuffer[vr]),kt.__webglDepthbuffer[vr]=o.createRenderbuffer(),Ar(kt.__webglDepthbuffer[vr],$t,!1)}else h.bindFramebuffer(36160,kt.__webglFramebuffer),kt.__webglDepthbuffer=o.createRenderbuffer(),Ar(kt.__webglDepthbuffer,$t,!1);h.bindFramebuffer(36160,null)}function Xt($t,kt,hr){const vr=d.get($t);kt!==void 0&&Er(vr.__webglFramebuffer,$t,$t.texture,36064,3553),hr!==void 0&&Yt($t)}function ur($t){const kt=$t.texture,hr=d.get($t),vr=d.get(kt);$t.addEventListener("dispose",_t),$t.isWebGLMultipleRenderTargets!==!0&&(vr.__webglTexture===void 0&&(vr.__webglTexture=o.createTexture()),vr.__version=kt.version,b.memory.textures++);const Ir=$t.isWebGLCubeRenderTarget===!0,Dr=$t.isWebGLMultipleRenderTargets===!0,Gr=ht($t)||$;if(Ir){hr.__webglFramebuffer=[];for(let mr=0;mr<6;mr++)hr.__webglFramebuffer[mr]=o.createFramebuffer()}else if(hr.__webglFramebuffer=o.createFramebuffer(),Dr)if(g.drawBuffers){const mr=$t.texture;for(let Wr=0,Qr=mr.length;Wr<Qr;Wr++){const qr=d.get(mr[Wr]);qr.__webglTexture===void 0&&(qr.__webglTexture=o.createTexture(),b.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if($&&$t.samples>0&&Or($t)===!1){hr.__webglMultisampledFramebuffer=o.createFramebuffer(),hr.__webglColorRenderbuffer=o.createRenderbuffer(),o.bindRenderbuffer(36161,hr.__webglColorRenderbuffer);const mr=_.convert(kt.format,kt.encoding),Wr=_.convert(kt.type),Qr=mt(kt.internalFormat,mr,Wr,kt.encoding),qr=Pr($t);o.renderbufferStorageMultisample(36161,qr,Qr,$t.width,$t.height),h.bindFramebuffer(36160,hr.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064,36161,hr.__webglColorRenderbuffer),o.bindRenderbuffer(36161,null),$t.depthBuffer&&(hr.__webglDepthRenderbuffer=o.createRenderbuffer(),Ar(hr.__webglDepthRenderbuffer,$t,!0)),h.bindFramebuffer(36160,null)}if(Ir){h.bindTexture(34067,vr.__webglTexture),tr(34067,kt,Gr);for(let mr=0;mr<6;mr++)Er(hr.__webglFramebuffer[mr],$t,kt,36064,34069+mr);dt(kt,Gr)&&pt(34067),h.unbindTexture()}else if(Dr){const mr=$t.texture;for(let Wr=0,Qr=mr.length;Wr<Qr;Wr++){const qr=mr[Wr],zr=d.get(qr);h.bindTexture(3553,zr.__webglTexture),tr(3553,qr,Gr),Er(hr.__webglFramebuffer,$t,qr,36064+Wr,3553),dt(qr,Gr)&&pt(3553)}h.unbindTexture()}else{let mr=3553;($t.isWebGL3DRenderTarget||$t.isWebGLArrayRenderTarget)&&($?mr=$t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),h.bindTexture(mr,vr.__webglTexture),tr(mr,kt,Gr),Er(hr.__webglFramebuffer,$t,kt,36064,mr),dt(kt,Gr)&&pt(mr),h.unbindTexture()}$t.depthBuffer&&Yt($t)}function br($t){const kt=ht($t)||$,hr=$t.isWebGLMultipleRenderTargets===!0?$t.texture:[$t.texture];for(let vr=0,Ir=hr.length;vr<Ir;vr++){const Dr=hr[vr];if(dt(Dr,kt)){const Gr=$t.isWebGLCubeRenderTarget?34067:3553,mr=d.get(Dr).__webglTexture;h.bindTexture(Gr,mr),pt(Gr),h.unbindTexture()}}}function _r($t){if($&&$t.samples>0&&Or($t)===!1){const kt=$t.width,hr=$t.height;let vr=16384;const Ir=[36064],Dr=$t.stencilBuffer?33306:36096;$t.depthBuffer&&Ir.push(Dr);const Gr=d.get($t),mr=Gr.__ignoreDepthValues!==void 0?Gr.__ignoreDepthValues:!1;mr===!1&&($t.depthBuffer&&(vr|=256),$t.stencilBuffer&&(vr|=1024)),h.bindFramebuffer(36008,Gr.__webglMultisampledFramebuffer),h.bindFramebuffer(36009,Gr.__webglFramebuffer),mr===!0&&(o.invalidateFramebuffer(36008,[Dr]),o.invalidateFramebuffer(36009,[Dr])),o.blitFramebuffer(0,0,kt,hr,0,0,kt,hr,vr,9728),o.invalidateFramebuffer(36008,Ir),h.bindFramebuffer(36008,null),h.bindFramebuffer(36009,Gr.__webglMultisampledFramebuffer)}}function Pr($t){return Math.min(rt,$t.samples)}function Or($t){const kt=d.get($t);return $&&$t.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&kt.__useRenderToTexture!==!1}function Nr($t){const kt=b.render.frame;nt.get($t)!==kt&&(nt.set($t,kt),$t.update())}function an($t,kt){const hr=$t.encoding,vr=$t.format,Ir=$t.type;return $t.isCompressedTexture===!0||$t.isVideoTexture===!0||$t.format===_SRGBAFormat||hr!==LinearEncoding&&(hr===sRGBEncoding?$===!1?e.has("EXT_sRGB")===!0&&vr===RGBAFormat?($t.format=_SRGBAFormat,$t.minFilter=LinearFilter,$t.generateMipmaps=!1):kt=ImageUtils.sRGBToLinear(kt):(vr!==RGBAFormat||Ir!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",hr)),kt}this.allocateTextureUnit=Ct,this.resetTextureUnits=Et,this.setTexture2D=At,this.setTexture2DArray=Rt,this.setTexture3D=Ot,this.setTextureCube=Gt,this.rebindTextures=Xt,this.setupRenderTarget=ur,this.updateRenderTargetMipmap=br,this.updateMultisampleRenderTarget=_r,this.setupDepthRenderbuffer=Yt,this.setupFrameBufferTexture=Er,this.useMultisampledRTT=Or}function WebGLUtils(o,e,h){const d=h.isWebGL2;function g(_,b=null){let $;if(_===UnsignedByteType)return 5121;if(_===UnsignedShort4444Type)return 32819;if(_===UnsignedShort5551Type)return 32820;if(_===ByteType)return 5120;if(_===ShortType)return 5122;if(_===UnsignedShortType)return 5123;if(_===IntType)return 5124;if(_===UnsignedIntType)return 5125;if(_===FloatType)return 5126;if(_===HalfFloatType)return d?5131:($=e.get("OES_texture_half_float"),$!==null?$.HALF_FLOAT_OES:null);if(_===AlphaFormat)return 6406;if(_===RGBAFormat)return 6408;if(_===LuminanceFormat)return 6409;if(_===LuminanceAlphaFormat)return 6410;if(_===DepthFormat)return 6402;if(_===DepthStencilFormat)return 34041;if(_===RedFormat)return 6403;if(_===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(_===_SRGBAFormat)return $=e.get("EXT_sRGB"),$!==null?$.SRGB_ALPHA_EXT:null;if(_===RedIntegerFormat)return 36244;if(_===RGFormat)return 33319;if(_===RGIntegerFormat)return 33320;if(_===RGBAIntegerFormat)return 36249;if(_===RGB_S3TC_DXT1_Format||_===RGBA_S3TC_DXT1_Format||_===RGBA_S3TC_DXT3_Format||_===RGBA_S3TC_DXT5_Format)if(b===sRGBEncoding)if($=e.get("WEBGL_compressed_texture_s3tc_srgb"),$!==null){if(_===RGB_S3TC_DXT1_Format)return $.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(_===RGBA_S3TC_DXT1_Format)return $.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(_===RGBA_S3TC_DXT3_Format)return $.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(_===RGBA_S3TC_DXT5_Format)return $.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if($=e.get("WEBGL_compressed_texture_s3tc"),$!==null){if(_===RGB_S3TC_DXT1_Format)return $.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===RGBA_S3TC_DXT1_Format)return $.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===RGBA_S3TC_DXT3_Format)return $.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===RGBA_S3TC_DXT5_Format)return $.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(_===RGB_PVRTC_4BPPV1_Format||_===RGB_PVRTC_2BPPV1_Format||_===RGBA_PVRTC_4BPPV1_Format||_===RGBA_PVRTC_2BPPV1_Format)if($=e.get("WEBGL_compressed_texture_pvrtc"),$!==null){if(_===RGB_PVRTC_4BPPV1_Format)return $.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===RGB_PVRTC_2BPPV1_Format)return $.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===RGBA_PVRTC_4BPPV1_Format)return $.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===RGBA_PVRTC_2BPPV1_Format)return $.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(_===RGB_ETC1_Format)return $=e.get("WEBGL_compressed_texture_etc1"),$!==null?$.COMPRESSED_RGB_ETC1_WEBGL:null;if(_===RGB_ETC2_Format||_===RGBA_ETC2_EAC_Format)if($=e.get("WEBGL_compressed_texture_etc"),$!==null){if(_===RGB_ETC2_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ETC2:$.COMPRESSED_RGB8_ETC2;if(_===RGBA_ETC2_EAC_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:$.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(_===RGBA_ASTC_4x4_Format||_===RGBA_ASTC_5x4_Format||_===RGBA_ASTC_5x5_Format||_===RGBA_ASTC_6x5_Format||_===RGBA_ASTC_6x6_Format||_===RGBA_ASTC_8x5_Format||_===RGBA_ASTC_8x6_Format||_===RGBA_ASTC_8x8_Format||_===RGBA_ASTC_10x5_Format||_===RGBA_ASTC_10x6_Format||_===RGBA_ASTC_10x8_Format||_===RGBA_ASTC_10x10_Format||_===RGBA_ASTC_12x10_Format||_===RGBA_ASTC_12x12_Format)if($=e.get("WEBGL_compressed_texture_astc"),$!==null){if(_===RGBA_ASTC_4x4_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:$.COMPRESSED_RGBA_ASTC_4x4_KHR;if(_===RGBA_ASTC_5x4_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:$.COMPRESSED_RGBA_ASTC_5x4_KHR;if(_===RGBA_ASTC_5x5_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:$.COMPRESSED_RGBA_ASTC_5x5_KHR;if(_===RGBA_ASTC_6x5_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:$.COMPRESSED_RGBA_ASTC_6x5_KHR;if(_===RGBA_ASTC_6x6_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:$.COMPRESSED_RGBA_ASTC_6x6_KHR;if(_===RGBA_ASTC_8x5_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:$.COMPRESSED_RGBA_ASTC_8x5_KHR;if(_===RGBA_ASTC_8x6_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:$.COMPRESSED_RGBA_ASTC_8x6_KHR;if(_===RGBA_ASTC_8x8_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:$.COMPRESSED_RGBA_ASTC_8x8_KHR;if(_===RGBA_ASTC_10x5_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:$.COMPRESSED_RGBA_ASTC_10x5_KHR;if(_===RGBA_ASTC_10x6_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:$.COMPRESSED_RGBA_ASTC_10x6_KHR;if(_===RGBA_ASTC_10x8_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:$.COMPRESSED_RGBA_ASTC_10x8_KHR;if(_===RGBA_ASTC_10x10_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:$.COMPRESSED_RGBA_ASTC_10x10_KHR;if(_===RGBA_ASTC_12x10_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:$.COMPRESSED_RGBA_ASTC_12x10_KHR;if(_===RGBA_ASTC_12x12_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:$.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(_===RGBA_BPTC_Format)if($=e.get("EXT_texture_compression_bptc"),$!==null){if(_===RGBA_BPTC_Format)return b===sRGBEncoding?$.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:$.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(_===UnsignedInt248Type)return d?34042:($=e.get("WEBGL_depth_texture"),$!==null?$.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:g}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super();this.cameras=e}}ArrayCamera.prototype.isArrayCamera=!0;class Group extends Object3D{constructor(){super();this.type="Group"}}Group.prototype.isGroup=!0;const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,h,d){let g=null,_=null,b=null;const $=this._targetRay,j=this._grip,_e=this._hand;if(e&&h.session.visibilityState!=="visible-blurred")if($!==null&&(g=h.getPose(e.targetRaySpace,d),g!==null&&($.matrix.fromArray(g.transform.matrix),$.matrix.decompose($.position,$.rotation,$.scale),g.linearVelocity?($.hasLinearVelocity=!0,$.linearVelocity.copy(g.linearVelocity)):$.hasLinearVelocity=!1,g.angularVelocity?($.hasAngularVelocity=!0,$.angularVelocity.copy(g.angularVelocity)):$.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent))),_e&&e.hand){b=!0;for(const at of e.hand.values()){const ct=h.getJointPose(at,d);if(_e.joints[at.jointName]===void 0){const lt=new Group;lt.matrixAutoUpdate=!1,lt.visible=!1,_e.joints[at.jointName]=lt,_e.add(lt)}const it=_e.joints[at.jointName];ct!==null&&(it.matrix.fromArray(ct.transform.matrix),it.matrix.decompose(it.position,it.rotation,it.scale),it.jointRadius=ct.radius),it.visible=ct!==null}const et=_e.joints["index-finger-tip"],rt=_e.joints["thumb-tip"],tt=et.position.distanceTo(rt.position),nt=.02,st=.005;_e.inputState.pinching&&tt>nt+st?(_e.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!_e.inputState.pinching&&tt<=nt-st&&(_e.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else j!==null&&e.gripSpace&&(_=h.getPose(e.gripSpace,d),_!==null&&(j.matrix.fromArray(_.transform.matrix),j.matrix.decompose(j.position,j.rotation,j.scale),_.linearVelocity?(j.hasLinearVelocity=!0,j.linearVelocity.copy(_.linearVelocity)):j.hasLinearVelocity=!1,_.angularVelocity?(j.hasAngularVelocity=!0,j.angularVelocity.copy(_.angularVelocity)):j.hasAngularVelocity=!1));return $!==null&&($.visible=g!==null),j!==null&&(j.visible=_!==null),_e!==null&&(_e.visible=b!==null),this}}class DepthTexture extends Texture{constructor(e,h,d,g,_,b,$,j,_e,et){if(et=et!==void 0?et:DepthFormat,et!==DepthFormat&&et!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");d===void 0&&et===DepthFormat&&(d=UnsignedShortType),d===void 0&&et===DepthStencilFormat&&(d=UnsignedInt248Type);super(null,g,_,b,$,j,et,d,_e);this.image={width:e,height:h},this.magFilter=$!==void 0?$:NearestFilter,this.minFilter=j!==void 0?j:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}DepthTexture.prototype.isDepthTexture=!0;class WebXRManager extends EventDispatcher{constructor(e,h){super();const d=this;let g=null,_=1,b=null,$="local-floor",j=null,_e=null,et=null,rt=null,tt=null;const nt=h.getContextAttributes();let st=null,at=null;const ct=[],it=new Map,lt=new PerspectiveCamera;lt.layers.enable(1),lt.viewport=new Vector4;const ht=new PerspectiveCamera;ht.layers.enable(2),ht.viewport=new Vector4;const ut=[lt,ht],dt=new ArrayCamera;dt.layers.enable(1),dt.layers.enable(2);let pt=null,mt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(St){let At=ct[St];return At===void 0&&(At=new WebXRController,ct[St]=At),At.getTargetRaySpace()},this.getControllerGrip=function(St){let At=ct[St];return At===void 0&&(At=new WebXRController,ct[St]=At),At.getGripSpace()},this.getHand=function(St){let At=ct[St];return At===void 0&&(At=new WebXRController,ct[St]=At),At.getHandSpace()};function yt(St){const At=it.get(St.inputSource);At&&At.dispatchEvent({type:St.type,data:St.inputSource})}function xt(){it.forEach(function(St,At){St.disconnect(At)}),it.clear(),pt=null,mt=null,e.setRenderTarget(st),rt=null,et=null,_e=null,g=null,at=null,Ct.stop(),d.isPresenting=!1,d.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(St){_=St,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(St){$=St,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return b},this.getBaseLayer=function(){return et!==null?et:rt},this.getBinding=function(){return _e},this.getFrame=function(){return tt},this.getSession=function(){return g},this.setSession=async function(St){if(g=St,g!==null){if(st=e.getRenderTarget(),g.addEventListener("select",yt),g.addEventListener("selectstart",yt),g.addEventListener("selectend",yt),g.addEventListener("squeeze",yt),g.addEventListener("squeezestart",yt),g.addEventListener("squeezeend",yt),g.addEventListener("end",xt),g.addEventListener("inputsourceschange",Tt),nt.xrCompatible!==!0&&await h.makeXRCompatible(),g.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const At={antialias:g.renderState.layers===void 0?nt.antialias:!0,alpha:nt.alpha,depth:nt.depth,stencil:nt.stencil,framebufferScaleFactor:_};rt=new XRWebGLLayer(g,h,At),g.updateRenderState({baseLayer:rt}),at=new WebGLRenderTarget(rt.framebufferWidth,rt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:e.outputEncoding})}else{let At=null,Rt=null,Ot=null;nt.depth&&(Ot=nt.stencil?35056:33190,At=nt.stencil?DepthStencilFormat:DepthFormat,Rt=nt.stencil?UnsignedInt248Type:UnsignedShortType);const Gt={colorFormat:e.outputEncoding===sRGBEncoding?35907:32856,depthFormat:Ot,scaleFactor:_};_e=new XRWebGLBinding(g,h),et=_e.createProjectionLayer(Gt),g.updateRenderState({layers:[et]}),at=new WebGLRenderTarget(et.textureWidth,et.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(et.textureWidth,et.textureHeight,Rt,void 0,void 0,void 0,void 0,void 0,void 0,At),stencilBuffer:nt.stencil,encoding:e.outputEncoding,samples:nt.antialias?4:0});const Qt=e.properties.get(at);Qt.__ignoreDepthValues=et.ignoreDepthValues}at.isXRRenderTarget=!0,this.setFoveation(1),b=await g.requestReferenceSpace($),Ct.setContext(g),Ct.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}};function Tt(St){const At=g.inputSources;for(let Rt=0;Rt<ct.length;Rt++)it.set(At[Rt],ct[Rt]);for(let Rt=0;Rt<St.removed.length;Rt++){const Ot=St.removed[Rt],Gt=it.get(Ot);Gt&&(Gt.dispatchEvent({type:"disconnected",data:Ot}),it.delete(Ot))}for(let Rt=0;Rt<St.added.length;Rt++){const Ot=St.added[Rt],Gt=it.get(Ot);Gt&&Gt.dispatchEvent({type:"connected",data:Ot})}}const _t=new Vector3,Mt=new Vector3;function Lt(St,At,Rt){_t.setFromMatrixPosition(At.matrixWorld),Mt.setFromMatrixPosition(Rt.matrixWorld);const Ot=_t.distanceTo(Mt),Gt=At.projectionMatrix.elements,Qt=Rt.projectionMatrix.elements,ir=Gt[14]/(Gt[10]-1),tr=Gt[14]/(Gt[10]+1),Wt=(Gt[9]+1)/Gt[5],wr=(Gt[9]-1)/Gt[5],Lr=(Gt[8]-1)/Gt[0],Er=(Qt[8]+1)/Qt[0],Ar=ir*Lr,yr=ir*Er,Yt=Ot/(-Lr+Er),Xt=Yt*-Lr;At.matrixWorld.decompose(St.position,St.quaternion,St.scale),St.translateX(Xt),St.translateZ(Yt),St.matrixWorld.compose(St.position,St.quaternion,St.scale),St.matrixWorldInverse.copy(St.matrixWorld).invert();const ur=ir+Yt,br=tr+Yt,_r=Ar-Xt,Pr=yr+(Ot-Xt),Or=Wt*tr/br*ur,Nr=wr*tr/br*ur;St.projectionMatrix.makePerspective(_r,Pr,Or,Nr,ur,br)}function Pt(St,At){At===null?St.matrixWorld.copy(St.matrix):St.matrixWorld.multiplyMatrices(At.matrixWorld,St.matrix),St.matrixWorldInverse.copy(St.matrixWorld).invert()}this.updateCamera=function(St){if(g===null)return;dt.near=ht.near=lt.near=St.near,dt.far=ht.far=lt.far=St.far,(pt!==dt.near||mt!==dt.far)&&(g.updateRenderState({depthNear:dt.near,depthFar:dt.far}),pt=dt.near,mt=dt.far);const At=St.parent,Rt=dt.cameras;Pt(dt,At);for(let Gt=0;Gt<Rt.length;Gt++)Pt(Rt[Gt],At);dt.matrixWorld.decompose(dt.position,dt.quaternion,dt.scale),St.position.copy(dt.position),St.quaternion.copy(dt.quaternion),St.scale.copy(dt.scale),St.matrix.copy(dt.matrix),St.matrixWorld.copy(dt.matrixWorld);const Ot=St.children;for(let Gt=0,Qt=Ot.length;Gt<Qt;Gt++)Ot[Gt].updateMatrixWorld(!0);Rt.length===2?Lt(dt,lt,ht):dt.projectionMatrix.copy(lt.projectionMatrix)},this.getCamera=function(){return dt},this.getFoveation=function(){if(et!==null)return et.fixedFoveation;if(rt!==null)return rt.fixedFoveation},this.setFoveation=function(St){et!==null&&(et.fixedFoveation=St),rt!==null&&rt.fixedFoveation!==void 0&&(rt.fixedFoveation=St)};let It=null;function Et(St,At){if(j=At.getViewerPose(b),tt=At,j!==null){const Ot=j.views;rt!==null&&(e.setRenderTargetFramebuffer(at,rt.framebuffer),e.setRenderTarget(at));let Gt=!1;Ot.length!==dt.cameras.length&&(dt.cameras.length=0,Gt=!0);for(let Qt=0;Qt<Ot.length;Qt++){const ir=Ot[Qt];let tr=null;if(rt!==null)tr=rt.getViewport(ir);else{const wr=_e.getViewSubImage(et,ir);tr=wr.viewport,Qt===0&&(e.setRenderTargetTextures(at,wr.colorTexture,et.ignoreDepthValues?void 0:wr.depthStencilTexture),e.setRenderTarget(at))}const Wt=ut[Qt];Wt.matrix.fromArray(ir.transform.matrix),Wt.projectionMatrix.fromArray(ir.projectionMatrix),Wt.viewport.set(tr.x,tr.y,tr.width,tr.height),Qt===0&&dt.matrix.copy(Wt.matrix),Gt===!0&&dt.cameras.push(Wt)}}const Rt=g.inputSources;for(let Ot=0;Ot<ct.length;Ot++){const Gt=ct[Ot],Qt=Rt[Ot];Gt.update(Qt,At,b)}It&&It(St,At),tt=null}const Ct=new WebGLAnimation;Ct.setAnimationLoop(Et),this.setAnimationLoop=function(St){It=St},this.dispose=function(){}}}function WebGLMaterials(o){function e(it,lt){it.fogColor.value.copy(lt.color),lt.isFog?(it.fogNear.value=lt.near,it.fogFar.value=lt.far):lt.isFogExp2&&(it.fogDensity.value=lt.density)}function h(it,lt,ht,ut,dt){lt.isMeshBasicMaterial?d(it,lt):lt.isMeshLambertMaterial?(d(it,lt),j(it,lt)):lt.isMeshToonMaterial?(d(it,lt),et(it,lt)):lt.isMeshPhongMaterial?(d(it,lt),_e(it,lt)):lt.isMeshStandardMaterial?(d(it,lt),lt.isMeshPhysicalMaterial?tt(it,lt,dt):rt(it,lt)):lt.isMeshMatcapMaterial?(d(it,lt),nt(it,lt)):lt.isMeshDepthMaterial?(d(it,lt),st(it,lt)):lt.isMeshDistanceMaterial?(d(it,lt),at(it,lt)):lt.isMeshNormalMaterial?(d(it,lt),ct(it,lt)):lt.isLineBasicMaterial?(g(it,lt),lt.isLineDashedMaterial&&_(it,lt)):lt.isPointsMaterial?b(it,lt,ht,ut):lt.isSpriteMaterial?$(it,lt):lt.isShadowMaterial?(it.color.value.copy(lt.color),it.opacity.value=lt.opacity):lt.isShaderMaterial&&(lt.uniformsNeedUpdate=!1)}function d(it,lt){it.opacity.value=lt.opacity,lt.color&&it.diffuse.value.copy(lt.color),lt.emissive&&it.emissive.value.copy(lt.emissive).multiplyScalar(lt.emissiveIntensity),lt.map&&(it.map.value=lt.map),lt.alphaMap&&(it.alphaMap.value=lt.alphaMap),lt.specularMap&&(it.specularMap.value=lt.specularMap),lt.alphaTest>0&&(it.alphaTest.value=lt.alphaTest);const ht=o.get(lt).envMap;ht&&(it.envMap.value=ht,it.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1,it.reflectivity.value=lt.reflectivity,it.ior.value=lt.ior,it.refractionRatio.value=lt.refractionRatio),lt.lightMap&&(it.lightMap.value=lt.lightMap,it.lightMapIntensity.value=lt.lightMapIntensity),lt.aoMap&&(it.aoMap.value=lt.aoMap,it.aoMapIntensity.value=lt.aoMapIntensity);let ut;lt.map?ut=lt.map:lt.specularMap?ut=lt.specularMap:lt.displacementMap?ut=lt.displacementMap:lt.normalMap?ut=lt.normalMap:lt.bumpMap?ut=lt.bumpMap:lt.roughnessMap?ut=lt.roughnessMap:lt.metalnessMap?ut=lt.metalnessMap:lt.alphaMap?ut=lt.alphaMap:lt.emissiveMap?ut=lt.emissiveMap:lt.clearcoatMap?ut=lt.clearcoatMap:lt.clearcoatNormalMap?ut=lt.clearcoatNormalMap:lt.clearcoatRoughnessMap?ut=lt.clearcoatRoughnessMap:lt.specularIntensityMap?ut=lt.specularIntensityMap:lt.specularColorMap?ut=lt.specularColorMap:lt.transmissionMap?ut=lt.transmissionMap:lt.thicknessMap?ut=lt.thicknessMap:lt.sheenColorMap?ut=lt.sheenColorMap:lt.sheenRoughnessMap&&(ut=lt.sheenRoughnessMap),ut!==void 0&&(ut.isWebGLRenderTarget&&(ut=ut.texture),ut.matrixAutoUpdate===!0&&ut.updateMatrix(),it.uvTransform.value.copy(ut.matrix));let dt;lt.aoMap?dt=lt.aoMap:lt.lightMap&&(dt=lt.lightMap),dt!==void 0&&(dt.isWebGLRenderTarget&&(dt=dt.texture),dt.matrixAutoUpdate===!0&&dt.updateMatrix(),it.uv2Transform.value.copy(dt.matrix))}function g(it,lt){it.diffuse.value.copy(lt.color),it.opacity.value=lt.opacity}function _(it,lt){it.dashSize.value=lt.dashSize,it.totalSize.value=lt.dashSize+lt.gapSize,it.scale.value=lt.scale}function b(it,lt,ht,ut){it.diffuse.value.copy(lt.color),it.opacity.value=lt.opacity,it.size.value=lt.size*ht,it.scale.value=ut*.5,lt.map&&(it.map.value=lt.map),lt.alphaMap&&(it.alphaMap.value=lt.alphaMap),lt.alphaTest>0&&(it.alphaTest.value=lt.alphaTest);let dt;lt.map?dt=lt.map:lt.alphaMap&&(dt=lt.alphaMap),dt!==void 0&&(dt.matrixAutoUpdate===!0&&dt.updateMatrix(),it.uvTransform.value.copy(dt.matrix))}function $(it,lt){it.diffuse.value.copy(lt.color),it.opacity.value=lt.opacity,it.rotation.value=lt.rotation,lt.map&&(it.map.value=lt.map),lt.alphaMap&&(it.alphaMap.value=lt.alphaMap),lt.alphaTest>0&&(it.alphaTest.value=lt.alphaTest);let ht;lt.map?ht=lt.map:lt.alphaMap&&(ht=lt.alphaMap),ht!==void 0&&(ht.matrixAutoUpdate===!0&&ht.updateMatrix(),it.uvTransform.value.copy(ht.matrix))}function j(it,lt){lt.emissiveMap&&(it.emissiveMap.value=lt.emissiveMap)}function _e(it,lt){it.specular.value.copy(lt.specular),it.shininess.value=Math.max(lt.shininess,1e-4),lt.emissiveMap&&(it.emissiveMap.value=lt.emissiveMap),lt.bumpMap&&(it.bumpMap.value=lt.bumpMap,it.bumpScale.value=lt.bumpScale,lt.side===BackSide&&(it.bumpScale.value*=-1)),lt.normalMap&&(it.normalMap.value=lt.normalMap,it.normalScale.value.copy(lt.normalScale),lt.side===BackSide&&it.normalScale.value.negate()),lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias)}function et(it,lt){lt.gradientMap&&(it.gradientMap.value=lt.gradientMap),lt.emissiveMap&&(it.emissiveMap.value=lt.emissiveMap),lt.bumpMap&&(it.bumpMap.value=lt.bumpMap,it.bumpScale.value=lt.bumpScale,lt.side===BackSide&&(it.bumpScale.value*=-1)),lt.normalMap&&(it.normalMap.value=lt.normalMap,it.normalScale.value.copy(lt.normalScale),lt.side===BackSide&&it.normalScale.value.negate()),lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias)}function rt(it,lt){it.roughness.value=lt.roughness,it.metalness.value=lt.metalness,lt.roughnessMap&&(it.roughnessMap.value=lt.roughnessMap),lt.metalnessMap&&(it.metalnessMap.value=lt.metalnessMap),lt.emissiveMap&&(it.emissiveMap.value=lt.emissiveMap),lt.bumpMap&&(it.bumpMap.value=lt.bumpMap,it.bumpScale.value=lt.bumpScale,lt.side===BackSide&&(it.bumpScale.value*=-1)),lt.normalMap&&(it.normalMap.value=lt.normalMap,it.normalScale.value.copy(lt.normalScale),lt.side===BackSide&&it.normalScale.value.negate()),lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias),o.get(lt).envMap&&(it.envMapIntensity.value=lt.envMapIntensity)}function tt(it,lt,ht){rt(it,lt),it.ior.value=lt.ior,lt.sheen>0&&(it.sheenColor.value.copy(lt.sheenColor).multiplyScalar(lt.sheen),it.sheenRoughness.value=lt.sheenRoughness,lt.sheenColorMap&&(it.sheenColorMap.value=lt.sheenColorMap),lt.sheenRoughnessMap&&(it.sheenRoughnessMap.value=lt.sheenRoughnessMap)),lt.clearcoat>0&&(it.clearcoat.value=lt.clearcoat,it.clearcoatRoughness.value=lt.clearcoatRoughness,lt.clearcoatMap&&(it.clearcoatMap.value=lt.clearcoatMap),lt.clearcoatRoughnessMap&&(it.clearcoatRoughnessMap.value=lt.clearcoatRoughnessMap),lt.clearcoatNormalMap&&(it.clearcoatNormalScale.value.copy(lt.clearcoatNormalScale),it.clearcoatNormalMap.value=lt.clearcoatNormalMap,lt.side===BackSide&&it.clearcoatNormalScale.value.negate())),lt.transmission>0&&(it.transmission.value=lt.transmission,it.transmissionSamplerMap.value=ht.texture,it.transmissionSamplerSize.value.set(ht.width,ht.height),lt.transmissionMap&&(it.transmissionMap.value=lt.transmissionMap),it.thickness.value=lt.thickness,lt.thicknessMap&&(it.thicknessMap.value=lt.thicknessMap),it.attenuationDistance.value=lt.attenuationDistance,it.attenuationColor.value.copy(lt.attenuationColor)),it.specularIntensity.value=lt.specularIntensity,it.specularColor.value.copy(lt.specularColor),lt.specularIntensityMap&&(it.specularIntensityMap.value=lt.specularIntensityMap),lt.specularColorMap&&(it.specularColorMap.value=lt.specularColorMap)}function nt(it,lt){lt.matcap&&(it.matcap.value=lt.matcap),lt.bumpMap&&(it.bumpMap.value=lt.bumpMap,it.bumpScale.value=lt.bumpScale,lt.side===BackSide&&(it.bumpScale.value*=-1)),lt.normalMap&&(it.normalMap.value=lt.normalMap,it.normalScale.value.copy(lt.normalScale),lt.side===BackSide&&it.normalScale.value.negate()),lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias)}function st(it,lt){lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias)}function at(it,lt){lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias),it.referencePosition.value.copy(lt.referencePosition),it.nearDistance.value=lt.nearDistance,it.farDistance.value=lt.farDistance}function ct(it,lt){lt.bumpMap&&(it.bumpMap.value=lt.bumpMap,it.bumpScale.value=lt.bumpScale,lt.side===BackSide&&(it.bumpScale.value*=-1)),lt.normalMap&&(it.normalMap.value=lt.normalMap,it.normalScale.value.copy(lt.normalScale),lt.side===BackSide&&it.normalScale.value.negate()),lt.displacementMap&&(it.displacementMap.value=lt.displacementMap,it.displacementScale.value=lt.displacementScale,it.displacementBias.value=lt.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:h}}function createCanvasElement(){const o=createElementNS("canvas");return o.style.display="block",o}function WebGLRenderer(o={}){const e=o.canvas!==void 0?o.canvas:createCanvasElement(),h=o.context!==void 0?o.context:null,d=o.depth!==void 0?o.depth:!0,g=o.stencil!==void 0?o.stencil:!0,_=o.antialias!==void 0?o.antialias:!1,b=o.premultipliedAlpha!==void 0?o.premultipliedAlpha:!0,$=o.preserveDrawingBuffer!==void 0?o.preserveDrawingBuffer:!1,j=o.powerPreference!==void 0?o.powerPreference:"default",_e=o.failIfMajorPerformanceCaveat!==void 0?o.failIfMajorPerformanceCaveat:!1;let et;o.context!==void 0?et=h.getContextAttributes().alpha:et=o.alpha!==void 0?o.alpha:!1;let rt=null,tt=null;const nt=[],st=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const at=this;let ct=!1,it=0,lt=0,ht=null,ut=-1,dt=null;const pt=new Vector4,mt=new Vector4;let yt=null,xt=e.width,Tt=e.height,_t=1,Mt=null,Lt=null;const Pt=new Vector4(0,0,xt,Tt),It=new Vector4(0,0,xt,Tt);let Et=!1;const Ct=new Frustum;let St=!1,At=!1,Rt=null;const Ot=new Matrix4,Gt=new Vector2,Qt=new Vector3,ir={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function tr(){return ht===null?_t:1}let Wt=h;function wr(Ut,Zt){for(let lr=0;lr<Ut.length;lr++){const or=Ut[lr],xr=e.getContext(or,Zt);if(xr!==null)return xr}return null}try{const Ut={alpha:!0,depth:d,stencil:g,antialias:_,premultipliedAlpha:b,preserveDrawingBuffer:$,powerPreference:j,failIfMajorPerformanceCaveat:_e};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${REVISION}`),e.addEventListener("webglcontextlost",Kt,!1),e.addEventListener("webglcontextrestored",Br,!1),Wt===null){const Zt=["webgl2","webgl","experimental-webgl"];if(at.isWebGL1Renderer===!0&&Zt.shift(),Wt=wr(Zt,Ut),Wt===null)throw wr(Zt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Wt.getShaderPrecisionFormat===void 0&&(Wt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ut){throw console.error("THREE.WebGLRenderer: "+Ut.message),Ut}let Lr,Er,Ar,yr,Yt,Xt,ur,br,_r,Pr,Or,Nr,an,$t,kt,hr,vr,Ir,Dr,Gr,mr,Wr,Qr;function qr(){Lr=new WebGLExtensions(Wt),Er=new WebGLCapabilities(Wt,Lr,o),Lr.init(Er),Wr=new WebGLUtils(Wt,Lr,Er),Ar=new WebGLState(Wt,Lr,Er),yr=new WebGLInfo,Yt=new WebGLProperties,Xt=new WebGLTextures(Wt,Lr,Ar,Yt,Er,Wr,yr),ur=new WebGLCubeMaps(at),br=new WebGLCubeUVMaps(at),_r=new WebGLAttributes(Wt,Er),Qr=new WebGLBindingStates(Wt,Lr,_r,Er),Pr=new WebGLGeometries(Wt,_r,yr,Qr),Or=new WebGLObjects(Wt,Pr,_r,yr),Dr=new WebGLMorphtargets(Wt,Er,Xt),hr=new WebGLClipping(Yt),Nr=new WebGLPrograms(at,ur,br,Lr,Er,Qr,hr),an=new WebGLMaterials(Yt),$t=new WebGLRenderLists,kt=new WebGLRenderStates(Lr,Er),Ir=new WebGLBackground(at,ur,Ar,Or,et,b),vr=new WebGLShadowMap(at,Or,Er),Gr=new WebGLBufferRenderer(Wt,Lr,yr,Er),mr=new WebGLIndexedBufferRenderer(Wt,Lr,yr,Er),yr.programs=Nr.programs,at.capabilities=Er,at.extensions=Lr,at.properties=Yt,at.renderLists=$t,at.shadowMap=vr,at.state=Ar,at.info=yr}qr();const zr=new WebXRManager(at,Wt);this.xr=zr,this.getContext=function(){return Wt},this.getContextAttributes=function(){return Wt.getContextAttributes()},this.forceContextLoss=function(){const Ut=Lr.get("WEBGL_lose_context");Ut&&Ut.loseContext()},this.forceContextRestore=function(){const Ut=Lr.get("WEBGL_lose_context");Ut&&Ut.restoreContext()},this.getPixelRatio=function(){return _t},this.setPixelRatio=function(Ut){Ut!==void 0&&(_t=Ut,this.setSize(xt,Tt,!1))},this.getSize=function(Ut){return Ut.set(xt,Tt)},this.setSize=function(Ut,Zt,lr){if(zr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}xt=Ut,Tt=Zt,e.width=Math.floor(Ut*_t),e.height=Math.floor(Zt*_t),lr!==!1&&(e.style.width=Ut+"px",e.style.height=Zt+"px"),this.setViewport(0,0,Ut,Zt)},this.getDrawingBufferSize=function(Ut){return Ut.set(xt*_t,Tt*_t).floor()},this.setDrawingBufferSize=function(Ut,Zt,lr){xt=Ut,Tt=Zt,_t=lr,e.width=Math.floor(Ut*lr),e.height=Math.floor(Zt*lr),this.setViewport(0,0,Ut,Zt)},this.getCurrentViewport=function(Ut){return Ut.copy(pt)},this.getViewport=function(Ut){return Ut.copy(Pt)},this.setViewport=function(Ut,Zt,lr,or){Ut.isVector4?Pt.set(Ut.x,Ut.y,Ut.z,Ut.w):Pt.set(Ut,Zt,lr,or),Ar.viewport(pt.copy(Pt).multiplyScalar(_t).floor())},this.getScissor=function(Ut){return Ut.copy(It)},this.setScissor=function(Ut,Zt,lr,or){Ut.isVector4?It.set(Ut.x,Ut.y,Ut.z,Ut.w):It.set(Ut,Zt,lr,or),Ar.scissor(mt.copy(It).multiplyScalar(_t).floor())},this.getScissorTest=function(){return Et},this.setScissorTest=function(Ut){Ar.setScissorTest(Et=Ut)},this.setOpaqueSort=function(Ut){Mt=Ut},this.setTransparentSort=function(Ut){Lt=Ut},this.getClearColor=function(Ut){return Ut.copy(Ir.getClearColor())},this.setClearColor=function(){Ir.setClearColor.apply(Ir,arguments)},this.getClearAlpha=function(){return Ir.getClearAlpha()},this.setClearAlpha=function(){Ir.setClearAlpha.apply(Ir,arguments)},this.clear=function(Ut=!0,Zt=!0,lr=!0){let or=0;Ut&&(or|=16384),Zt&&(or|=256),lr&&(or|=1024),Wt.clear(or)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Kt,!1),e.removeEventListener("webglcontextrestored",Br,!1),$t.dispose(),kt.dispose(),Yt.dispose(),ur.dispose(),br.dispose(),Or.dispose(),Qr.dispose(),Nr.dispose(),zr.dispose(),zr.removeEventListener("sessionstart",wn),zr.removeEventListener("sessionend",Kn),Rt&&(Rt.dispose(),Rt=null),Fn.stop()};function Kt(Ut){Ut.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ct=!0}function Br(){console.log("THREE.WebGLRenderer: Context Restored."),ct=!1;const Ut=yr.autoReset,Zt=vr.enabled,lr=vr.autoUpdate,or=vr.needsUpdate,xr=vr.type;qr(),yr.autoReset=Ut,vr.enabled=Zt,vr.autoUpdate=lr,vr.needsUpdate=or,vr.type=xr}function cr(Ut){const Zt=Ut.target;Zt.removeEventListener("dispose",cr),ar(Zt)}function ar(Ut){pr(Ut),Yt.remove(Ut)}function pr(Ut){const Zt=Yt.get(Ut).programs;Zt!==void 0&&(Zt.forEach(function(lr){Nr.releaseProgram(lr)}),Ut.isShaderMaterial&&Nr.releaseShaderCache(Ut))}this.renderBufferDirect=function(Ut,Zt,lr,or,xr,Vr){Zt===null&&(Zt=ir);const rn=xr.isMesh&&xr.matrixWorld.determinant()<0,_n=Jr(Ut,Zt,lr,or,xr);Ar.setMaterial(or,rn);let fn=lr.index;const xn=lr.attributes.position;if(fn===null){if(xn===void 0||xn.count===0)return}else if(fn.count===0)return;let un=1;or.wireframe===!0&&(fn=Pr.getWireframeAttribute(lr),un=2),Qr.setup(xr,or,_n,lr,fn);let Sn,$n=Gr;fn!==null&&(Sn=_r.get(fn),$n=mr,$n.setIndex(Sn));const vs=fn!==null?fn.count:xn.count,os=lr.drawRange.start*un,On=lr.drawRange.count*un,vn=Vr!==null?Vr.start*un:0,Yr=Vr!==null?Vr.count*un:1/0,jn=Math.max(os,vn),Mn=Math.min(vs,os+On,vn+Yr)-1,Ts=Math.max(0,Mn-jn+1);if(Ts!==0){if(xr.isMesh)or.wireframe===!0?(Ar.setLineWidth(or.wireframeLinewidth*tr()),$n.setMode(1)):$n.setMode(4);else if(xr.isLine){let ds=or.linewidth;ds===void 0&&(ds=1),Ar.setLineWidth(ds*tr()),xr.isLineSegments?$n.setMode(1):xr.isLineLoop?$n.setMode(2):$n.setMode(3)}else xr.isPoints?$n.setMode(0):xr.isSprite&&$n.setMode(4);if(xr.isInstancedMesh)$n.renderInstances(jn,Ts,xr.count);else if(lr.isInstancedBufferGeometry){const ds=Math.min(lr.instanceCount,lr._maxInstanceCount);$n.renderInstances(jn,Ts,ds)}else $n.render(jn,Ts)}},this.compile=function(Ut,Zt){tt=kt.get(Ut),tt.init(),st.push(tt),Ut.traverseVisible(function(lr){lr.isLight&&lr.layers.test(Zt.layers)&&(tt.pushLight(lr),lr.castShadow&&tt.pushShadow(lr))}),tt.setupLights(at.physicallyCorrectLights),Ut.traverse(function(lr){const or=lr.material;if(or)if(Array.isArray(or))for(let xr=0;xr<or.length;xr++){const Vr=or[xr];gn(Vr,Ut,lr)}else gn(or,Ut,lr)}),st.pop(),tt=null};let rr=null;function ln(Ut){rr&&rr(Ut)}function wn(){Fn.stop()}function Kn(){Fn.start()}const Fn=new WebGLAnimation;Fn.setAnimationLoop(ln),typeof window!="undefined"&&Fn.setContext(window),this.setAnimationLoop=function(Ut){rr=Ut,zr.setAnimationLoop(Ut),Ut===null?Fn.stop():Fn.start()},zr.addEventListener("sessionstart",wn),zr.addEventListener("sessionend",Kn),this.render=function(Ut,Zt){if(Zt!==void 0&&Zt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ct===!0)return;Ut.autoUpdate===!0&&Ut.updateMatrixWorld(),Zt.parent===null&&Zt.updateMatrixWorld(),zr.enabled===!0&&zr.isPresenting===!0&&(zr.cameraAutoUpdate===!0&&zr.updateCamera(Zt),Zt=zr.getCamera()),Ut.isScene===!0&&Ut.onBeforeRender(at,Ut,Zt,ht),tt=kt.get(Ut,st.length),tt.init(),st.push(tt),Ot.multiplyMatrices(Zt.projectionMatrix,Zt.matrixWorldInverse),Ct.setFromProjectionMatrix(Ot),At=this.localClippingEnabled,St=hr.init(this.clippingPlanes,At,Zt),rt=$t.get(Ut,nt.length),rt.init(),nt.push(rt),er(Ut,Zt,0,at.sortObjects),rt.finish(),at.sortObjects===!0&&rt.sort(Mt,Lt),St===!0&&hr.beginShadows();const lr=tt.state.shadowsArray;if(vr.render(lr,Ut,Zt),St===!0&&hr.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ir.render(rt,Ut),tt.setupLights(at.physicallyCorrectLights),Zt.isArrayCamera){const or=Zt.cameras;for(let xr=0,Vr=or.length;xr<Vr;xr++){const rn=or[xr];sr(rt,Ut,rn,rn.viewport)}}else sr(rt,Ut,Zt);ht!==null&&(Xt.updateMultisampleRenderTarget(ht),Xt.updateRenderTargetMipmap(ht)),Ut.isScene===!0&&Ut.onAfterRender(at,Ut,Zt),Qr.resetDefaultState(),ut=-1,dt=null,st.pop(),st.length>0?tt=st[st.length-1]:tt=null,nt.pop(),nt.length>0?rt=nt[nt.length-1]:rt=null};function er(Ut,Zt,lr,or){if(Ut.visible===!1)return;if(Ut.layers.test(Zt.layers)){if(Ut.isGroup)lr=Ut.renderOrder;else if(Ut.isLOD)Ut.autoUpdate===!0&&Ut.update(Zt);else if(Ut.isLight)tt.pushLight(Ut),Ut.castShadow&&tt.pushShadow(Ut);else if(Ut.isSprite){if(!Ut.frustumCulled||Ct.intersectsSprite(Ut)){or&&Qt.setFromMatrixPosition(Ut.matrixWorld).applyMatrix4(Ot);const rn=Or.update(Ut),_n=Ut.material;_n.visible&&rt.push(Ut,rn,_n,lr,Qt.z,null)}}else if((Ut.isMesh||Ut.isLine||Ut.isPoints)&&(Ut.isSkinnedMesh&&Ut.skeleton.frame!==yr.render.frame&&(Ut.skeleton.update(),Ut.skeleton.frame=yr.render.frame),!Ut.frustumCulled||Ct.intersectsObject(Ut))){or&&Qt.setFromMatrixPosition(Ut.matrixWorld).applyMatrix4(Ot);const rn=Or.update(Ut),_n=Ut.material;if(Array.isArray(_n)){const fn=rn.groups;for(let xn=0,un=fn.length;xn<un;xn++){const Sn=fn[xn],$n=_n[Sn.materialIndex];$n&&$n.visible&&rt.push(Ut,rn,$n,lr,Qt.z,Sn)}}else _n.visible&&rt.push(Ut,rn,_n,lr,Qt.z,null)}}const Vr=Ut.children;for(let rn=0,_n=Vr.length;rn<_n;rn++)er(Vr[rn],Zt,lr,or)}function sr(Ut,Zt,lr,or){const xr=Ut.opaque,Vr=Ut.transmissive,rn=Ut.transparent;tt.setupLightsView(lr),Vr.length>0&&gr(xr,Zt,lr),or&&Ar.viewport(pt.copy(or)),xr.length>0&&Fr(xr,Zt,lr),Vr.length>0&&Fr(Vr,Zt,lr),rn.length>0&&Fr(rn,Zt,lr),Ar.buffers.depth.setTest(!0),Ar.buffers.depth.setMask(!0),Ar.buffers.color.setMask(!0),Ar.setPolygonOffset(!1)}function gr(Ut,Zt,lr){const or=Er.isWebGL2;Rt===null&&(Rt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Wr.convert(HalfFloatType)!==null?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:or&&_===!0?4:0})),at.getDrawingBufferSize(Gt),or?Rt.setSize(Gt.x,Gt.y):Rt.setSize(floorPowerOfTwo(Gt.x),floorPowerOfTwo(Gt.y));const xr=at.getRenderTarget();at.setRenderTarget(Rt),at.clear();const Vr=at.toneMapping;at.toneMapping=NoToneMapping,Fr(Ut,Zt,lr),at.toneMapping=Vr,Xt.updateMultisampleRenderTarget(Rt),Xt.updateRenderTargetMipmap(Rt),at.setRenderTarget(xr)}function Fr(Ut,Zt,lr){const or=Zt.isScene===!0?Zt.overrideMaterial:null;for(let xr=0,Vr=Ut.length;xr<Vr;xr++){const rn=Ut[xr],_n=rn.object,fn=rn.geometry,xn=or===null?rn.material:or,un=rn.group;_n.layers.test(lr.layers)&&jr(_n,Zt,lr,fn,xn,un)}}function jr(Ut,Zt,lr,or,xr,Vr){Ut.onBeforeRender(at,Zt,lr,or,xr,Vr),Ut.modelViewMatrix.multiplyMatrices(lr.matrixWorldInverse,Ut.matrixWorld),Ut.normalMatrix.getNormalMatrix(Ut.modelViewMatrix),xr.onBeforeRender(at,Zt,lr,or,Ut,Vr),xr.transparent===!0&&xr.side===DoubleSide?(xr.side=BackSide,xr.needsUpdate=!0,at.renderBufferDirect(lr,Zt,or,xr,Ut,Vr),xr.side=FrontSide,xr.needsUpdate=!0,at.renderBufferDirect(lr,Zt,or,xr,Ut,Vr),xr.side=DoubleSide):at.renderBufferDirect(lr,Zt,or,xr,Ut,Vr),Ut.onAfterRender(at,Zt,lr,or,xr,Vr)}function gn(Ut,Zt,lr){Zt.isScene!==!0&&(Zt=ir);const or=Yt.get(Ut),xr=tt.state.lights,Vr=tt.state.shadowsArray,rn=xr.state.version,_n=Nr.getParameters(Ut,xr.state,Vr,Zt,lr),fn=Nr.getProgramCacheKey(_n);let xn=or.programs;or.environment=Ut.isMeshStandardMaterial?Zt.environment:null,or.fog=Zt.fog,or.envMap=(Ut.isMeshStandardMaterial?br:ur).get(Ut.envMap||or.environment),xn===void 0&&(Ut.addEventListener("dispose",cr),xn=new Map,or.programs=xn);let un=xn.get(fn);if(un!==void 0){if(or.currentProgram===un&&or.lightsStateVersion===rn)return en(Ut,_n),un}else _n.uniforms=Nr.getUniforms(Ut),Ut.onBuild(lr,_n,at),Ut.onBeforeCompile(_n,at),un=Nr.acquireProgram(_n,fn),xn.set(fn,un),or.uniforms=_n.uniforms;const Sn=or.uniforms;(!Ut.isShaderMaterial&&!Ut.isRawShaderMaterial||Ut.clipping===!0)&&(Sn.clippingPlanes=hr.uniform),en(Ut,_n),or.needsLights=bn(Ut),or.lightsStateVersion=rn,or.needsLights&&(Sn.ambientLightColor.value=xr.state.ambient,Sn.lightProbe.value=xr.state.probe,Sn.directionalLights.value=xr.state.directional,Sn.directionalLightShadows.value=xr.state.directionalShadow,Sn.spotLights.value=xr.state.spot,Sn.spotLightShadows.value=xr.state.spotShadow,Sn.rectAreaLights.value=xr.state.rectArea,Sn.ltc_1.value=xr.state.rectAreaLTC1,Sn.ltc_2.value=xr.state.rectAreaLTC2,Sn.pointLights.value=xr.state.point,Sn.pointLightShadows.value=xr.state.pointShadow,Sn.hemisphereLights.value=xr.state.hemi,Sn.directionalShadowMap.value=xr.state.directionalShadowMap,Sn.directionalShadowMatrix.value=xr.state.directionalShadowMatrix,Sn.spotShadowMap.value=xr.state.spotShadowMap,Sn.spotShadowMatrix.value=xr.state.spotShadowMatrix,Sn.pointShadowMap.value=xr.state.pointShadowMap,Sn.pointShadowMatrix.value=xr.state.pointShadowMatrix);const $n=un.getUniforms(),vs=WebGLUniforms.seqWithValue($n.seq,Sn);return or.currentProgram=un,or.uniformsList=vs,un}function en(Ut,Zt){const lr=Yt.get(Ut);lr.outputEncoding=Zt.outputEncoding,lr.instancing=Zt.instancing,lr.skinning=Zt.skinning,lr.morphTargets=Zt.morphTargets,lr.morphNormals=Zt.morphNormals,lr.morphColors=Zt.morphColors,lr.morphTargetsCount=Zt.morphTargetsCount,lr.numClippingPlanes=Zt.numClippingPlanes,lr.numIntersection=Zt.numClipIntersection,lr.vertexAlphas=Zt.vertexAlphas,lr.vertexTangents=Zt.vertexTangents,lr.toneMapping=Zt.toneMapping}function Jr(Ut,Zt,lr,or,xr){Zt.isScene!==!0&&(Zt=ir),Xt.resetTextureUnits();const Vr=Zt.fog,rn=or.isMeshStandardMaterial?Zt.environment:null,_n=ht===null?at.outputEncoding:ht.isXRRenderTarget===!0?ht.texture.encoding:LinearEncoding,fn=(or.isMeshStandardMaterial?br:ur).get(or.envMap||rn),xn=or.vertexColors===!0&&!!lr.attributes.color&&lr.attributes.color.itemSize===4,un=!!or.normalMap&&!!lr.attributes.tangent,Sn=!!lr.morphAttributes.position,$n=!!lr.morphAttributes.normal,vs=!!lr.morphAttributes.color,os=or.toneMapped?at.toneMapping:NoToneMapping,On=lr.morphAttributes.position||lr.morphAttributes.normal||lr.morphAttributes.color,vn=On!==void 0?On.length:0,Yr=Yt.get(or),jn=tt.state.lights;if(St===!0&&(At===!0||Ut!==dt)){const ys=Ut===dt&&or.id===ut;hr.setState(or,Ut,ys)}let Mn=!1;or.version===Yr.__version?(Yr.needsLights&&Yr.lightsStateVersion!==jn.state.version||Yr.outputEncoding!==_n||xr.isInstancedMesh&&Yr.instancing===!1||!xr.isInstancedMesh&&Yr.instancing===!0||xr.isSkinnedMesh&&Yr.skinning===!1||!xr.isSkinnedMesh&&Yr.skinning===!0||Yr.envMap!==fn||or.fog&&Yr.fog!==Vr||Yr.numClippingPlanes!==void 0&&(Yr.numClippingPlanes!==hr.numPlanes||Yr.numIntersection!==hr.numIntersection)||Yr.vertexAlphas!==xn||Yr.vertexTangents!==un||Yr.morphTargets!==Sn||Yr.morphNormals!==$n||Yr.morphColors!==vs||Yr.toneMapping!==os||Er.isWebGL2===!0&&Yr.morphTargetsCount!==vn)&&(Mn=!0):(Mn=!0,Yr.__version=or.version);let Ts=Yr.currentProgram;Mn===!0&&(Ts=gn(or,Zt,xr));let ds=!1,Ys=!1,ho=!1;const Qn=Ts.getUniforms(),Xs=Yr.uniforms;if(Ar.useProgram(Ts.program)&&(ds=!0,Ys=!0,ho=!0),or.id!==ut&&(ut=or.id,Ys=!0),ds||dt!==Ut){if(Qn.setValue(Wt,"projectionMatrix",Ut.projectionMatrix),Er.logarithmicDepthBuffer&&Qn.setValue(Wt,"logDepthBufFC",2/(Math.log(Ut.far+1)/Math.LN2)),dt!==Ut&&(dt=Ut,Ys=!0,ho=!0),or.isShaderMaterial||or.isMeshPhongMaterial||or.isMeshToonMaterial||or.isMeshStandardMaterial||or.envMap){const ys=Qn.map.cameraPosition;ys!==void 0&&ys.setValue(Wt,Qt.setFromMatrixPosition(Ut.matrixWorld))}(or.isMeshPhongMaterial||or.isMeshToonMaterial||or.isMeshLambertMaterial||or.isMeshBasicMaterial||or.isMeshStandardMaterial||or.isShaderMaterial)&&Qn.setValue(Wt,"isOrthographic",Ut.isOrthographicCamera===!0),(or.isMeshPhongMaterial||or.isMeshToonMaterial||or.isMeshLambertMaterial||or.isMeshBasicMaterial||or.isMeshStandardMaterial||or.isShaderMaterial||or.isShadowMaterial||xr.isSkinnedMesh)&&Qn.setValue(Wt,"viewMatrix",Ut.matrixWorldInverse)}if(xr.isSkinnedMesh){Qn.setOptional(Wt,xr,"bindMatrix"),Qn.setOptional(Wt,xr,"bindMatrixInverse");const ys=xr.skeleton;ys&&(Er.floatVertexTextures?(ys.boneTexture===null&&ys.computeBoneTexture(),Qn.setValue(Wt,"boneTexture",ys.boneTexture,Xt),Qn.setValue(Wt,"boneTextureSize",ys.boneTextureSize)):Qn.setOptional(Wt,ys,"boneMatrices"))}const Ps=lr.morphAttributes;return(Ps.position!==void 0||Ps.normal!==void 0||Ps.color!==void 0&&Er.isWebGL2===!0)&&Dr.update(xr,lr,or,Ts),(Ys||Yr.receiveShadow!==xr.receiveShadow)&&(Yr.receiveShadow=xr.receiveShadow,Qn.setValue(Wt,"receiveShadow",xr.receiveShadow)),Ys&&(Qn.setValue(Wt,"toneMappingExposure",at.toneMappingExposure),Yr.needsLights&&Xr(Xs,ho),Vr&&or.fog&&an.refreshFogUniforms(Xs,Vr),an.refreshMaterialUniforms(Xs,or,_t,Tt,Rt),WebGLUniforms.upload(Wt,Yr.uniformsList,Xs,Xt)),or.isShaderMaterial&&or.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Wt,Yr.uniformsList,Xs,Xt),or.uniformsNeedUpdate=!1),or.isSpriteMaterial&&Qn.setValue(Wt,"center",xr.center),Qn.setValue(Wt,"modelViewMatrix",xr.modelViewMatrix),Qn.setValue(Wt,"normalMatrix",xr.normalMatrix),Qn.setValue(Wt,"modelMatrix",xr.matrixWorld),Ts}function Xr(Ut,Zt){Ut.ambientLightColor.needsUpdate=Zt,Ut.lightProbe.needsUpdate=Zt,Ut.directionalLights.needsUpdate=Zt,Ut.directionalLightShadows.needsUpdate=Zt,Ut.pointLights.needsUpdate=Zt,Ut.pointLightShadows.needsUpdate=Zt,Ut.spotLights.needsUpdate=Zt,Ut.spotLightShadows.needsUpdate=Zt,Ut.rectAreaLights.needsUpdate=Zt,Ut.hemisphereLights.needsUpdate=Zt}function bn(Ut){return Ut.isMeshLambertMaterial||Ut.isMeshToonMaterial||Ut.isMeshPhongMaterial||Ut.isMeshStandardMaterial||Ut.isShadowMaterial||Ut.isShaderMaterial&&Ut.lights===!0}this.getActiveCubeFace=function(){return it},this.getActiveMipmapLevel=function(){return lt},this.getRenderTarget=function(){return ht},this.setRenderTargetTextures=function(Ut,Zt,lr){Yt.get(Ut.texture).__webglTexture=Zt,Yt.get(Ut.depthTexture).__webglTexture=lr;const or=Yt.get(Ut);or.__hasExternalTextures=!0,or.__hasExternalTextures&&(or.__autoAllocateDepthBuffer=lr===void 0,or.__autoAllocateDepthBuffer||Lr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),or.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ut,Zt){const lr=Yt.get(Ut);lr.__webglFramebuffer=Zt,lr.__useDefaultFramebuffer=Zt===void 0},this.setRenderTarget=function(Ut,Zt=0,lr=0){ht=Ut,it=Zt,lt=lr;let or=!0;if(Ut){const fn=Yt.get(Ut);fn.__useDefaultFramebuffer!==void 0?(Ar.bindFramebuffer(36160,null),or=!1):fn.__webglFramebuffer===void 0?Xt.setupRenderTarget(Ut):fn.__hasExternalTextures&&Xt.rebindTextures(Ut,Yt.get(Ut.texture).__webglTexture,Yt.get(Ut.depthTexture).__webglTexture)}let xr=null,Vr=!1,rn=!1;if(Ut){const fn=Ut.texture;(fn.isData3DTexture||fn.isDataArrayTexture)&&(rn=!0);const xn=Yt.get(Ut).__webglFramebuffer;Ut.isWebGLCubeRenderTarget?(xr=xn[Zt],Vr=!0):Er.isWebGL2&&Ut.samples>0&&Xt.useMultisampledRTT(Ut)===!1?xr=Yt.get(Ut).__webglMultisampledFramebuffer:xr=xn,pt.copy(Ut.viewport),mt.copy(Ut.scissor),yt=Ut.scissorTest}else pt.copy(Pt).multiplyScalar(_t).floor(),mt.copy(It).multiplyScalar(_t).floor(),yt=Et;if(Ar.bindFramebuffer(36160,xr)&&Er.drawBuffers&&or&&Ar.drawBuffers(Ut,xr),Ar.viewport(pt),Ar.scissor(mt),Ar.setScissorTest(yt),Vr){const fn=Yt.get(Ut.texture);Wt.framebufferTexture2D(36160,36064,34069+Zt,fn.__webglTexture,lr)}else if(rn){const fn=Yt.get(Ut.texture),xn=Zt||0;Wt.framebufferTextureLayer(36160,36064,fn.__webglTexture,lr||0,xn)}ut=-1},this.readRenderTargetPixels=function(Ut,Zt,lr,or,xr,Vr,rn){if(!(Ut&&Ut.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _n=Yt.get(Ut).__webglFramebuffer;if(Ut.isWebGLCubeRenderTarget&&rn!==void 0&&(_n=_n[rn]),_n){Ar.bindFramebuffer(36160,_n);try{const fn=Ut.texture,xn=fn.format,un=fn.type;if(xn!==RGBAFormat&&Wr.convert(xn)!==Wt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Sn=un===HalfFloatType&&(Lr.has("EXT_color_buffer_half_float")||Er.isWebGL2&&Lr.has("EXT_color_buffer_float"));if(un!==UnsignedByteType&&Wr.convert(un)!==Wt.getParameter(35738)&&!(un===FloatType&&(Er.isWebGL2||Lr.has("OES_texture_float")||Lr.has("WEBGL_color_buffer_float")))&&!Sn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Wt.checkFramebufferStatus(36160)===36053?Zt>=0&&Zt<=Ut.width-or&&lr>=0&&lr<=Ut.height-xr&&Wt.readPixels(Zt,lr,or,xr,Wr.convert(xn),Wr.convert(un),Vr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const fn=ht!==null?Yt.get(ht).__webglFramebuffer:null;Ar.bindFramebuffer(36160,fn)}}},this.copyFramebufferToTexture=function(Ut,Zt,lr=0){if(Zt.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const or=Math.pow(2,-lr),xr=Math.floor(Zt.image.width*or),Vr=Math.floor(Zt.image.height*or);Xt.setTexture2D(Zt,0),Wt.copyTexSubImage2D(3553,lr,0,0,Ut.x,Ut.y,xr,Vr),Ar.unbindTexture()},this.copyTextureToTexture=function(Ut,Zt,lr,or=0){const xr=Zt.image.width,Vr=Zt.image.height,rn=Wr.convert(lr.format),_n=Wr.convert(lr.type);Xt.setTexture2D(lr,0),Wt.pixelStorei(37440,lr.flipY),Wt.pixelStorei(37441,lr.premultiplyAlpha),Wt.pixelStorei(3317,lr.unpackAlignment),Zt.isDataTexture?Wt.texSubImage2D(3553,or,Ut.x,Ut.y,xr,Vr,rn,_n,Zt.image.data):Zt.isCompressedTexture?Wt.compressedTexSubImage2D(3553,or,Ut.x,Ut.y,Zt.mipmaps[0].width,Zt.mipmaps[0].height,rn,Zt.mipmaps[0].data):Wt.texSubImage2D(3553,or,Ut.x,Ut.y,rn,_n,Zt.image),or===0&&lr.generateMipmaps&&Wt.generateMipmap(3553),Ar.unbindTexture()},this.copyTextureToTexture3D=function(Ut,Zt,lr,or,xr=0){if(at.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Vr=Ut.max.x-Ut.min.x+1,rn=Ut.max.y-Ut.min.y+1,_n=Ut.max.z-Ut.min.z+1,fn=Wr.convert(or.format),xn=Wr.convert(or.type);let un;if(or.isData3DTexture)Xt.setTexture3D(or,0),un=32879;else if(or.isDataArrayTexture)Xt.setTexture2DArray(or,0),un=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Wt.pixelStorei(37440,or.flipY),Wt.pixelStorei(37441,or.premultiplyAlpha),Wt.pixelStorei(3317,or.unpackAlignment);const Sn=Wt.getParameter(3314),$n=Wt.getParameter(32878),vs=Wt.getParameter(3316),os=Wt.getParameter(3315),On=Wt.getParameter(32877),vn=lr.isCompressedTexture?lr.mipmaps[0]:lr.image;Wt.pixelStorei(3314,vn.width),Wt.pixelStorei(32878,vn.height),Wt.pixelStorei(3316,Ut.min.x),Wt.pixelStorei(3315,Ut.min.y),Wt.pixelStorei(32877,Ut.min.z),lr.isDataTexture||lr.isData3DTexture?Wt.texSubImage3D(un,xr,Zt.x,Zt.y,Zt.z,Vr,rn,_n,fn,xn,vn.data):lr.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Wt.compressedTexSubImage3D(un,xr,Zt.x,Zt.y,Zt.z,Vr,rn,_n,fn,vn.data)):Wt.texSubImage3D(un,xr,Zt.x,Zt.y,Zt.z,Vr,rn,_n,fn,xn,vn),Wt.pixelStorei(3314,Sn),Wt.pixelStorei(32878,$n),Wt.pixelStorei(3316,vs),Wt.pixelStorei(3315,os),Wt.pixelStorei(32877,On),xr===0&&or.generateMipmaps&&Wt.generateMipmap(un),Ar.unbindTexture()},this.initTexture=function(Ut){Xt.setTexture2D(Ut,0),Ar.unbindTexture()},this.resetState=function(){it=0,lt=0,ht=null,Ar.reset(),Qr.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}WebGLRenderer.prototype.isWebGLRenderer=!0;class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,h){return super.copy(e,h),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const h=super.toJSON(e);return this.fog!==null&&(h.object.fog=this.fog.toJSON()),h}}Scene.prototype.isScene=!0;class InterleavedBuffer{constructor(e,h){this.array=e,this.stride=h,this.count=e!==void 0?e.length/h:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,h,d){e*=this.stride,d*=h.stride;for(let g=0,_=this.stride;g<_;g++)this.array[e+g]=h.array[d+g];return this}set(e,h=0){return this.array.set(e,h),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const h=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),d=new this.constructor(h,this.stride);return d.setUsage(this.usage),d}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}InterleavedBuffer.prototype.isInterleavedBuffer=!0;const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(e,h,d,g=!1){this.name="",this.data=e,this.itemSize=h,this.offset=d,this.normalized=g===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let h=0,d=this.data.count;h<d;h++)_vector$6.x=this.getX(h),_vector$6.y=this.getY(h),_vector$6.z=this.getZ(h),_vector$6.applyMatrix4(e),this.setXYZ(h,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(e){for(let h=0,d=this.count;h<d;h++)_vector$6.x=this.getX(h),_vector$6.y=this.getY(h),_vector$6.z=this.getZ(h),_vector$6.applyNormalMatrix(e),this.setXYZ(h,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(e){for(let h=0,d=this.count;h<d;h++)_vector$6.x=this.getX(h),_vector$6.y=this.getY(h),_vector$6.z=this.getZ(h),_vector$6.transformDirection(e),this.setXYZ(h,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(e,h){return this.data.array[e*this.data.stride+this.offset]=h,this}setY(e,h){return this.data.array[e*this.data.stride+this.offset+1]=h,this}setZ(e,h){return this.data.array[e*this.data.stride+this.offset+2]=h,this}setW(e,h){return this.data.array[e*this.data.stride+this.offset+3]=h,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,h,d){return e=e*this.data.stride+this.offset,this.data.array[e+0]=h,this.data.array[e+1]=d,this}setXYZ(e,h,d,g){return e=e*this.data.stride+this.offset,this.data.array[e+0]=h,this.data.array[e+1]=d,this.data.array[e+2]=g,this}setXYZW(e,h,d,g,_){return e=e*this.data.stride+this.offset,this.data.array[e+0]=h,this.data.array[e+1]=d,this.data.array[e+2]=g,this.data.array[e+3]=_,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const h=[];for(let d=0;d<this.count;d++){const g=d*this.data.stride+this.offset;for(let _=0;_<this.itemSize;_++)h.push(this.data.array[g+_])}return new BufferAttribute(new this.array.constructor(h),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const h=[];for(let d=0;d<this.count;d++){const g=d*this.data.stride+this.offset;for(let _=0;_<this.itemSize;_++)h.push(this.data.array[g+_])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:h,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}InterleavedBufferAttribute.prototype.isInterleavedBufferAttribute=!0;class SpriteMaterial extends Material{constructor(e){super();this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}SpriteMaterial.prototype.isSpriteMaterial=!0;let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e){super();if(this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const h=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),d=new InterleavedBuffer(h,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(d,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(d,2,3,!1))}this.geometry=_geometry,this.material=e!==void 0?e:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(e,h){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const d=this.material.rotation;let g,_;d!==0&&(_=Math.cos(d),g=Math.sin(d));const b=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,b,_worldScale,g,_),transformVertex(_vB.set(.5,-.5,0),_mvPosition,b,_worldScale,g,_),transformVertex(_vC.set(.5,.5,0),_mvPosition,b,_worldScale,g,_),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let $=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if($===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,b,_worldScale,g,_),_uvB.set(0,1),$=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),$===null))return;const j=e.ray.origin.distanceTo(_intersectPoint);j<e.near||j>e.far||h.push({distance:j,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Sprite.prototype.isSprite=!0;function transformVertex(o,e,h,d,g,_){_alignedPosition.subVectors(o,h).addScalar(.5).multiply(d),g!==void 0?(_rotatedPosition.x=_*_alignedPosition.x-g*_alignedPosition.y,_rotatedPosition.y=g*_alignedPosition.x+_*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),o.copy(e),o.x+=_rotatedPosition.x,o.y+=_rotatedPosition.y,o.applyMatrix4(_viewWorldMatrix)}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(e,h){super(e,h);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,h){this.skeleton=e,h===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),h=this.matrixWorld),this.bindMatrix.copy(h),this.bindMatrixInverse.copy(h).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,h=this.geometry.attributes.skinWeight;for(let d=0,g=h.count;d<g;d++){e.x=h.getX(d),e.y=h.getY(d),e.z=h.getZ(d),e.w=h.getW(d);const _=1/e.manhattanLength();_!==1/0?e.multiplyScalar(_):e.set(1,0,0,0),h.setXYZW(d,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,h){const d=this.skeleton,g=this.geometry;_skinIndex.fromBufferAttribute(g.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(g.attributes.skinWeight,e),_basePosition.copy(h).applyMatrix4(this.bindMatrix),h.set(0,0,0);for(let _=0;_<4;_++){const b=_skinWeight.getComponent(_);if(b!==0){const $=_skinIndex.getComponent(_);_matrix.multiplyMatrices(d.bones[$].matrixWorld,d.boneInverses[$]),h.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),b)}}return h.applyMatrix4(this.bindMatrixInverse)}}SkinnedMesh.prototype.isSkinnedMesh=!0;class Bone extends Object3D{constructor(){super();this.type="Bone"}}Bone.prototype.isBone=!0;class DataTexture extends Texture{constructor(e=null,h=1,d=1,g,_,b,$,j,_e=NearestFilter,et=NearestFilter,rt,tt){super(null,b,$,j,_e,et,g,_,rt,tt);this.image={data:e,width:h,height:d},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataTexture.prototype.isDataTexture=!0;class InstancedBufferAttribute extends BufferAttribute{constructor(e,h,d,g=1){typeof d=="number"&&(g=d,d=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,h,d);this.meshPerAttribute=g}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}InstancedBufferAttribute.prototype.isInstancedBufferAttribute=!0;const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(e,h,d){super(e,h);this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(d*16),16),this.instanceColor=null,this.count=d,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,h){h.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,h){h.fromArray(this.instanceMatrix.array,e*16)}raycast(e,h){const d=this.matrixWorld,g=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let _=0;_<g;_++){this.getMatrixAt(_,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(d,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(e,_instanceIntersects);for(let b=0,$=_instanceIntersects.length;b<$;b++){const j=_instanceIntersects[b];j.instanceId=_,j.object=this,h.push(j)}_instanceIntersects.length=0}}setColorAt(e,h){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),h.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,h){h.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}InstancedMesh.prototype.isInstancedMesh=!0;class LineBasicMaterial extends Material{constructor(e){super();this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}LineBasicMaterial.prototype.isLineBasicMaterial=!0;const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(e=new BufferGeometry,h=new LineBasicMaterial){super();this.type="Line",this.geometry=e,this.material=h,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const h=e.attributes.position,d=[0];for(let g=1,_=h.count;g<_;g++)_start$1.fromBufferAttribute(h,g-1),_end$1.fromBufferAttribute(h,g),d[g]=d[g-1],d[g]+=_start$1.distanceTo(_end$1);e.setAttribute("lineDistance",new Float32BufferAttribute(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,h){const d=this.geometry,g=this.matrixWorld,_=e.params.Line.threshold,b=d.drawRange;if(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere$1.copy(d.boundingSphere),_sphere$1.applyMatrix4(g),_sphere$1.radius+=_,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(g).invert(),_ray$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const $=_/((this.scale.x+this.scale.y+this.scale.z)/3),j=$*$,_e=new Vector3,et=new Vector3,rt=new Vector3,tt=new Vector3,nt=this.isLineSegments?2:1;if(d.isBufferGeometry){const st=d.index,ct=d.attributes.position;if(st!==null){const it=Math.max(0,b.start),lt=Math.min(st.count,b.start+b.count);for(let ht=it,ut=lt-1;ht<ut;ht+=nt){const dt=st.getX(ht),pt=st.getX(ht+1);if(_e.fromBufferAttribute(ct,dt),et.fromBufferAttribute(ct,pt),_ray$1.distanceSqToSegment(_e,et,tt,rt)>j)continue;tt.applyMatrix4(this.matrixWorld);const yt=e.ray.origin.distanceTo(tt);yt<e.near||yt>e.far||h.push({distance:yt,point:rt.clone().applyMatrix4(this.matrixWorld),index:ht,face:null,faceIndex:null,object:this})}}else{const it=Math.max(0,b.start),lt=Math.min(ct.count,b.start+b.count);for(let ht=it,ut=lt-1;ht<ut;ht+=nt){if(_e.fromBufferAttribute(ct,ht),et.fromBufferAttribute(ct,ht+1),_ray$1.distanceSqToSegment(_e,et,tt,rt)>j)continue;tt.applyMatrix4(this.matrixWorld);const pt=e.ray.origin.distanceTo(tt);pt<e.near||pt>e.far||h.push({distance:pt,point:rt.clone().applyMatrix4(this.matrixWorld),index:ht,face:null,faceIndex:null,object:this})}}}else d.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const h=e.morphAttributes,d=Object.keys(h);if(d.length>0){const g=h[d[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _=0,b=g.length;_<b;_++){const $=g[_].name||String(_);this.morphTargetInfluences.push(0),this.morphTargetDictionary[$]=_}}}}else{const h=e.morphTargets;h!==void 0&&h.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Line.prototype.isLine=!0;const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,h){super(e,h);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const h=e.attributes.position,d=[];for(let g=0,_=h.count;g<_;g+=2)_start.fromBufferAttribute(h,g),_end.fromBufferAttribute(h,g+1),d[g]=g===0?0:d[g-1],d[g+1]=d[g]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}LineSegments.prototype.isLineSegments=!0;class LineLoop extends Line{constructor(e,h){super(e,h);this.type="LineLoop"}}LineLoop.prototype.isLineLoop=!0;class PointsMaterial extends Material{constructor(e){super();this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}PointsMaterial.prototype.isPointsMaterial=!0;const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,h=new PointsMaterial){super();this.type="Points",this.geometry=e,this.material=h,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,h){const d=this.geometry,g=this.matrixWorld,_=e.params.Points.threshold,b=d.drawRange;if(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere.copy(d.boundingSphere),_sphere.applyMatrix4(g),_sphere.radius+=_,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(g).invert(),_ray.copy(e.ray).applyMatrix4(_inverseMatrix);const $=_/((this.scale.x+this.scale.y+this.scale.z)/3),j=$*$;if(d.isBufferGeometry){const _e=d.index,rt=d.attributes.position;if(_e!==null){const tt=Math.max(0,b.start),nt=Math.min(_e.count,b.start+b.count);for(let st=tt,at=nt;st<at;st++){const ct=_e.getX(st);_position$2.fromBufferAttribute(rt,ct),testPoint(_position$2,ct,j,g,e,h,this)}}else{const tt=Math.max(0,b.start),nt=Math.min(rt.count,b.start+b.count);for(let st=tt,at=nt;st<at;st++)_position$2.fromBufferAttribute(rt,st),testPoint(_position$2,st,j,g,e,h,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const h=e.morphAttributes,d=Object.keys(h);if(d.length>0){const g=h[d[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _=0,b=g.length;_<b;_++){const $=g[_].name||String(_);this.morphTargetInfluences.push(0),this.morphTargetDictionary[$]=_}}}}else{const h=e.morphTargets;h!==void 0&&h.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Points.prototype.isPoints=!0;function testPoint(o,e,h,d,g,_,b){const $=_ray.distanceSqToPoint(o);if($<h){const j=new Vector3;_ray.closestPointToPoint(o,j),j.applyMatrix4(d);const _e=g.ray.origin.distanceTo(j);if(_e<g.near||_e>g.far)return;_.push({distance:_e,distanceToRay:Math.sqrt($),point:j,index:e,face:null,object:b})}}class VideoTexture extends Texture{constructor(e,h,d,g,_,b,$,j,_e){super(e,h,d,g,_,b,$,j,_e);this.minFilter=b!==void 0?b:LinearFilter,this.magFilter=_!==void 0?_:LinearFilter,this.generateMipmaps=!1;const et=this;function rt(){et.needsUpdate=!0,e.requestVideoFrameCallback(rt)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(rt)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}VideoTexture.prototype.isVideoTexture=!0;class FramebufferTexture extends Texture{constructor(e,h,d){super({width:e,height:h});this.format=d,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}FramebufferTexture.prototype.isFramebufferTexture=!0;class CompressedTexture extends Texture{constructor(e,h,d,g,_,b,$,j,_e,et,rt,tt){super(null,b,$,j,_e,et,g,_,rt,tt);this.image={width:h,height:d},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}CompressedTexture.prototype.isCompressedTexture=!0;class CanvasTexture extends Texture{constructor(e,h,d,g,_,b,$,j,_e){super(e,h,d,g,_,b,$,j,_e);this.needsUpdate=!0}}CanvasTexture.prototype.isCanvasTexture=!0;new Vector3;new Vector3;new Vector3;new Triangle;class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,h){const d=this.getUtoTmapping(e);return this.getPoint(d,h)}getPoints(e=5){const h=[];for(let d=0;d<=e;d++)h.push(this.getPoint(d/e));return h}getSpacedPoints(e=5){const h=[];for(let d=0;d<=e;d++)h.push(this.getPointAt(d/e));return h}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const h=[];let d,g=this.getPoint(0),_=0;h.push(0);for(let b=1;b<=e;b++)d=this.getPoint(b/e),_+=d.distanceTo(g),h.push(_),g=d;return this.cacheArcLengths=h,h}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,h){const d=this.getLengths();let g=0;const _=d.length;let b;h?b=h:b=e*d[_-1];let $=0,j=_-1,_e;for(;$<=j;)if(g=Math.floor($+(j-$)/2),_e=d[g]-b,_e<0)$=g+1;else if(_e>0)j=g-1;else{j=g;break}if(g=j,d[g]===b)return g/(_-1);const et=d[g],tt=d[g+1]-et,nt=(b-et)/tt;return(g+nt)/(_-1)}getTangent(e,h){const d=1e-4;let g=e-d,_=e+d;g<0&&(g=0),_>1&&(_=1);const b=this.getPoint(g),$=this.getPoint(_),j=h||(b.isVector2?new Vector2:new Vector3);return j.copy($).sub(b).normalize(),j}getTangentAt(e,h){const d=this.getUtoTmapping(e);return this.getTangent(d,h)}computeFrenetFrames(e,h){const d=new Vector3,g=[],_=[],b=[],$=new Vector3,j=new Matrix4;for(let nt=0;nt<=e;nt++){const st=nt/e;g[nt]=this.getTangentAt(st,new Vector3)}_[0]=new Vector3,b[0]=new Vector3;let _e=Number.MAX_VALUE;const et=Math.abs(g[0].x),rt=Math.abs(g[0].y),tt=Math.abs(g[0].z);et<=_e&&(_e=et,d.set(1,0,0)),rt<=_e&&(_e=rt,d.set(0,1,0)),tt<=_e&&d.set(0,0,1),$.crossVectors(g[0],d).normalize(),_[0].crossVectors(g[0],$),b[0].crossVectors(g[0],_[0]);for(let nt=1;nt<=e;nt++){if(_[nt]=_[nt-1].clone(),b[nt]=b[nt-1].clone(),$.crossVectors(g[nt-1],g[nt]),$.length()>Number.EPSILON){$.normalize();const st=Math.acos(clamp(g[nt-1].dot(g[nt]),-1,1));_[nt].applyMatrix4(j.makeRotationAxis($,st))}b[nt].crossVectors(g[nt],_[nt])}if(h===!0){let nt=Math.acos(clamp(_[0].dot(_[e]),-1,1));nt/=e,g[0].dot($.crossVectors(_[0],_[e]))>0&&(nt=-nt);for(let st=1;st<=e;st++)_[st].applyMatrix4(j.makeRotationAxis(g[st],nt*st)),b[st].crossVectors(g[st],_[st])}return{tangents:g,normals:_,binormals:b}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(e=0,h=0,d=1,g=1,_=0,b=Math.PI*2,$=!1,j=0){super();this.type="EllipseCurve",this.aX=e,this.aY=h,this.xRadius=d,this.yRadius=g,this.aStartAngle=_,this.aEndAngle=b,this.aClockwise=$,this.aRotation=j}getPoint(e,h){const d=h||new Vector2,g=Math.PI*2;let _=this.aEndAngle-this.aStartAngle;const b=Math.abs(_)<Number.EPSILON;for(;_<0;)_+=g;for(;_>g;)_-=g;_<Number.EPSILON&&(b?_=0:_=g),this.aClockwise===!0&&!b&&(_===g?_=-g:_=_-g);const $=this.aStartAngle+e*_;let j=this.aX+this.xRadius*Math.cos($),_e=this.aY+this.yRadius*Math.sin($);if(this.aRotation!==0){const et=Math.cos(this.aRotation),rt=Math.sin(this.aRotation),tt=j-this.aX,nt=_e-this.aY;j=tt*et-nt*rt+this.aX,_e=tt*rt+nt*et+this.aY}return d.set(j,_e)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}EllipseCurve.prototype.isEllipseCurve=!0;class ArcCurve extends EllipseCurve{constructor(e,h,d,g,_,b){super(e,h,d,d,g,_,b);this.type="ArcCurve"}}ArcCurve.prototype.isArcCurve=!0;function CubicPoly(){let o=0,e=0,h=0,d=0;function g(_,b,$,j){o=_,e=$,h=-3*_+3*b-2*$-j,d=2*_-2*b+$+j}return{initCatmullRom:function(_,b,$,j,_e){g(b,$,_e*($-_),_e*(j-b))},initNonuniformCatmullRom:function(_,b,$,j,_e,et,rt){let tt=(b-_)/_e-($-_)/(_e+et)+($-b)/et,nt=($-b)/et-(j-b)/(et+rt)+(j-$)/rt;tt*=et,nt*=et,g(b,$,tt,nt)},calc:function(_){const b=_*_,$=b*_;return o+e*_+h*b+d*$}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(e=[],h=!1,d="centripetal",g=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=h,this.curveType=d,this.tension=g}getPoint(e,h=new Vector3){const d=h,g=this.points,_=g.length,b=(_-(this.closed?0:1))*e;let $=Math.floor(b),j=b-$;this.closed?$+=$>0?0:(Math.floor(Math.abs($)/_)+1)*_:j===0&&$===_-1&&($=_-2,j=1);let _e,et;this.closed||$>0?_e=g[($-1)%_]:(tmp.subVectors(g[0],g[1]).add(g[0]),_e=tmp);const rt=g[$%_],tt=g[($+1)%_];if(this.closed||$+2<_?et=g[($+2)%_]:(tmp.subVectors(g[_-1],g[_-2]).add(g[_-1]),et=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const nt=this.curveType==="chordal"?.5:.25;let st=Math.pow(_e.distanceToSquared(rt),nt),at=Math.pow(rt.distanceToSquared(tt),nt),ct=Math.pow(tt.distanceToSquared(et),nt);at<1e-4&&(at=1),st<1e-4&&(st=at),ct<1e-4&&(ct=at),px.initNonuniformCatmullRom(_e.x,rt.x,tt.x,et.x,st,at,ct),py.initNonuniformCatmullRom(_e.y,rt.y,tt.y,et.y,st,at,ct),pz.initNonuniformCatmullRom(_e.z,rt.z,tt.z,et.z,st,at,ct)}else this.curveType==="catmullrom"&&(px.initCatmullRom(_e.x,rt.x,tt.x,et.x,this.tension),py.initCatmullRom(_e.y,rt.y,tt.y,et.y,this.tension),pz.initCatmullRom(_e.z,rt.z,tt.z,et.z,this.tension));return d.set(px.calc(j),py.calc(j),pz.calc(j)),d}copy(e){super.copy(e),this.points=[];for(let h=0,d=e.points.length;h<d;h++){const g=e.points[h];this.points.push(g.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let h=0,d=this.points.length;h<d;h++){const g=this.points[h];e.points.push(g.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let h=0,d=e.points.length;h<d;h++){const g=e.points[h];this.points.push(new Vector3().fromArray(g))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}CatmullRomCurve3.prototype.isCatmullRomCurve3=!0;function CatmullRom(o,e,h,d,g){const _=(d-e)*.5,b=(g-h)*.5,$=o*o,j=o*$;return(2*h-2*d+_+b)*j+(-3*h+3*d-2*_-b)*$+_*o+h}function QuadraticBezierP0(o,e){const h=1-o;return h*h*e}function QuadraticBezierP1(o,e){return 2*(1-o)*o*e}function QuadraticBezierP2(o,e){return o*o*e}function QuadraticBezier(o,e,h,d){return QuadraticBezierP0(o,e)+QuadraticBezierP1(o,h)+QuadraticBezierP2(o,d)}function CubicBezierP0(o,e){const h=1-o;return h*h*h*e}function CubicBezierP1(o,e){const h=1-o;return 3*h*h*o*e}function CubicBezierP2(o,e){return 3*(1-o)*o*o*e}function CubicBezierP3(o,e){return o*o*o*e}function CubicBezier(o,e,h,d,g){return CubicBezierP0(o,e)+CubicBezierP1(o,h)+CubicBezierP2(o,d)+CubicBezierP3(o,g)}class CubicBezierCurve extends Curve{constructor(e=new Vector2,h=new Vector2,d=new Vector2,g=new Vector2){super();this.type="CubicBezierCurve",this.v0=e,this.v1=h,this.v2=d,this.v3=g}getPoint(e,h=new Vector2){const d=h,g=this.v0,_=this.v1,b=this.v2,$=this.v3;return d.set(CubicBezier(e,g.x,_.x,b.x,$.x),CubicBezier(e,g.y,_.y,b.y,$.y)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}CubicBezierCurve.prototype.isCubicBezierCurve=!0;class CubicBezierCurve3 extends Curve{constructor(e=new Vector3,h=new Vector3,d=new Vector3,g=new Vector3){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=h,this.v2=d,this.v3=g}getPoint(e,h=new Vector3){const d=h,g=this.v0,_=this.v1,b=this.v2,$=this.v3;return d.set(CubicBezier(e,g.x,_.x,b.x,$.x),CubicBezier(e,g.y,_.y,b.y,$.y),CubicBezier(e,g.z,_.z,b.z,$.z)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}CubicBezierCurve3.prototype.isCubicBezierCurve3=!0;class LineCurve extends Curve{constructor(e=new Vector2,h=new Vector2){super();this.type="LineCurve",this.v1=e,this.v2=h}getPoint(e,h=new Vector2){const d=h;return e===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(e).add(this.v1)),d}getPointAt(e,h){return this.getPoint(e,h)}getTangent(e,h){const d=h||new Vector2;return d.copy(this.v2).sub(this.v1).normalize(),d}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}LineCurve.prototype.isLineCurve=!0;class LineCurve3 extends Curve{constructor(e=new Vector3,h=new Vector3){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=h}getPoint(e,h=new Vector3){const d=h;return e===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(e).add(this.v1)),d}getPointAt(e,h){return this.getPoint(e,h)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(e=new Vector2,h=new Vector2,d=new Vector2){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=h,this.v2=d}getPoint(e,h=new Vector2){const d=h,g=this.v0,_=this.v1,b=this.v2;return d.set(QuadraticBezier(e,g.x,_.x,b.x),QuadraticBezier(e,g.y,_.y,b.y)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0;class QuadraticBezierCurve3 extends Curve{constructor(e=new Vector3,h=new Vector3,d=new Vector3){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=h,this.v2=d}getPoint(e,h=new Vector3){const d=h,g=this.v0,_=this.v1,b=this.v2;return d.set(QuadraticBezier(e,g.x,_.x,b.x),QuadraticBezier(e,g.y,_.y,b.y),QuadraticBezier(e,g.z,_.z,b.z)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0;class SplineCurve extends Curve{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,h=new Vector2){const d=h,g=this.points,_=(g.length-1)*e,b=Math.floor(_),$=_-b,j=g[b===0?b:b-1],_e=g[b],et=g[b>g.length-2?g.length-1:b+1],rt=g[b>g.length-3?g.length-1:b+2];return d.set(CatmullRom($,j.x,_e.x,et.x,rt.x),CatmullRom($,j.y,_e.y,et.y,rt.y)),d}copy(e){super.copy(e),this.points=[];for(let h=0,d=e.points.length;h<d;h++){const g=e.points[h];this.points.push(g.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let h=0,d=this.points.length;h<d;h++){const g=this.points[h];e.points.push(g.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let h=0,d=e.points.length;h<d;h++){const g=e.points[h];this.points.push(new Vector2().fromArray(g))}return this}}SplineCurve.prototype.isSplineCurve=!0;var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),h=this.curves[this.curves.length-1].getPoint(1);e.equals(h)||this.curves.push(new LineCurve(h,e))}getPoint(e,h){const d=e*this.getLength(),g=this.getCurveLengths();let _=0;for(;_<g.length;){if(g[_]>=d){const b=g[_]-d,$=this.curves[_],j=$.getLength(),_e=j===0?0:1-b/j;return $.getPointAt(_e,h)}_++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let h=0;for(let d=0,g=this.curves.length;d<g;d++)h+=this.curves[d].getLength(),e.push(h);return this.cacheLengths=e,e}getSpacedPoints(e=40){const h=[];for(let d=0;d<=e;d++)h.push(this.getPoint(d/e));return this.autoClose&&h.push(h[0]),h}getPoints(e=12){const h=[];let d;for(let g=0,_=this.curves;g<_.length;g++){const b=_[g],$=b.isEllipseCurve?e*2:b.isLineCurve||b.isLineCurve3?1:b.isSplineCurve?e*b.points.length:e,j=b.getPoints($);for(let _e=0;_e<j.length;_e++){const et=j[_e];d&&d.equals(et)||(h.push(et),d=et)}}return this.autoClose&&h.length>1&&!h[h.length-1].equals(h[0])&&h.push(h[0]),h}copy(e){super.copy(e),this.curves=[];for(let h=0,d=e.curves.length;h<d;h++){const g=e.curves[h];this.curves.push(g.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let h=0,d=this.curves.length;h<d;h++){const g=this.curves[h];e.curves.push(g.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let h=0,d=e.curves.length;h<d;h++){const g=e.curves[h];this.curves.push(new Curves[g.type]().fromJSON(g))}return this}}class Path extends CurvePath{constructor(e){super();this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let h=1,d=e.length;h<d;h++)this.lineTo(e[h].x,e[h].y);return this}moveTo(e,h){return this.currentPoint.set(e,h),this}lineTo(e,h){const d=new LineCurve(this.currentPoint.clone(),new Vector2(e,h));return this.curves.push(d),this.currentPoint.set(e,h),this}quadraticCurveTo(e,h,d,g){const _=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,h),new Vector2(d,g));return this.curves.push(_),this.currentPoint.set(d,g),this}bezierCurveTo(e,h,d,g,_,b){const $=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,h),new Vector2(d,g),new Vector2(_,b));return this.curves.push($),this.currentPoint.set(_,b),this}splineThru(e){const h=[this.currentPoint.clone()].concat(e),d=new SplineCurve(h);return this.curves.push(d),this.currentPoint.copy(e[e.length-1]),this}arc(e,h,d,g,_,b){const $=this.currentPoint.x,j=this.currentPoint.y;return this.absarc(e+$,h+j,d,g,_,b),this}absarc(e,h,d,g,_,b){return this.absellipse(e,h,d,d,g,_,b),this}ellipse(e,h,d,g,_,b,$,j){const _e=this.currentPoint.x,et=this.currentPoint.y;return this.absellipse(e+_e,h+et,d,g,_,b,$,j),this}absellipse(e,h,d,g,_,b,$,j){const _e=new EllipseCurve(e,h,d,g,_,b,$,j);if(this.curves.length>0){const rt=_e.getPoint(0);rt.equals(this.currentPoint)||this.lineTo(rt.x,rt.y)}this.curves.push(_e);const et=_e.getPoint(1);return this.currentPoint.copy(et),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Shape extends Path{constructor(e){super(e);this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const h=[];for(let d=0,g=this.holes.length;d<g;d++)h[d]=this.holes[d].getPoints(e);return h}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let h=0,d=e.holes.length;h<d;h++){const g=e.holes[h];this.holes.push(g.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let h=0,d=this.holes.length;h<d;h++){const g=this.holes[h];e.holes.push(g.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let h=0,d=e.holes.length;h<d;h++){const g=e.holes[h];this.holes.push(new Path().fromJSON(g))}return this}}const Earcut={triangulate:function(o,e,h=2){const d=e&&e.length,g=d?e[0]*h:o.length;let _=linkedList(o,0,g,h,!0);const b=[];if(!_||_.next===_.prev)return b;let $,j,_e,et,rt,tt,nt;if(d&&(_=eliminateHoles(o,e,_,h)),o.length>80*h){$=_e=o[0],j=et=o[1];for(let st=h;st<g;st+=h)rt=o[st],tt=o[st+1],rt<$&&($=rt),tt<j&&(j=tt),rt>_e&&(_e=rt),tt>et&&(et=tt);nt=Math.max(_e-$,et-j),nt=nt!==0?1/nt:0}return earcutLinked(_,b,h,$,j,nt),b}};function linkedList(o,e,h,d,g){let _,b;if(g===signedArea(o,e,h,d)>0)for(_=e;_<h;_+=d)b=insertNode(_,o[_],o[_+1],b);else for(_=h-d;_>=e;_-=d)b=insertNode(_,o[_],o[_+1],b);return b&&equals(b,b.next)&&(removeNode(b),b=b.next),b}function filterPoints(o,e){if(!o)return o;e||(e=o);let h=o,d;do if(d=!1,!h.steiner&&(equals(h,h.next)||area(h.prev,h,h.next)===0)){if(removeNode(h),h=e=h.prev,h===h.next)break;d=!0}else h=h.next;while(d||h!==e);return e}function earcutLinked(o,e,h,d,g,_,b){if(!o)return;!b&&_&&indexCurve(o,d,g,_);let $=o,j,_e;for(;o.prev!==o.next;){if(j=o.prev,_e=o.next,_?isEarHashed(o,d,g,_):isEar(o)){e.push(j.i/h),e.push(o.i/h),e.push(_e.i/h),removeNode(o),o=_e.next,$=_e.next;continue}if(o=_e,o===$){b?b===1?(o=cureLocalIntersections(filterPoints(o),e,h),earcutLinked(o,e,h,d,g,_,2)):b===2&&splitEarcut(o,e,h,d,g,_):earcutLinked(filterPoints(o),e,h,d,g,_,1);break}}}function isEar(o){const e=o.prev,h=o,d=o.next;if(area(e,h,d)>=0)return!1;let g=o.next.next;for(;g!==o.prev;){if(pointInTriangle(e.x,e.y,h.x,h.y,d.x,d.y,g.x,g.y)&&area(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function isEarHashed(o,e,h,d){const g=o.prev,_=o,b=o.next;if(area(g,_,b)>=0)return!1;const $=g.x<_.x?g.x<b.x?g.x:b.x:_.x<b.x?_.x:b.x,j=g.y<_.y?g.y<b.y?g.y:b.y:_.y<b.y?_.y:b.y,_e=g.x>_.x?g.x>b.x?g.x:b.x:_.x>b.x?_.x:b.x,et=g.y>_.y?g.y>b.y?g.y:b.y:_.y>b.y?_.y:b.y,rt=zOrder($,j,e,h,d),tt=zOrder(_e,et,e,h,d);let nt=o.prevZ,st=o.nextZ;for(;nt&&nt.z>=rt&&st&&st.z<=tt;){if(nt!==o.prev&&nt!==o.next&&pointInTriangle(g.x,g.y,_.x,_.y,b.x,b.y,nt.x,nt.y)&&area(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,st!==o.prev&&st!==o.next&&pointInTriangle(g.x,g.y,_.x,_.y,b.x,b.y,st.x,st.y)&&area(st.prev,st,st.next)>=0))return!1;st=st.nextZ}for(;nt&&nt.z>=rt;){if(nt!==o.prev&&nt!==o.next&&pointInTriangle(g.x,g.y,_.x,_.y,b.x,b.y,nt.x,nt.y)&&area(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;st&&st.z<=tt;){if(st!==o.prev&&st!==o.next&&pointInTriangle(g.x,g.y,_.x,_.y,b.x,b.y,st.x,st.y)&&area(st.prev,st,st.next)>=0)return!1;st=st.nextZ}return!0}function cureLocalIntersections(o,e,h){let d=o;do{const g=d.prev,_=d.next.next;!equals(g,_)&&intersects(g,d,d.next,_)&&locallyInside(g,_)&&locallyInside(_,g)&&(e.push(g.i/h),e.push(d.i/h),e.push(_.i/h),removeNode(d),removeNode(d.next),d=o=_),d=d.next}while(d!==o);return filterPoints(d)}function splitEarcut(o,e,h,d,g,_){let b=o;do{let $=b.next.next;for(;$!==b.prev;){if(b.i!==$.i&&isValidDiagonal(b,$)){let j=splitPolygon(b,$);b=filterPoints(b,b.next),j=filterPoints(j,j.next),earcutLinked(b,e,h,d,g,_),earcutLinked(j,e,h,d,g,_);return}$=$.next}b=b.next}while(b!==o)}function eliminateHoles(o,e,h,d){const g=[];let _,b,$,j,_e;for(_=0,b=e.length;_<b;_++)$=e[_]*d,j=_<b-1?e[_+1]*d:o.length,_e=linkedList(o,$,j,d,!1),_e===_e.next&&(_e.steiner=!0),g.push(getLeftmost(_e));for(g.sort(compareX),_=0;_<g.length;_++)eliminateHole(g[_],h),h=filterPoints(h,h.next);return h}function compareX(o,e){return o.x-e.x}function eliminateHole(o,e){if(e=findHoleBridge(o,e),e){const h=splitPolygon(e,o);filterPoints(e,e.next),filterPoints(h,h.next)}}function findHoleBridge(o,e){let h=e;const d=o.x,g=o.y;let _=-1/0,b;do{if(g<=h.y&&g>=h.next.y&&h.next.y!==h.y){const tt=h.x+(g-h.y)*(h.next.x-h.x)/(h.next.y-h.y);if(tt<=d&&tt>_){if(_=tt,tt===d){if(g===h.y)return h;if(g===h.next.y)return h.next}b=h.x<h.next.x?h:h.next}}h=h.next}while(h!==e);if(!b)return null;if(d===_)return b;const $=b,j=b.x,_e=b.y;let et=1/0,rt;h=b;do d>=h.x&&h.x>=j&&d!==h.x&&pointInTriangle(g<_e?d:_,g,j,_e,g<_e?_:d,g,h.x,h.y)&&(rt=Math.abs(g-h.y)/(d-h.x),locallyInside(h,o)&&(rt<et||rt===et&&(h.x>b.x||h.x===b.x&&sectorContainsSector(b,h)))&&(b=h,et=rt)),h=h.next;while(h!==$);return b}function sectorContainsSector(o,e){return area(o.prev,o,e.prev)<0&&area(e.next,o,o.next)<0}function indexCurve(o,e,h,d){let g=o;do g.z===null&&(g.z=zOrder(g.x,g.y,e,h,d)),g.prevZ=g.prev,g.nextZ=g.next,g=g.next;while(g!==o);g.prevZ.nextZ=null,g.prevZ=null,sortLinked(g)}function sortLinked(o){let e,h,d,g,_,b,$,j,_e=1;do{for(h=o,o=null,_=null,b=0;h;){for(b++,d=h,$=0,e=0;e<_e&&($++,d=d.nextZ,!!d);e++);for(j=_e;$>0||j>0&&d;)$!==0&&(j===0||!d||h.z<=d.z)?(g=h,h=h.nextZ,$--):(g=d,d=d.nextZ,j--),_?_.nextZ=g:o=g,g.prevZ=_,_=g;h=d}_.nextZ=null,_e*=2}while(b>1);return o}function zOrder(o,e,h,d,g){return o=32767*(o-h)*g,e=32767*(e-d)*g,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,o|e<<1}function getLeftmost(o){let e=o,h=o;do(e.x<h.x||e.x===h.x&&e.y<h.y)&&(h=e),e=e.next;while(e!==o);return h}function pointInTriangle(o,e,h,d,g,_,b,$){return(g-b)*(e-$)-(o-b)*(_-$)>=0&&(o-b)*(d-$)-(h-b)*(e-$)>=0&&(h-b)*(_-$)-(g-b)*(d-$)>=0}function isValidDiagonal(o,e){return o.next.i!==e.i&&o.prev.i!==e.i&&!intersectsPolygon(o,e)&&(locallyInside(o,e)&&locallyInside(e,o)&&middleInside(o,e)&&(area(o.prev,o,e.prev)||area(o,e.prev,e))||equals(o,e)&&area(o.prev,o,o.next)>0&&area(e.prev,e,e.next)>0)}function area(o,e,h){return(e.y-o.y)*(h.x-e.x)-(e.x-o.x)*(h.y-e.y)}function equals(o,e){return o.x===e.x&&o.y===e.y}function intersects(o,e,h,d){const g=sign(area(o,e,h)),_=sign(area(o,e,d)),b=sign(area(h,d,o)),$=sign(area(h,d,e));return!!(g!==_&&b!==$||g===0&&onSegment(o,h,e)||_===0&&onSegment(o,d,e)||b===0&&onSegment(h,o,d)||$===0&&onSegment(h,e,d))}function onSegment(o,e,h){return e.x<=Math.max(o.x,h.x)&&e.x>=Math.min(o.x,h.x)&&e.y<=Math.max(o.y,h.y)&&e.y>=Math.min(o.y,h.y)}function sign(o){return o>0?1:o<0?-1:0}function intersectsPolygon(o,e){let h=o;do{if(h.i!==o.i&&h.next.i!==o.i&&h.i!==e.i&&h.next.i!==e.i&&intersects(h,h.next,o,e))return!0;h=h.next}while(h!==o);return!1}function locallyInside(o,e){return area(o.prev,o,o.next)<0?area(o,e,o.next)>=0&&area(o,o.prev,e)>=0:area(o,e,o.prev)<0||area(o,o.next,e)<0}function middleInside(o,e){let h=o,d=!1;const g=(o.x+e.x)/2,_=(o.y+e.y)/2;do h.y>_!=h.next.y>_&&h.next.y!==h.y&&g<(h.next.x-h.x)*(_-h.y)/(h.next.y-h.y)+h.x&&(d=!d),h=h.next;while(h!==o);return d}function splitPolygon(o,e){const h=new Node(o.i,o.x,o.y),d=new Node(e.i,e.x,e.y),g=o.next,_=e.prev;return o.next=e,e.prev=o,h.next=g,g.prev=h,d.next=h,h.prev=d,_.next=d,d.prev=_,d}function insertNode(o,e,h,d){const g=new Node(o,e,h);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function removeNode(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Node(o,e,h){this.i=o,this.x=e,this.y=h,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(o,e,h,d){let g=0;for(let _=e,b=h-d;_<h;_+=d)g+=(o[b]-o[_])*(o[_+1]+o[b+1]),b=_;return g}class ShapeUtils{static area(e){const h=e.length;let d=0;for(let g=h-1,_=0;_<h;g=_++)d+=e[g].x*e[_].y-e[_].x*e[g].y;return d*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,h){const d=[],g=[],_=[];removeDupEndPts(e),addContour(d,e);let b=e.length;h.forEach(removeDupEndPts);for(let j=0;j<h.length;j++)g.push(b),b+=h[j].length,addContour(d,h[j]);const $=Earcut.triangulate(d,g);for(let j=0;j<$.length;j+=3)_.push($.slice(j,j+3));return _}}function removeDupEndPts(o){const e=o.length;e>2&&o[e-1].equals(o[0])&&o.pop()}function addContour(o,e){for(let h=0;h<e.length;h++)o.push(e[h].x),o.push(e[h].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),h={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:h},e=Array.isArray(e)?e:[e];const d=this,g=[],_=[];for(let $=0,j=e.length;$<j;$++){const _e=e[$];b(_e)}this.setAttribute("position",new Float32BufferAttribute(g,3)),this.setAttribute("uv",new Float32BufferAttribute(_,2)),this.computeVertexNormals();function b($){const j=[],_e=h.curveSegments!==void 0?h.curveSegments:12,et=h.steps!==void 0?h.steps:1;let rt=h.depth!==void 0?h.depth:1,tt=h.bevelEnabled!==void 0?h.bevelEnabled:!0,nt=h.bevelThickness!==void 0?h.bevelThickness:.2,st=h.bevelSize!==void 0?h.bevelSize:nt-.1,at=h.bevelOffset!==void 0?h.bevelOffset:0,ct=h.bevelSegments!==void 0?h.bevelSegments:3;const it=h.extrudePath,lt=h.UVGenerator!==void 0?h.UVGenerator:WorldUVGenerator;h.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),rt=h.amount);let ht,ut=!1,dt,pt,mt,yt;it&&(ht=it.getSpacedPoints(et),ut=!0,tt=!1,dt=it.computeFrenetFrames(et,!1),pt=new Vector3,mt=new Vector3,yt=new Vector3),tt||(ct=0,nt=0,st=0,at=0);const xt=$.extractPoints(_e);let Tt=xt.shape;const _t=xt.holes;if(!ShapeUtils.isClockWise(Tt)){Tt=Tt.reverse();for(let Yt=0,Xt=_t.length;Yt<Xt;Yt++){const ur=_t[Yt];ShapeUtils.isClockWise(ur)&&(_t[Yt]=ur.reverse())}}const Lt=ShapeUtils.triangulateShape(Tt,_t),Pt=Tt;for(let Yt=0,Xt=_t.length;Yt<Xt;Yt++){const ur=_t[Yt];Tt=Tt.concat(ur)}function It(Yt,Xt,ur){return Xt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Xt.clone().multiplyScalar(ur).add(Yt)}const Et=Tt.length,Ct=Lt.length;function St(Yt,Xt,ur){let br,_r,Pr;const Or=Yt.x-Xt.x,Nr=Yt.y-Xt.y,an=ur.x-Yt.x,$t=ur.y-Yt.y,kt=Or*Or+Nr*Nr,hr=Or*$t-Nr*an;if(Math.abs(hr)>Number.EPSILON){const vr=Math.sqrt(kt),Ir=Math.sqrt(an*an+$t*$t),Dr=Xt.x-Nr/vr,Gr=Xt.y+Or/vr,mr=ur.x-$t/Ir,Wr=ur.y+an/Ir,Qr=((mr-Dr)*$t-(Wr-Gr)*an)/(Or*$t-Nr*an);br=Dr+Or*Qr-Yt.x,_r=Gr+Nr*Qr-Yt.y;const qr=br*br+_r*_r;if(qr<=2)return new Vector2(br,_r);Pr=Math.sqrt(qr/2)}else{let vr=!1;Or>Number.EPSILON?an>Number.EPSILON&&(vr=!0):Or<-Number.EPSILON?an<-Number.EPSILON&&(vr=!0):Math.sign(Nr)===Math.sign($t)&&(vr=!0),vr?(br=-Nr,_r=Or,Pr=Math.sqrt(kt)):(br=Or,_r=Nr,Pr=Math.sqrt(kt/2))}return new Vector2(br/Pr,_r/Pr)}const At=[];for(let Yt=0,Xt=Pt.length,ur=Xt-1,br=Yt+1;Yt<Xt;Yt++,ur++,br++)ur===Xt&&(ur=0),br===Xt&&(br=0),At[Yt]=St(Pt[Yt],Pt[ur],Pt[br]);const Rt=[];let Ot,Gt=At.concat();for(let Yt=0,Xt=_t.length;Yt<Xt;Yt++){const ur=_t[Yt];Ot=[];for(let br=0,_r=ur.length,Pr=_r-1,Or=br+1;br<_r;br++,Pr++,Or++)Pr===_r&&(Pr=0),Or===_r&&(Or=0),Ot[br]=St(ur[br],ur[Pr],ur[Or]);Rt.push(Ot),Gt=Gt.concat(Ot)}for(let Yt=0;Yt<ct;Yt++){const Xt=Yt/ct,ur=nt*Math.cos(Xt*Math.PI/2),br=st*Math.sin(Xt*Math.PI/2)+at;for(let _r=0,Pr=Pt.length;_r<Pr;_r++){const Or=It(Pt[_r],At[_r],br);wr(Or.x,Or.y,-ur)}for(let _r=0,Pr=_t.length;_r<Pr;_r++){const Or=_t[_r];Ot=Rt[_r];for(let Nr=0,an=Or.length;Nr<an;Nr++){const $t=It(Or[Nr],Ot[Nr],br);wr($t.x,$t.y,-ur)}}}const Qt=st+at;for(let Yt=0;Yt<Et;Yt++){const Xt=tt?It(Tt[Yt],Gt[Yt],Qt):Tt[Yt];ut?(mt.copy(dt.normals[0]).multiplyScalar(Xt.x),pt.copy(dt.binormals[0]).multiplyScalar(Xt.y),yt.copy(ht[0]).add(mt).add(pt),wr(yt.x,yt.y,yt.z)):wr(Xt.x,Xt.y,0)}for(let Yt=1;Yt<=et;Yt++)for(let Xt=0;Xt<Et;Xt++){const ur=tt?It(Tt[Xt],Gt[Xt],Qt):Tt[Xt];ut?(mt.copy(dt.normals[Yt]).multiplyScalar(ur.x),pt.copy(dt.binormals[Yt]).multiplyScalar(ur.y),yt.copy(ht[Yt]).add(mt).add(pt),wr(yt.x,yt.y,yt.z)):wr(ur.x,ur.y,rt/et*Yt)}for(let Yt=ct-1;Yt>=0;Yt--){const Xt=Yt/ct,ur=nt*Math.cos(Xt*Math.PI/2),br=st*Math.sin(Xt*Math.PI/2)+at;for(let _r=0,Pr=Pt.length;_r<Pr;_r++){const Or=It(Pt[_r],At[_r],br);wr(Or.x,Or.y,rt+ur)}for(let _r=0,Pr=_t.length;_r<Pr;_r++){const Or=_t[_r];Ot=Rt[_r];for(let Nr=0,an=Or.length;Nr<an;Nr++){const $t=It(Or[Nr],Ot[Nr],br);ut?wr($t.x,$t.y+ht[et-1].y,ht[et-1].x+ur):wr($t.x,$t.y,rt+ur)}}}ir(),tr();function ir(){const Yt=g.length/3;if(tt){let Xt=0,ur=Et*Xt;for(let br=0;br<Ct;br++){const _r=Lt[br];Lr(_r[2]+ur,_r[1]+ur,_r[0]+ur)}Xt=et+ct*2,ur=Et*Xt;for(let br=0;br<Ct;br++){const _r=Lt[br];Lr(_r[0]+ur,_r[1]+ur,_r[2]+ur)}}else{for(let Xt=0;Xt<Ct;Xt++){const ur=Lt[Xt];Lr(ur[2],ur[1],ur[0])}for(let Xt=0;Xt<Ct;Xt++){const ur=Lt[Xt];Lr(ur[0]+Et*et,ur[1]+Et*et,ur[2]+Et*et)}}d.addGroup(Yt,g.length/3-Yt,0)}function tr(){const Yt=g.length/3;let Xt=0;Wt(Pt,Xt),Xt+=Pt.length;for(let ur=0,br=_t.length;ur<br;ur++){const _r=_t[ur];Wt(_r,Xt),Xt+=_r.length}d.addGroup(Yt,g.length/3-Yt,1)}function Wt(Yt,Xt){let ur=Yt.length;for(;--ur>=0;){const br=ur;let _r=ur-1;_r<0&&(_r=Yt.length-1);for(let Pr=0,Or=et+ct*2;Pr<Or;Pr++){const Nr=Et*Pr,an=Et*(Pr+1),$t=Xt+br+Nr,kt=Xt+_r+Nr,hr=Xt+_r+an,vr=Xt+br+an;Er($t,kt,hr,vr)}}}function wr(Yt,Xt,ur){j.push(Yt),j.push(Xt),j.push(ur)}function Lr(Yt,Xt,ur){Ar(Yt),Ar(Xt),Ar(ur);const br=g.length/3,_r=lt.generateTopUV(d,g,br-3,br-2,br-1);yr(_r[0]),yr(_r[1]),yr(_r[2])}function Er(Yt,Xt,ur,br){Ar(Yt),Ar(Xt),Ar(br),Ar(Xt),Ar(ur),Ar(br);const _r=g.length/3,Pr=lt.generateSideWallUV(d,g,_r-6,_r-3,_r-2,_r-1);yr(Pr[0]),yr(Pr[1]),yr(Pr[3]),yr(Pr[1]),yr(Pr[2]),yr(Pr[3])}function Ar(Yt){g.push(j[Yt*3+0]),g.push(j[Yt*3+1]),g.push(j[Yt*3+2])}function yr(Yt){_.push(Yt.x),_.push(Yt.y)}}}toJSON(){const e=super.toJSON(),h=this.parameters.shapes,d=this.parameters.options;return toJSON$1(h,d,e)}static fromJSON(e,h){const d=[];for(let _=0,b=e.shapes.length;_<b;_++){const $=h[e.shapes[_]];d.push($)}const g=e.options.extrudePath;return g!==void 0&&(e.options.extrudePath=new Curves[g.type]().fromJSON(g)),new ExtrudeGeometry(d,e.options)}}const WorldUVGenerator={generateTopUV:function(o,e,h,d,g){const _=e[h*3],b=e[h*3+1],$=e[d*3],j=e[d*3+1],_e=e[g*3],et=e[g*3+1];return[new Vector2(_,b),new Vector2($,j),new Vector2(_e,et)]},generateSideWallUV:function(o,e,h,d,g,_){const b=e[h*3],$=e[h*3+1],j=e[h*3+2],_e=e[d*3],et=e[d*3+1],rt=e[d*3+2],tt=e[g*3],nt=e[g*3+1],st=e[g*3+2],at=e[_*3],ct=e[_*3+1],it=e[_*3+2];return Math.abs($-et)<Math.abs(b-_e)?[new Vector2(b,1-j),new Vector2(_e,1-rt),new Vector2(tt,1-st),new Vector2(at,1-it)]:[new Vector2($,1-j),new Vector2(et,1-rt),new Vector2(nt,1-st),new Vector2(ct,1-it)]}};function toJSON$1(o,e,h){if(h.shapes=[],Array.isArray(o))for(let d=0,g=o.length;d<g;d++){const _=o[d];h.shapes.push(_.uuid)}else h.shapes.push(o.uuid);return e.extrudePath!==void 0&&(h.options.extrudePath=e.extrudePath.toJSON()),h}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),h=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:h};const d=[],g=[],_=[],b=[];let $=0,j=0;if(Array.isArray(e)===!1)_e(e);else for(let et=0;et<e.length;et++)_e(e[et]),this.addGroup($,j,et),$+=j,j=0;this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(g,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(b,2));function _e(et){const rt=g.length/3,tt=et.extractPoints(h);let nt=tt.shape;const st=tt.holes;ShapeUtils.isClockWise(nt)===!1&&(nt=nt.reverse());for(let ct=0,it=st.length;ct<it;ct++){const lt=st[ct];ShapeUtils.isClockWise(lt)===!0&&(st[ct]=lt.reverse())}const at=ShapeUtils.triangulateShape(nt,st);for(let ct=0,it=st.length;ct<it;ct++){const lt=st[ct];nt=nt.concat(lt)}for(let ct=0,it=nt.length;ct<it;ct++){const lt=nt[ct];g.push(lt.x,lt.y,0),_.push(0,0,1),b.push(lt.x,lt.y)}for(let ct=0,it=at.length;ct<it;ct++){const lt=at[ct],ht=lt[0]+rt,ut=lt[1]+rt,dt=lt[2]+rt;d.push(ht,ut,dt),j+=3}}}toJSON(){const e=super.toJSON(),h=this.parameters.shapes;return toJSON(h,e)}static fromJSON(e,h){const d=[];for(let g=0,_=e.shapes.length;g<_;g++){const b=h[e.shapes[g]];d.push(b)}return new ShapeGeometry(d,e.curveSegments)}}function toJSON(o,e){if(e.shapes=[],Array.isArray(o))for(let h=0,d=o.length;h<d;h++){const g=o[h];e.shapes.push(g.uuid)}else e.shapes.push(o.uuid);return e}class ShadowMaterial extends Material{constructor(e){super();this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}ShadowMaterial.prototype.isShadowMaterial=!0;class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e);this.type="RawShaderMaterial"}}RawShaderMaterial.prototype.isRawShaderMaterial=!0;class MeshStandardMaterial extends Material{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}MeshStandardMaterial.prototype.isMeshStandardMaterial=!0;class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(h){this.ior=(1+.4*h)/(1-.4*h)}}),this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0;class MeshPhongMaterial extends Material{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}MeshPhongMaterial.prototype.isMeshPhongMaterial=!0;class MeshToonMaterial extends Material{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}MeshToonMaterial.prototype.isMeshToonMaterial=!0;class MeshNormalMaterial extends Material{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}MeshNormalMaterial.prototype.isMeshNormalMaterial=!0;class MeshLambertMaterial extends Material{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}MeshLambertMaterial.prototype.isMeshLambertMaterial=!0;class MeshMatcapMaterial extends Material{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0;class LineDashedMaterial extends LineBasicMaterial{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}LineDashedMaterial.prototype.isLineDashedMaterial=!0;const materialLib={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};Material.fromType=function(o){return new materialLib[o]};const AnimationUtils={arraySlice:function(o,e,h){return AnimationUtils.isTypedArray(o)?new o.constructor(o.subarray(e,h!==void 0?h:o.length)):o.slice(e,h)},convertArray:function(o,e,h){return!o||!h&&o.constructor===e?o:typeof e.BYTES_PER_ELEMENT=="number"?new e(o):Array.prototype.slice.call(o)},isTypedArray:function(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)},getKeyframeOrder:function(o){function e(g,_){return o[g]-o[_]}const h=o.length,d=new Array(h);for(let g=0;g!==h;++g)d[g]=g;return d.sort(e),d},sortedArray:function(o,e,h){const d=o.length,g=new o.constructor(d);for(let _=0,b=0;b!==d;++_){const $=h[_]*e;for(let j=0;j!==e;++j)g[b++]=o[$+j]}return g},flattenJSON:function(o,e,h,d){let g=1,_=o[0];for(;_!==void 0&&_[d]===void 0;)_=o[g++];if(_===void 0)return;let b=_[d];if(b!==void 0)if(Array.isArray(b))do b=_[d],b!==void 0&&(e.push(_.time),h.push.apply(h,b)),_=o[g++];while(_!==void 0);else if(b.toArray!==void 0)do b=_[d],b!==void 0&&(e.push(_.time),b.toArray(h,h.length)),_=o[g++];while(_!==void 0);else do b=_[d],b!==void 0&&(e.push(_.time),h.push(b)),_=o[g++];while(_!==void 0)},subclip:function(o,e,h,d,g=30){const _=o.clone();_.name=e;const b=[];for(let j=0;j<_.tracks.length;++j){const _e=_.tracks[j],et=_e.getValueSize(),rt=[],tt=[];for(let nt=0;nt<_e.times.length;++nt){const st=_e.times[nt]*g;if(!(st<h||st>=d)){rt.push(_e.times[nt]);for(let at=0;at<et;++at)tt.push(_e.values[nt*et+at])}}rt.length!==0&&(_e.times=AnimationUtils.convertArray(rt,_e.times.constructor),_e.values=AnimationUtils.convertArray(tt,_e.values.constructor),b.push(_e))}_.tracks=b;let $=1/0;for(let j=0;j<_.tracks.length;++j)$>_.tracks[j].times[0]&&($=_.tracks[j].times[0]);for(let j=0;j<_.tracks.length;++j)_.tracks[j].shift(-1*$);return _.resetDuration(),_},makeClipAdditive:function(o,e=0,h=o,d=30){d<=0&&(d=30);const g=h.tracks.length,_=e/d;for(let b=0;b<g;++b){const $=h.tracks[b],j=$.ValueTypeName;if(j==="bool"||j==="string")continue;const _e=o.tracks.find(function(it){return it.name===$.name&&it.ValueTypeName===j});if(_e===void 0)continue;let et=0;const rt=$.getValueSize();$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(et=rt/3);let tt=0;const nt=_e.getValueSize();_e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(tt=nt/3);const st=$.times.length-1;let at;if(_<=$.times[0]){const it=et,lt=rt-et;at=AnimationUtils.arraySlice($.values,it,lt)}else if(_>=$.times[st]){const it=st*rt+et,lt=it+rt-et;at=AnimationUtils.arraySlice($.values,it,lt)}else{const it=$.createInterpolant(),lt=et,ht=rt-et;it.evaluate(_),at=AnimationUtils.arraySlice(it.resultBuffer,lt,ht)}j==="quaternion"&&new Quaternion().fromArray(at).normalize().conjugate().toArray(at);const ct=_e.times.length;for(let it=0;it<ct;++it){const lt=it*nt+tt;if(j==="quaternion")Quaternion.multiplyQuaternionsFlat(_e.values,lt,at,0,_e.values,lt);else{const ht=nt-tt*2;for(let ut=0;ut<ht;++ut)_e.values[lt+ut]-=at[ut]}}}return o.blendMode=AdditiveAnimationBlendMode,o}};class Interpolant{constructor(e,h,d,g){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=g!==void 0?g:new h.constructor(d),this.sampleValues=h,this.valueSize=d,this.settings=null,this.DefaultSettings_={}}evaluate(e){const h=this.parameterPositions;let d=this._cachedIndex,g=h[d],_=h[d-1];e:{t:{let b;r:{n:if(!(e<g)){for(let $=d+2;;){if(g===void 0){if(e<_)break n;return d=h.length,this._cachedIndex=d,this.afterEnd_(d-1,e,_)}if(d===$)break;if(_=g,g=h[++d],e<g)break t}b=h.length;break r}if(!(e>=_)){const $=h[1];e<$&&(d=2,_=$);for(let j=d-2;;){if(_===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,g);if(d===j)break;if(g=_,_=h[--d-1],e>=_)break t}b=d,d=0;break r}break e}for(;d<b;){const $=d+b>>>1;e<h[$]?b=$:d=$+1}if(g=h[d],_=h[d-1],_===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,g);if(g===void 0)return d=h.length,this._cachedIndex=d,this.afterEnd_(d-1,_,e)}this._cachedIndex=d,this.intervalChanged_(d,_,g)}return this.interpolate_(d,_,e,g)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const h=this.resultBuffer,d=this.sampleValues,g=this.valueSize,_=e*g;for(let b=0;b!==g;++b)h[b]=d[_+b];return h}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Interpolant.prototype.beforeStart_=Interpolant.prototype.copySampleValue_;Interpolant.prototype.afterEnd_=Interpolant.prototype.copySampleValue_;class CubicInterpolant extends Interpolant{constructor(e,h,d,g){super(e,h,d,g);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,h,d){const g=this.parameterPositions;let _=e-2,b=e+1,$=g[_],j=g[b];if($===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:_=e,$=2*h-d;break;case WrapAroundEnding:_=g.length-2,$=h+g[_]-g[_+1];break;default:_=e,$=d}if(j===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:b=e,j=2*d-h;break;case WrapAroundEnding:b=1,j=d+g[1]-g[0];break;default:b=e-1,j=h}const _e=(d-h)*.5,et=this.valueSize;this._weightPrev=_e/(h-$),this._weightNext=_e/(j-d),this._offsetPrev=_*et,this._offsetNext=b*et}interpolate_(e,h,d,g){const _=this.resultBuffer,b=this.sampleValues,$=this.valueSize,j=e*$,_e=j-$,et=this._offsetPrev,rt=this._offsetNext,tt=this._weightPrev,nt=this._weightNext,st=(d-h)/(g-h),at=st*st,ct=at*st,it=-tt*ct+2*tt*at-tt*st,lt=(1+tt)*ct+(-1.5-2*tt)*at+(-.5+tt)*st+1,ht=(-1-nt)*ct+(1.5+nt)*at+.5*st,ut=nt*ct-nt*at;for(let dt=0;dt!==$;++dt)_[dt]=it*b[et+dt]+lt*b[_e+dt]+ht*b[j+dt]+ut*b[rt+dt];return _}}class LinearInterpolant extends Interpolant{constructor(e,h,d,g){super(e,h,d,g)}interpolate_(e,h,d,g){const _=this.resultBuffer,b=this.sampleValues,$=this.valueSize,j=e*$,_e=j-$,et=(d-h)/(g-h),rt=1-et;for(let tt=0;tt!==$;++tt)_[tt]=b[_e+tt]*rt+b[j+tt]*et;return _}}class DiscreteInterpolant extends Interpolant{constructor(e,h,d,g){super(e,h,d,g)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,h,d,g){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(h===void 0||h.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=AnimationUtils.convertArray(h,this.TimeBufferType),this.values=AnimationUtils.convertArray(d,this.ValueBufferType),this.setInterpolation(g||this.DefaultInterpolation)}static toJSON(e){const h=e.constructor;let d;if(h.toJSON!==this.toJSON)d=h.toJSON(e);else{d={name:e.name,times:AnimationUtils.convertArray(e.times,Array),values:AnimationUtils.convertArray(e.values,Array)};const g=e.getInterpolation();g!==e.DefaultInterpolation&&(d.interpolation=g)}return d.type=e.ValueTypeName,d}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let h;switch(e){case InterpolateDiscrete:h=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:h=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:h=this.InterpolantFactoryMethodSmooth;break}if(h===void 0){const d="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(d);return console.warn("THREE.KeyframeTrack:",d),this}return this.createInterpolant=h,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const h=this.times;for(let d=0,g=h.length;d!==g;++d)h[d]+=e}return this}scale(e){if(e!==1){const h=this.times;for(let d=0,g=h.length;d!==g;++d)h[d]*=e}return this}trim(e,h){const d=this.times,g=d.length;let _=0,b=g-1;for(;_!==g&&d[_]<e;)++_;for(;b!==-1&&d[b]>h;)--b;if(++b,_!==0||b!==g){_>=b&&(b=Math.max(b,1),_=b-1);const $=this.getValueSize();this.times=AnimationUtils.arraySlice(d,_,b),this.values=AnimationUtils.arraySlice(this.values,_*$,b*$)}return this}validate(){let e=!0;const h=this.getValueSize();h-Math.floor(h)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const d=this.times,g=this.values,_=d.length;_===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let b=null;for(let $=0;$!==_;$++){const j=d[$];if(typeof j=="number"&&isNaN(j)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,$,j),e=!1;break}if(b!==null&&b>j){console.error("THREE.KeyframeTrack: Out of order keys.",this,$,j,b),e=!1;break}b=j}if(g!==void 0&&AnimationUtils.isTypedArray(g))for(let $=0,j=g.length;$!==j;++$){const _e=g[$];if(isNaN(_e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,$,_e),e=!1;break}}return e}optimize(){const e=AnimationUtils.arraySlice(this.times),h=AnimationUtils.arraySlice(this.values),d=this.getValueSize(),g=this.getInterpolation()===InterpolateSmooth,_=e.length-1;let b=1;for(let $=1;$<_;++$){let j=!1;const _e=e[$],et=e[$+1];if(_e!==et&&($!==1||_e!==e[0]))if(g)j=!0;else{const rt=$*d,tt=rt-d,nt=rt+d;for(let st=0;st!==d;++st){const at=h[rt+st];if(at!==h[tt+st]||at!==h[nt+st]){j=!0;break}}}if(j){if($!==b){e[b]=e[$];const rt=$*d,tt=b*d;for(let nt=0;nt!==d;++nt)h[tt+nt]=h[rt+nt]}++b}}if(_>0){e[b]=e[_];for(let $=_*d,j=b*d,_e=0;_e!==d;++_e)h[j+_e]=h[$+_e];++b}return b!==e.length?(this.times=AnimationUtils.arraySlice(e,0,b),this.values=AnimationUtils.arraySlice(h,0,b*d)):(this.times=e,this.values=h),this}clone(){const e=AnimationUtils.arraySlice(this.times,0),h=AnimationUtils.arraySlice(this.values,0),d=this.constructor,g=new d(this.name,e,h);return g.createInterpolant=this.createInterpolant,g}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,h,d,g){super(e,h,d,g)}interpolate_(e,h,d,g){const _=this.resultBuffer,b=this.sampleValues,$=this.valueSize,j=(d-h)/(g-h);let _e=e*$;for(let et=_e+$;_e!==et;_e+=4)Quaternion.slerpFlat(_,0,b,_e-$,b,_e,j);return _}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e,h=-1,d,g=NormalAnimationBlendMode){this.name=e,this.tracks=d,this.duration=h,this.blendMode=g,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){const h=[],d=e.tracks,g=1/(e.fps||1);for(let b=0,$=d.length;b!==$;++b)h.push(parseKeyframeTrack(d[b]).scale(g));const _=new this(e.name,e.duration,h,e.blendMode);return _.uuid=e.uuid,_}static toJSON(e){const h=[],d=e.tracks,g={name:e.name,duration:e.duration,tracks:h,uuid:e.uuid,blendMode:e.blendMode};for(let _=0,b=d.length;_!==b;++_)h.push(KeyframeTrack.toJSON(d[_]));return g}static CreateFromMorphTargetSequence(e,h,d,g){const _=h.length,b=[];for(let $=0;$<_;$++){let j=[],_e=[];j.push(($+_-1)%_,$,($+1)%_),_e.push(0,1,0);const et=AnimationUtils.getKeyframeOrder(j);j=AnimationUtils.sortedArray(j,1,et),_e=AnimationUtils.sortedArray(_e,1,et),!g&&j[0]===0&&(j.push(_),_e.push(_e[0])),b.push(new NumberKeyframeTrack(".morphTargetInfluences["+h[$].name+"]",j,_e).scale(1/d))}return new this(e,-1,b)}static findByName(e,h){let d=e;if(!Array.isArray(e)){const g=e;d=g.geometry&&g.geometry.animations||g.animations}for(let g=0;g<d.length;g++)if(d[g].name===h)return d[g];return null}static CreateClipsFromMorphTargetSequences(e,h,d){const g={},_=/^([\w-]*?)([\d]+)$/;for(let $=0,j=e.length;$<j;$++){const _e=e[$],et=_e.name.match(_);if(et&&et.length>1){const rt=et[1];let tt=g[rt];tt||(g[rt]=tt=[]),tt.push(_e)}}const b=[];for(const $ in g)b.push(this.CreateFromMorphTargetSequence($,g[$],h,d));return b}static parseAnimation(e,h){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const d=function(rt,tt,nt,st,at){if(nt.length!==0){const ct=[],it=[];AnimationUtils.flattenJSON(nt,ct,it,st),ct.length!==0&&at.push(new rt(tt,ct,it))}},g=[],_=e.name||"default",b=e.fps||30,$=e.blendMode;let j=e.length||-1;const _e=e.hierarchy||[];for(let rt=0;rt<_e.length;rt++){const tt=_e[rt].keys;if(!(!tt||tt.length===0))if(tt[0].morphTargets){const nt={};let st;for(st=0;st<tt.length;st++)if(tt[st].morphTargets)for(let at=0;at<tt[st].morphTargets.length;at++)nt[tt[st].morphTargets[at]]=-1;for(const at in nt){const ct=[],it=[];for(let lt=0;lt!==tt[st].morphTargets.length;++lt){const ht=tt[st];ct.push(ht.time),it.push(ht.morphTarget===at?1:0)}g.push(new NumberKeyframeTrack(".morphTargetInfluence["+at+"]",ct,it))}j=nt.length*b}else{const nt=".bones["+h[rt].name+"]";d(VectorKeyframeTrack,nt+".position",tt,"pos",g),d(QuaternionKeyframeTrack,nt+".quaternion",tt,"rot",g),d(VectorKeyframeTrack,nt+".scale",tt,"scl",g)}}return g.length===0?null:new this(_,j,g,$)}resetDuration(){const e=this.tracks;let h=0;for(let d=0,g=e.length;d!==g;++d){const _=this.tracks[d];h=Math.max(h,_.times[_.times.length-1])}return this.duration=h,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let h=0;h<this.tracks.length;h++)e=e&&this.tracks[h].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let h=0;h<this.tracks.length;h++)e.push(this.tracks[h].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(o){switch(o.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+o)}function parseKeyframeTrack(o){if(o.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(o.type);if(o.times===void 0){const h=[],d=[];AnimationUtils.flattenJSON(o.keys,h,d,"value"),o.times=h,o.values=d}return e.parse!==void 0?e.parse(o):new e(o.name,o.times,o.values,o.interpolation)}const Cache={enabled:!1,files:{},add:function(o,e){this.enabled!==!1&&(this.files[o]=e)},get:function(o){if(this.enabled!==!1)return this.files[o]},remove:function(o){delete this.files[o]},clear:function(){this.files={}}};class LoadingManager{constructor(e,h,d){const g=this;let _=!1,b=0,$=0,j;const _e=[];this.onStart=void 0,this.onLoad=e,this.onProgress=h,this.onError=d,this.itemStart=function(et){$++,_===!1&&g.onStart!==void 0&&g.onStart(et,b,$),_=!0},this.itemEnd=function(et){b++,g.onProgress!==void 0&&g.onProgress(et,b,$),b===$&&(_=!1,g.onLoad!==void 0&&g.onLoad())},this.itemError=function(et){g.onError!==void 0&&g.onError(et)},this.resolveURL=function(et){return j?j(et):et},this.setURLModifier=function(et){return j=et,this},this.addHandler=function(et,rt){return _e.push(et,rt),this},this.removeHandler=function(et){const rt=_e.indexOf(et);return rt!==-1&&_e.splice(rt,2),this},this.getHandler=function(et){for(let rt=0,tt=_e.length;rt<tt;rt+=2){const nt=_e[rt],st=_e[rt+1];if(nt.global&&(nt.lastIndex=0),nt.test(et))return st}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,h){const d=this;return new Promise(function(g,_){d.load(e,g,h,_)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const loading={};class FileLoader extends Loader{constructor(e){super(e)}load(e,h,d,g){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const _=Cache.get(e);if(_!==void 0)return this.manager.itemStart(e),setTimeout(()=>{h&&h(_),this.manager.itemEnd(e)},0),_;if(loading[e]!==void 0){loading[e].push({onLoad:h,onProgress:d,onError:g});return}loading[e]=[],loading[e].push({onLoad:h,onProgress:d,onError:g});const b=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),$=this.mimeType,j=this.responseType;fetch(b).then(_e=>{if(_e.status===200||_e.status===0){if(_e.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||_e.body===void 0||_e.body.getReader===void 0)return _e;const et=loading[e],rt=_e.body.getReader(),tt=_e.headers.get("Content-Length"),nt=tt?parseInt(tt):0,st=nt!==0;let at=0;const ct=new ReadableStream({start(it){lt();function lt(){rt.read().then(({done:ht,value:ut})=>{if(ht)it.close();else{at+=ut.byteLength;const dt=new ProgressEvent("progress",{lengthComputable:st,loaded:at,total:nt});for(let pt=0,mt=et.length;pt<mt;pt++){const yt=et[pt];yt.onProgress&&yt.onProgress(dt)}it.enqueue(ut),lt()}})}}});return new Response(ct)}else throw Error(`fetch for "${_e.url}" responded with ${_e.status}: ${_e.statusText}`)}).then(_e=>{switch(j){case"arraybuffer":return _e.arrayBuffer();case"blob":return _e.blob();case"document":return _e.text().then(et=>new DOMParser().parseFromString(et,$));case"json":return _e.json();default:if($===void 0)return _e.text();{const rt=/charset="?([^;"\s]*)"?/i.exec($),tt=rt&&rt[1]?rt[1].toLowerCase():void 0,nt=new TextDecoder(tt);return _e.arrayBuffer().then(st=>nt.decode(st))}}}).then(_e=>{Cache.add(e,_e);const et=loading[e];delete loading[e];for(let rt=0,tt=et.length;rt<tt;rt++){const nt=et[rt];nt.onLoad&&nt.onLoad(_e)}}).catch(_e=>{const et=loading[e];if(et===void 0)throw this.manager.itemError(e),_e;delete loading[e];for(let rt=0,tt=et.length;rt<tt;rt++){const nt=et[rt];nt.onError&&nt.onError(_e)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,h,d,g){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const _=this,b=Cache.get(e);if(b!==void 0)return _.manager.itemStart(e),setTimeout(function(){h&&h(b),_.manager.itemEnd(e)},0),b;const $=createElementNS("img");function j(){et(),Cache.add(e,this),h&&h(this),_.manager.itemEnd(e)}function _e(rt){et(),g&&g(rt),_.manager.itemError(e),_.manager.itemEnd(e)}function et(){$.removeEventListener("load",j,!1),$.removeEventListener("error",_e,!1)}return $.addEventListener("load",j,!1),$.addEventListener("error",_e,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&($.crossOrigin=this.crossOrigin),_.manager.itemStart(e),$.src=e,$}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,h,d,g){const _=new CubeTexture,b=new ImageLoader(this.manager);b.setCrossOrigin(this.crossOrigin),b.setPath(this.path);let $=0;function j(_e){b.load(e[_e],function(et){_.images[_e]=et,$++,$===6&&(_.needsUpdate=!0,h&&h(_))},void 0,g)}for(let _e=0;_e<e.length;++_e)j(_e);return _}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,h,d,g){const _=new Texture,b=new ImageLoader(this.manager);return b.setCrossOrigin(this.crossOrigin),b.setPath(this.path),b.load(e,function($){_.image=$,_.needsUpdate=!0,h!==void 0&&h(_)},d,g),_}}class Light extends Object3D{constructor(e,h=1){super();this.type="Light",this.color=new Color(e),this.intensity=h}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const h=super.toJSON(e);return h.object.color=this.color.getHex(),h.object.intensity=this.intensity,this.groundColor!==void 0&&(h.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(h.object.distance=this.distance),this.angle!==void 0&&(h.object.angle=this.angle),this.decay!==void 0&&(h.object.decay=this.decay),this.penumbra!==void 0&&(h.object.penumbra=this.penumbra),this.shadow!==void 0&&(h.object.shadow=this.shadow.toJSON()),h}}Light.prototype.isLight=!0;class HemisphereLight extends Light{constructor(e,h,d){super(e,d);this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(h)}copy(e){return Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}HemisphereLight.prototype.isHemisphereLight=!0;const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const h=this.camera,d=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),h.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),h.lookAt(_lookTarget$1),h.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(h.projectionMatrix),d.multiply(h.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500));this.focus=1}updateMatrices(e){const h=this.camera,d=RAD2DEG*2*e.angle*this.focus,g=this.mapSize.width/this.mapSize.height,_=e.distance||h.far;(d!==h.fov||g!==h.aspect||_!==h.far)&&(h.fov=d,h.aspect=g,h.far=_,h.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}SpotLightShadow.prototype.isSpotLightShadow=!0;class SpotLight extends Light{constructor(e,h,d=0,g=Math.PI/3,_=0,b=1){super(e,h);this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=d,this.angle=g,this.penumbra=_,this.decay=b,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}SpotLight.prototype.isSpotLight=!0;const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500));this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,h=0){const d=this.camera,g=this.matrix,_=e.distance||d.far;_!==d.far&&(d.far=_,d.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),d.position.copy(_lightPositionWorld),_lookTarget.copy(d.position),_lookTarget.add(this._cubeDirections[h]),d.up.copy(this._cubeUps[h]),d.lookAt(_lookTarget),d.updateMatrixWorld(),g.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}PointLightShadow.prototype.isPointLightShadow=!0;class PointLight extends Light{constructor(e,h,d=0,g=1){super(e,h);this.type="PointLight",this.distance=d,this.decay=g,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}PointLight.prototype.isPointLight=!0;class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500))}}DirectionalLightShadow.prototype.isDirectionalLightShadow=!0;class DirectionalLight extends Light{constructor(e,h){super(e,h);this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}DirectionalLight.prototype.isDirectionalLight=!0;class AmbientLight extends Light{constructor(e,h){super(e,h);this.type="AmbientLight"}}AmbientLight.prototype.isAmbientLight=!0;class RectAreaLight extends Light{constructor(e,h,d=10,g=10){super(e,h);this.type="RectAreaLight",this.width=d,this.height=g}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const h=super.toJSON(e);return h.object.width=this.width,h.object.height=this.height,h}}RectAreaLight.prototype.isRectAreaLight=!0;class SphericalHarmonics3{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let h=0;h<9;h++)this.coefficients[h].copy(e[h]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,h){const d=e.x,g=e.y,_=e.z,b=this.coefficients;return h.copy(b[0]).multiplyScalar(.282095),h.addScaledVector(b[1],.488603*g),h.addScaledVector(b[2],.488603*_),h.addScaledVector(b[3],.488603*d),h.addScaledVector(b[4],1.092548*(d*g)),h.addScaledVector(b[5],1.092548*(g*_)),h.addScaledVector(b[6],.315392*(3*_*_-1)),h.addScaledVector(b[7],1.092548*(d*_)),h.addScaledVector(b[8],.546274*(d*d-g*g)),h}getIrradianceAt(e,h){const d=e.x,g=e.y,_=e.z,b=this.coefficients;return h.copy(b[0]).multiplyScalar(.886227),h.addScaledVector(b[1],2*.511664*g),h.addScaledVector(b[2],2*.511664*_),h.addScaledVector(b[3],2*.511664*d),h.addScaledVector(b[4],2*.429043*d*g),h.addScaledVector(b[5],2*.429043*g*_),h.addScaledVector(b[6],.743125*_*_-.247708),h.addScaledVector(b[7],2*.429043*d*_),h.addScaledVector(b[8],.429043*(d*d-g*g)),h}add(e){for(let h=0;h<9;h++)this.coefficients[h].add(e.coefficients[h]);return this}addScaledSH(e,h){for(let d=0;d<9;d++)this.coefficients[d].addScaledVector(e.coefficients[d],h);return this}scale(e){for(let h=0;h<9;h++)this.coefficients[h].multiplyScalar(e);return this}lerp(e,h){for(let d=0;d<9;d++)this.coefficients[d].lerp(e.coefficients[d],h);return this}equals(e){for(let h=0;h<9;h++)if(!this.coefficients[h].equals(e.coefficients[h]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,h=0){const d=this.coefficients;for(let g=0;g<9;g++)d[g].fromArray(e,h+g*3);return this}toArray(e=[],h=0){const d=this.coefficients;for(let g=0;g<9;g++)d[g].toArray(e,h+g*3);return e}static getBasisAt(e,h){const d=e.x,g=e.y,_=e.z;h[0]=.282095,h[1]=.488603*g,h[2]=.488603*_,h[3]=.488603*d,h[4]=1.092548*d*g,h[5]=1.092548*g*_,h[6]=.315392*(3*_*_-1),h[7]=1.092548*d*_,h[8]=.546274*(d*d-g*g)}}SphericalHarmonics3.prototype.isSphericalHarmonics3=!0;class LightProbe extends Light{constructor(e=new SphericalHarmonics3,h=1){super(void 0,h);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const h=super.toJSON(e);return h.object.sh=this.sh.toArray(),h}}LightProbe.prototype.isLightProbe=!0;class LoaderUtils{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let h="";for(let d=0,g=e.length;d<g;d++)h+=String.fromCharCode(e[d]);try{return decodeURIComponent(escape(h))}catch{return h}}static extractUrlBase(e){const h=e.lastIndexOf("/");return h===-1?"./":e.slice(0,h+1)}static resolveURL(e,h){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(h)&&/^\//.test(e)&&(h=h.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:h+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}InstancedBufferGeometry.prototype.isInstancedBufferGeometry=!0;class ImageBitmapLoader extends Loader{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,h,d,g){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const _=this,b=Cache.get(e);if(b!==void 0)return _.manager.itemStart(e),setTimeout(function(){h&&h(b),_.manager.itemEnd(e)},0),b;const $={};$.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",$.headers=this.requestHeader,fetch(e,$).then(function(j){return j.blob()}).then(function(j){return createImageBitmap(j,Object.assign(_.options,{colorSpaceConversion:"none"}))}).then(function(j){Cache.add(e,j),h&&h(j),_.manager.itemEnd(e)}).catch(function(j){g&&g(j),_.manager.itemError(e),_.manager.itemEnd(e)}),_.manager.itemStart(e)}}ImageBitmapLoader.prototype.isImageBitmapLoader=!0;let _context;const AudioContext={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(o){_context=o}};class AudioLoader extends Loader{constructor(e){super(e)}load(e,h,d,g){const _=this,b=new FileLoader(this.manager);b.setResponseType("arraybuffer"),b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(e,function($){try{const j=$.slice(0);AudioContext.getContext().decodeAudioData(j,function(et){h(et)})}catch(j){g?g(j):console.error(j),_.manager.itemError(e)}},d,g)}}class HemisphereLightProbe extends LightProbe{constructor(e,h,d=1){super(void 0,d);const g=new Color().set(e),_=new Color().set(h),b=new Vector3(g.r,g.g,g.b),$=new Vector3(_.r,_.g,_.b),j=Math.sqrt(Math.PI),_e=j*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add($).multiplyScalar(j),this.sh.coefficients[1].copy(b).sub($).multiplyScalar(_e)}}HemisphereLightProbe.prototype.isHemisphereLightProbe=!0;class AmbientLightProbe extends LightProbe{constructor(e,h=1){super(void 0,h);const d=new Color().set(e);this.sh.coefficients[0].set(d.r,d.g,d.b).multiplyScalar(2*Math.sqrt(Math.PI))}}AmbientLightProbe.prototype.isAmbientLightProbe=!0;class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const h=now();e=(h-this.oldTime)/1e3,this.oldTime=h,this.elapsedTime+=e}return e}}function now(){return(typeof performance=="undefined"?Date:performance).now()}class Audio$1 extends Object3D{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const h=this.context.createBufferSource();return h.buffer=this.buffer,h.loop=this.loop,h.loopStart=this.loopStart,h.loopEnd=this.loopEnd,h.onended=this.onEnded.bind(this),h.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=h,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,h=this.filters.length;e<h;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,h=this.filters.length;e<h;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class PropertyMixer{constructor(e,h,d){this.binding=e,this.valueSize=d;let g,_,b;switch(h){case"quaternion":g=this._slerp,_=this._slerpAdditive,b=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(d*6),this._workIndex=5;break;case"string":case"bool":g=this._select,_=this._select,b=this._setAdditiveIdentityOther,this.buffer=new Array(d*5);break;default:g=this._lerp,_=this._lerpAdditive,b=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(d*5)}this._mixBufferRegion=g,this._mixBufferRegionAdditive=_,this._setIdentity=b,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,h){const d=this.buffer,g=this.valueSize,_=e*g+g;let b=this.cumulativeWeight;if(b===0){for(let $=0;$!==g;++$)d[_+$]=d[$];b=h}else{b+=h;const $=h/b;this._mixBufferRegion(d,_,0,$,g)}this.cumulativeWeight=b}accumulateAdditive(e){const h=this.buffer,d=this.valueSize,g=d*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(h,g,0,e,d),this.cumulativeWeightAdditive+=e}apply(e){const h=this.valueSize,d=this.buffer,g=e*h+h,_=this.cumulativeWeight,b=this.cumulativeWeightAdditive,$=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,_<1){const j=h*this._origIndex;this._mixBufferRegion(d,g,j,1-_,h)}b>0&&this._mixBufferRegionAdditive(d,g,this._addIndex*h,1,h);for(let j=h,_e=h+h;j!==_e;++j)if(d[j]!==d[j+h]){$.setValue(d,g);break}}saveOriginalState(){const e=this.binding,h=this.buffer,d=this.valueSize,g=d*this._origIndex;e.getValue(h,g);for(let _=d,b=g;_!==b;++_)h[_]=h[g+_%d];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,h=e+this.valueSize;for(let d=e;d<h;d++)this.buffer[d]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,h=this._addIndex*this.valueSize;for(let d=0;d<this.valueSize;d++)this.buffer[h+d]=this.buffer[e+d]}_select(e,h,d,g,_){if(g>=.5)for(let b=0;b!==_;++b)e[h+b]=e[d+b]}_slerp(e,h,d,g){Quaternion.slerpFlat(e,h,e,h,e,d,g)}_slerpAdditive(e,h,d,g,_){const b=this._workIndex*_;Quaternion.multiplyQuaternionsFlat(e,b,e,h,e,d),Quaternion.slerpFlat(e,h,e,h,e,b,g)}_lerp(e,h,d,g,_){const b=1-g;for(let $=0;$!==_;++$){const j=h+$;e[j]=e[j]*b+e[d+$]*g}}_lerpAdditive(e,h,d,g,_){for(let b=0;b!==_;++b){const $=h+b;e[$]=e[$]+e[d+b]*g}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones"];class Composite{constructor(e,h,d){const g=d||PropertyBinding.parseTrackName(h);this._targetGroup=e,this._bindings=e.subscribe_(h,g)}getValue(e,h){this.bind();const d=this._targetGroup.nCachedObjects_,g=this._bindings[d];g!==void 0&&g.getValue(e,h)}setValue(e,h){const d=this._bindings;for(let g=this._targetGroup.nCachedObjects_,_=d.length;g!==_;++g)d[g].setValue(e,h)}bind(){const e=this._bindings;for(let h=this._targetGroup.nCachedObjects_,d=e.length;h!==d;++h)e[h].bind()}unbind(){const e=this._bindings;for(let h=this._targetGroup.nCachedObjects_,d=e.length;h!==d;++h)e[h].unbind()}}class PropertyBinding{constructor(e,h,d){this.path=h,this.parsedPath=d||PropertyBinding.parseTrackName(h),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,h,d){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,h,d):new PropertyBinding(e,h,d)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const h=_trackRe.exec(e);if(h===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const d={nodeName:h[2],objectName:h[3],objectIndex:h[4],propertyName:h[5],propertyIndex:h[6]},g=d.nodeName&&d.nodeName.lastIndexOf(".");if(g!==void 0&&g!==-1){const _=d.nodeName.substring(g+1);_supportedObjectNames.indexOf(_)!==-1&&(d.nodeName=d.nodeName.substring(0,g),d.objectName=_)}if(d.propertyName===null||d.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return d}static findNode(e,h){if(h===void 0||h===""||h==="."||h===-1||h===e.name||h===e.uuid)return e;if(e.skeleton){const d=e.skeleton.getBoneByName(h);if(d!==void 0)return d}if(e.children){const d=function(_){for(let b=0;b<_.length;b++){const $=_[b];if($.name===h||$.uuid===h)return $;const j=d($.children);if(j)return j}return null},g=d(e.children);if(g)return g}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,h){e[h]=this.targetObject[this.propertyName]}_getValue_array(e,h){const d=this.resolvedProperty;for(let g=0,_=d.length;g!==_;++g)e[h++]=d[g]}_getValue_arrayElement(e,h){e[h]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,h){this.resolvedProperty.toArray(e,h)}_setValue_direct(e,h){this.targetObject[this.propertyName]=e[h]}_setValue_direct_setNeedsUpdate(e,h){this.targetObject[this.propertyName]=e[h],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,h){this.targetObject[this.propertyName]=e[h],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,h){const d=this.resolvedProperty;for(let g=0,_=d.length;g!==_;++g)d[g]=e[h++]}_setValue_array_setNeedsUpdate(e,h){const d=this.resolvedProperty;for(let g=0,_=d.length;g!==_;++g)d[g]=e[h++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,h){const d=this.resolvedProperty;for(let g=0,_=d.length;g!==_;++g)d[g]=e[h++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,h){this.resolvedProperty[this.propertyIndex]=e[h]}_setValue_arrayElement_setNeedsUpdate(e,h){this.resolvedProperty[this.propertyIndex]=e[h],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,h){this.resolvedProperty[this.propertyIndex]=e[h],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,h){this.resolvedProperty.fromArray(e,h)}_setValue_fromArray_setNeedsUpdate(e,h){this.resolvedProperty.fromArray(e,h),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,h){this.resolvedProperty.fromArray(e,h),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,h){this.bind(),this.getValue(e,h)}_setValue_unbound(e,h){this.bind(),this.setValue(e,h)}bind(){let e=this.node;const h=this.parsedPath,d=h.objectName,g=h.propertyName;let _=h.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,h.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(d){let _e=h.objectIndex;switch(d){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let et=0;et<e.length;et++)if(e[et].name===_e){_e=et;break}break;default:if(e[d]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[d]}if(_e!==void 0){if(e[_e]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[_e]}}const b=e[g];if(b===void 0){const _e=h.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+_e+"."+g+" but it wasn't found.",e);return}let $=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?$=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&($=this.Versioning.MatrixWorldNeedsUpdate);let j=this.BindingType.Direct;if(_!==void 0){if(g==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[_]!==void 0&&(_=e.morphTargetDictionary[_])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}j=this.BindingType.ArrayElement,this.resolvedProperty=b,this.propertyIndex=_}else b.fromArray!==void 0&&b.toArray!==void 0?(j=this.BindingType.HasFromToArray,this.resolvedProperty=b):Array.isArray(b)?(j=this.BindingType.EntireArray,this.resolvedProperty=b):this.propertyName=g;this.getValue=this.GetterByBindingType[j],this.setValue=this.SetterByBindingTypeAndVersioning[j][$]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationAction{constructor(e,h,d=null,g=h.blendMode){this._mixer=e,this._clip=h,this._localRoot=d,this.blendMode=g;const _=h.tracks,b=_.length,$=new Array(b),j={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let _e=0;_e!==b;++_e){const et=_[_e].createInterpolant(null);$[_e]=et,et.settings=j}this._interpolantSettings=j,this._interpolants=$,this._propertyBindings=new Array(b),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,h){return this.loop=e,this.repetitions=h,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,h,d){if(e.fadeOut(h),this.fadeIn(h),d){const g=this._clip.duration,_=e._clip.duration,b=_/g,$=g/_;e.warp(1,b,h),this.warp($,1,h)}return this}crossFadeTo(e,h,d){return e.crossFadeFrom(this,h,d)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,h,d){const g=this._mixer,_=g.time,b=this.timeScale;let $=this._timeScaleInterpolant;$===null&&($=g._lendControlInterpolant(),this._timeScaleInterpolant=$);const j=$.parameterPositions,_e=$.sampleValues;return j[0]=_,j[1]=_+d,_e[0]=e/b,_e[1]=h/b,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,h,d,g){if(!this.enabled){this._updateWeight(e);return}const _=this._startTime;if(_!==null){const j=(e-_)*d;if(j<0||d===0)return;this._startTime=null,h=d*j}h*=this._updateTimeScale(e);const b=this._updateTime(h),$=this._updateWeight(e);if($>0){const j=this._interpolants,_e=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let et=0,rt=j.length;et!==rt;++et)j[et].evaluate(b),_e[et].accumulateAdditive($);break;case NormalAnimationBlendMode:default:for(let et=0,rt=j.length;et!==rt;++et)j[et].evaluate(b),_e[et].accumulate(g,$)}}}_updateWeight(e){let h=0;if(this.enabled){h=this.weight;const d=this._weightInterpolant;if(d!==null){const g=d.evaluate(e)[0];h*=g,e>d.parameterPositions[1]&&(this.stopFading(),g===0&&(this.enabled=!1))}}return this._effectiveWeight=h,h}_updateTimeScale(e){let h=0;if(!this.paused){h=this.timeScale;const d=this._timeScaleInterpolant;d!==null&&(h*=d.evaluate(e)[0],e>d.parameterPositions[1]&&(this.stopWarping(),h===0?this.paused=!0:this.timeScale=h))}return this._effectiveTimeScale=h,h}_updateTime(e){const h=this._clip.duration,d=this.loop;let g=this.time+e,_=this._loopCount;const b=d===LoopPingPong;if(e===0)return _===-1?g:b&&(_&1)==1?h-g:g;if(d===LoopOnce){_===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(g>=h)g=h;else if(g<0)g=0;else{this.time=g;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=g,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(_===-1&&(e>=0?(_=0,this._setEndings(!0,this.repetitions===0,b)):this._setEndings(this.repetitions===0,!0,b)),g>=h||g<0){const $=Math.floor(g/h);g-=h*$,_+=Math.abs($);const j=this.repetitions-_;if(j<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,g=e>0?h:0,this.time=g,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(j===1){const _e=e<0;this._setEndings(_e,!_e,b)}else this._setEndings(!1,!1,b);this._loopCount=_,this.time=g,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:$})}}else this.time=g;if(b&&(_&1)==1)return h-g}return g}_setEndings(e,h,d){const g=this._interpolantSettings;d?(g.endingStart=ZeroSlopeEnding,g.endingEnd=ZeroSlopeEnding):(e?g.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:g.endingStart=WrapAroundEnding,h?g.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:g.endingEnd=WrapAroundEnding)}_scheduleFading(e,h,d){const g=this._mixer,_=g.time;let b=this._weightInterpolant;b===null&&(b=g._lendControlInterpolant(),this._weightInterpolant=b);const $=b.parameterPositions,j=b.sampleValues;return $[0]=_,j[0]=h,$[1]=_+e,j[1]=d,this}}class AnimationMixer extends EventDispatcher{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,h){const d=e._localRoot||this._root,g=e._clip.tracks,_=g.length,b=e._propertyBindings,$=e._interpolants,j=d.uuid,_e=this._bindingsByRootAndName;let et=_e[j];et===void 0&&(et={},_e[j]=et);for(let rt=0;rt!==_;++rt){const tt=g[rt],nt=tt.name;let st=et[nt];if(st!==void 0)++st.referenceCount,b[rt]=st;else{if(st=b[rt],st!==void 0){st._cacheIndex===null&&(++st.referenceCount,this._addInactiveBinding(st,j,nt));continue}const at=h&&h._propertyBindings[rt].binding.parsedPath;st=new PropertyMixer(PropertyBinding.create(d,nt,at),tt.ValueTypeName,tt.getValueSize()),++st.referenceCount,this._addInactiveBinding(st,j,nt),b[rt]=st}$[rt].resultBuffer=st.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const d=(e._localRoot||this._root).uuid,g=e._clip.uuid,_=this._actionsByClip[g];this._bindAction(e,_&&_.knownActions[0]),this._addInactiveAction(e,g,d)}const h=e._propertyBindings;for(let d=0,g=h.length;d!==g;++d){const _=h[d];_.useCount++==0&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const h=e._propertyBindings;for(let d=0,g=h.length;d!==g;++d){const _=h[d];--_.useCount==0&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const h=e._cacheIndex;return h!==null&&h<this._nActiveActions}_addInactiveAction(e,h,d){const g=this._actions,_=this._actionsByClip;let b=_[h];if(b===void 0)b={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,_[h]=b;else{const $=b.knownActions;e._byClipCacheIndex=$.length,$.push(e)}e._cacheIndex=g.length,g.push(e),b.actionByRoot[d]=e}_removeInactiveAction(e){const h=this._actions,d=h[h.length-1],g=e._cacheIndex;d._cacheIndex=g,h[g]=d,h.pop(),e._cacheIndex=null;const _=e._clip.uuid,b=this._actionsByClip,$=b[_],j=$.knownActions,_e=j[j.length-1],et=e._byClipCacheIndex;_e._byClipCacheIndex=et,j[et]=_e,j.pop(),e._byClipCacheIndex=null;const rt=$.actionByRoot,tt=(e._localRoot||this._root).uuid;delete rt[tt],j.length===0&&delete b[_],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const h=e._propertyBindings;for(let d=0,g=h.length;d!==g;++d){const _=h[d];--_.referenceCount==0&&this._removeInactiveBinding(_)}}_lendAction(e){const h=this._actions,d=e._cacheIndex,g=this._nActiveActions++,_=h[g];e._cacheIndex=g,h[g]=e,_._cacheIndex=d,h[d]=_}_takeBackAction(e){const h=this._actions,d=e._cacheIndex,g=--this._nActiveActions,_=h[g];e._cacheIndex=g,h[g]=e,_._cacheIndex=d,h[d]=_}_addInactiveBinding(e,h,d){const g=this._bindingsByRootAndName,_=this._bindings;let b=g[h];b===void 0&&(b={},g[h]=b),b[d]=e,e._cacheIndex=_.length,_.push(e)}_removeInactiveBinding(e){const h=this._bindings,d=e.binding,g=d.rootNode.uuid,_=d.path,b=this._bindingsByRootAndName,$=b[g],j=h[h.length-1],_e=e._cacheIndex;j._cacheIndex=_e,h[_e]=j,h.pop(),delete $[_],Object.keys($).length===0&&delete b[g]}_lendBinding(e){const h=this._bindings,d=e._cacheIndex,g=this._nActiveBindings++,_=h[g];e._cacheIndex=g,h[g]=e,_._cacheIndex=d,h[d]=_}_takeBackBinding(e){const h=this._bindings,d=e._cacheIndex,g=--this._nActiveBindings,_=h[g];e._cacheIndex=g,h[g]=e,_._cacheIndex=d,h[d]=_}_lendControlInterpolant(){const e=this._controlInterpolants,h=this._nActiveControlInterpolants++;let d=e[h];return d===void 0&&(d=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),d.__cacheIndex=h,e[h]=d),d}_takeBackControlInterpolant(e){const h=this._controlInterpolants,d=e.__cacheIndex,g=--this._nActiveControlInterpolants,_=h[g];e.__cacheIndex=g,h[g]=e,_.__cacheIndex=d,h[d]=_}clipAction(e,h,d){const g=h||this._root,_=g.uuid;let b=typeof e=="string"?AnimationClip.findByName(g,e):e;const $=b!==null?b.uuid:e,j=this._actionsByClip[$];let _e=null;if(d===void 0&&(b!==null?d=b.blendMode:d=NormalAnimationBlendMode),j!==void 0){const rt=j.actionByRoot[_];if(rt!==void 0&&rt.blendMode===d)return rt;_e=j.knownActions[0],b===null&&(b=_e._clip)}if(b===null)return null;const et=new AnimationAction(this,b,h,d);return this._bindAction(et,_e),this._addInactiveAction(et,$,_),et}existingAction(e,h){const d=h||this._root,g=d.uuid,_=typeof e=="string"?AnimationClip.findByName(d,e):e,b=_?_.uuid:e,$=this._actionsByClip[b];return $!==void 0&&$.actionByRoot[g]||null}stopAllAction(){const e=this._actions,h=this._nActiveActions;for(let d=h-1;d>=0;--d)e[d].stop();return this}update(e){e*=this.timeScale;const h=this._actions,d=this._nActiveActions,g=this.time+=e,_=Math.sign(e),b=this._accuIndex^=1;for(let _e=0;_e!==d;++_e)h[_e]._update(g,e,_,b);const $=this._bindings,j=this._nActiveBindings;for(let _e=0;_e!==j;++_e)$[_e].apply(b);return this}setTime(e){this.time=0;for(let h=0;h<this._actions.length;h++)this._actions[h].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const h=this._actions,d=e.uuid,g=this._actionsByClip,_=g[d];if(_!==void 0){const b=_.knownActions;for(let $=0,j=b.length;$!==j;++$){const _e=b[$];this._deactivateAction(_e);const et=_e._cacheIndex,rt=h[h.length-1];_e._cacheIndex=null,_e._byClipCacheIndex=null,rt._cacheIndex=et,h[et]=rt,h.pop(),this._removeInactiveBindingsForAction(_e)}delete g[d]}}uncacheRoot(e){const h=e.uuid,d=this._actionsByClip;for(const b in d){const $=d[b].actionByRoot,j=$[h];j!==void 0&&(this._deactivateAction(j),this._removeInactiveAction(j))}const g=this._bindingsByRootAndName,_=g[h];if(_!==void 0)for(const b in _){const $=_[b];$.restoreOriginalState(),this._removeInactiveBinding($)}}uncacheAction(e,h){const d=this.existingAction(e,h);d!==null&&(this._deactivateAction(d),this._removeInactiveAction(d))}}AnimationMixer.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,h,d=1){super(e,h);this.meshPerAttribute=d}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const h=super.clone(e);return h.meshPerAttribute=this.meshPerAttribute,h}toJSON(e){const h=super.toJSON(e);return h.isInstancedInterleavedBuffer=!0,h.meshPerAttribute=this.meshPerAttribute,h}}InstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer=!0;const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const h=getBoneList(e),d=new BufferGeometry,g=[],_=[],b=new Color(0,0,1),$=new Color(0,1,0);for(let _e=0;_e<h.length;_e++){const et=h[_e];et.parent&&et.parent.isBone&&(g.push(0,0,0),g.push(0,0,0),_.push(b.r,b.g,b.b),_.push($.r,$.g,$.b))}d.setAttribute("position",new Float32BufferAttribute(g,3)),d.setAttribute("color",new Float32BufferAttribute(_,3));const j=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(d,j);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=h,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const h=this.bones,d=this.geometry,g=d.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let _=0,b=0;_<h.length;_++){const $=h[_];$.parent&&$.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,$.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),g.setXYZ(b,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,$.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),g.setXYZ(b+1,_vector$2.x,_vector$2.y,_vector$2.z),b+=2)}d.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function getBoneList(o){const e=[];o.isBone===!0&&e.push(o);for(let h=0;h<o.children.length;h++)e.push.apply(e,getBoneList(o.children[h]));return e}class GridHelper extends LineSegments{constructor(e=10,h=10,d=4473924,g=8947848){d=new Color(d),g=new Color(g);const _=h/2,b=e/h,$=e/2,j=[],_e=[];for(let tt=0,nt=0,st=-$;tt<=h;tt++,st+=b){j.push(-$,0,st,$,0,st),j.push(st,0,-$,st,0,$);const at=tt===_?d:g;at.toArray(_e,nt),nt+=3,at.toArray(_e,nt),nt+=3,at.toArray(_e,nt),nt+=3,at.toArray(_e,nt),nt+=3}const et=new BufferGeometry;et.setAttribute("position",new Float32BufferAttribute(j,3)),et.setAttribute("color",new Float32BufferAttribute(_e,3));const rt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(et,rt);this.type="GridHelper"}}class AxesHelper extends LineSegments{constructor(e=1){const h=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],d=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],g=new BufferGeometry;g.setAttribute("position",new Float32BufferAttribute(h,3)),g.setAttribute("color",new Float32BufferAttribute(d,3));const _=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(g,_);this.type="AxesHelper"}setColors(e,h,d){const g=new Color,_=this.geometry.attributes.color.array;return g.set(e),g.toArray(_,0),g.toArray(_,3),g.set(h),g.toArray(_,6),g.toArray(_,9),g.set(d),g.toArray(_,12),g.toArray(_,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const _floatView=new Float32Array(1);new Int32Array(_floatView.buffer);Curve.create=function(o,e){return console.log("THREE.Curve.create() has been deprecated"),o.prototype=Object.create(Curve.prototype),o.prototype.constructor=o,o.prototype.getPoint=e,o};Path.prototype.fromPoints=function(o){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(o)};GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Loader.prototype.extractUrlBase=function(o){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils.extractUrlBase(o)};Loader.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Box3.prototype.center=function(o){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(o)};Box3.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Box3.prototype.isIntersectionBox=function(o){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(o)};Box3.prototype.isIntersectionSphere=function(o){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(o)};Box3.prototype.size=function(o){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(o)};Euler.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Sphere.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Frustum.prototype.setFromMatrix=function(o){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(o)};Matrix3.prototype.flattenToArrayOffset=function(o,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(o,e)};Matrix3.prototype.multiplyVector3=function(o){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),o.applyMatrix3(this)};Matrix3.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Matrix3.prototype.applyToBufferAttribute=function(o){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),o.applyMatrix3(this)};Matrix3.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Matrix3.prototype.getInverse=function(o){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(o).invert()};Matrix4.prototype.extractPosition=function(o){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(o)};Matrix4.prototype.flattenToArrayOffset=function(o,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(o,e)};Matrix4.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Vector3().setFromMatrixColumn(this,3)};Matrix4.prototype.setRotationFromQuaternion=function(o){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(o)};Matrix4.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Matrix4.prototype.multiplyVector3=function(o){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),o.applyMatrix4(this)};Matrix4.prototype.multiplyVector4=function(o){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),o.applyMatrix4(this)};Matrix4.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Matrix4.prototype.rotateAxis=function(o){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),o.transformDirection(this)};Matrix4.prototype.crossVector=function(o){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),o.applyMatrix4(this)};Matrix4.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Matrix4.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Matrix4.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Matrix4.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Matrix4.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Matrix4.prototype.applyToBufferAttribute=function(o){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),o.applyMatrix4(this)};Matrix4.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Matrix4.prototype.makeFrustum=function(o,e,h,d,g,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(o,e,d,h,g,_)};Matrix4.prototype.getInverse=function(o){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(o).invert()};Plane.prototype.isIntersectionLine=function(o){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(o)};Quaternion.prototype.multiplyVector3=function(o){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),o.applyQuaternion(this)};Quaternion.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ray.prototype.isIntersectionBox=function(o){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(o)};Ray.prototype.isIntersectionPlane=function(o){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(o)};Ray.prototype.isIntersectionSphere=function(o){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(o)};Triangle.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Triangle.prototype.barycoordFromPoint=function(o,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(o,e)};Triangle.prototype.midpoint=function(o){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(o)};Triangle.prototypenormal=function(o){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(o)};Triangle.prototype.plane=function(o){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(o)};Triangle.barycoordFromPoint=function(o,e,h,d,g){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(o,e,h,d,g)};Triangle.normal=function(o,e,h,d){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(o,e,h,d)};Shape.prototype.extractAllPoints=function(o){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(o)};Shape.prototype.extrude=function(o){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,o)};Shape.prototype.makeGeometry=function(o){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,o)};Vector2.prototype.fromAttribute=function(o,e,h){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(o,e,h)};Vector2.prototype.distanceToManhattan=function(o){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(o)};Vector2.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector3.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Vector3.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Vector3.prototype.getPositionFromMatrix=function(o){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(o)};Vector3.prototype.getScaleFromMatrix=function(o){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(o)};Vector3.prototype.getColumnFromMatrix=function(o,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,o)};Vector3.prototype.applyProjection=function(o){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(o)};Vector3.prototype.fromAttribute=function(o,e,h){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(o,e,h)};Vector3.prototype.distanceToManhattan=function(o){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(o)};Vector3.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector4.prototype.fromAttribute=function(o,e,h){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(o,e,h)};Vector4.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Object3D.prototype.getChildByName=function(o){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(o)};Object3D.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Object3D.prototype.translate=function(o,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,o)};Object3D.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Object3D.prototype.applyMatrix=function(o){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(o)};Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(o){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=o}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Mesh.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Mesh.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TrianglesDrawMode},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});SkinnedMesh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};PerspectiveCamera.prototype.setLens=function(o,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(o)};Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(o){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=o}},shadowCameraLeft:{set:function(o){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=o}},shadowCameraRight:{set:function(o){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=o}},shadowCameraTop:{set:function(o){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=o}},shadowCameraBottom:{set:function(o){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=o}},shadowCameraNear:{set:function(o){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=o}},shadowCameraFar:{set:function(o){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=o}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(o){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=o}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(o){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=o}},shadowMapHeight:{set:function(o){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=o}}});Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(DynamicDrawUsage)}}});BufferAttribute.prototype.setDynamic=function(o){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(o===!0?DynamicDrawUsage:StaticDrawUsage),this};BufferAttribute.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},BufferAttribute.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};BufferGeometry.prototype.addIndex=function(o){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(o)};BufferGeometry.prototype.addAttribute=function(o,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(o,new BufferAttribute(arguments[1],arguments[2]))):o==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(o,e)};BufferGeometry.prototype.addDrawCall=function(o,e,h){h!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(o,e)};BufferGeometry.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};BufferGeometry.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};BufferGeometry.prototype.removeAttribute=function(o){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(o)};BufferGeometry.prototype.applyMatrix=function(o){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(o)};Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});InterleavedBuffer.prototype.setDynamic=function(o){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(o===!0?DynamicDrawUsage:StaticDrawUsage),this};InterleavedBuffer.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ExtrudeGeometry.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ExtrudeGeometry.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ExtrudeGeometry.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Scene.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(o){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=o===FlatShading}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(o){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=o}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(o){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=o}}});WebGLRenderer.prototype.clearTarget=function(o,e,h,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(o),this.clear(e,h,d)};WebGLRenderer.prototype.animate=function(o){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(o)};WebGLRenderer.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};WebGLRenderer.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};WebGLRenderer.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};WebGLRenderer.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};WebGLRenderer.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};WebGLRenderer.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};WebGLRenderer.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};WebGLRenderer.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};WebGLRenderer.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};WebGLRenderer.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};WebGLRenderer.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};WebGLRenderer.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};WebGLRenderer.prototype.enableScissorTest=function(o){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(o)};WebGLRenderer.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};WebGLRenderer.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};WebGLRenderer.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};WebGLRenderer.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};WebGLRenderer.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};WebGLRenderer.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};WebGLRenderer.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};WebGLRenderer.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};WebGLRenderer.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};WebGLRenderer.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(o){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=o}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(o){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=o}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(o){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=o===!0?sRGBEncoding:LinearEncoding}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(o){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=o}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(o){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=o}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(o){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=o}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(o){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=o}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(o){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=o}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(o){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=o}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(o){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=o}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(o){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=o}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(o){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=o}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(o){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=o}}});Audio$1.prototype.load=function(o){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new AudioLoader().load(o,function(d){e.setBuffer(d)}),this};CubeCamera.prototype.updateCubeMap=function(o,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(o,e)};CubeCamera.prototype.clear=function(o,e,h,d){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(o,e,h,d)};ImageUtils.crossOrigin=void 0;ImageUtils.loadTexture=function(o,e,h,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const g=new TextureLoader;g.setCrossOrigin(this.crossOrigin);const _=g.load(o,h,void 0,d);return e&&(_.mapping=e),_};ImageUtils.loadTextureCube=function(o,e,h,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const g=new CubeTextureLoader;g.setCrossOrigin(this.crossOrigin);const _=g.load(o,h,void 0,d);return e&&(_.mapping=e),_};ImageUtils.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);export{Application as A,useUrlState as B,nanoid as C,React as D,v4 as E,Fragment as F,exports as G,Scene as H,AxesHelper as I,Group as J,Mesh as K,BoxGeometry as L,Mousewheel as M,MeshBasicMaterial as N,Clock as O,PerspectiveCamera as P,LineBasicMaterial as Q,ReactFullpage as R,SCALE_MODES$3 as S,BufferGeometry as T,Line as U,Vector3 as V,WebGLRenderer as W,BrowserRouter as X,Routes$1 as Y,Route$1 as Z,createRoot as _,axios as a,jsx as b,classnames as c,link as d,drag as e,select as f,manyBody as g,hooks as h,category10 as i,jsxs as j,center as k,lodash as l,mergeOptions as m,lottie as n,ordinal as o,parser$1 as p,matter as q,react as r,simulation as s,settings as t,Sprite$1 as u,Swiper as v,SwiperSlide as w,freeMode as x,lookup as y,zoom as z};
